(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var o2=2e3,tt={s:1,n:0,d:1};function an(t,e){if(isNaN(t=parseInt(t,10)))throw vi();return t*e}function Lt(t,e){if(e===0)throw wu();var n=Object.create(Bt.prototype);n.s=t<0?-1:1,t=t<0?-t:t;var r=ur(t,e);return n.n=t/r,n.d=e/r,n}function pa(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r===0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var fe=function(t,e){var n=0,r=1,i=1,s=0,u=0,o=0,c=1,h=1,p=0,m=1,d=1,y=1,P=1e7,D;if(t!=null)if(e!==void 0){if(n=t,r=e,i=n*r,n%1!==0||r%1!==0)throw h2()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)n=t.n,r=t.d,"s"in t&&(n*=t.s);else if(0 in t)n=t[0],1 in t&&(r=t[1]);else throw vi();i=n*r;break}case"number":{if(t<0&&(i=t,t=-t),t%1===0)n=t;else if(t>0){for(t>=1&&(h=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=h);m<=P&&y<=P;)if(D=(p+d)/(m+y),t===D){m+y<=P?(n=p+d,r=m+y):y>m?(n=d,r=y):(n=p,r=m);break}else t>D?(p+=d,m+=y):(d+=p,y+=m),m>P?(n=d,r=y):(n=p,r=m);n*=h}else(isNaN(t)||isNaN(e))&&(r=n=NaN);break}case"string":{if(m=t.match(/\d+|./g),m===null)throw vi();if(m[p]==="-"?(i=-1,p++):m[p]==="+"&&p++,m.length===p+1?u=an(m[p++],i):m[p+1]==="."||m[p]==="."?(m[p]!=="."&&(s=an(m[p++],i)),p++,(p+1===m.length||m[p+1]==="("&&m[p+3]===")"||m[p+1]==="'"&&m[p+3]==="'")&&(u=an(m[p],i),c=Math.pow(10,m[p].length),p++),(m[p]==="("&&m[p+2]===")"||m[p]==="'"&&m[p+2]==="'")&&(o=an(m[p+1],i),h=Math.pow(10,m[p+1].length)-1,p+=3)):m[p+1]==="/"||m[p+1]===":"?(u=an(m[p],i),c=an(m[p+2],1),p+=3):m[p+3]==="/"&&m[p+1]===" "&&(s=an(m[p],i),u=an(m[p+2],i),c=an(m[p+4],1),p+=5),m.length<=p){r=c*h,i=n=o+r*s+h*u;break}}default:throw vi()}if(r===0)throw wu();tt.s=i<0?-1:1,tt.n=Math.abs(n),tt.d=Math.abs(r)};function a2(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)e&1&&(r=r*t%n);return r}function c2(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(e===1)return 0;for(var n=10%e,r=1;n!==1;r++)if(n=n*10%e,r>o2)return 0;return r}function l2(t,e,n){for(var r=1,i=a2(10,n,e),s=0;s<300;s++){if(r===i)return s;r=r*10%e,i=i*10%e}return 0}function ur(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function Bt(t,e){if(fe(t,e),this instanceof Bt)t=ur(tt.d,tt.n),this.s=tt.s,this.n=tt.n/t,this.d=tt.d/t;else return Lt(tt.s*tt.n,tt.d)}var wu=function(){return new Error("Division by Zero")},vi=function(){return new Error("Invalid argument")},h2=function(){return new Error("Parameters must be integer")};Bt.prototype={s:1,n:0,d:1,abs:function(){return Lt(this.n,this.d)},neg:function(){return Lt(-this.s*this.n,this.d)},add:function(t,e){return fe(t,e),Lt(this.s*this.n*tt.d+tt.s*this.d*tt.n,this.d*tt.d)},sub:function(t,e){return fe(t,e),Lt(this.s*this.n*tt.d-tt.s*this.d*tt.n,this.d*tt.d)},mul:function(t,e){return fe(t,e),Lt(this.s*tt.s*this.n*tt.n,this.d*tt.d)},div:function(t,e){return fe(t,e),Lt(this.s*tt.s*this.n*tt.d,this.d*tt.n)},clone:function(){return Lt(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new Bt(NaN);if(t===void 0)return Lt(this.s*this.n%this.d,1);if(fe(t,e),tt.n===0&&this.d===0)throw wu();return Lt(this.s*(tt.d*this.n)%(tt.n*this.d),tt.d*this.d)},gcd:function(t,e){return fe(t,e),Lt(ur(tt.n,this.n)*ur(tt.d,this.d),tt.d*this.d)},lcm:function(t,e){return fe(t,e),tt.n===0&&this.n===0?Lt(0,1):Lt(tt.n*this.n,ur(tt.n,this.n)*ur(tt.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Bt(NaN):Lt(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Bt(NaN):Lt(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Bt(NaN):Lt(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,e){return fe(t,e),Lt(this.s*Math.round(this.n*tt.d/(this.d*tt.n))*tt.n,tt.d)},inverse:function(){return Lt(this.s*this.d,this.n)},pow:function(t,e){if(fe(t,e),tt.d===1)return tt.s<0?Lt(Math.pow(this.s*this.d,tt.n),Math.pow(this.n,tt.n)):Lt(Math.pow(this.s*this.n,tt.n),Math.pow(this.d,tt.n));if(this.s<0)return null;var n=pa(this.n),r=pa(this.d),i=1,s=1;for(var u in n)if(u!=="1"){if(u==="0"){i=0;break}if(n[u]*=tt.n,n[u]%tt.d===0)n[u]/=tt.d;else return null;i*=Math.pow(u,n[u])}for(var u in r)if(u!=="1"){if(r[u]*=tt.n,r[u]%tt.d===0)r[u]/=tt.d;else return null;s*=Math.pow(u,r[u])}return tt.s<0?Lt(s,i):Lt(i,s)},equals:function(t,e){return fe(t,e),this.s*this.n*tt.d===tt.s*tt.n*this.d},compare:function(t,e){fe(t,e);var n=this.s*this.n*tt.d-tt.s*tt.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var i=Lt(n[r-1],1),s=r-2;s>=0;s--)i=i.inverse().add(n[s]);if(Math.abs(i.sub(e).valueOf())<t)return i.mul(this.s)}return this},divisible:function(t,e){return fe(t,e),!(!(tt.n*this.d)||this.n*tt.d%(tt.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),i===1?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),i===1?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do r.push(Math.floor(e/n)),t=e%n,e=n,n=t;while(e!==1);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=c2(e,n),i=l2(e,n,r),s=this.s<0?"-":"";if(s+=e/n|0,e%=n,e*=10,e&&(s+="."),r){for(var u=i;u--;)s+=e/n|0,e%=n,e*=10;s+="(";for(var u=r;u--;)s+=e/n|0,e%=n,e*=10;s+=")"}else for(var u=t;e&&u--;)s+=e/n|0,e%=n,e*=10;return s}};const Iu="strudel.log";let p2=1e3,ma,da;function Xt(t,e,n={}){let r=performance.now();ma===t&&r-da<p2||(ma=t,da=r,console.log(`%c${t}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(Iu,{detail:{message:t,type:e,data:n}})))}Xt.key=Iu;const m2=t=>/^[a-gA-G][#bs]*[0-9]$/.test(t),Un=t=>/^[a-gA-G][#bsf]*[0-9]?$/.test(t),qc=t=>{if(typeof t!="string")return[];const[e,n="",r]=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return e?[e,n,r?Number(r):void 0]:[]},d2={c:0,d:2,e:4,f:5,g:7,a:9,b:11},f2={"#":1,b:-1,s:1,f:-1},Rn=(t,e=3)=>{const[n,r,i=e]=qc(t);if(!n)throw new Error('not a note: "'+t+'"');const s=d2[n.toLowerCase()],u=r?.split("").reduce((o,c)=>o+f2[c],0)||0;return(Number(i)+1)*12+s+u},mr=t=>Math.pow(2,(t-69)/12)*440,xu=t=>12*Math.log(t/440)/Math.LN2+69,g2=(t,e)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:r}=t;if(typeof n=="number")return xu(n);if(typeof r=="string")return Rn(r);if(typeof r=="number")return r;if(!e)throw new Error("valueToMidi: expected freq or note to be set");return e},A2=(t,e)=>(t-e)*1e3,Xc=t=>mr(typeof t=="number"?t:Rn(t)),C2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],y2=t=>{const e=Math.floor(t/12)-1;return C2[t%12]+e},we=(t,e)=>(t%e+e)%e;function Zc(t,e=0){return isNaN(Number(t))?(Xt(`"${t}" is not a number, falling back to ${e}`,"warning"),e):t}const M2=(t,e)=>we(Math.round(Zc(t??0,0)),e),b2=t=>{let{value:e,context:n}=t,r=e;if(typeof r=="object"&&!Array.isArray(r)&&(r=r.note||r.n||r.value,r===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(e)}`);if(typeof r=="number"&&n.type!=="frequency")r=mr(t.value);else if(typeof r=="number"&&n.type==="frequency")r=t.value;else if(typeof r!="string"||!Un(r))throw new Error("not a note: "+JSON.stringify(r));return r},Hc=t=>{let{value:e,context:n}=t;if(typeof e=="object")return e.freq?e.freq:Xc(e.note||e.n||e.value);if(typeof e=="number"&&n.type!=="frequency")e=mr(t.value);else if(typeof e=="string"&&Un(e))e=mr(Rn(t.value));else if(typeof e!="number")throw new Error("not a note or frequency: "+e);return e},Kc=(t,e)=>t.slice(e).concat(t.slice(0,e)),Yc=(...t)=>t.reduce((e,n)=>(...r)=>e(n(...r)),e=>e),P2=(...t)=>Yc(...t.reverse()),yr=t=>t.filter(e=>e!=null),pn=t=>[].concat(...t),or=t=>t,D2=(t,e)=>t,Su=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t);function Pt(t,e,n=t.length){const r=function i(...s){if(s.length>=n)return t.apply(this,s);{const u=function(...o){return i.apply(this,s.concat(o))};return e&&e(u,s),u}};return e&&e(r,[]),r}function _u(t){const e=Number(t);if(!isNaN(e))return e;if(Un(t))return Rn(t);throw new Error(`cannot parse as numeral: "${t}"`)}function ku(t,e){return(...n)=>t(...n.map(e))}function ve(t){return ku(t,_u)}function Uc(t){const e=Number(t);if(!isNaN(e))return e;const n={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[t];if(typeof n<"u")return n;throw new Error(`cannot parse as fractional: "${t}"`)}const v2=t=>ku(t,Uc),Nu=function(t,e){return[e.slice(0,t),e.slice(t)]},Tu=(t,e,n)=>e.map((r,i)=>t(r,n[i])),$c=function(t){const e=[];for(let n=0;n<t.length-1;++n)e.push([t[n],t[n+1]]);return e},Ru=(t,e,n)=>Math.min(Math.max(t,e),n),E2=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],F2=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],B2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],w2=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],I2=["I","Ro","Ha","Ni","Ho","He","To"],x2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],S2=(t,e="letters")=>{const n=(e==="solfeggio"?E2:e==="indian"?F2:e==="german"?B2:e==="byzantine"?w2:e==="japanese"?I2:x2)[t%12],r=Math.floor(t/12)-1;return n+r};function _2(t){var e={};return t.filter(function(n){return e.hasOwn(n)?!1:e[n]=!0})}function k2(t){return t.sort().filter(function(e,n,r){return!n||e!=r[n-1]})}function Jc(t){return t.sort((e,n)=>e.compare(n)).filter(function(e,n,r){return!n||e.ne(r[n-1])})}function Qc(t){const e=new TextEncoder().encode(t);return btoa(String.fromCharCode(...e))}function tl(t){const e=new Uint8Array(atob(t).split("").map(n=>n.charCodeAt(0)));return new TextDecoder().decode(e)}function N2(t){return encodeURIComponent(Qc(t))}function T2(t){return tl(decodeURIComponent(t))}function el(t,e){return Array.isArray(t)?t.map(e):Object.fromEntries(Object.entries(t).map(([n,r],i)=>[n,e(r,n,i)]))}Bt.prototype.sam=function(){return this.floor()};Bt.prototype.nextSam=function(){return this.sam().add(1)};Bt.prototype.wholeCycle=function(){return new je(this.sam(),this.nextSam())};Bt.prototype.cyclePos=function(){return this.sub(this.sam())};Bt.prototype.lt=function(t){return this.compare(t)<0};Bt.prototype.gt=function(t){return this.compare(t)>0};Bt.prototype.lte=function(t){return this.compare(t)<=0};Bt.prototype.gte=function(t){return this.compare(t)>=0};Bt.prototype.eq=function(t){return this.compare(t)==0};Bt.prototype.ne=function(t){return this.compare(t)!=0};Bt.prototype.max=function(t){return this.gt(t)?this:t};Bt.prototype.maximum=function(...t){return t=t.map(e=>new Bt(e)),t.reduce((e,n)=>n.max(e),this)};Bt.prototype.min=function(t){return this.lt(t)?this:t};Bt.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};Bt.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};Bt.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};Bt.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};Bt.prototype.show=function(){return this.s*this.n+"/"+this.d};Bt.prototype.or=function(t){return this.eq(0)?t:this};const U=t=>Bt(t),R2=(...t)=>{if(t=yr(t),t.length!==0)return t.reduce((e,n)=>e.gcd(n),U(1))},$r=(...t)=>{if(t=yr(t),t.length!==0)return t.reduce((e,n)=>e===void 0||n===void 0?void 0:e.lcm(n),U(1))};U._original=Bt;let je=class hn{constructor(e,n){this.begin=U(e),this.end=U(n)}get spanCycles(){const e=[];var n=this.begin;const r=this.end,i=r.sam();if(n.equals(r))return[new hn(n,r)];for(;r.gt(n);){if(n.sam().equals(i)){e.push(new hn(n,this.end));break}const s=n.nextSam();e.push(new hn(n,s)),n=s}return e}get duration(){return this.end.sub(this.begin)}cycleArc(){const e=this.begin.cyclePos(),n=e.add(this.duration);return new hn(e,n)}withTime(e){return new hn(e(this.begin),e(this.end))}withEnd(e){return new hn(this.begin,e(this.end))}withCycle(e){const n=this.begin.sam(),r=n.add(e(this.begin.sub(n))),i=n.add(e(this.end.sub(n)));return new hn(r,i)}intersection(e){const n=this.begin.max(e.begin),r=this.end.min(e.end);if(!n.gt(r)&&!(n.equals(r)&&(n.equals(this.end)&&this.begin.lt(this.end)||n.equals(e.end)&&e.begin.lt(e.end))))return new hn(n,r)}intersection_e(e){const n=this.intersection(e);if(n==null)throw"TimeSpans do not intersect";return n}midpoint(){return this.begin.add(this.duration.div(U(2)))}equals(e){return this.begin.equals(e.begin)&&this.end.equals(e.end)}show(){return this.begin.show()+" → "+this.end.show()}},ee=class Vr{constructor(e,n,r,i={},s=!1){this.whole=e,this.part=n,this.value=r,this.context=i,this.stateful=s,s&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){let e;return typeof this.value?.duration=="number"?e=U(this.value.duration):e=this.whole.end.sub(this.whole.begin),typeof this.value?.clip=="number"?e.mul(this.value.clip):e}get endClipped(){return this.whole.begin.add(this.duration)}isActive(e){return this.whole.begin<=e&&this.endClipped>=e}isInPast(e){return e>this.endClipped}isInNearPast(e,n){return n-e<=this.endClipped}isInFuture(e){return e<this.whole.begin}isInNearFuture(e,n){return n<this.whole.begin&&n>this.whole.begin-e}isWithinTime(e,n){return this.whole.begin<=n&&this.endClipped>=e}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(e){const n=this.whole?e(this.whole):void 0;return new Vr(n,e(this.part),this.value,this.context)}withValue(e){return new Vr(this.whole,this.part,e(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(e){return this.context.tags?.includes(e)}resolveState(e){if(this.stateful&&this.hasOnset()){console.log("stateful");const n=this.value,[r,i]=n(e);return[r,new Vr(this.whole,this.part,i,this.context,!1)]}return[e,this]}spanEquals(e){return this.whole==null&&e.whole==null||this.whole.equals(e.whole)}equals(e){return this.spanEquals(e)&&this.part.equals(e.part)&&this.value===e.value}show(e=!1){const n=typeof this.value=="object"?e?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var r="";if(this.whole==null)r="~"+this.part.show;else{var i=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(r=this.whole.begin.show()+" ⇜ "),i||(r+="("),r+=this.part.show(),i||(r+=")"),this.whole.end.equals(this.part.end)||(r+=" ⇝ "+this.whole.end.show())}return"[ "+r+" | "+n+" ]"}showWhole(e=!1){return`${this.whole==null?"~":this.whole.show()}: ${typeof this.value=="object"?e?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value}`}combineContext(e){const n=this;return{...n.context,...e.context,locations:(n.context.locations||[]).concat(e.context.locations||[])}}setContext(e){return new Vr(this.whole,this.part,this.value,e)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}},tu=class eu{constructor(e,n={}){this.span=e,this.controls=n}setSpan(e){return new eu(e,this.controls)}withSpan(e){return this.setSpan(e(this.span))}setControls(e){return new eu(this.span,e)}};function V2(t,e,n){if(e?.value!==void 0&&Object.keys(e).length===1)return Xt("[warn]: Can't do arithmetic on control pattern."),t;const r=Object.keys(t).filter(i=>Object.keys(e).includes(i));return Object.assign({},t,e,Object.fromEntries(r.map(i=>[i,n(t[i],e[i])])))}Pt((t,e)=>t*e);Pt((t,e)=>e.map(t));function nl(t,e=60){let n=0,r=U(0),i=[""],s="";for(;i[0].length<e;){const u=t.queryArc(n,n+1),o=u.filter(p=>p.hasOnset()).map(p=>p.duration),c=R2(...o),h=c.inverse();i=i.map(p=>p+"|"),s+="|";for(let p=0;p<h;p++){const[m,d]=[r,r.add(c)],y=u.filter(D=>D.whole.begin.lte(m)&&D.whole.end.gte(d)),P=y.length-i.length;P>0&&(i=i.concat(Array(P).fill(s))),i=i.map((D,B)=>{const x=y[B];if(x){const N=x.whole.begin.eq(m)?""+x.value:"-";return D+N}return D+"."}),s+=".",r=r.add(c)}n++}return i.join(`
`)}let nu,We=!0;const L2=function(t){We=!!t},rl=t=>nu=t;let rt=class Jt{constructor(e,n=void 0){this.query=e,this._Pattern=!0,this.tactus=n}get tactus(){return this.__tactus}set tactus(e){this.__tactus=e===void 0?void 0:U(e)}setTactus(e){return this.tactus=e,this}withTactus(e){return We?new Jt(this.query,this.tactus===void 0?void 0:e(this.tactus)):this}get hasTactus(){return this.tactus!==void 0}withValue(e){const n=new Jt(r=>this.query(r).map(i=>i.withValue(e)));return n.tactus=this.tactus,n}fmap(e){return this.withValue(e)}appWhole(e,n){const r=this,i=function(s){const u=r.query(s),o=n.query(s),c=function(h,p){const m=h.part.intersection(p.part);if(m!=null)return new ee(e(h.whole,p.whole),m,h.value(p.value),p.combineContext(h))};return pn(u.map(h=>yr(o.map(p=>c(h,p)))))};return new Jt(i)}appBoth(e){const n=this,r=function(s,u){if(!(s==null||u==null))return s.intersection_e(u)},i=n.appWhole(r,e);return We&&(i.tactus=$r(e.tactus,n.tactus)),i}appLeft(e){const n=this,r=function(s){const u=[];for(const o of n.query(s)){const c=e.query(s.setSpan(o.wholeOrPart()));for(const h of c){const p=o.whole,m=o.part.intersection(h.part);if(m){const d=o.value(h.value),y=h.combineContext(o),P=new ee(p,m,d,y);u.push(P)}}}return u},i=new Jt(r);return i.tactus=this.tactus,i}appRight(e){const n=this,r=function(s){const u=[];for(const o of e.query(s)){const c=n.query(s.setSpan(o.wholeOrPart()));for(const h of c){const p=o.whole,m=h.part.intersection(o.part);if(m){const d=h.value(o.value),y=o.combineContext(h),P=new ee(p,m,d,y);u.push(P)}}}return u},i=new Jt(r);return i.tactus=e.tactus,i}bindWhole(e,n){const r=this,i=function(s){const u=function(c,h){return new ee(e(c.whole,h.whole),h.part,h.value,Object.assign({},c.context,h.context,{locations:(c.context.locations||[]).concat(h.context.locations||[])}))},o=function(c){return n(c.value).query(s.setSpan(c.part)).map(h=>u(c,h))};return pn(r.query(s).map(c=>o(c)))};return new Jt(i)}bind(e){const n=function(r,i){if(!(r==null||i==null))return r.intersection_e(i)};return this.bindWhole(n,e)}join(){return this.bind(or)}outerBind(e){return this.bindWhole(n=>n,e).setTactus(this.tactus)}outerJoin(){return this.outerBind(or)}innerBind(e){return this.bindWhole((n,r)=>r,e)}innerJoin(){return this.innerBind(or)}resetJoin(e=!1){const n=this;return new Jt(r=>n.discreteOnly().query(r).map(i=>i.value.late(e?i.whole.begin:i.whole.begin.cyclePos()).query(r).map(s=>new ee(s.whole?s.whole.intersection(i.whole):void 0,s.part.intersection(i.part),s.value).setContext(i.combineContext(s))).filter(s=>s.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const e=this;function n(r){const i=e.discreteOnly().query(r);function s(u){const o=u.value._focusSpan(u.wholeOrPart()).query(r.setSpan(u.part));function c(h,p){let m;if(p.whole&&h.whole&&(m=p.whole.intersection(h.whole),!m))return;const d=p.part.intersection(h.part);if(!d)return;const y=p.combineContext(h);return new ee(m,d,p.value,y)}return o.map(h=>c(u,h))}return pn(i.map(s)).filter(u=>u)}return new Jt(n)}squeezeBind(e){return this.fmap(e).squeezeJoin()}queryArc(e,n,r={}){try{return this.query(new tu(new je(e,n),r))}catch(i){return Xt(`[query]: ${i.message}`,"error"),[]}}splitQueries(){const e=this,n=r=>pn(r.span.spanCycles.map(i=>e.query(r.setSpan(i))));return new Jt(n)}withQuerySpan(e){return new Jt(n=>this.query(n.withSpan(e)))}withQuerySpanMaybe(e){const n=this;return new Jt(r=>{const i=r.withSpan(e);return i.span?n.query(i):[]})}withQueryTime(e){return new Jt(n=>this.query(n.withSpan(r=>r.withTime(e))))}withHapSpan(e){return new Jt(n=>this.query(n).map(r=>r.withSpan(e)))}withHapTime(e){return this.withHapSpan(n=>n.withTime(e))}withHaps(e){const n=new Jt(r=>e(this.query(r),r));return n.tactus=this.tactus,n}withHap(e){return this.withHaps(n=>n.map(e))}setContext(e){return this.withHap(n=>n.setContext(e))}withContext(e){const n=this.withHap(r=>r.setContext(e(r.context)));return this.__pure!==void 0&&(n.__pure=this.__pure,n.__pure_loc=this.__pure_loc),n}stripContext(){return this.withHap(e=>e.setContext({}))}withLoc(e,n){const r={start:e,end:n},i=this.withContext(s=>{const u=(s.locations||[]).concat([r]);return{...s,locations:u}});return this.__pure&&(i.__pure=this.__pure,i.__pure_loc=r),i}filterHaps(e){return new Jt(n=>this.query(n).filter(e))}filterValues(e){return new Jt(n=>this.query(n).filter(r=>e(r.value))).setTactus(this.tactus)}removeUndefineds(){return this.filterValues(e=>e!=null)}onsetsOnly(){return this.filterHaps(e=>e.hasOnset())}discreteOnly(){return this.filterHaps(e=>e.whole)}defragmentHaps(){return this.discreteOnly().withHaps(e=>{const n=[];for(var r=0;r<e.length;++r){for(var i=!0,s=e[r];i;){const c=JSON.stringify(e[r].value);for(var u=!1,o=r+1;o<e.length;o++){const h=e[o];if(s.whole.equals(h.whole)){if(s.part.begin.eq(h.part.end)){if(c===JSON.stringify(h.value)){s=new ee(s.whole,new je(h.part.begin,s.part.end),s.value),e.splice(o,1),u=!0;break}}else if(h.part.begin.eq(s.part.end)&&c==JSON.stringify(h.value)){s=new ee(s.whole,new je(s.part.begin,h.part.end),s.value),e.splice(o,1),u=!0;break}}}i=u}n.push(s)}return n})}firstCycle(e=!1){var n=this;return e||(n=n.stripContext()),n.query(new tu(new je(U(0),U(1))))}get firstCycleValues(){return this.firstCycle().map(e=>e.value)}get showFirstCycle(){return this.firstCycle().map(e=>`${e.value}: ${e.whole.begin.toFraction()} - ${e.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(e=>e.sort((n,r)=>n.part.begin.sub(r.part.begin).or(n.part.end.sub(r.part.end)).or(n.whole.begin.sub(r.whole.begin).or(n.whole.end.sub(r.whole.end)))))}asNumber(){return this.fmap(_u)}_opIn(e,n){return this.fmap(n).appLeft(J(e))}_opOut(e,n){return this.fmap(n).appRight(J(e))}_opMix(e,n){return this.fmap(n).appBoth(J(e))}_opSqueeze(e,n){const r=J(e);return this.fmap(i=>r.fmap(s=>n(i)(s))).squeezeJoin()}_opSqueezeOut(e,n){const r=this;return J(e).fmap(i=>r.fmap(s=>n(s)(i))).squeezeJoin()}_opReset(e,n){return J(e).fmap(r=>this.fmap(i=>n(i)(r))).resetJoin()}_opRestart(e,n){return J(e).fmap(r=>this.fmap(i=>n(i)(r))).restartJoin()}layer(...e){return jt(...e.map(n=>n(this)))}superimpose(...e){return this.stack(...e.map(n=>n(this)))}stack(...e){return jt(this,...e)}sequence(...e){return Ie(this,...e)}seq(...e){return Ie(this,...e)}cat(...e){return ol(this,...e)}fastcat(...e){return _e(this,...e)}slowcat(...e){return $n(this,...e)}onTrigger(e,n=!0){return this.withHap(r=>r.setContext({...r.context,onTrigger:(...i)=>{r.context.onTrigger?.(...i),e(...i)},dominantTrigger:r.context.dominantTrigger||n}))}log(e=(r,i)=>`[hap] ${i.showWhole(!0)}`,n=(r,i)=>({hap:i})){return this.onTrigger((...r)=>{Xt(e(...r),void 0,n(...r))},!1)}logValues(e=or){return this.log((n,r)=>e(r.value))}drawLine(){return console.log(nl(this)),this}};function O2(t,e){let n=[];return e.forEach(r=>{const i=n.findIndex(([s])=>t(r,s));i===-1?n.push([r]):n[i].push(r)}),n}const j2=(t,e)=>t.spanEquals(e);rt.prototype.collect=function(){return this.withHaps(t=>O2(j2,t).map(e=>new ee(e[0].whole,e[0].part,e,{})))};rt.prototype.arpWith=function(t){return this.collect().fmap(e=>J(t(e))).innerJoin().withHap(e=>new ee(e.whole,e.part,e.value.value,e.combineContext(e.value)))};rt.prototype.arp=function(t){return this.arpWith(e=>t.fmap(n=>e[n%e.length]))};function Ai(t){return!Array.isArray(t)&&typeof t=="object"}function G2(t,e,n){return Ai(t)||Ai(e)?(Ai(t)||(t={value:t}),Ai(e)||(e={value:e}),V2(t,e,n)):n(t,e)}(function(){const t={set:[(n,r)=>r],keep:[n=>n],keepif:[(n,r)=>r?n:void 0],add:[ve((n,r)=>n+r)],sub:[ve((n,r)=>n-r)],mul:[ve((n,r)=>n*r)],div:[ve((n,r)=>n/r)],mod:[ve(we)],pow:[ve(Math.pow)],band:[ve((n,r)=>n&r)],bor:[ve((n,r)=>n|r)],bxor:[ve((n,r)=>n^r)],blshift:[ve((n,r)=>n<<r)],brshift:[ve((n,r)=>n>>r)],lt:[(n,r)=>n<r],gt:[(n,r)=>n>r],lte:[(n,r)=>n<=r],gte:[(n,r)=>n>=r],eq:[(n,r)=>n==r],eqt:[(n,r)=>n===r],ne:[(n,r)=>n!=r],net:[(n,r)=>n!==r],and:[(n,r)=>n&&r],or:[(n,r)=>n||r],func:[(n,r)=>r(n)]},e=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart"];for(const[n,[r,i]]of Object.entries(t)){rt.prototype["_"+n]=function(s){return this.fmap(u=>r(u,s))},Object.defineProperty(rt.prototype,n,{get:function(){const s=this,u=(...o)=>s[n].in(...o);for(const o of e)u[o.toLowerCase()]=function(...c){var h=s;c=Ie(c),i&&(h=i(h),c=i(c));var p;return n==="keepif"?(p=h["_op"+o](c,m=>d=>r(m,d)),p=p.removeUndefineds()):p=h["_op"+o](c,m=>d=>G2(m,d,r)),p};return u.squeezein=u.squeeze,u}});for(const s of e)rt.prototype[s.toLowerCase()]=function(...u){return this.set[s.toLowerCase()](u)}}rt.prototype.struct=function(...n){return this.keepif.out(...n)},rt.prototype.structAll=function(...n){return this.keep.out(...n)},rt.prototype.mask=function(...n){return this.keepif.in(...n)},rt.prototype.maskAll=function(...n){return this.keep.in(...n)},rt.prototype.reset=function(...n){return this.keepif.reset(...n)},rt.prototype.resetAll=function(...n){return this.keep.reset(...n)},rt.prototype.restart=function(...n){return this.keepif.restart(...n)},rt.prototype.restartAll=function(...n){return this.keep.restart(...n)}})();const z2=jt,W2=jt,q2=Wu,Mr=t=>new rt(()=>[],t),wt=Mr(1),Ye=Mr(0);function ie(t){function e(r){return r.span.spanCycles.map(i=>new ee(U(i.begin).wholeCycle(),i,t))}const n=new rt(e,1);return n.__pure=t,n}function Vu(t){return t instanceof rt||t?._Pattern}function J(t){return Vu(t)?t:nu&&typeof t=="string"?nu(t):ie(t)}function jt(...t){t=t.map(r=>Array.isArray(r)?Ie(...r):J(r));const e=r=>pn(t.map(i=>i.query(r))),n=new rt(e);return We&&(n.tactus=$r(...t.map(r=>r.tactus))),n}function Lu(t,e){if(e=e.map(s=>Array.isArray(s)?Ie(...s):J(s)),e.length===0)return wt;if(e.length===1)return e[0];const[n,...r]=e.map(s=>s.tactus),i=We?n.maximum(...r):void 0;return jt(...t(i,e))}function il(...t){return Lu((e,n)=>n.map(r=>r.tactus.eq(e)?r:xe(r,Mr(e.sub(r.tactus)))),t)}function sl(...t){return Lu((e,n)=>n.map(r=>r.tactus.eq(e)?r:xe(Mr(e.sub(r.tactus)),r)),t)}function ul(...t){return Lu((e,n)=>n.map(r=>{if(r.tactus.eq(e))return r;const i=Mr(e.sub(r.tactus).div(2));return xe(i,r,i)}),t)}function X2(t,...e){const[n,...r]=e.map(u=>u.tactus),i=n.maximum(...r),s={centre:ul,left:il,right:sl,expand:jt,repeat:(...u)=>ml(i,...u)};return t.inhabit(s).fmap(u=>u(...e)).innerJoin().setTactus(i)}function $n(...t){if(t=t.map(r=>Array.isArray(r)?_e(...r):J(r)),t.length==1)return t[0];const e=function(r){const i=r.span,s=we(i.begin.sam(),t.length),u=t[s];if(!u)return[];const o=i.begin.floor().sub(i.begin.div(t.length).floor());return u.withHapTime(c=>c.add(o)).query(r.setSpan(i.withTime(c=>c.sub(o))))},n=We?$r(...t.map(r=>r.tactus)):void 0;return new rt(e).splitQueries().setTactus(n)}function Ou(...t){t=t.map(J);const e=function(n){const r=Math.floor(n.span.begin)%t.length;return t[r]?.query(n)||[]};return new rt(e).splitQueries()}function ol(...t){return $n(...t)}function Z2(...t){const e=t.reduce((n,[r])=>n+r,0);return t=t.map(([n,r])=>[n,r.fast(n)]),xe(...t).slow(e)}function _e(...t){let e=$n(...t);return t.length>1&&(e=e._fast(t.length),e.tactus=t.length),e}function Ie(...t){return _e(...t)}function al(...t){return _e(...t)}function ru(t){return Array.isArray(t)?t.length==0?[wt,0]:t.length==1?ru(t[0]):[_e(...t.map(e=>ru(e)[0])),t.length]:[J(t),1]}const H2=Pt((t,e)=>J(e).mask(t)),K2=Pt((t,e)=>J(e).struct(t)),Y2=Pt((t,e)=>J(e).superimpose(...t)),U2=Pt((t,e)=>J(e).set(t)),$2=Pt((t,e)=>J(e).keep(t)),J2=Pt((t,e)=>J(e).keepif(t)),Q2=Pt((t,e)=>J(e).add(t)),t3=Pt((t,e)=>J(e).sub(t)),e3=Pt((t,e)=>J(e).mul(t)),n3=Pt((t,e)=>J(e).div(t)),r3=Pt((t,e)=>J(e).mod(t)),i3=Pt((t,e)=>J(e).pow(t)),s3=Pt((t,e)=>J(e).band(t)),u3=Pt((t,e)=>J(e).bor(t)),o3=Pt((t,e)=>J(e).bxor(t)),a3=Pt((t,e)=>J(e).blshift(t)),c3=Pt((t,e)=>J(e).brshift(t)),l3=Pt((t,e)=>J(e).lt(t)),h3=Pt((t,e)=>J(e).gt(t)),p3=Pt((t,e)=>J(e).lte(t)),m3=Pt((t,e)=>J(e).gte(t)),d3=Pt((t,e)=>J(e).eq(t)),f3=Pt((t,e)=>J(e).eqt(t)),g3=Pt((t,e)=>J(e).ne(t)),A3=Pt((t,e)=>J(e).net(t)),C3=Pt((t,e)=>J(e).and(t)),y3=Pt((t,e)=>J(e).or(t)),M3=Pt((t,e)=>J(e).func(t));function L(t,e,n=!0,r=!1,i=s=>s.innerJoin()){if(Array.isArray(t)){const o={};for(const c of t)o[c]=L(c,e,n);return o}const s=e.length;var u;return n?u=function(...o){o=o.map(J);const c=o[o.length-1];let h;if(s===1)h=e(c);else{const p=o.slice(0,-1);if(p.every(m=>m.__pure!=null)){const m=p.map(y=>y.__pure),d=p.filter(y=>y.__pure_loc).map(y=>y.__pure_loc);h=e(...m,c),h=h.withContext(y=>{const P=(y.locations||[]).concat(d);return{...y,locations:P}})}else{const[m,...d]=p;let y=(...P)=>e(...P,c);y=Pt(y,null,s-1),h=i(d.reduce((P,D)=>P.appLeft(D),m.fmap(y)))}}return r&&(h.tactus=c.tactus),h}:u=function(...o){o=o.map(J);const c=e(...o);return r&&(c.tactus=o[o.length-1].tactus),c},rt.prototype[t]=function(...o){if(s===2&&o.length!==1)o=[Ie(...o)];else if(s!==o.length+1)throw new Error(`.${t}() expects ${s-1} inputs but got ${o.length}.`);return o=o.map(J),u(...o,this)},s>1&&(rt.prototype["_"+t]=function(...o){return e(...o,this)}),Pt(u,null,s)}function Ui(t,e,n=!0,r=!1,i=s=>s.stepJoin()){return L(t,e,n,r,i)}const b3=L("round",function(t){return t.asNumber().fmap(e=>Math.round(e))}),P3=L("floor",function(t){return t.asNumber().fmap(e=>Math.floor(e))}),D3=L("ceil",function(t){return t.asNumber().fmap(e=>Math.ceil(e))}),v3=L("toBipolar",function(t){return t.fmap(e=>e*2-1)}),E3=L("fromBipolar",function(t){return t.fmap(e=>(e+1)/2)}),F3=L("range",function(t,e,n){return n.mul(e-t).add(t)}),B3=L("rangex",function(t,e,n){return n._range(Math.log(t),Math.log(e)).fmap(Math.exp)}),w3=L("range2",function(t,e,n){return n.fromBipolar()._range(t,e)}),I3=L("ratio",t=>t.fmap(e=>Array.isArray(e)?e.slice(1).reduce((n,r)=>n/r,e[0]):e)),x3=L("compress",function(t,e,n){return t=U(t),e=U(e),t.gt(e)||t.gt(1)||e.gt(1)||t.lt(0)||e.lt(0)?wt:n._fastGap(U(1).div(e.sub(t)))._late(t)}),{compressSpan:S3,compressspan:_3}=L(["compressSpan","compressspan"],function(t,e){return e._compress(t.begin,t.end)}),{fastGap:k3,fastgap:N3}=L(["fastGap","fastgap"],function(t,e){const n=function(i){const s=i.begin.sam(),u=i.begin.sub(s).mul(t).min(1),o=i.end.sub(s).mul(t).min(1);if(!(u>=1))return new je(s.add(u),s.add(o))},r=function(i){const s=i.part.begin,u=i.part.end,o=s.sam(),c=s.sub(o).div(t).min(1),h=u.sub(o).div(t).min(1),p=new je(o.add(c),o.add(h)),m=i.whole?new je(p.begin.sub(s.sub(i.whole.begin).div(t)),p.end.add(i.whole.end.sub(u).div(t))):void 0;return new ee(m,p,i.value,i.context)};return e.withQuerySpanMaybe(n).withHap(r).splitQueries()}),T3=L("focus",function(t,e,n){return t=U(t),e=U(e),n._fast(U(1).div(e.sub(t))).late(t.cyclePos())}),{focusSpan:R3,focusspan:V3}=L(["focusSpan","focusspan"],function(t,e){return e._focus(t.begin,t.end)}),L3=L("ply",function(t,e){const n=e.fmap(r=>ie(r)._fast(t)).squeezeJoin();return We&&(n.tactus=U(t).mulmaybe(e.tactus)),n}),{fast:O3,density:EB}=L(["fast","density"],function(t,e){return t===0?wt:(t=U(t),e.withQueryTime(n=>n.mul(t)).withHapTime(n=>n.div(t)).setTactus(e.tactus))},!0,!0),j3=L("hurry",function(t,e){return e._fast(t).mul(ie({speed:t}))}),{slow:G3,sparsity:z3}=L(["slow","sparsity"],function(t,e){return t===0?wt:e._fast(U(1).div(t))}),W3=L("inside",function(t,e,n){return e(n._slow(t))._fast(t)}),q3=L("outside",function(t,e,n){return e(n._fast(t))._slow(t)}),X3=L("lastOf",function(t,e,n){const r=Array(t-1).fill(n);return r.push(e(n)),Ou(...r)}),{firstOf:Z3,every:H3}=L(["firstOf","every"],function(t,e,n){const r=Array(t-1).fill(n);return r.unshift(e(n)),Ou(...r)}),K3=L("apply",function(t,e){return t(e)}),Y3=L("cpm",function(t,e){return e._fast(t/60/1)}),U3=L("early",function(t,e){return t=U(t),e.withQueryTime(n=>n.add(t)).withHapTime(n=>n.sub(t))},!0,!0),cl=L("late",function(t,e){return t=U(t),e._early(U(0).sub(t))},!0,!0),$3=L("zoom",function(t,e,n){if(e=U(e),t=U(t),t.gte(e))return Ye;const r=e.sub(t),i=We?n.tactus.mulmaybe(r):void 0;return n.withQuerySpan(s=>s.withCycle(u=>u.mul(r).add(t))).withHapSpan(s=>s.withCycle(u=>u.sub(t).div(r))).splitQueries().setTactus(i)}),{zoomArc:J3,zoomarc:Q3}=L(["zoomArc","zoomarc"],function(t,e){return e.zoom(t.begin,t.end)}),ty=L("linger",function(t,e){return t==0?wt:t<0?e._zoom(t.add(1),1)._slow(t):e._zoom(0,t)._slow(t)},!0,!0),ey=L("segment",function(t,e){return e.struct(ie(!0)._fast(t)).setTactus(t)}),ny=L("swingBy",(t,e,n)=>n.inside(e,cl(al(0,t/2)))),ry=L("swing",(t,e)=>e.swingBy(1/3,t)),{invert:iy,inv:sy}=L(["invert","inv"],function(t){return t.fmap(e=>!e)},!0,!0),uy=L("when",function(t,e,n){return t?e(n):n}),oy=L("off",function(t,e,n){return jt(n,e(n.late(t)))}),ay=L("brak",function(t){return t.when($n(!1,!0),e=>_e(e,wt)._late(.25))}),ll=L("rev",function(t){const e=function(n){const r=n.span,i=r.begin.sam(),s=r.begin.nextSam(),u=function(o){const c=o.withTime(p=>i.add(s.sub(p))),h=c.begin;return c.begin=c.end,c.end=h,c};return t.query(n.setSpan(u(r))).map(o=>o.withSpan(u))};return new rt(e).splitQueries()},!1,!0),cy=L("pressBy",function(t,e){return e.fmap(n=>ie(n).compress(t,1)).squeezeJoin()}),ly=L("press",function(t){return t._pressBy(.5)});rt.prototype.hush=function(){return wt};const hy=L("palindrome",function(t){return t.lastOf(2,ll)},!0,!0),{juxBy:py,juxby:my}=L(["juxBy","juxby"],function(t,e,n){t/=2;const r=function(u,o,c){return o in u?u[o]:c},i=n.withValue(u=>Object.assign({},u,{pan:r(u,"pan",.5)-t})),s=e(n.withValue(u=>Object.assign({},u,{pan:r(u,"pan",.5)+t})));return jt(i,s).setTactus(We?$r(i.tactus,s.tactus):void 0)}),dy=L("jux",function(t,e){return e._juxBy(1,t,e)}),{echoWith:fy,echowith:gy,stutWith:Ay,stutwith:Cy}=L(["echoWith","echowith","stutWith","stutwith"],function(t,e,n,r){return jt(...Su(0,t-1).map(i=>n(r.late(U(e).mul(i)),i)))}),yy=L("echo",function(t,e,n,r){return r._echoWith(t,e,(i,s)=>i.gain(Math.pow(n,s)))}),My=L("stut",function(t,e,n,r){return r._echoWith(t,n,(i,s)=>i.gain(Math.pow(e,s)))}),ju=function(t,e,n=!1){return t=U(t),$n(...Su(0,t.sub(1)).map(r=>n?e.late(U(r).div(t)):e.early(U(r).div(t))))},by=L("iter",function(t,e){return ju(t,e,!1)},!0,!0),{iterBack:Py,iterback:Dy}=L(["iterBack","iterback"],function(t,e){return ju(t,e,!0)},!0,!0),{repeatCycles:vy}=L("repeatCycles",function(t,e){return new rt(function(n){const r=n.span.begin.sam(),i=r.div(t).sam(),s=r.sub(i);return n=n.withSpan(u=>u.withTime(o=>o.sub(s))),e.query(n).map(u=>u.withSpan(o=>o.withTime(c=>c.add(s))))}).splitQueries()},!0,!0),Gu=function(t,e,n,r=!1,i=!1){const s=Array(t-1).fill(!1);s.unshift(!0);const u=ju(t,Ie(...s),!r);return i||(n=n.repeatCycles(t)),n.when(u,e)},{chunk:Ey,slowchunk:Fy,slowChunk:By}=L(["chunk","slowchunk","slowChunk"],function(t,e,n){return Gu(t,e,n,!1,!1)}),{chunkBack:wy,chunkback:Iy}=L(["chunkBack","chunkback"],function(t,e,n){return Gu(t,e,n,!0)}),{fastchunk:xy,fastChunk:Sy}=L(["fastchunk","fastChunk"],function(t,e,n){return Gu(t,e,n,!1,!0)}),_y=L("bypass",function(t,e){return t=!!parseInt(t),t?wt:e},!0,!0),ky=L("ribbon",(t,e,n)=>n.early(t).restart(ie(1).slow(e))),Ny=L("hsla",(t,e,n,r,i)=>i.color(`hsla(${t}turn,${e*100}%,${n*100}%,${r})`)),Ty=L("hsl",(t,e,n,r)=>r.color(`hsl(${t}turn,${e*100}%,${n*100}%)`));rt.prototype.tag=function(t){return this.withContext(e=>({...e,tags:(e.tags||[]).concat([t])}))};rt.prototype.stepJoin=function(){const t=this,e=xe(...iu(su(t.queryArc(0,1)))).tactus,n=function(r){const i=t.early(r.span.begin.sam()).query(r.setSpan(new je(U(0),U(1))));return xe(...iu(su(i))).query(r)};return new rt(n,e)};function iu(t){const e=t.filter((s,u)=>u.hasTactus).reduce((s,u)=>s.add(u),U(0)),n=yr(t.map((s,u)=>u.tactus)).reduce((s,u)=>s.add(u),U(0)),r=e.eq(0)?void 0:n.div(e);function i(s,u){return u.tactus===void 0?[s.mulmaybe(r),u]:[u.tactus,u]}return t.map(s=>i(...s))}function su(t){const e=pn(t.map(r=>[r.part.begin,r.part.end])),n=Jc([U(0),U(1),...e]);return $c(n).map(r=>[r[1].sub(r[0]),jt(...hl(new je(...r),t).map(i=>i.value.withHap(s=>s.setContext(s.combineContext(i)))))])}function hl(t,e){return yr(e.map(n=>pl(t,n)))}function pl(t,e){const n=t.intersection(e.part);if(n!=null)return new ee(e.whole,n,e.value,e.context)}const Ry=L("steps",function(t,e){return e.tactus===void 0?e:e.tactus.eq(U(0))?Ye:e.fast(U(t).div(e.tactus))});function zu(t,...e){const n=e.map(i=>ru(i));if(n.length==0)return wt;t==0&&(t=n[0][1]);const r=[];for(const i of n)i[1]!=0&&(t==i[1]?r.push(i[0]):r.push(i[0]._fast(U(t).div(U(i[1])))));return jt(...r)}function ml(t,...e){return e.length==0?wt:Array.isArray(e[0])?zu(t,...e):Wu(...e).steps(t)}function Wu(...t){if(Array.isArray(t[0]))return zu(0,...t);if(t=t.filter(s=>s.hasTactus),t.length==0)return wt;const e=t[0].tactus;if(e.eq(U(0)))return Ye;const[n,...r]=t,i=jt(n,...r.map(s=>s._slow(s.tactus.div(e))));return i.tactus=e,i}function xe(...t){if(t.length===0)return Ye;const e=u=>Array.isArray(u)?u:[u.tactus,u];if(t=t.map(e),t.find(u=>u[0]===void 0)){const u=t.map(c=>c[0]).filter(c=>c!==void 0);if(u.length===0)return _e(...t.map(c=>c[1]));if(u.length===t.length)return Ye;const o=u.reduce((c,h)=>c.add(h),U(0)).div(u.length);for(let c of t)c[0]===void 0&&(c[0]=o)}if(t.length==1){const u=J(t[0][1]);return u.tactus=t[0][0],u}const n=t.map(u=>u[0]).reduce((u,o)=>u.add(o),U(0));let r=U(0);const i=[];for(const[u,o]of t){if(U(u).eq(0))continue;const c=r.add(u);i.push(J(o)._compress(r.div(n),c.div(n))),r=c}const s=jt(...i);return s.tactus=n,s}const Vy=xe,qu=xe;function Ly(...t){t=t.map(i=>Array.isArray(i)?i.map(J):[J(i)]);const e=$r(...t.map(i=>U(i.length)));let n=[];for(let i=0;i<e;++i)n.push(...t.map(s=>s.length==0?wt:s[i%s.length]));n=n.filter(i=>i.hasTactus&&i.tactus>0);const r=n.reduce((i,s)=>i.add(s.tactus),U(0));return n=xe(...n),n.tactus=r,n}const Oy=Ui("s_add",function(t,e){if(!e.hasTactus||e.tactus.lte(0)||(t=U(t),t.eq(0)))return Ye;const n=t<0;n&&(t=t.abs());const r=t.div(e.tactus);return r.lte(0)?Ye:r.gte(1)?e:n?e.zoom(U(1).sub(r),1):e.zoom(0,r)}),jy=Ui("s_sub",function(t,e){return e.hasTactus?(t=U(t),t.lt(0)?e.s_add(U(0).sub(e.tactus.add(t))):e.s_add(e.tactus.sub(t))):Ye}),Gy=Ui("s_expand",function(t,e){return e.withTactus(n=>n.mul(U(t)))}),zy=Ui("s_contract",function(t,e){return e.withTactus(n=>n.div(U(t)))});rt.prototype.s_taperlist=function(t,e){const n=this;if(!n.hasTactus)return[n];if(e=e-1,e===0)return[n];const r=[],i=t>0;t=U(Math.abs(t));const s=n.tactus.sub(t.mul(U(e))).max(U(0));for(let u=0;u<e;++u)r.push(n.zoom(0,s.add(t.mul(U(u))).div(n.tactus)));return r.push(n),i&&r.reverse(),r};const Wy=(t,e,n)=>n.s_taperlist(t,e),qy=L("s_taper",function(t,e,n){if(!n.hasTactus)return Ye;const r=n.s_taperlist(t,e),i=xe(...r);return i.tactus=r.reduce((s,u)=>s.add(u.tactus),U(0)),i},!0,!1,t=>t.stepJoin());rt.prototype.s_tour=function(...t){return xe(...[].concat(...t.map((e,n)=>[...t.slice(0,t.length-n),this,...t.slice(t.length-n)]),this,...t))};const Xy=function(t,...e){return t.s_tour(...e)},Zy=L("chop",function(t,e){const n=Array.from({length:t},(i,s)=>s).map(i=>({begin:i/t,end:(i+1)/t})),r=function(i){return Ie(n.map(s=>Object.assign({},i,s)))};return e.squeezeBind(r).setTactus(We?U(t).mulmaybe(e.tactus):void 0)}),Hy=L("striate",function(t,e){const n=Array.from({length:t},(i,s)=>s).map(i=>({begin:i/t,end:(i+1)/t})),r=$n(...n);return e.set(r)._fast(t).setTactus(We?U(t).mulmaybe(e.tactus):void 0)}),dl=function(t,e,n=.5){return e.speed(1/t*n).unit("c").slow(t)},fl=L("slice",function(t,e,n){return t.innerBind(r=>e.outerBind(i=>n.outerBind(s=>{s=s instanceof Object?s:{s};const u=Array.isArray(r)?r[i]:i/r,o=Array.isArray(r)?r[i+1]:(i+1)/r;return ie({begin:u,end:o,_slices:r,...s})}))).setTactus(e.tactus)},!1),Ky=L("splice",function(t,e,n){const r=fl(t,e,n);return new rt(i=>{const s=i.controls._cps||1;return r.query(i).map(u=>u.withValue(o=>({speed:s/o._slices/u.whole.duration*(o.speed||1),unit:"c",...o})))}).setTactus(e.tactus)},!1),{loopAt:Yy,loopat:Uy}=L(["loopAt","loopat"],function(t,e){return new rt(n=>dl(t,e,n.controls._cps).query(n))}),$y=L("fit",t=>t.withHaps((e,n)=>e.map(r=>r.withValue(i=>({...i,speed:(n.controls._cps||1)/r.whole.duration,unit:"c"}))))),{loopAtCps:Jy,loopatcps:Qy}=L(["loopAtCps","loopatcps"],function(t,e,n){return dl(t,n,e)}),tM=t=>ie(1).withValue(()=>J(t())).innerJoin();let fa=t=>t<.5?1:1-(t-.5)/.5,gl=(t,e,n)=>{e=J(e),t=J(t),n=J(n);let r=e.fmap(s=>({gain:fa(s)})),i=e.fmap(s=>({gain:fa(1-s)}));return jt(t.mul(r),n.mul(i))};rt.prototype.xfade=function(t,e){return gl(this,t,e)};function $i(t){let e=Array.isArray(t);t=e?t:[t];const n=t[0],r=u=>{let o;if(typeof u=="object"&&u.value!==void 0&&(o={...u},u=u.value,delete o.value),e&&Array.isArray(u)){const c=o||{};return u.forEach((h,p)=>{p<t.length&&(c[t[p]]=h)}),c}else return o?(o[n]=u,o):{[n]:u}},i=(...u)=>Ie(...u).withValue(r),s=function(...u){return u.length?this.set(i(...u)):this.fmap(r)};return rt.prototype[n]=s,i}function w(t,...e){const n=Array.isArray(t)?t[0]:t;let r={};return r[n]=$i(t),e.forEach(i=>{r[i]=r[n],rt.prototype[i]=rt.prototype[n]}),r}const{s:Al,sound:Cl}=w(["s","n","gain"],"sound"),{source:yl,src:Ml}=w("source","src"),{n:bl}=w("n"),{note:Pl}=w(["note","n"]),{accelerate:Dl}=w("accelerate"),{velocity:vl}=w("velocity"),{gain:El}=w("gain"),{postgain:Fl}=w("postgain"),{amp:Bl}=w("amp"),{attack:wl,att:Il}=w("attack","att"),{fmh:xl}=w(["fmh","fmi"],"fmh"),{fmi:Sl,fm:_l}=w(["fmi","fmh"],"fm"),{fmenv:kl}=w("fmenv"),{fmattack:Nl}=w("fmattack"),{fmdecay:Tl}=w("fmdecay"),{fmsustain:Rl}=w("fmsustain"),{fmrelease:Vl}=w("fmrelease"),{fmvelocity:Ll}=w("fmvelocity"),{bank:Ol}=w("bank"),{analyze:jl}=w("analyze"),{fft:Gl}=w("fft"),{decay:zl,dec:Wl}=w("decay","dec"),{sustain:ql,sus:Xl}=w("sustain","sus"),{release:Zl,rel:Hl}=w("release","rel"),{hold:Kl}=w("hold"),{bandf:Yl,bpf:Ul,bp:$l}=w(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:Jl,bpq:Ql}=w("bandq","bpq"),{begin:t1}=w("begin"),{end:e1}=w("end"),{loop:n1}=w("loop"),{loopBegin:r1,loopb:i1}=w("loopBegin","loopb"),{loopEnd:s1,loope:u1}=w("loopEnd","loope"),{crush:o1}=w("crush"),{coarse:a1}=w("coarse"),{drive:c1}=w("drive"),{channels:l1,ch:h1}=w("channels","ch"),{phaserrate:p1,phasr:m1}=w("phaserrate","phasr"),{phaser:d1,ph:f1}=w(["phaser","phaserdepth","phasercenter","phasersweep"],"ph"),{phasersweep:g1,phs:A1}=w("phasersweep","phs"),{phasercenter:C1,phc:y1}=w("phasercenter","phc"),{phaserdepth:M1,phd:b1,phasdp:P1}=w("phaserdepth","phd","phasdp"),{channel:D1}=w("channel"),{cut:v1}=w("cut"),{cutoff:E1,ctf:F1,lpf:B1,lp:w1}=w(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:I1,lpe:x1}=w("lpenv","lpe"),{hpenv:S1,hpe:_1}=w("hpenv","hpe"),{bpenv:k1,bpe:N1}=w("bpenv","bpe"),{lpattack:T1,lpa:R1}=w("lpattack","lpa"),{hpattack:V1,hpa:L1}=w("hpattack","hpa"),{bpattack:O1,bpa:j1}=w("bpattack","bpa"),{lpdecay:G1,lpd:z1}=w("lpdecay","lpd"),{hpdecay:W1,hpd:q1}=w("hpdecay","hpd"),{bpdecay:X1,bpd:Z1}=w("bpdecay","bpd"),{lpsustain:H1,lps:K1}=w("lpsustain","lps"),{hpsustain:Y1,hps:U1}=w("hpsustain","hps"),{bpsustain:$1,bps:J1}=w("bpsustain","bps"),{lprelease:Q1,lpr:th}=w("lprelease","lpr"),{hprelease:eh,hpr:nh}=w("hprelease","hpr"),{bprelease:rh,bpr:ih}=w("bprelease","bpr"),{ftype:sh}=w("ftype"),{fanchor:uh}=w("fanchor"),{vib:oh,vibrato:ah,v:ch}=w(["vib","vibmod"],"vibrato","v"),{noise:lh}=w("noise"),{vibmod:hh,vmod:ph}=w(["vibmod","vib"],"vmod"),{hcutoff:mh,hpf:dh,hp:fh}=w(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:gh,hpq:Ah}=w("hresonance","hpq"),{resonance:Ch,lpq:yh}=w("resonance","lpq"),{djf:Mh}=w("djf"),{delay:bh}=w(["delay","delaytime","delayfeedback"]),{delayfeedback:Ph,delayfb:Dh,dfb:vh}=w("delayfeedback","delayfb","dfb"),{delaytime:Eh,delayt:Fh,dt:Bh}=w("delaytime","delayt","dt"),{lock:wh}=w("lock"),{detune:Ih,det:xh}=w("detune","det"),{unison:Sh}=w("unison"),{spread:_h}=w("spread"),{dry:kh}=w("dry"),{fadeTime:Nh,fadeOutTime:Th}=w("fadeTime","fadeOutTime"),{fadeInTime:Rh}=w("fadeInTime"),{freq:Vh}=w("freq"),{pattack:Lh,patt:Oh}=w("pattack","patt"),{pdecay:jh,pdec:Gh}=w("pdecay","pdec"),{psustain:zh,psus:Wh}=w("psustain","psus"),{prelease:qh,prel:Xh}=w("prelease","prel"),{penv:Zh}=w("penv"),{pcurve:Hh}=w("pcurve"),{panchor:Kh}=w("panchor"),{gate:Yh,gat:Uh}=w("gate","gat"),{leslie:$h}=w("leslie"),{lrate:Jh}=w("lrate"),{lsize:Qh}=w("lsize"),{activeLabel:t0}=w("activeLabel"),{label:e0}=w(["label","activeLabel"]),{degree:n0}=w("degree"),{mtranspose:r0}=w("mtranspose"),{ctranspose:i0}=w("ctranspose"),{harmonic:s0}=w("harmonic"),{stepsPerOctave:u0}=w("stepsPerOctave"),{octaveR:o0}=w("octaveR"),{nudge:a0}=w("nudge"),{octave:c0}=w("octave"),{orbit:l0}=w("orbit"),{overgain:h0}=w("overgain"),{overshape:p0}=w("overshape"),{pan:m0}=w("pan"),{panspan:d0}=w("panspan"),{pansplay:f0}=w("pansplay"),{panwidth:g0}=w("panwidth"),{panorient:A0}=w("panorient"),{rate:C0}=w("rate"),{slide:y0}=w("slide"),{semitone:M0}=w("semitone"),{voice:b0}=w("voice"),{chord:P0}=w("chord"),{dictionary:D0,dict:v0}=w("dictionary","dict"),{anchor:E0}=w("anchor"),{offset:F0}=w("offset"),{octaves:B0}=w("octaves"),{mode:w0}=w(["mode","anchor"]),{room:I0}=w(["room","size"]),{roomlp:x0,rlp:S0}=w("roomlp","rlp"),{roomdim:_0,rdim:k0}=w("roomdim","rdim"),{roomfade:N0,rfade:T0}=w("roomfade","rfade"),{ir:R0,iresponse:V0}=w(["ir","i"],"iresponse"),{roomsize:L0,size:O0,sz:j0,rsize:G0}=w("roomsize","size","sz","rsize"),{shape:z0}=w(["shape","shapevol"]),{distort:W0,dist:q0}=w(["distort","distortvol"],"dist"),{compressor:X0}=w(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:Z0}=w("compressorKnee"),{compressorRatio:H0}=w("compressorRatio"),{compressorAttack:K0}=w("compressorAttack"),{compressorRelease:Y0}=w("compressorRelease"),{speed:U0}=w("speed"),{unit:$0}=w("unit"),{squiz:J0}=w("squiz"),{vowel:Q0}=w("vowel"),{waveloss:tp}=w("waveloss"),{density:eM}=w("density"),{expression:ep}=w("expression"),{sustainpedal:np}=w("sustainpedal"),{tremolodepth:rp,tremdp:ip}=w("tremolodepth","tremdp"),{tremolorate:sp,tremr:up}=w("tremolorate","tremr"),{fshift:op}=w("fshift"),{fshiftnote:ap}=w("fshiftnote"),{fshiftphase:cp}=w("fshiftphase"),{triode:lp}=w("triode"),{krush:hp}=w("krush"),{kcutoff:pp}=w("kcutoff"),{octer:mp}=w("octer"),{octersub:dp}=w("octersub"),{octersubsub:fp}=w("octersubsub"),{ring:gp}=w("ring"),{ringf:Ap}=w("ringf"),{ringdf:Cp}=w("ringdf"),{freeze:yp}=w("freeze"),{xsdelay:Mp}=w("xsdelay"),{tsdelay:bp}=w("tsdelay"),{real:Pp}=w("real"),{imag:Dp}=w("imag"),{enhance:vp}=w("enhance"),{partials:Ep}=w("partials"),{comb:Fp}=w("comb"),{smear:Bp}=w("smear"),{scram:wp}=w("scram"),{binshift:Ip}=w("binshift"),{hbrick:xp}=w("hbrick"),{lbrick:Sp}=w("lbrick"),{midichan:_p}=w("midichan"),{control:kp}=w("control"),{ccn:Np}=w("ccn"),{ccv:Tp}=w("ccv"),{polyTouch:Rp}=w("polyTouch"),{midibend:Vp}=w("midibend"),{miditouch:Lp}=w("miditouch"),{ctlNum:Op}=w("ctlNum"),{frameRate:jp}=w("frameRate"),{frames:Gp}=w("frames"),{hours:zp}=w("hours"),{midicmd:Wp}=w("midicmd"),{minutes:qp}=w("minutes"),{progNum:Xp}=w("progNum"),{seconds:Zp}=w("seconds"),{songPtr:Hp}=w("songPtr"),{uid:Kp}=w("uid"),{val:Yp}=w("val"),{cps:Up}=w("cps"),{clip:$p,legato:Jp}=w("clip","legato"),{duration:Qp,dur:tm}=w("duration","dur"),{zrand:em}=w("zrand"),{curve:nm}=w("curve"),{deltaSlide:rm}=w("deltaSlide"),{pitchJump:im}=w("pitchJump"),{pitchJumpTime:sm}=w("pitchJumpTime"),{lfo:um,repeatTime:om}=w("lfo","repeatTime"),{znoise:am}=w("znoise"),{zmod:cm}=w("zmod"),{zcrush:lm}=w("zcrush"),{zdelay:hm}=w("zdelay"),{tremolo:pm}=w("tremolo"),{zzfx:mm}=w("zzfx"),{color:dm,colour:fm}=w(["color","colour"]);let Xu=(...t)=>t.reduce((e,n)=>Object.assign(e,{[n]:$i(n)}),{});const gm=L("adsr",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,r,i,s]=t;return e.set({attack:n,decay:r,sustain:i,release:s})}),Am=L("ad",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,r=n]=t;return e.attack(n).decay(r)}),Cm=L("ds",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,r=0]=t;return e.set({decay:n,sustain:r})}),ym=L("ar",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,r=n]=t;return e.set({attack:n,release:r})}),nM=Object.freeze(Object.defineProperty({__proto__:null,accelerate:Dl,activeLabel:t0,ad:Am,adsr:gm,amp:Bl,analyze:jl,anchor:E0,ar:ym,att:Il,attack:wl,bandf:Yl,bandq:Jl,bank:Ol,begin:t1,binshift:Ip,bp:$l,bpa:j1,bpattack:O1,bpd:Z1,bpdecay:X1,bpe:N1,bpenv:k1,bpf:Ul,bpq:Ql,bpr:ih,bprelease:rh,bps:J1,bpsustain:$1,ccn:Np,ccv:Tp,ch:h1,channel:D1,channels:l1,chord:P0,clip:$p,coarse:a1,color:dm,colour:fm,comb:Fp,compressor:X0,compressorAttack:K0,compressorKnee:Z0,compressorRatio:H0,compressorRelease:Y0,control:kp,cps:Up,createParam:$i,createParams:Xu,crush:o1,ctf:F1,ctlNum:Op,ctranspose:i0,curve:nm,cut:v1,cutoff:E1,dec:Wl,decay:zl,degree:n0,delay:bh,delayfb:Dh,delayfeedback:Ph,delayt:Fh,delaytime:Eh,deltaSlide:rm,density:eM,det:xh,detune:Ih,dfb:vh,dict:v0,dictionary:D0,dist:q0,distort:W0,djf:Mh,drive:c1,dry:kh,ds:Cm,dt:Bh,dur:tm,duration:Qp,end:e1,enhance:vp,expression:ep,fadeInTime:Rh,fadeOutTime:Th,fadeTime:Nh,fanchor:uh,fft:Gl,fm:_l,fmattack:Nl,fmdecay:Tl,fmenv:kl,fmh:xl,fmi:Sl,fmrelease:Vl,fmsustain:Rl,fmvelocity:Ll,frameRate:jp,frames:Gp,freeze:yp,freq:Vh,fshift:op,fshiftnote:ap,fshiftphase:cp,ftype:sh,gain:El,gat:Uh,gate:Yh,harmonic:s0,hbrick:xp,hcutoff:mh,hold:Kl,hours:zp,hp:fh,hpa:L1,hpattack:V1,hpd:q1,hpdecay:W1,hpe:_1,hpenv:S1,hpf:dh,hpq:Ah,hpr:nh,hprelease:eh,hps:U1,hpsustain:Y1,hresonance:gh,imag:Dp,ir:R0,iresponse:V0,kcutoff:pp,krush:hp,label:e0,lbrick:Sp,legato:Jp,leslie:$h,lfo:um,lock:wh,loop:n1,loopBegin:r1,loopEnd:s1,loopb:i1,loope:u1,lp:w1,lpa:R1,lpattack:T1,lpd:z1,lpdecay:G1,lpe:x1,lpenv:I1,lpf:B1,lpq:yh,lpr:th,lprelease:Q1,lps:K1,lpsustain:H1,lrate:Jh,lsize:Qh,midibend:Vp,midichan:_p,midicmd:Wp,miditouch:Lp,minutes:qp,mode:w0,mtranspose:r0,n:bl,noise:lh,note:Pl,nudge:a0,octave:c0,octaveR:o0,octaves:B0,octer:mp,octersub:dp,octersubsub:fp,offset:F0,orbit:l0,overgain:h0,overshape:p0,pan:m0,panchor:Kh,panorient:A0,panspan:d0,pansplay:f0,panwidth:g0,partials:Ep,patt:Oh,pattack:Lh,pcurve:Hh,pdec:Gh,pdecay:jh,penv:Zh,ph:f1,phasdp:P1,phaser:d1,phasercenter:C1,phaserdepth:M1,phaserrate:p1,phasersweep:g1,phasr:m1,phc:y1,phd:b1,phs:A1,pitchJump:im,pitchJumpTime:sm,polyTouch:Rp,postgain:Fl,prel:Xh,prelease:qh,progNum:Xp,psus:Wh,psustain:zh,rate:C0,rdim:k0,real:Pp,registerControl:w,rel:Hl,release:Zl,repeatTime:om,resonance:Ch,rfade:T0,ring:gp,ringdf:Cp,ringf:Ap,rlp:S0,room:I0,roomdim:_0,roomfade:N0,roomlp:x0,roomsize:L0,rsize:G0,s:Al,scram:wp,seconds:Zp,semitone:M0,shape:z0,size:O0,slide:y0,smear:Bp,songPtr:Hp,sound:Cl,source:yl,speed:U0,spread:_h,squiz:J0,src:Ml,stepsPerOctave:u0,sus:Xl,sustain:ql,sustainpedal:np,sz:j0,tremdp:ip,tremolo:pm,tremolodepth:rp,tremolorate:sp,tremr:up,triode:lp,tsdelay:bp,uid:Kp,unison:Sh,unit:$0,v:ch,val:Yp,velocity:vl,vib:oh,vibmod:hh,vibrato:ah,vmod:ph,voice:b0,vowel:Q0,waveloss:tp,xsdelay:Mp,zcrush:lm,zdelay:hm,zmod:cm,znoise:am,zrand:em,zzfx:mm},Symbol.toStringTag,{value:"Module"})),rM=function(t,e){const[n,r]=t,[i,s]=e,[u,o]=Nu(r,i);return[[r,n-r],[Tu((c,h)=>c.concat(h),u,s),o]]},iM=function(t,e){const[n,r]=t,[i,s]=e,[u,o]=Nu(n,s);return[[n,r-n],[Tu((c,h)=>c.concat(h),i,u),o]]},Mm=function(t,e){const[n,r]=t;return Math.min(n,r)<=1?[t,e]:Mm(...n>r?rM(t,e):iM(t,e))},bm=function(t,e){const n=t<0;t=Math.abs(t);const r=e-t,i=Array(t).fill([1]),s=Array(r).fill([0]),u=Mm([t,r],[i,s]),o=pn(u[1][0]).concat(pn(u[1][1]));return n?o.map(c=>c===0?1:0):o},Zu=function(t,e,n){const r=bm(t,e);return n?Kc(r,-n):r},sM=L("euclid",function(t,e,n){return n.struct(Zu(t,e,0))}),{euclidrot:uM,euclidRot:oM}=L(["euclidrot","euclidRot"],function(t,e,n,r){return r.struct(Zu(t,e,n))}),Pm=function(t,e,n,r){if(t<1)return wt;const i=Zu(t,e,n).join("").split("1").slice(1).map(s=>[s.length+1,!0]);return r.struct(qu(...i))},aM=L(["euclidLegato"],function(t,e,n){return Pm(t,e,0,n)}),cM=L(["euclidLegatoRot"],function(t,e,n,r){return Pm(t,e,n,r)});function Dm(t,e,n=.05,r=.1,i=.1,s=globalThis.setInterval,u=globalThis.clearInterval,o=!0){let c=0,h=0,p=10**4,m=.01;const d=x=>n=x(n);i=i||r/2;const y=()=>{const x=t(),N=x+r+i;for(h===0&&(h=x+m);h<N;)h=o?Math.round(h*p)/p:h,e(h,n,c,x),h+=n,c++};let P;const D=()=>{B(),y(),P=s(y,r*1e3)},B=()=>{P!==void 0&&u(P),P=void 0};return{setDuration:d,start:D,stop:()=>{c=0,h=0,B()},pause:()=>B(),duration:n,interval:r,getPhase:()=>h,minLatency:m}}function lM(t){return new rt(e=>[new ee(void 0,e.span,t)])}const Xe=t=>{const e=n=>[new ee(void 0,n.span,t(n.span.midpoint()))];return new rt(e)},Hu=Xe(t=>1-t%1),vm=Hu.toBipolar(),Ji=Xe(t=>t%1),Em=Ji.toBipolar(),Ku=Xe(t=>Math.sin(Math.PI*2*t)),Fm=Ku.fromBipolar(),hM=Fm._early(U(1).div(4)),pM=Ku._early(U(1).div(4)),Bm=Xe(t=>Math.floor(t*2%2)),mM=Bm.toBipolar(),dM=_e(Hu,Ji),fM=_e(vm,Em),wm=Xe(or);let Yu=0,Uu=0;typeof window<"u"&&document.addEventListener("mousemove",t=>{Yu=t.clientY/document.body.clientHeight,Uu=t.clientX/document.body.clientWidth});const gM=Xe(()=>Yu),AM=Xe(()=>Yu),CM=Xe(()=>Uu),yM=Xe(()=>Uu),MM=t=>{const e=t<<13^t,n=e>>17^e;return n<<5^n},bM=t=>t-Math.trunc(t),PM=t=>MM(Math.trunc(bM(t/300)*536870912)),DM=t=>t%536870912/536870912,uu=t=>Math.abs(DM(PM(t))),vM=t=>Ji.range(0,t).floor().segment(t),pe=Xe(uu),EM=pe.toBipolar(),$u=t=>pe.fmap(e=>e<t),FM=t=>J(t).fmap($u).innerJoin(),BM=$u(.5),Im=t=>pe.fmap(e=>Math.trunc(e*t)),wM=t=>J(t).fmap(Im).innerJoin(),$e=function(t,e,n=!0){const r=Array.isArray(t),i=Object.keys(t).length;return t=el(t,J),i===0?wt:e.fmap(s=>{let u=s;return r&&(u=n?Math.round(u)%i:Ru(Math.round(u),0,t.length-1)),t[u]})},xm=function(t,e){return Array.isArray(e)&&([e,t]=[t,e]),IM(t,e)},IM=L("pick",function(t,e){return $e(t,e,!1).innerJoin()}),Sm=L("pickmod",function(t,e){return $e(t,e,!0).innerJoin()}),xM=L("pickF",function(t,e,n){return n.apply(xm(t,e))}),SM=L("pickmodF",function(t,e,n){return n.apply(Sm(t,e))}),_M=L("pickOut",function(t,e){return $e(t,e,!1).outerJoin()}),kM=L("pickmodOut",function(t,e){return $e(t,e,!0).outerJoin()}),NM=L("pickRestart",function(t,e){return $e(t,e,!1).restartJoin()}),TM=L("pickmodRestart",function(t,e){return $e(t,e,!0).restartJoin()}),RM=L("pickReset",function(t,e){return $e(t,e,!1).resetJoin()}),VM=L("pickmodReset",function(t,e){return $e(t,e,!0).resetJoin()}),{inhabit:LM,pickSqueeze:OM}=L(["inhabit","pickSqueeze"],function(t,e){return $e(t,e,!1).squeezeJoin()}),{inhabitmod:jM,pickmodSqueeze:GM}=L(["inhabitmod","pickmodSqueeze"],function(t,e){return $e(t,e,!0).squeezeJoin()}),zM=(t,e)=>(e=e.map(J),e.length==0?wt:t.fmap(n=>{const r=we(Math.round(n),e.length);return e[r]}).squeezeJoin()),Ju=(t,e)=>(e=e.map(J),e.length==0?wt:t.range(0,e.length).fmap(n=>{const r=Math.min(Math.max(Math.floor(n),0),e.length-1);return e[r]})),Qi=(t,e)=>Ju(t,e).outerJoin(),Qu=(t,e)=>Ju(t,e).innerJoin(),WM=(...t)=>Qi(pe,t);rt.prototype.choose=function(...t){return Qi(this,t)};rt.prototype.choose2=function(...t){return Qi(this.fromBipolar(),t)};const _m=(...t)=>Qu(pe.segment(1),t),qM=_m,km=function(t,...e){const n=e.map(o=>J(o[0])),r=[];let i=0;for(const o of e)i+=o[1],r.push(i);const s=i,u=function(o){const c=o*s;return n[r.findIndex(h=>h>c,r)]};return t.fmap(u)},XM=(...t)=>km(...t).outerJoin(),ZM=(...t)=>XM(pe,...t),Nm=(...t)=>km(pe.segment(1),...t).innerJoin(),HM=Nm,Tm=t=>{const e=t.fmap(Math.floor),n=t.fmap(s=>Math.floor(s)+1),r=s=>6*s**5-15*s**4+10*s**3,i=s=>u=>o=>u+r(s)*(o-u);return t.sub(e).fmap(i).appBoth(e.fmap(uu)).appBoth(n.fmap(uu))},KM=Tm(wm.fmap(t=>Number(t))),YM=L("degradeByWith",(t,e,n)=>n.fmap(r=>i=>r).appLeft(t.filterValues(r=>r>e))),UM=L("degradeBy",function(t,e){return e._degradeByWith(pe,t)}),$M=L("degrade",t=>t._degradeBy(.5)),JM=L("undegradeBy",function(t,e){return e._degradeByWith(pe.fmap(n=>1-n),t)}),QM=L("undegrade",t=>t._undegradeBy(.5)),tb=L("sometimesBy",function(t,e,n){return J(t).fmap(r=>jt(n._degradeBy(r),e(n._undegradeBy(1-r)))).innerJoin()}),eb=L("sometimes",function(t,e){return e._sometimesBy(.5,t)}),nb=L("someCyclesBy",function(t,e,n){return J(t).fmap(r=>jt(n._degradeByWith(pe._segment(1),r),e(n._degradeByWith(pe.fmap(i=>1-i)._segment(1),1-r)))).innerJoin()}),rb=L("someCycles",function(t,e){return e._someCyclesBy(.5,t)}),ib=L("often",function(t,e){return e.sometimesBy(.75,t)}),sb=L("rarely",function(t,e){return e.sometimesBy(.25,t)}),ub=L("almostNever",function(t,e){return e.sometimesBy(.1,t)}),ob=L("almostAlways",function(t,e){return e.sometimesBy(.9,t)}),ab=L("never",function(t,e){return e}),cb=L("always",function(t,e){return t(e)});let Ni;try{Ni=window?.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let ga=Ni?.getVoices();function lb(t,e,n){Ni.cancel();const r=new SpeechSynthesisUtterance(t);r.lang=e,ga=Ni.getVoices();const i=ga.filter(s=>s.lang.includes(e));typeof n=="number"?r.voice=i[n%i.length]:typeof n=="string"&&(r.voice=i.find(s=>s.name===s)),speechSynthesis.speak(r)}const hb=L("speak",function(t,e,n){return n.onTrigger((r,i)=>{lb(i.value,t,e)})}),Ti=async(...t)=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="fulfilled").map(r=>r.value);return e.forEach((r,i)=>{r.status==="rejected"&&console.warn(`evalScope: module with index ${i} could not be loaded:`,r.reason)}),n.forEach(r=>{Object.entries(r).forEach(([i,s])=>{globalThis[i]=s})}),n};function pb(t,e={}){const{wrapExpression:n=!0,wrapAsync:r=!0}=e;n&&(t=`{${t}}`),r&&(t=`(async ()=>${t})()`);const i=`"use strict";return (${t})`;return Function(i)()}const Rm=async(t,e)=>{let n={};if(e){const r=e(t);t=r.output,n=r}return{mode:"javascript",pattern:await pb(t,{wrapExpression:!!e}),meta:n}};function mb(t){return new SharedWorker("/assets/clockworker-OodvW4tn.js",{name:t?.name})}class db{constructor({onTrigger:e,onToggle:n,getTime:r}){this.started=!1,this.cps=.5,this.lastTick=0,this.getTime=r,this.time_at_last_tick_message=0,this.num_cycles_at_cps_change=0,this.onToggle=n,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker_time_dif,this.worker=new mb,this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");let i=0;const s=20,u=10**3,o=(p,m,d)=>{const y=r()-(p+m)+d;if(this.worker_time_dif==null)this.worker_time_dif=y;else{const P=Math.round((this.worker_time_dif*i+y*1)/(i+1)*u)/u;P!=this.worker_time_dif&&(i=4),this.worker_time_dif=P}i=Math.min(i+1,s)},c=p=>{const{num_cycles_at_cps_change:m,cps:d,num_seconds_at_cps_change:y,num_seconds_since_cps_change:P,begin:D,end:B,tickdeadline:x,cycle:N}=p;this.cps=d,this.cycle=N,o(y,P,x),h(D,B,m,y),this.time_at_last_tick_message=this.getTime()},h=(p,m,d,y)=>{this.started!==!1&&this.pattern.queryArc(p,m,{_cps:this.cps}).forEach(P=>{if(P.hasOnset()){const D=(P.whole.begin-d)/this.cps+y+this.latency+this.worker_time_dif,B=P.duration/this.cps;e?.(P,0,B,this.cps,D)}})};this.channel.onmessage=p=>{if(!this.started)return;const{payload:m,type:d}=p.data;switch(d){case"tick":c(m)}}}sendMessage(e,n){this.worker.port.postMessage({type:e,payload:n,id:this.id})}now(){const e=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+e}setCps(e=1){this.sendMessage("cpschange",{cps:e})}setCycle(e){this.sendMessage("setcycle",{cycle:e})}setStarted(e){this.sendMessage("toggle",{started:e}),this.started=e,this.onToggle?.(e)}start(){Xt("[cyclist] start"),this.setStarted(!0)}stop(){this.worker_time_dif=null,Xt("[cyclist] stop"),this.setStarted(!1)}setPattern(e,n=!1){this.pattern=e,n&&!this.started&&this.start()}log(e,n,r){const i=r.filter(s=>s.hasOnset());console.log(`${e.toFixed(4)} - ${n.toFixed(4)} ${Array(i.length).fill("I").join("")}`)}}class Vm{constructor({interval:e,onTrigger:n,onToggle:r,onError:i,getTime:s,latency:u=.1,setInterval:o,clearInterval:c}){this.started=!1,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=s,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=r,this.latency=u,this.clock=Dm(s,(h,p,m,d)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=h),this.num_ticks_since_cps_change++;const y=this.num_ticks_since_cps_change*p*this.cps;try{const P=this.lastEnd;this.lastBegin=P;const D=this.num_cycles_at_cps_change+y;if(this.lastEnd=D,this.lastTick=h,h<d){console.log("skip query: too late");return}this.pattern.queryArc(P,D,{_cps:this.cps}).forEach(B=>{if(B.hasOnset()){const x=(B.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+u,N=B.duration/this.cps,q=x-h;n?.(B,q,N,this.cps,x)}})}catch(P){Xt(`[cyclist] error: ${P.message}`),i?.(P)}},e,.1,.1,o,c)}now(){if(!this.started)return 0;const e=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+e*this.cps}setStarted(e){this.started=e,this.onToggle?.(e)}start(){if(this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");Xt("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){Xt("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){Xt("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}setPattern(e,n=!1){this.pattern=e,n&&!this.started&&this.start()}setCps(e=.5){this.cps!==e&&(this.cps=e,this.num_ticks_since_cps_change=0)}log(e,n,r){const i=r.filter(s=>s.hasOnset());console.log(`${e.toFixed(4)} - ${n.toFixed(4)} ${Array(i.length).fill("I").join("")}`)}}let ou;function au(){if(!ou)throw new Error("no time set! use setTime to define a time source");return ou()}function to(t){ou=t}function fb({defaultOutput:t,onEvalError:e,beforeEval:n,afterEval:r,getTime:i,transpiler:s,onToggle:u,editPattern:o,onUpdateState:c,sync:h=!1,setInterval:p,clearInterval:m}){const d={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},y=z=>{Object.assign(d,z),d.isDirty=d.code!==d.activeCode,d.error=d.evalError||d.schedulerError,c?.(d)},P={onTrigger:Lm({defaultOutput:t,getTime:i}),getTime:i,onToggle:z=>{y({started:z}),u?.(z)},setInterval:p,clearInterval:m},D=h&&typeof SharedWorker<"u"?new db(P):new Vm(P);let B={},x=0,N;const q=function(){return B={},x=0,N=void 0,wt},I=(z,Z=!0)=>{z=o?.(z)||z,D.setPattern(z,Z)};to(()=>D.now());const F=()=>D.stop(),_=()=>D.start(),S=()=>D.pause(),V=()=>D.toggle(),W=z=>D.setCps(z),O=z=>D.setCps(z/60),K=function(z){return N=z,wt},G=()=>{rt.prototype.p=function(Z){return Z.startsWith("_")||Z.endsWith("_")?wt:(Z==="$"&&(Z=`$${x}`,x++),B[Z]=this,this)},rt.prototype.q=function(Z){return wt};try{for(let Z=1;Z<10;++Z)Object.defineProperty(rt.prototype,`d${Z}`,{get(){return this.p(Z)},configurable:!0}),Object.defineProperty(rt.prototype,`p${Z}`,{get(){return this.p(Z)},configurable:!0}),rt.prototype[`q${Z}`]=wt}catch(Z){console.warn("injectPatternMethods: error:",Z)}const z=L("cpm",function(Z,pt){return pt._fast(Z/60/D.cps)});return Ti({all:K,hush:q,cpm:z,setCps:W,setcps:W,setCpm:O,setcpm:O})};return{scheduler:D,evaluate:async(z,Z=!0,pt=!0)=>{if(!z)throw new Error("no code to evaluate");try{y({code:z,pending:!0}),await G(),await n?.({code:z}),pt&&q();let{pattern:nt,meta:lt}=await Rm(z,s);if(Object.keys(B).length&&(nt=jt(...Object.values(B))),N&&(nt=N(nt)),!Vu(nt)){const ot=`got "${typeof evaluated}" instead of pattern`;throw new Error(ot+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return Xt("[eval] code updated"),I(nt,Z),y({miniLocations:lt?.miniLocations||[],widgets:lt?.widgets||[],activeCode:z,pattern:nt,evalError:void 0,schedulerError:void 0,pending:!1}),r?.({code:z,pattern:nt,meta:lt}),nt}catch(nt){Xt(`[eval] error: ${nt.message}`,"error"),console.error(nt),y({evalError:nt,pending:!1}),e?.(nt)}},start:_,stop:F,pause:S,setCps:W,setPattern:I,setCode:z=>y({code:z}),toggle:V,state:d}}const Lm=({getTime:t,defaultOutput:e})=>async(n,r,i,s,u)=>{try{(!n.context.onTrigger||!n.context.dominantTrigger)&&await e(n,r,i,s,u),n.context.onTrigger&&await n.context.onTrigger(t()+r,n,t(),s,u)}catch(o){Xt(`[cyclist] error: ${o.message}`,"error")}},gb=function(t,e={}){const n=document.getElementById("code"),r="background-image:url("+t+");background-size:contain;";n.style=r;const{className:i}=n,s=(o,c)=>{({style:()=>n.style=r+";"+c,className:()=>n.className=c+" "+i})[o]()},u=Object.entries(e).filter(([o,c])=>typeof c=="function");Object.entries(e).filter(([o,c])=>typeof c=="string").forEach(([o,c])=>s(o,c)),u.length},Ab=()=>{const t=document.getElementById("code");t&&(t.style="")};Xt("🌀 @strudel/core loaded 🌀");globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed.
Please check with "npm ls @strudel/core".`);globalThis._strudelLoaded=!0;const Om=Object.freeze(Object.defineProperty({__proto__:null,Cyclist:Vm,Fraction:U,Hap:ee,Pattern:rt,State:tu,TimeSpan:je,__chooseWith:Ju,_brandBy:$u,_fitslice:hl,_irand:Im,_match:pl,_mod:we,_polymeterListSteps:zu,_retime:iu,_slices:su,accelerate:Dl,activeLabel:t0,ad:Am,add:Q2,adsr:gm,almostAlways:ob,almostNever:ub,always:cb,amp:Bl,analyze:jl,anchor:E0,and:C3,apply:K3,ar:ym,arrange:Z2,att:Il,attack:wl,backgroundImage:gb,band:s3,bandf:Yl,bandq:Jl,bank:Ol,base64ToUnicode:tl,begin:t1,binshift:Ip,bjork:bm,blshift:a3,bor:u3,bp:$l,bpa:j1,bpattack:O1,bpd:Z1,bpdecay:X1,bpe:N1,bpenv:k1,bpf:Ul,bpq:Ql,bpr:ih,bprelease:rh,bps:J1,bpsustain:$1,brak:ay,brand:BM,brandBy:FM,brshift:c3,bxor:o3,bypass:_y,calculateTactus:L2,cat:ol,ccn:Np,ccv:Tp,ceil:D3,ch:h1,channel:D1,channels:l1,choose:WM,chooseCycles:_m,chooseInWith:Qu,chooseWith:Qi,chop:Zy,chord:P0,chunk:Ey,chunkBack:wy,chunkback:Iy,clamp:Ru,cleanupUi:Ab,clip:$p,coarse:a1,code2hash:N2,color:dm,colour:fm,comb:Fp,compose:P2,compress:x3,compressSpan:S3,compressor:X0,compressorAttack:K0,compressorKnee:Z0,compressorRatio:H0,compressorRelease:Y0,compressspan:_3,constant:D2,control:kp,controls:nM,cosine:hM,cosine2:pM,cpm:Y3,cps:Up,createClock:Dm,createParam:$i,createParams:Xu,crush:o1,ctf:F1,ctlNum:Op,ctranspose:i0,curry:Pt,curve:nm,cut:v1,cutoff:E1,dec:Wl,decay:zl,degrade:$M,degradeBy:UM,degradeByWith:YM,degree:n0,delay:bh,delayfb:Dh,delayfeedback:Ph,delayt:Fh,delaytime:Eh,deltaSlide:rm,det:xh,detune:Ih,dfb:vh,dict:v0,dictionary:D0,dist:q0,distort:W0,div:n3,djf:Mh,drawLine:nl,drive:c1,dry:kh,ds:Cm,dt:Bh,dur:tm,duration:Qp,early:U3,echo:yy,echoWith:fy,echowith:gy,end:e1,enhance:vp,eq:d3,eqt:f3,euclid:sM,euclidLegato:aM,euclidLegatoRot:cM,euclidRot:oM,euclidrot:uM,evalScope:Ti,evaluate:Rm,every:H3,expression:ep,fadeInTime:Rh,fadeOutTime:Th,fadeTime:Nh,fanchor:uh,fast:O3,fastChunk:Sy,fastGap:k3,fastcat:_e,fastchunk:xy,fastgap:N3,fft:Gl,firstOf:Z3,fit:$y,flatten:pn,floor:P3,fm:_l,fmattack:Nl,fmdecay:Tl,fmenv:kl,fmh:xl,fmi:Sl,fmrelease:Vl,fmsustain:Rl,fmvelocity:Ll,focus:T3,focusSpan:R3,focusspan:V3,fractionalArgs:v2,frameRate:jp,frames:Gp,freeze:yp,freq:Vh,freqToMidi:xu,fromBipolar:E3,fshift:op,fshiftnote:ap,fshiftphase:cp,ftype:sh,func:M3,gain:El,gap:Mr,gat:Uh,gate:Yh,getEventOffsetMs:A2,getFreq:Xc,getFrequency:Hc,getPlayableNoteValue:b2,getSoundIndex:M2,getTime:au,getTrigger:Lm,gt:h3,gte:m3,harmonic:s0,hash2code:T2,hbrick:xp,hcutoff:mh,hold:Kl,hours:zp,hp:fh,hpa:L1,hpattack:V1,hpd:q1,hpdecay:W1,hpe:_1,hpenv:S1,hpf:dh,hpq:Ah,hpr:nh,hprelease:eh,hps:U1,hpsustain:Y1,hresonance:gh,hsl:Ty,hsla:Ny,hurry:j3,id:or,imag:Dp,inhabit:LM,inhabitmod:jM,inside:W3,inv:sy,invert:iy,ir:R0,irand:wM,iresponse:V0,isNote:Un,isNoteWithOctave:m2,isPattern:Vu,isaw:Hu,isaw2:vm,iter:by,iterBack:Py,iterback:Dy,jux:dy,juxBy:py,juxby:my,kcutoff:pp,keep:$2,keepif:J2,krush:hp,label:e0,lastOf:X3,late:cl,lbrick:Sp,legato:Jp,leslie:$h,lfo:um,linger:ty,listRange:Su,lock:wh,logKey:Iu,logger:Xt,loop:n1,loopAt:Yy,loopAtCps:Jy,loopBegin:r1,loopEnd:s1,loopat:Uy,loopatcps:Qy,loopb:i1,loope:u1,lp:w1,lpa:R1,lpattack:T1,lpd:z1,lpdecay:G1,lpe:x1,lpenv:I1,lpf:B1,lpq:yh,lpr:th,lprelease:Q1,lps:K1,lpsustain:H1,lrate:Jh,lsize:Qh,lt:l3,lte:p3,mapArgs:ku,mask:H2,midi2note:y2,midiToFreq:mr,midibend:Vp,midichan:_p,midicmd:Wp,miditouch:Lp,minutes:qp,mod:r3,mode:w0,mouseX:yM,mouseY:AM,mousex:CM,mousey:gM,mtranspose:r0,mul:e3,n:bl,nanFallback:Zc,ne:g3,net:A3,never:ab,noise:lh,note:Pl,noteToMidi:Rn,nothing:Ye,nudge:a0,numeralArgs:ve,objectMap:el,octave:c0,octaveR:o0,octaves:B0,octer:mp,octersub:dp,octersubsub:fp,off:oy,offset:F0,often:ib,or:y3,orbit:l0,outside:q3,overgain:h0,overshape:p0,pairs:$c,palindrome:hy,pan:m0,panchor:Kh,panorient:A0,panspan:d0,pansplay:f0,panwidth:g0,parseFractional:Uc,parseNumeral:_u,partials:Ep,patt:Oh,pattack:Lh,pcurve:Hh,pdec:Gh,pdecay:jh,penv:Zh,perlin:KM,perlinWith:Tm,ph:f1,phasdp:P1,phaser:d1,phasercenter:C1,phaserdepth:M1,phaserrate:p1,phasersweep:g1,phasr:m1,phc:y1,phd:b1,phs:A1,pick:xm,pickF:xM,pickOut:_M,pickReset:RM,pickRestart:NM,pickSqueeze:OM,pickmod:Sm,pickmodF:SM,pickmodOut:kM,pickmodReset:VM,pickmodRestart:TM,pickmodSqueeze:GM,pipe:Yc,pitchJump:im,pitchJumpTime:sm,ply:L3,pm:q2,polyTouch:Rp,polyrhythm:z2,postgain:Fl,pow:i3,pr:W2,prel:Xh,prelease:qh,press:ly,pressBy:cy,progNum:Xp,psus:Wh,psustain:zh,pure:ie,rand:pe,rand2:EM,randcat:qM,range:F3,range2:w3,rangex:B3,rarely:sb,rate:C0,ratio:I3,rdim:k0,real:Pp,ref:tM,register:L,registerControl:w,reify:J,rel:Hl,release:Zl,removeUndefineds:yr,repeatCycles:vy,repeatTime:om,repl:fb,resonance:Ch,rev:ll,rfade:T0,ribbon:ky,ring:gp,ringdf:Cp,ringf:Ap,rlp:S0,room:I0,roomdim:_0,roomfade:N0,roomlp:x0,roomsize:L0,rotate:Kc,round:b3,rsize:G0,run:vM,s:Al,s_add:Oy,s_alt:Ly,s_cat:xe,s_contract:zy,s_expand:Gy,s_polymeter:Wu,s_polymeterSteps:ml,s_sub:jy,s_taper:qy,s_taperlist:Wy,s_tour:Xy,saw:Ji,saw2:Em,scram:wp,seconds:Zp,segment:ey,semitone:M0,seq:al,sequence:Ie,set:U2,setStringParser:rl,setTime:to,shape:z0,signal:Xe,silence:wt,sine:Fm,sine2:Ku,size:O0,slice:fl,slide:y0,slow:G3,slowChunk:By,slowcat:$n,slowcatPrime:Ou,slowchunk:Fy,smear:Bp,sol2note:S2,someCycles:rb,someCyclesBy:nb,sometimes:eb,sometimesBy:tb,songPtr:Hp,sound:Cl,source:yl,sparsity:z3,speak:hb,speed:U0,splice:Ky,splitAt:Nu,spread:_h,square:Bm,square2:mM,squeeze:zM,squiz:J0,src:Ml,stack:jt,stackBy:X2,stackCentre:ul,stackLeft:il,stackRight:sl,steady:lM,steps:Ry,stepsPerOctave:u0,striate:Hy,struct:K2,stut:My,stutWith:Ay,stutwith:Cy,sub:t3,superimpose:Y2,sus:Xl,sustain:ql,sustainpedal:np,swing:ry,swingBy:ny,sz:j0,time:wm,timeCat:qu,timecat:Vy,toBipolar:v3,tokenizeNote:qc,tremdp:ip,tremolo:pm,tremolodepth:rp,tremolorate:sp,tremr:up,tri:dM,tri2:fM,triode:lp,tsdelay:bp,uid:Kp,undegrade:QM,undegradeBy:JM,unicodeToBase64:Qc,uniq:_2,uniqsort:k2,uniqsortr:Jc,unison:Sh,unit:$0,v:ch,val:Yp,valueToMidi:g2,velocity:vl,vib:oh,vibmod:hh,vibrato:ah,vmod:ph,voice:b0,vowel:Q0,waveloss:tp,wchoose:ZM,wchooseCycles:Nm,when:uy,wrandcat:HM,xfade:gl,xsdelay:Mp,zcrush:lm,zdelay:hm,zipWith:Tu,zmod:cm,znoise:am,zoom:$3,zoomArc:J3,zoomarc:Q3,zrand:em,zzfx:mm},Symbol.toStringTag,{value:"Module"}));let re=[],Cb=(t,e)=>{let n=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},l:0,lc:0,listen(i,s){return r.lc=n.push(i,s||r.l)/2,()=>{let u=n.indexOf(i);~u&&(n.splice(u,2),--r.lc||r.off())}},notify(i){let s=!re.length;for(let u=0;u<n.length;u+=2)re.push(n[u],n[u+1],r.value,i);if(s){for(let u=0;u<re.length;u+=4){let o;for(let c=u+1;!o&&(c+=4)<re.length;)re[c]<re[u+1]&&(o=re.push(re[u],re[u+1],re[u+2],re[u+3]));o||re[u](re[u+2],re[u+3])}re.length=0}},off(){},set(i){r.value!==i&&(r.value=i,r.notify())},subscribe(i,s){let u=r.listen(i,s);return i(r.value),u},value:t};return r},yb=(t={})=>{let e=Cb(t);return e.setKey=function(n,r){typeof r>"u"?n in e.value&&(e.value={...e.value},delete e.value[n],e.notify(n)):e.value[n]!==r&&(e.value={...e.value,[n]:r},e.notify(n))},e};if(typeof DelayNode<"u"){class t extends DelayNode{constructor(n,r,i,s){super(n),r=Math.abs(r),this.delayTime.value=i;const u=n.createGain();u.gain.value=Math.min(Math.abs(s),.995),this.feedback=u.gain;const o=n.createGain();return o.gain.value=r,this.delayGain=o,this.connect(u),this.connect(o),u.connect(this),this.connect=c=>o.connect(c),this}start(n){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,n+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(e,n,r){return new t(this,e,n,r)}}var eo={};eo.generateReverb=function(t,e){for(var n=t.audioContext||new AudioContext,r=n.sampleRate,i=t.numChannels||2,s=t.decayTime*1.5,u=Math.round(t.decayTime*r),o=Math.round(s*r),c=Math.round((t.fadeInTime||0)*r),h=Math.pow(1/1e3,1/u),p=n.createBuffer(i,o,r),m=0;m<i;m++){for(var d=p.getChannelData(m),y=0;y<o;y++)d[y]=Pb()*Math.pow(h,y);for(var y=0;y<c;y++)d[y]*=y/c}Mb(p,t.lpFreqStart||0,t.lpFreqEnd||0,t.decayTime,e)};eo.generateGraph=function(t,e,n,r,i){var s=document.createElement("canvas");s.width=e,s.height=n;var u=s.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,s.width,s.height),u.fillStyle="#fff";for(var o=e/t.length,c=n/(i-r),h=0;h<t.length;h++)u.fillRect(h*o,n-(t[h]-r)*c,1,1);return s};var Mb=function(t,e,n,r,i){if(e==0){i(t);return}var s=bb(t),u=new OfflineAudioContext(t.numberOfChannels,s[0].length,t.sampleRate),o=u.createBufferSource();o.buffer=t;var c=u.createBiquadFilter();e=Math.min(e,t.sampleRate/2),n=Math.min(n,t.sampleRate/2),c.type="lowpass",c.Q.value=1e-4,c.frequency.setValueAtTime(e,0),c.frequency.linearRampToValueAtTime(n,r),o.connect(c),c.connect(u.destination),o.start(),u.oncomplete=function(h){i(h.renderedBuffer)},u.startRendering(),window.filterNode=c},bb=function(t){for(var e=[],n=0;n<t.numberOfChannels;n++)e[n]=t.getChannelData(n);return e},Pb=function(){return Math.random()*2-1};typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(t,e){const n=e.sampleRate*t,r=this.createBuffer(e.numberOfChannels,e.length,e.sampleRate);for(let i=0;i<e.numberOfChannels;i++){let s=e.getChannelData(i),u=r.getChannelData(i);for(let o=0;o<n;o++)u[o]=s[o]||0}return r},AudioContext.prototype.createReverb=function(t,e,n,r,i){const s=this.createConvolver();return s.generate=(u=2,o=.1,c=15e3,h=1e3,p)=>{s.duration=u,s.fade=o,s.lp=c,s.dim=h,s.ir=p,p?s.buffer=this.adjustLength(u,p):eo.generateReverb({audioContext:this,numChannels:2,decayTime:u,fadeInTime:o,lpFreqStart:c,lpFreqEnd:h},m=>{s.buffer=m})},s.generate(t,e,n,r,i),s});var Aa={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class t extends GainNode{constructor(n,r){if(super(n),!Aa[r])throw new Error("vowel: unknown vowel "+r);const{gains:i,qs:s,freqs:u}=Aa[r],o=n.createGain();for(let c=0;c<5;c++){const h=n.createGain();h.gain.value=i[c];const p=n.createBiquadFilter();p.type="bandpass",p.Q.value=s[c],p.frequency.value=u[c],this.connect(p),p.connect(h),h.connect(o)}return o.gain.value=8,this.connect=c=>o.connect(c),this}}AudioContext.prototype.createVowelFilter=function(e){return new t(this,e)}}let jm=t=>console.log(t);const ze=(...t)=>jm(...t),Gm=t=>{jm=t},Db=t=>{if(typeof t!="string")return[];const[e,n="",r]=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return e?[e,n,r?Number(r):void 0]:[]},vb={c:0,d:2,e:4,f:5,g:7,a:9,b:11},Eb={"#":1,b:-1,s:1,f:-1},ts=(t,e=3)=>{const[n,r,i=e]=Db(t);if(!n)throw new Error('not a note: "'+t+'"');const s=vb[n.toLowerCase()],u=r?.split("").reduce((o,c)=>o+Eb[c],0)||0;return(Number(i)+1)*12+s+u},zm=t=>Math.pow(2,(t-69)/12)*440,dr=(t,e,n)=>Math.min(Math.max(t,e),n),Fb=t=>12*Math.log(t/440)/Math.LN2+69,Bb=(t,e)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:r}=t;return typeof n=="number"?Fb(n):typeof r=="string"?ts(r):typeof r=="number"?r:e};function mn(t,e=0,n){return isNaN(Number(t))?(!n&&ze(`"${t}" is not a number, falling back to ${e}`,"warning"),e):t}const Wm=(t,e)=>(t%e+e)%e,Ca=(t,e)=>Wm(Math.round(mn(t,0)),e),wb="data:application/javascript;base64,Ly8gY29hcnNlLCBjcnVzaCwgYW5kIHNoYXBlIHByb2Nlc3NvcnMgYWRhcHRlZCBmcm9tIGRrdHIwJ3Mgd2ViZGlydDogaHR0cHM6Ly9naXRodWIuY29tL2RrdHIwL1dlYkRpcnQvYmxvYi81Y2UzZDY5ODM2MmM1NGQ2ZTFiNjhhY2M0N2ViMjk1NWFjNjJjNzkzL2Rpc3QvQXVkaW9Xb3JrbGV0cy5qcwovLyBMSUNFTlNFIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ka3RyMC9XZWJEaXJ0L2Jsb2IvbWFpbi9MSUNFTlNFCi8vIFRPRklYOiBUSElTIEZJTEUgRE9FUyBOT1QgU1VQUE9SVCBJTVBPUlRTIE9OIERFUE9MWU1FTlQKY29uc3QgY2xhbXAgPSAobnVtLCBtaW4sIG1heCkgPT4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpOwpjb25zdCBfbW9kID0gKG4sIG0pID0+ICgobiAlIG0pICsgbSkgJSBtOwoKY29uc3QgYmxvY2tTaXplID0gMTI4OwovLyBhZGp1c3Qgd2F2ZXNoYXBlIHRvIHJlbW92ZSBmcmVxdWVuY2llcyBhYm92ZSBueXF1aXN0IHRvIHByZXZlbnQgYWxpYXNpbmcKLy8gcmVmZXJlbmNlZCBmcm9tIGh0dHBzOi8vd3d3Lmt2cmF1ZGlvLmNvbS9mb3J1bS92aWV3dG9waWMucGhwP3Q9Mzc1NTE3CmZ1bmN0aW9uIHBvbHlCbGVwKHBoYXNlLCBkdCkgewogIC8vIDAgPD0gcGhhc2UgPCAxCiAgaWYgKHBoYXNlIDwgZHQpIHsKICAgIHBoYXNlIC89IGR0OwogICAgLy8gMiAqIChwaGFzZSAtIHBoYXNlXjIvMiAtIDAuNSkKICAgIHJldHVybiBwaGFzZSArIHBoYXNlIC0gcGhhc2UgKiBwaGFzZSAtIDE7CiAgfQoKICAvLyAtMSA8IHBoYXNlIDwgMAogIGVsc2UgaWYgKHBoYXNlID4gMSAtIGR0KSB7CiAgICBwaGFzZSA9IChwaGFzZSAtIDEpIC8gZHQ7CiAgICAvLyAyICogKHBoYXNlXjIvMiArIHBoYXNlICsgMC41KQogICAgcmV0dXJuIHBoYXNlICogcGhhc2UgKyBwaGFzZSArIHBoYXNlICsgMTsKICB9CgogIC8vIDAgb3RoZXJ3aXNlCiAgZWxzZSB7CiAgICByZXR1cm4gMDsKICB9Cn0KCmNvbnN0IHdhdmVzaGFwZXMgPSB7CiAgdHJpKHBoYXNlLCBza2V3ID0gMC41KSB7CiAgICBjb25zdCB4ID0gMSAtIHNrZXc7CiAgICBpZiAocGhhc2UgPj0gc2tldykgewogICAgICByZXR1cm4gMSAvIHggLSBwaGFzZSAvIHg7CiAgICB9CiAgICByZXR1cm4gcGhhc2UgLyBza2V3OwogIH0sCiAgc2luZShwaGFzZSkgewogICAgcmV0dXJuIE1hdGguc2luKE1hdGguUEkgKiAyICogcGhhc2UpICogMC41ICsgMC41OwogIH0sCiAgcmFtcChwaGFzZSkgewogICAgcmV0dXJuIHBoYXNlOwogIH0sCiAgc2F3KHBoYXNlKSB7CiAgICByZXR1cm4gMSAtIHBoYXNlOwogIH0sCgogIHNxdWFyZShwaGFzZSwgc2tldyA9IDAuNSkgewogICAgaWYgKHBoYXNlID49IHNrZXcpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICByZXR1cm4gMTsKICB9LAogIGN1c3RvbShwaGFzZSwgdmFsdWVzID0gWzAsIDFdKSB7CiAgICBjb25zdCBudW1QYXJ0cyA9IHZhbHVlcy5sZW5ndGggLSAxOwogICAgY29uc3QgY3VyclBhcnQgPSBNYXRoLmZsb29yKHBoYXNlICogbnVtUGFydHMpOwoKICAgIGNvbnN0IHBhcnRMZW5ndGggPSAxIC8gbnVtUGFydHM7CiAgICBjb25zdCBzdGFydFZhbCA9IGNsYW1wKHZhbHVlc1tjdXJyUGFydF0sIDAsIDEpOwogICAgY29uc3QgZW5kVmFsID0gY2xhbXAodmFsdWVzW2N1cnJQYXJ0ICsgMV0sIDAsIDEpOwogICAgY29uc3QgeTIgPSBlbmRWYWw7CiAgICBjb25zdCB5MSA9IHN0YXJ0VmFsOwogICAgY29uc3QgeDEgPSAwOwogICAgY29uc3QgeDIgPSBwYXJ0TGVuZ3RoOwogICAgY29uc3Qgc2xvcGUgPSAoeTIgLSB5MSkgLyAoeDIgLSB4MSk7CiAgICByZXR1cm4gc2xvcGUgKiAocGhhc2UgLSBwYXJ0TGVuZ3RoICogY3VyclBhcnQpICsgc3RhcnRWYWw7CiAgfSwKICBzYXdibGVwKHBoYXNlLCBkdCkgewogICAgY29uc3QgdiA9IDIgKiBwaGFzZSAtIDE7CiAgICByZXR1cm4gdiAtIHBvbHlCbGVwKHBoYXNlLCBkdCk7CiAgfSwKfTsKCmNvbnN0IHdhdmVTaGFwZU5hbWVzID0gT2JqZWN0LmtleXMod2F2ZXNoYXBlcyk7CmNsYXNzIExGT1Byb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsgbmFtZTogJ3RpbWUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAnZW5kJywgZGVmYXVsdFZhbHVlOiAwIH0sCiAgICAgIHsgbmFtZTogJ2ZyZXF1ZW5jeScsIGRlZmF1bHRWYWx1ZTogMC41IH0sCiAgICAgIHsgbmFtZTogJ3NrZXcnLCBkZWZhdWx0VmFsdWU6IDAuNSB9LAogICAgICB7IG5hbWU6ICdkZXB0aCcsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdwaGFzZW9mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdzaGFwZScsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdkY29mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2U7CiAgfQoKICBpbmNyZW1lbnRQaGFzZShkdCkgewogICAgdGhpcy5waGFzZSArPSBkdDsKICAgIGlmICh0aGlzLnBoYXNlID4gMS4wKSB7CiAgICAgIHRoaXMucGhhc2UgPSB0aGlzLnBoYXNlIC0gMTsKICAgIH0KICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbWV0ZXJzLmVuZFswXSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKICAgIGNvbnN0IGZyZXF1ZW5jeSA9IHBhcmFtZXRlcnNbJ2ZyZXF1ZW5jeSddWzBdOwoKICAgIGNvbnN0IHRpbWUgPSBwYXJhbWV0ZXJzWyd0aW1lJ11bMF07CiAgICBjb25zdCBkZXB0aCA9IHBhcmFtZXRlcnNbJ2RlcHRoJ11bMF07CiAgICBjb25zdCBza2V3ID0gcGFyYW1ldGVyc1snc2tldyddWzBdOwogICAgY29uc3QgcGhhc2VvZmZzZXQgPSBwYXJhbWV0ZXJzWydwaGFzZW9mZnNldCddWzBdOwoKICAgIGNvbnN0IGRjb2Zmc2V0ID0gcGFyYW1ldGVyc1snZGNvZmZzZXQnXVswXTsKICAgIGNvbnN0IHNoYXBlID0gd2F2ZVNoYXBlTmFtZXNbcGFyYW1ldGVyc1snc2hhcGUnXVswXV07CgogICAgY29uc3QgYmxvY2tTaXplID0gb3V0cHV0WzBdLmxlbmd0aCA/PyAwOwoKICAgIGlmICh0aGlzLnBoYXNlID09IG51bGwpIHsKICAgICAgdGhpcy5waGFzZSA9IF9tb2QodGltZSAqIGZyZXF1ZW5jeSArIHBoYXNlb2Zmc2V0LCAxKTsKICAgIH0KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgY29uc3QgZHQgPSBmcmVxdWVuY3kgLyBzYW1wbGVSYXRlOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG1vZHZhbCA9ICh3YXZlc2hhcGVzW3NoYXBlXSh0aGlzLnBoYXNlLCBza2V3KSArIGRjb2Zmc2V0KSAqIGRlcHRoOwogICAgICAgIG91dHB1dFtpXVtuXSA9IG1vZHZhbDsKICAgICAgfQogICAgICB0aGlzLmluY3JlbWVudFBoYXNlKGR0KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2xmby1wcm9jZXNzb3InLCBMRk9Qcm9jZXNzb3IpOwoKY2xhc3MgQ29hcnNlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjb2Fyc2UnLCBkZWZhdWx0VmFsdWU6IDEgfV07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IGNvYXJzZSA9IHBhcmFtZXRlcnMuY29hcnNlWzBdID8/IDA7CiAgICBjb2Fyc2UgPSBNYXRoLm1heCgxLCBjb2Fyc2UpOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gbiAlIGNvYXJzZSA9PT0gMCA/IGlucHV0W2ldW25dIDogb3V0cHV0W2ldW24gLSAxXTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQp9CnJlZ2lzdGVyUHJvY2Vzc29yKCdjb2Fyc2UtcHJvY2Vzc29yJywgQ29hcnNlUHJvY2Vzc29yKTsKCmNsYXNzIENydXNoUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjcnVzaCcsIGRlZmF1bHRWYWx1ZTogMCB9XTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBsZXQgY3J1c2ggPSBwYXJhbWV0ZXJzLmNydXNoWzBdID8/IDg7CiAgICBjcnVzaCA9IE1hdGgubWF4KDEsIGNydXNoKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB4ID0gTWF0aC5wb3coMiwgY3J1c2ggLSAxKTsKICAgICAgICBvdXRwdXRbaV1bbl0gPSBNYXRoLnJvdW5kKGlucHV0W2ldW25dICogeCkgLyB4OwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2NydXNoLXByb2Nlc3NvcicsIENydXNoUHJvY2Vzc29yKTsKCmNsYXNzIFNoYXBlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnc2hhcGUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAncG9zdGdhaW4nLCBkZWZhdWx0VmFsdWU6IDEgfSwKICAgIF07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IHNoYXBlID0gcGFyYW1ldGVycy5zaGFwZVswXTsKICAgIHNoYXBlID0gc2hhcGUgPCAxID8gc2hhcGUgOiAxLjAgLSA0ZS0xMDsKICAgIHNoYXBlID0gKDIuMCAqIHNoYXBlKSAvICgxLjAgLSBzaGFwZSk7CiAgICBjb25zdCBwb3N0Z2FpbiA9IE1hdGgubWF4KDAuMDAxLCBNYXRoLm1pbigxLCBwYXJhbWV0ZXJzLnBvc3RnYWluWzBdKSk7CgogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gKCgoMSArIHNoYXBlKSAqIGlucHV0W2ldW25dKSAvICgxICsgc2hhcGUgKiBNYXRoLmFicyhpbnB1dFtpXVtuXSkpKSAqIHBvc3RnYWluOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ3NoYXBlLXByb2Nlc3NvcicsIFNoYXBlUHJvY2Vzc29yKTsKCmZ1bmN0aW9uIGZhc3RfdGFuaCh4KSB7CiAgY29uc3QgeDIgPSB4ICogeDsKICByZXR1cm4gKHggKiAoMjcuMCArIHgyKSkgLyAoMjcuMCArIDkuMCAqIHgyKTsKfQpjb25zdCBfUEkgPSAzLjE0MTU5MjY1MzU5OwovL2FkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vVGhlQm91dGVpbGxhY0JlYXIvd2ViYXVkaW93b3JrbGV0LXdhc20/dGFiPU1JVC0xLW92LWZpbGUKY2xhc3MgTGFkZGVyUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZnJlcXVlbmN5JywgZGVmYXVsdFZhbHVlOiA1MDAgfSwKICAgICAgeyBuYW1lOiAncScsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdkcml2ZScsIGRlZmF1bHRWYWx1ZTogMC42OSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogICAgdGhpcy5wMCA9IFswLCAwXTsKICAgIHRoaXMucDEgPSBbMCwgMF07CiAgICB0aGlzLnAyID0gWzAsIDBdOwogICAgdGhpcy5wMyA9IFswLCAwXTsKICAgIHRoaXMucDMyID0gWzAsIDBdOwogICAgdGhpcy5wMzMgPSBbMCwgMF07CiAgICB0aGlzLnAzNCA9IFswLCAwXTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHRoaXMuc3RhcnRlZCA9IGhhc0lucHV0OwoKICAgIGNvbnN0IHJlc29uYW5jZSA9IHBhcmFtZXRlcnMucVswXTsKICAgIGNvbnN0IGRyaXZlID0gY2xhbXAoTWF0aC5leHAocGFyYW1ldGVycy5kcml2ZVswXSksIDAuMSwgMjAwMCk7CgogICAgbGV0IGN1dG9mZiA9IHBhcmFtZXRlcnMuZnJlcXVlbmN5WzBdOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICBjdXRvZmYgPSAoY3V0b2ZmICogMiAqIF9QSSkgLyBzYW1wbGVSYXRlOwogICAgY3V0b2ZmID0gY3V0b2ZmID4gMSA/IDEgOiBjdXRvZmY7CgogICAgY29uc3QgayA9IE1hdGgubWluKDgsIHJlc29uYW5jZSAqIDAuNCk7CiAgICAvLyAgICAgICAgICAgICAgIGRyaXZlIG1ha2V1cCAgKiByZXNvbmFuY2Ugdm9sdW1lIGxvc3MgbWFrZXVwCiAgICBsZXQgbWFrZXVwZ2FpbiA9ICgxIC8gZHJpdmUpICogTWF0aC5taW4oMS43NSwgMSArIGspOwoKICAgIGZvciAobGV0IG4gPSAwOyBuIDwgYmxvY2tTaXplOyBuKyspIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG91dCA9IHRoaXMucDNbaV0gKiAwLjM2MDg5MSArIHRoaXMucDMyW2ldICogMC40MTcyOSArIHRoaXMucDMzW2ldICogMC4xNzc4OTYgKyB0aGlzLnAzNFtpXSAqIDAuMDQzOTcyNTsKCiAgICAgICAgdGhpcy5wMzRbaV0gPSB0aGlzLnAzM1tpXTsKICAgICAgICB0aGlzLnAzM1tpXSA9IHRoaXMucDMyW2ldOwogICAgICAgIHRoaXMucDMyW2ldID0gdGhpcy5wM1tpXTsKCiAgICAgICAgdGhpcy5wMFtpXSArPSAoZmFzdF90YW5oKGlucHV0W2ldW25dICogZHJpdmUgLSBrICogb3V0KSAtIGZhc3RfdGFuaCh0aGlzLnAwW2ldKSkgKiBjdXRvZmY7CiAgICAgICAgdGhpcy5wMVtpXSArPSAoZmFzdF90YW5oKHRoaXMucDBbaV0pIC0gZmFzdF90YW5oKHRoaXMucDFbaV0pKSAqIGN1dG9mZjsKICAgICAgICB0aGlzLnAyW2ldICs9IChmYXN0X3RhbmgodGhpcy5wMVtpXSkgLSBmYXN0X3RhbmgodGhpcy5wMltpXSkpICogY3V0b2ZmOwogICAgICAgIHRoaXMucDNbaV0gKz0gKGZhc3RfdGFuaCh0aGlzLnAyW2ldKSAtIGZhc3RfdGFuaCh0aGlzLnAzW2ldKSkgKiBjdXRvZmY7CgogICAgICAgIG91dHB1dFtpXVtuXSA9IG91dCAqIG1ha2V1cGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignbGFkZGVyLXByb2Nlc3NvcicsIExhZGRlclByb2Nlc3Nvcik7CgpjbGFzcyBEaXN0b3J0UHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZGlzdG9ydCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdwb3N0Z2FpbicsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBjb25zdCBzaGFwZSA9IE1hdGguZXhwbTEocGFyYW1ldGVycy5kaXN0b3J0WzBdKTsKICAgIGNvbnN0IHBvc3RnYWluID0gTWF0aC5tYXgoMC4wMDEsIE1hdGgubWluKDEsIHBhcmFtZXRlcnMucG9zdGdhaW5bMF0pKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBvdXRwdXRbaV1bbl0gPSAoKCgxICsgc2hhcGUpICogaW5wdXRbaV1bbl0pIC8gKDEgKyBzaGFwZSAqIE1hdGguYWJzKGlucHV0W2ldW25dKSkpICogcG9zdGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignZGlzdG9ydC1wcm9jZXNzb3InLCBEaXN0b3J0UHJvY2Vzc29yKTsKCi8vIFNVUEVSU0FXCmZ1bmN0aW9uIGxlcnAoYSwgYiwgbikgewogIHJldHVybiBuICogKGIgLSBhKSArIGE7Cn0KCmZ1bmN0aW9uIGdldFVuaXNvbkRldHVuZSh1bmlzb24sIGRldHVuZSwgdm9pY2VJbmRleCkgewogIGlmICh1bmlzb24gPCAyKSB7CiAgICByZXR1cm4gMDsKICB9CiAgcmV0dXJuIGxlcnAoLWRldHVuZSAqIDAuNSwgZGV0dW5lICogMC41LCB2b2ljZUluZGV4IC8gKHVuaXNvbiAtIDEpKTsKfQpjbGFzcyBTdXBlclNhd09zY2lsbGF0b3JQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2UgPSBbXTsKICB9CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsKICAgICAgICBuYW1lOiAnYmVnaW4nLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMCwKICAgICAgICBtYXg6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwKICAgICAgICBtaW46IDAsCiAgICAgIH0sCgogICAgICB7CiAgICAgICAgbmFtZTogJ2VuZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1heDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXVlbmN5JywKICAgICAgICBkZWZhdWx0VmFsdWU6IDQ0MCwKICAgICAgICBtaW46IE51bWJlci5FUFNJTE9OLAogICAgICB9LAoKICAgICAgewogICAgICAgIG5hbWU6ICdwYW5zcHJlYWQnLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMC40LAogICAgICAgIG1pbjogMCwKICAgICAgICBtYXg6IDEsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXNwcmVhZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLjIsCiAgICAgICAgbWluOiAwLAogICAgICB9LAogICAgICB7CiAgICAgICAgbmFtZTogJ2RldHVuZScsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAndm9pY2VzJywKICAgICAgICBkZWZhdWx0VmFsdWU6IDUsCiAgICAgICAgbWluOiAxLAogICAgICB9LAogICAgXTsKICB9CiAgcHJvY2VzcyhpbnB1dCwgb3V0cHV0cywgcGFyYW1zKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA8PSBwYXJhbXMuYmVnaW5bMF0pIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbXMuZW5kWzBdKSB7CiAgICAgIC8vIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IHR5cGU6ICdvbmVuZGVkJyB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgbGV0IGZyZXF1ZW5jeSA9IHBhcmFtcy5mcmVxdWVuY3lbMF07CiAgICAvL2FwcGx5IGRldHVuZSBpbiBjZW50cwogICAgZnJlcXVlbmN5ID0gZnJlcXVlbmN5ICogTWF0aC5wb3coMiwgcGFyYW1zLmRldHVuZVswXSAvIDEyMDApOwoKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCB2b2ljZXMgPSBwYXJhbXMudm9pY2VzWzBdOwogICAgY29uc3QgZnJlcXNwcmVhZCA9IHBhcmFtcy5mcmVxc3ByZWFkWzBdOwogICAgY29uc3QgcGFuc3ByZWFkID0gcGFyYW1zLnBhbnNwcmVhZFswXSAqIDAuNSArIDAuNTsKICAgIGNvbnN0IGdhaW4xID0gTWF0aC5zcXJ0KDEgLSBwYW5zcHJlYWQpOwogICAgY29uc3QgZ2FpbjIgPSBNYXRoLnNxcnQocGFuc3ByZWFkKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHZvaWNlczsgbisrKSB7CiAgICAgIGNvbnN0IGlzT2RkID0gKG4gJiAxKSA9PSAxOwoKICAgICAgLy9hcHBsaWVzIHVuaXNvbiAic3ByZWFkIiBkZXR1bmUgaW4gc2VtaXRvbmVzCiAgICAgIGNvbnN0IGZyZXEgPSBmcmVxdWVuY3kgKiBNYXRoLnBvdygyLCBnZXRVbmlzb25EZXR1bmUodm9pY2VzLCBmcmVxc3ByZWFkLCBuKSAvIDEyKTsKICAgICAgbGV0IGdhaW5MID0gZ2FpbjE7CiAgICAgIGxldCBnYWluUiA9IGdhaW4yOwogICAgICAvLyBpbnZlcnQgcmlnaHQgYW5kIGxlZnQgZ2FpbgogICAgICBpZiAoaXNPZGQpIHsKICAgICAgICBnYWluTCA9IGdhaW4yOwogICAgICAgIGdhaW5SID0gZ2FpbjE7CiAgICAgIH0KICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIGNvbnN0IGR0ID0gZnJlcSAvIHNhbXBsZVJhdGU7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dFswXS5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMucGhhc2Vbbl0gPSB0aGlzLnBoYXNlW25dID8/IE1hdGgucmFuZG9tKCk7CiAgICAgICAgY29uc3QgdiA9IHdhdmVzaGFwZXMuc2F3YmxlcCh0aGlzLnBoYXNlW25dLCBkdCk7CgogICAgICAgIG91dHB1dFswXVtpXSA9IG91dHB1dFswXVtpXSArIHYgKiBnYWluTDsKICAgICAgICBvdXRwdXRbMV1baV0gPSBvdXRwdXRbMV1baV0gKyB2ICogZ2FpblI7CgogICAgICAgIHRoaXMucGhhc2Vbbl0gKz0gZHQ7CgogICAgICAgIGlmICh0aGlzLnBoYXNlW25dID4gMS4wKSB7CiAgICAgICAgICB0aGlzLnBoYXNlW25dID0gdGhpcy5waGFzZVtuXSAtIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCnJlZ2lzdGVyUHJvY2Vzc29yKCdzdXBlcnNhdy1vc2NpbGxhdG9yJywgU3VwZXJTYXdPc2NpbGxhdG9yUHJvY2Vzc29yKTsK";function Fn(t){const e=Et().createGain();return e.gain.value=t,e}const ya=(t,e,n,r)=>r-n===0?0:(e-t)/(r-n);function Bn(t,e,n,r){const i=new AudioWorkletNode(t,e,r);return Object.entries(n).forEach(([s,u])=>{i.parameters.get(s).value=u}),i}const In=(t,e,n,r,i,s,u,o,c,h="exponential")=>{e=mn(e),n=mn(n),r=mn(r),i=mn(i);const p=h==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";h==="exponential"&&(s=s===0?.001:s,u=u===0?.001:u);const m=u-s,d=u,y=s+r*m,P=c-o,D=B=>{let x;if(e>B){let N=ya(s,d,0,e);x=B*N+(s>d?s:0)}else x=(B-e)*ya(d,y,0,n)+d;return h==="exponential"&&(x=x||.001),x};t.setValueAtTime(s,o),e>P?t[p](D(P),c):e+n>P?(t[p](D(e),o+e),t[p](D(P),c)):(t[p](D(e),o+e),t[p](D(e+n),o+e+n),t.setValueAtTime(y,c)),t[p](s,c+i)};function qm(t,e,n,r,i,s){const u={threshold:e??-3,ratio:n??10,knee:r??10,attack:i??.005,release:s??.05};return new DynamicsCompressorNode(t,u)}const xn=(t,e="linear",n)=>{const[r,i,s,u]=t;if(r==null&&i==null&&s==null&&u==null)return n??[.001,.001,1,.01];const o=s??(r!=null&&i==null||r==null&&i==null?1:.001);return[Math.max(r??0,.001),Math.max(i??0,.001),Math.min(o,1),Math.max(u??0,.01)]};function Ei(t,e,n,r,i,s,u,o,c,h,p,m,d,y){const P="exponential",[D,B,x,N]=xn([i,s,u,o],P,[.005,.14,0,.1]);let q,I;if(d==="ladder"?(q=Bn(t,"ladder-processor",{frequency:n,q:r,drive:y}),I=q.parameters.get("frequency")):(q=t.createBiquadFilter(),q.type=e,q.Q.value=r,q.frequency.value=n,I=q.frequency),(i??s??u??o??c)!==void 0){c=mn(c,1,!0),m=mn(m,0,!0);const F=Math.abs(c),_=F*m;let S=dr(2**-_*n,0,2e4),V=dr(2**(F-_)*n,0,2e4);return c<0&&([S,V]=[V,S]),In(I,D,B,x,N,S,V,h,p,P),q}return q}let Ma=t=>t<.5?1:1-(t-.5)/.5;function Xm(t,e,n=0){const r=Et();if(!n)return t;let i=r.createGain(),s=r.createGain();t.connect(i),e.connect(s),i.gain.value=Ma(n),s.gain.value=Ma(1-n);let u=r.createGain();return i.connect(u),s.connect(u),u}let Ib=["linear","exponential"];function es(t,e,n,r){if(!(e.pattack??e.pdecay??e.psustain??e.prelease??e.penv))return;const i=mn(e.penv,1,!0),s=Ib[e.pcurve??0];let[u,o,c,h]=xn([e.pattack,e.pdecay,e.psustain,e.prelease],s,[.2,.001,1,.001]),p=e.panchor??c;const m=i*100,d=0-m*p,y=m-m*p;In(t,u,o,c,h,d,y,n,r,s)}function ns(t,e,n){const{vibmod:r=.5,vib:i}=e;let s;if(i>0){s=Et().createOscillator(),s.frequency.value=i;const u=Et().createGain();return u.gain.value=r*100,s.connect(u),u.connect(t),s.start(n),s}}function Zm(t,e,n,r){const i=t.createConstantSource();i.start(n),i.stop(r),i.onended=()=>{e()}}const xb=(t,e=1,n="sine")=>{const r=Et(),i=r.createOscillator();i.type=n,i.frequency.value=t,i.start();const s=new GainNode(r,{gain:e});return i.connect(s),{node:s,stop:u=>i.stop(u)}},Sb=(t,e,n,r="sine")=>{const i=t.value*e,s=i*n;return xb(i,s,r)};function no(t,e,n){const{fmh:r=1,fmi:i,fmenv:s="exp",fmattack:u,fmdecay:o,fmsustain:c,fmrelease:h,fmvelocity:p,fmwave:m="sine",duration:d}=e;let y,P=()=>{};if(i){const D=Et().createGain(),B=Sb(t,r,i,m);if(y=B.node,P=B.stop,![u,o,c,h,p].find(x=>x!==void 0))y.connect(t);else{const[x,N,q,I]=xn([u,o,c,h]),F=n+d;In(D.gain,x,N,q,I,0,1,n,F,s==="exp"?"exponential":"linear"),y.connect(D),D.connect(t)}}return{stop:P}}const ro={},_s={},_b=t=>ro[t];function kb(t,e){var n=1024;if(t<n)return t+" B";var r=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1;do t/=n,++i;while(t>=n);return t.toFixed(1)+" "+r[i]}const Hm=async(t,e,n,r,i,s,u)=>{let o=0;i!==void 0&&n!==void 0&&ze("[sampler] hap has note and freq. ignoring note","warning");let c=Bb({freq:i,note:n},36);o=c-36;const h=Et();let p,m=0;if(Array.isArray(s))m=Ca(e,s.length),p=s[m];else{const D=x=>ts(x)-c,B=Object.keys(s).filter(x=>!x.startsWith("_")).reduce((x,N,q)=>!x||Math.abs(D(N))<Math.abs(D(x))?N:x,null);o=-D(B),m=Ca(e,s[B].length),p=s[B][m]}u&&(p=await u(p));let d=await io(p,h,t,m);r<0&&(d=Km(d));const y=h.createBufferSource();y.buffer=d;const P=1*Math.pow(2,o/12);return y.playbackRate.value=P,y},io=(t,e,n,r=0)=>{const i=n?`sound "${n}:${r}"`:"sample";if(t=t.replace("#","%23"),!_s[t]){ze(`[sampler] load ${i}..`,"load-sample",{url:t});const s=Date.now();_s[t]=fetch(t).then(u=>u.arrayBuffer()).then(async u=>{const o=Date.now()-s,c=kb(u.byteLength);ze(`[sampler] load ${i}... done! loaded ${c} in ${o}ms`,"loaded-sample",{url:t});const h=await e.decodeAudioData(u);return ro[t]=h,h})}return _s[t]};function Km(t){const e=Et(),n=e.createBuffer(t.numberOfChannels,t.length,e.sampleRate);for(let r=0;r<t.numberOfChannels;r++)n.copyToChannel(t.getChannelData(r).slice().reverse(),r,r);return n}const Nb=t=>ro[t];function Ym(t){if(t.startsWith("bubo:")){const[e,n]=t.split(":");t=`github:Bubobubobubobubo/dough-${n}`}return t}function Um(t,e=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,r]=t.split("github:");return r=r.endsWith("/")?r.slice(0,-1):r,r.split("/").length===2&&(r+="/main"),`https://raw.githubusercontent.com/${r}/${e}`}const $m=(t,e,n=t._base||"")=>Object.entries(t).forEach(([r,i])=>{if(typeof i=="string"&&(i=[i]),typeof i!="object")throw new Error("wrong sample map format for "+r);n=i._base||n,n=Ym(n),n.startsWith("github:")&&(n=Um(n,""));const s=u=>n+u;Array.isArray(i)?i=i.map(s):i=Object.fromEntries(Object.entries(i).map(([u,o])=>[u,(typeof o=="string"?[o]:o).map(s)])),e(r,i)});let Jm={};function Tb(t,e){Jm[t]=e}function Rb(t){const e=Object.entries(Jm).find(([n])=>t.startsWith(n));if(e)return e[1]}const Qm=async(t,e=t._base||"",n={})=>{if(typeof t=="string"){const s=Rb(t);if(s)return s(t);if(t=Ym(t),t.startsWith("github:")&&(t=Um(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),t.startsWith("shabda:")){let[o,c]=t.split("shabda:");t=`https://shabda.ndre.gr/${c}.json?strudel=1`}if(t.startsWith("shabda/speech")){let[o,c]=t.split("shabda/speech");c=c.startsWith("/")?c.substring(1):c;let[h,p]=c.split(":"),m="f",d="en-GB";h&&([d,m]=h.split("/")),t=`https://shabda.ndre.gr/speech/${p}.json?gender=${m}&language=${d}&strudel=1'`}if(typeof fetch!="function")return;const u=t.split("/").slice(0,-1).join("/");return typeof fetch>"u"?void 0:fetch(t).then(o=>o.json()).then(o=>Qm(o,e||o._base||u,n)).catch(o=>{throw console.error(o),new Error(`error loading "${t}"`)})}const{prebake:r,tag:i}=n;$m(t,(s,u)=>lr(s,(o,c,h)=>td(o,c,h,u),{type:"sample",samples:u,baseUrl:e,prebake:r,tag:i}),e)},ba=[];async function td(t,e,n,r,i){let{s,freq:u,unit:o,nudge:c=0,cut:h,loop:p,clip:m=void 0,n:d=0,note:y,speed:P=1,loopBegin:D=0,begin:B=0,loopEnd:x=1,end:N=1,duration:q}=e;if(P===0)return;p=s.startsWith("wt_")?1:e.loop;const I=Et();let[F,_,S,V]=xn([e.attack,e.decay,e.sustain,e.release]);const W=t+c,O=await Hm(s,d,y,P,u,r,i);let K=ns(O.detune,e,t);if(I.currentTime>t){ze(`[sampler] still loading sound "${s}:${d}"`,"highlight");return}if(!O){ze(`[sampler] could not load "${s}:${d}"`,"error");return}O.playbackRate.value=Math.abs(P)*O.playbackRate.value,o==="c"&&(O.playbackRate.value=O.playbackRate.value*O.buffer.duration*1);const G=B*O.buffer.duration;p&&(O.loop=!0,O.loopStart=D*O.buffer.duration-G,O.loopEnd=x*O.buffer.duration-G),O.start(W,G);const z=I.createGain(),Z=O.connect(z);if(m==null&&p==null&&e.release==null){const Ft=O.buffer.duration/O.playbackRate.value;q=(N-B)*Ft}let pt=t+q;In(Z.gain,F,_,S,V,0,1,t,pt,"linear"),es(O.detune,e,t,pt);const nt=I.createGain();Z.connect(nt),O.onended=function(){O.disconnect(),K?.stop(),Z.disconnect(),nt.disconnect(),n()};let lt=pt+V+.01;O.stop(lt);const ot={node:nt,bufferSource:O,stop:(Ft,oe)=>{}};if(h!==void 0){const Ft=ba[h];Ft&&(Ft.node.gain.setValueAtTime(1,W),Ft.node.gain.linearRampToValueAtTime(0,W+.01)),ba[h]=ot}return ot}const rs=yb();function lr(t,e,n={}){rs.setKey(t,{onTrigger:e,data:n})}function Fi(t){return rs.get()[t]}const ed={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,delay:0,delayfeedback:.5,delaytime:.25,orbit:1,i:1,velocity:1,fft:8};let so=new Map(Object.entries(ed));function uo(t,e){so.set(t,e)}function qt(t){return so.get(t)}function Vb(t){Object.keys(t).forEach(e=>{uo(e,t[e])})}function nd(){so=new Map(Object.entries(ed))}function Lb(t){nd(),t==="1.0"&&uo("fanchor",.5)}const Ob=()=>rs.set({});let cu;const rd=()=>(cu=new AudioContext,cu),Et=()=>cu||rd();let ks;function jb(){return ks||(ks=Et().audioWorklet.addModule(wb)),ks}async function id(t={}){const{disableWorklets:e=!1}=t;if(!(typeof window>"u")){if(await Et().resume(),e){ze("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await jb(),ze("[superdough] AudioWorklets loaded")}catch(n){console.warn("could not load AudioWorklet effects",n)}ze("[superdough] ready")}}let Ns;async function sd(t){return Ns||(Ns=new Promise(e=>{document.addEventListener("click",async function n(){document.removeEventListener("click",n),await id(t),e()})})),Ns}let En={},Ri,hr;function ud(){const t=Et(),e=t.destination.maxChannelCount;t.destination.channelCount=e,Ri=new ChannelMergerNode(t,{numberOfInputs:t.destination.channelCount}),hr=new GainNode(t),Ri.connect(hr),hr.connect(t.destination)}const is=(t,e=[0,1])=>{const n=Et();Ri==null&&ud();const r=new StereoPannerNode(n);t.connect(r);const i=new ChannelSplitterNode(n,{numberOfOutputs:r.channelCount});r.connect(i),e.forEach((s,u)=>{i.connect(Ri,u%r.channelCount,dr(s,0,n.destination.channelCount-1))})},Gb=()=>{hr!=null&&(hr.gain.linearRampToValueAtTime(0,Et().currentTime+.01),hr=null)};function zb(t,e,n,r){if(n=dr(n,0,.98),!En[t]){const i=Et().createFeedbackDelay(1,e,n);i.start?.(r),is(i,[0,1]),En[t]=i}return En[t].delayTime.value!==e&&En[t].delayTime.setValueAtTime(e,r),En[t].feedback.value!==n&&En[t].feedback.setValueAtTime(n,r),En[t]}function Wb(t,e,n=1,r=.5,i=1e3,s=2e3){const u=Et(),o=u.createGain();o.gain.value=s*2,Bn(u,"lfo-processor",{frequency:n,depth:1,skew:0,phaseoffset:0,time:t,end:e,shape:1,dcoffset:-.5}).connect(o);const c=2;let h=0;const p=[];for(let m=0;m<c;m++){const d=u.createBiquadFilter();d.type="notch",d.gain.value=1,d.frequency.value=i+h,d.Q.value=2-Math.min(Math.max(r*2,0),1.9),o.connect(d.detune),h+=282,m>0&&p[m-1].connect(d),p.push(d)}return p[p.length-1]}function qb(t){t=t??0;const e=["12db","ladder","24db"];return typeof t=="number"?e[Math.floor(Wm(t,e.length))]:t}let He={},Ci=(t,e)=>t!==void 0&&t!==e;function Xb(t,e,n,r,i,s){if(!He[t]){const u=Et().createReverb(e,n,r,i,s);is(u,[0,1]),He[t]=u}return(Ci(e,He[t].duration)||Ci(n,He[t].fade)||Ci(r,He[t].lp)||Ci(i,He[t].dim)||He[t].ir!==s)&&He[t].generate(e,n,r,i,s),He[t]}let he={},qn={};function od(t,e=1024){if(!he[t]){const n=Et().createAnalyser();n.fftSize=e,he[t]=n,qn[t]=new Float32Array(he[t].frequencyBinCount)}return he[t].fftSize!==e&&(he[t].fftSize=e,qn[t]=new Float32Array(he[t].frequencyBinCount)),he[t]}function oo(t="time",e=1){const n={time:()=>he[e]?.getFloatTimeDomainData(qn[e]),frequency:()=>he[e]?.getFloatFrequencyData(qn[e])}[t];if(!n)throw new Error(`getAnalyzerData: ${t} not supported. use one of ${Object.keys(n).join(", ")}`);return n(),qn[e]}function Ts(t,e,n){const r=Fn(n);return t.connect(r),r.connect(e),r}function Zb(){En={},He={},he={},qn={}}const ss=async(t,e,n)=>{const r=Et();if(typeof t!="object")throw new Error(`expected hap.value to be an object, but got "${t}". Hint: append .note() or .s() to the end`,"error");if(t.duration=n,e=typeof e=="string"&&e.startsWith("=")?Number(e.slice(1)):r.currentTime+e,e<r.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${e.toFixed(2)}, now: ${r.currentTime.toFixed(2)})`);return}let{s:i=qt("s"),bank:s,source:u,gain:o=qt("gain"),postgain:c=qt("postgain"),density:h=qt("density"),fanchor:p=qt("fanchor"),drive:m=.69,cutoff:d,lpenv:y,lpattack:P,lpdecay:D,lpsustain:B,lprelease:x,resonance:N=qt("resonance"),hpenv:q,hcutoff:I,hpattack:F,hpdecay:_,hpsustain:S,hprelease:V,hresonance:W=qt("hresonance"),bpenv:O,bandf:K,bpattack:G,bpdecay:z,bpsustain:Z,bprelease:pt,bandq:nt=qt("bandq"),channels:lt=qt("channels"),phaser:ot,phaserdepth:Ft=qt("phaserdepth"),phasersweep:oe,phasercenter:Ut,coarse:X,crush:$t,shape:ne,shapevol:Ae=qt("shapevol"),distort:Dt,distortvol:Zt=qt("distortvol"),pan:yt,vowel:zt,delay:me=qt("delay"),delayfeedback:de=qt("delayfeedback"),delaytime:xt=qt("delaytime"),orbit:yn=qt("orbit"),room:St,roomfade:Mn,roomlp:Ce,roomdim:Te,roomsize:tn,ir:en,i:nn=qt("i"),velocity:bn=qt("velocity"),analyze:rn,fft:Re=qt("fft"),compressor:Ve,compressorRatio:gt,compressorKnee:Rt,compressorAttack:ut,compressorRelease:Gt}=t;o=mn(o,1),lt=(Array.isArray(lt)?lt:[lt]).map(at=>at-1),o*=bn;let _t=[];const Sr=()=>{_t.forEach(at=>at?.disconnect())};s&&i&&(i=`${s}_${i}`);let Pn;if(u)Pn=u(e,t,n);else if(Fi(i)){const{onTrigger:at}=Fi(i),Vt=await at(e,t,Sr);Vt&&(Pn=Vt.node,Vt.stop(e+n))}else throw new Error(`sound ${i} not found! Is it loaded?`);if(!Pn)return;if(r.currentTime>e){ze("[webaudio] skip hap: still loading",r.currentTime-e);return}const Mt=[];Mt.push(Pn),Mt.push(Fn(o));const sn=qb(t.ftype);if(d!==void 0){let at=()=>Ei(r,"lowpass",d,N,P,D,B,x,y,e,e+n,p,sn,m);Mt.push(at()),sn==="24db"&&Mt.push(at())}if(I!==void 0){let at=()=>Ei(r,"highpass",I,W,F,_,S,V,q,e,e+n,p);Mt.push(at()),sn==="24db"&&Mt.push(at())}if(K!==void 0){let at=()=>Ei(r,"bandpass",K,nt,G,z,Z,pt,O,e,e+n,p);Mt.push(at()),sn==="24db"&&Mt.push(at())}if(zt!==void 0){const at=r.createVowelFilter(zt);Mt.push(at)}if(X!==void 0&&Mt.push(Bn(r,"coarse-processor",{coarse:X})),$t!==void 0&&Mt.push(Bn(r,"crush-processor",{crush:$t})),ne!==void 0&&Mt.push(Bn(r,"shape-processor",{shape:ne,postgain:Ae})),Dt!==void 0&&Mt.push(Bn(r,"distort-processor",{distort:Dt,postgain:Zt})),Ve!==void 0&&Mt.push(qm(r,Ve,gt,Rt,ut,Gt)),yt!==void 0){const at=r.createStereoPanner();at.pan.value=2*yt-1,Mt.push(at)}if(ot!==void 0&&Ft>0){const at=Wb(e,e+n,ot,Ft,Ut,oe);Mt.push(at)}const ae=new GainNode(r,{gain:c});Mt.push(ae),is(ae,lt);let kt;if(me>0&&xt>0&&de>0){const at=zb(yn,xt,de,e);kt=Ts(ae,at,me)}let Gn;if(St>0){let at;if(en!==void 0){let ye,ce=Fi(en);Array.isArray(ce)?ye=ce.data.samples[nn%ce.data.samples.length]:typeof ce=="object"&&(ye=Object.values(ce.data.samples).flat()[nn%Object.values(ce.data.samples).length]),at=await io(ye,r,en,0)}const Vt=Xb(yn,tn,Mn,Ce,Te,at);Gn=Ts(ae,Vt,St)}let Qn;if(rn){const at=od(rn,2**(Re+5));Qn=Ts(ae,at,1)}Mt.slice(1).reduce((at,Vt)=>at.connect(Vt),Mt[0]),_t=Mt.concat([kt,Gn,Qn])},Hb=(t,e,n,r)=>ss(e,t-n,e.duration/r);let Rs={};function Kb(t,e){const n=Et();if(Rs[t])return Rs[t];const r=2*n.sampleRate,i=n.createBuffer(1,r,n.sampleRate),s=i.getChannelData(0);let u=0,o,c,h,p,m,d,y;o=c=h=p=m=d=y=0;for(let P=0;P<r;P++)if(t==="white")s[P]=Math.random()*2-1;else if(t==="brown"){let D=Math.random()*2-1;s[P]=(u+.02*D)/1.02,u=s[P]}else if(t==="pink"){let D=Math.random()*2-1;o=.99886*o+D*.0555179,c=.99332*c+D*.0750759,h=.969*h+D*.153852,p=.8665*p+D*.3104856,m=.55*m+D*.5329522,d=-.7616*d-D*.016898,s[P]=o+c+h+p+m+d+y+D*.5362,s[P]*=.11,y=D*.115926}else if(t==="crackle"){const D=e*.01;Math.random()<D?s[P]=Math.random()*2-1:s[P]=0}return t!=="crackle"&&(Rs[t]=i),i}function ad(t="white",e,n=.02){const r=Et().createBufferSource();return r.buffer=Kb(t,n),r.loop=!0,r.start(e),{node:r,stop:i=>r.stop(i)}}function Yb(t,e,n){const r=ad("pink",n);return{node:Xm(t,r.node,e),stop:i=>r?.stop(i)}}const cd=t=>{let{note:e,freq:n}=t;return e=e||36,typeof e=="string"&&(e=ts(e)),!n&&typeof e=="number"&&(n=zm(e)),Number(n)},Ub=["triangle","square","sawtooth","sine"],$b=["pink","white","brown","crackle"];function ld(){[...Ub].forEach(t=>{lr(t,(e,n,r)=>{const[i,s,u,o]=xn([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c=pd(t,e,n),{node:h,stop:p,triggerRelease:m}=c;const d=Fn(.3),{duration:y}=n;h.onended=()=>{h.disconnect(),d.disconnect(),r()};const P=Fn(1);let D=h.connect(d).connect(P);const B=e+y;In(D.gain,i,s,u,o,0,1,e,B,"linear");const x=B+o+.01;return m?.(x),p(x),{node:D,stop:N=>{}}},{type:"synth",prebake:!0})}),lr("supersaw",(t,e,n)=>{const r=Et();let{duration:i,n:s,unison:u=5,spread:o=.6,detune:c}=e;c=c??s??.18;const h=cd(e),[p,m,d,y]=xn([e.attack,e.decay,e.sustain,e.release],"linear",[.001,.05,.6,.01]),P=t+i,D=P+y+.01,B=dr(u,1,100);let x=B>1?dr(o,0,1):0,N=Bn(r,"supersaw-oscillator",{frequency:h,begin:t,end:D,freqspread:c,voices:B,panspread:x},{outputChannelCount:[2]});const q=1/Math.sqrt(B);es(N.parameters.get("detune"),e,t,P);const I=ns(N.parameters.get("detune"),e,t),F=no(N.parameters.get("frequency"),e,t);let _=Fn(1);return _=N.connect(_),Zm(r,()=>{N.disconnect(),_.disconnect(),n(),F?.stop(),I?.stop()},t,D),In(_.gain,p,m,d,y,0,.3*q,t,P,"linear"),{node:_,stop:S=>{}}},{prebake:!0,type:"synth"}),[...$b].forEach(t=>{lr(t,(e,n,r)=>{const[i,s,u,o]=xn([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c,{density:h}=n;c=ad(t,e,h);let{node:p,stop:m,triggerRelease:d}=c;const y=Fn(.3),{duration:P}=n;p.onended=()=>{p.disconnect(),y.disconnect(),r()};const D=Fn(1);let B=p.connect(y).connect(D);const x=e+P;In(B.gain,i,s,u,o,0,1,e,x,"linear");const N=x+o+.01;return d?.(N),m(N),{node:B,stop:q=>{}}},{type:"synth",prebake:!0})})}function hd(t,e){const n=new Float32Array(t+1),r=new Float32Array(t+1),i=Et(),s=i.createOscillator(),u={sawtooth:h=>[0,-1/h],square:h=>[0,h%2===0?0:1/h],triangle:h=>[h%2===0?0:1/(h*h),0]};if(!u[e])throw new Error(`unknown wave type ${e}`);n[0]=0,r[0]=0;let o=1;for(;o<=t;){const[h,p]=u[e](o);n[o]=h,r[o]=p,o++}const c=i.createPeriodicWave(n,r);return s.setPeriodicWave(c),s}function pd(t,e,n){let{n:r,duration:i,noise:s=0}=n,u;!r||t==="sine"?(u=Et().createOscillator(),u.type=t||"triangle"):u=hd(r,t),u.frequency.value=cd(n),u.start(e);let o=ns(u.detune,n,e);es(u.detune,n,e,e+i);const c=no(u.frequency,n,e);let h;return s&&(h=Yb(u,s,e)),{node:h?.node||u,stop:p=>{c.stop(p),o?.stop(p),h?.stop(p),u.stop(p)},triggerRelease:p=>{}}}function Jb(t=1,e=.05,n=220,r=0,i=0,s=.1,u=0,o=1,c=0,h=0,p=0,m=0,d=0,y=0,P=0,D=0,B=0,x=1,N=0,q=0){let I=Math.PI*2,F=Et().sampleRate,_=Ft=>Ft>0?1:-1,S=c*=500*I/F/F,V=n*=(1+e*2*Math.random()-e)*I/F,W=[],O=0,K=0,G=0,z=1,Z=0,pt=0,nt=0,lt,ot;for(r=r*F+9,N*=F,i*=F,s*=F,B*=F,h*=500*I/F**3,P*=I/F,p*=I/F,m*=F,d=d*F|0,ot=r+N+i+s+B|0;G<ot;W[G++]=nt)++pt%(D*100|0)||(nt=u?u>1?u>2?u>3?Math.sin((O%I)**3):Math.max(Math.min(Math.tan(O),1),-1):1-(2*O/I%2+2)%2:1-4*Math.abs(Math.round(O/I)-O/I):Math.sin(O),nt=(d?1-q+q*Math.sin(I*G/d):1)*_(nt)*Math.abs(nt)**o*t*1*(G<r?G/r:G<r+N?1-(G-r)/N*(1-x):G<r+N+i?x:G<ot-B?(ot-G-B)/s*x:0),nt=B?nt/2+(B>G?0:(G<ot-B?1:(ot-G)/B)*W[G-B|0]/2):nt),lt=(n+=c+=h)*Math.cos(P*K++),O+=lt-lt*y*(1-(Math.sin(G)+1)*1e9%2),z&&++z>m&&(n+=p,V+=p,z=0),d&&!(++Z%d)&&(n=V,c=S,z||=1);return W}const md=(t,e)=>{let{s:n,note:r=36,freq:i,zrand:s=0,attack:u=0,decay:o=0,sustain:c=.8,release:h=.1,curve:p=1,slide:m=0,deltaSlide:d=0,pitchJump:y=0,pitchJumpTime:P=0,lfo:D=0,znoise:B=0,zmod:x=0,zcrush:N=0,zdelay:q=0,tremolo:I=0,duration:F=.2,zzfx:_}=t;const S=Math.max(F-u-o,0);typeof r=="string"&&(r=ts(r)),!i&&typeof r=="number"&&(i=zm(r)),n=n.replace("z_","");const V=["sine","triangle","sawtooth","tan","noise"].indexOf(n)||0;p=n==="square"?0:p;const W=Jb(..._||[.25,s,i,u,S,h,V,p,m,d,y,P,D,B,x,N,q,c,o,I]),O=Et(),K=O.createBuffer(1,W.length,O.sampleRate);K.getChannelData(0).set(W);const G=Et().createBufferSource();return G.buffer=K,G.start(e),{node:G}};function Qb(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(t=>{lr(t,(e,n,r)=>{const{node:i}=md({s:t,...n},e);return i.onended=()=>{i.disconnect(),r()},{node:i,stop:()=>{}}},{type:"synth",prebake:!0})})}let pr;async function dd(t,e){const n=`dsp-worklet-${Date.now()}`,r=`${e}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${n}', MyProcessor);
`,i=`data:text/javascript;base64,${btoa(r)}`;await t.audioWorklet.addModule(i);const s=new AudioWorkletNode(t,n);return{node:s,stop:()=>s.port.postMessage("stop")}}const fd=()=>{pr&&(pr?.stop(),pr?.node?.disconnect())};typeof window<"u"&&window.addEventListener("message",t=>{t.data==="strudel-stop"?fd():t.data?.dough&&pr?.node.port.postMessage(t.data)});const tP=async t=>{const e=Et();fd(),pr=await dd(e,t),pr.node.connect(e.destination)};function gd(t,e,n,r,i){window.postMessage({time:i,dough:e.value,currentTime:n,duration:e.duration,cps:r})}const br=(t="test-canvas",e)=>{let{contextType:n="2d",pixelated:r=!1,pixelRatio:i=window.devicePixelRatio}={},s=document.querySelector("#"+t);if(!s){s=document.createElement("canvas"),s.id=t,s.width=window.innerWidth*i,s.height=window.innerHeight*i,s.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",r&&(s.style.imageRendering="pixelated"),document.body.prepend(s);let u;window.addEventListener("resize",()=>{u&&clearTimeout(u),u=setTimeout(()=>{s.width=window.innerWidth*i,s.height=window.innerHeight*i},200)})}return s.getContext(n)};let zr={};function eP(t){zr[t]!==void 0&&(cancelAnimationFrame(zr[t]),delete zr[t])}let cn={};rt.prototype.draw=function(t,e){if(typeof window>"u")return this;let{id:n=1,lookbehind:r=0,lookahead:i=0}=e,s=Math.max(au(),0);eP(n),r=Math.abs(r),cn[n]=(cn[n]||[]).filter(h=>!h.isInFuture(s));let u=this.queryArc(s,s+i).filter(h=>h.hasOnset());cn[n]=cn[n].concat(u);let o;const c=()=>{const h=au(),p=h+i;cn[n]=cn[n].filter(y=>y.isInNearPast(r,h));let m=Math.max(o||p,p-1/10);const d=this.queryArc(m,p).filter(y=>y.hasOnset());cn[n]=cn[n].concat(d),o=p,t(cn[n],h,p,this),zr[n]=requestAnimationFrame(c)};return zr[n]=requestAnimationFrame(c),this};rt.prototype.onPaint=function(){return console.warn("[draw] onPaint was not overloaded. Some drawings might not work"),this};let nP={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function Sn(){return nP}let Pa="#22222210";rt.prototype.animate=function({callback:t,sync:e=!1,smear:n=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const r=br();let{clientWidth:i,clientHeight:s}=r.canvas;i*=window.devicePixelRatio,s*=window.devicePixelRatio;let u=n===0?"99":Number((1-n)*100).toFixed(0);u=u.length===1?`0${u}`:u,Pa=`#200010${u}`;const o=c=>{let h;c=Math.round(c),h=this.slow(1e3).queryArc(c,c),r.fillStyle=Pa,r.fillRect(0,0,i,s),h.forEach(p=>{let{x:m,y:d,w:y,h:P,s:D,r:B,angle:x=0,fill:N="darkseagreen"}=p.value;if(y*=i,P*=s,B!==void 0&&x!==void 0){const I=x*2*Math.PI,[F,_]=[(i-y)/2,(s-P)/2];m=F+Math.cos(I)*B*F,d=_+Math.sin(I)*B*_}else m*=i-y,d*=s-P;const q={...p.value,x:m,y:d,w:y,h:P};r.fillStyle=N,D==="rect"?r.fillRect(m,d,y,P):D==="ellipse"&&(r.beginPath(),r.ellipse(m+y/2,d+P/2,y/2,P/2,0,0,2*Math.PI),r.fill()),t&&t(r,q,p)}),window.frame=requestAnimationFrame(o)};return window.frame=requestAnimationFrame(o),wt};const{x:Ad,y:FB,w:BB,h:wB,angle:IB,r:xB,fill:SB,smear:_B}=Xu("x","y","w","h","angle","r","fill","smear");L("rescale",function(t,e){return e.mul(Ad(t).w(t).y(t).h(t))});L("moveXY",function(t,e,n){return n.add(Ad(t).y(e))});L("zoomIn",function(t,e){const n=ie(1).sub(t).div(2);return e.rescale(t).move(n,n)});const Nr=(t,e,n)=>t*(n-e)+e,Da=t=>{let{value:e}=t;typeof t.value!="object"&&(e={value:e});let{note:n,n:r,freq:i,s}=e;if(i)return xu(i);if(n=n??r,typeof n=="string")try{return Rn(n)}catch{return 0}return typeof n=="number"?n:s?"_"+s:e};rt.prototype.pianoroll=function(t={}){let{cycles:e=4,playhead:n=.5,overscan:r=0,hideNegative:i=!1,ctx:s=br(),id:u=1}=t,o=-e*n,c=e*(1-n);const h=(p,m)=>(!i||p.whole.begin>=0)&&p.isWithinTime(m+o,m+c);return this.draw((p,m)=>{Cd({...t,time:m,ctx:s,haps:p.filter(d=>h(d,m))})},{lookbehind:o-r,lookahead:c+r,id:u}),this};function Cd({time:t,haps:e,cycles:n=4,playhead:r=.5,flipTime:i=0,flipValues:s=0,hideNegative:u=!1,inactive:o=Sn().foreground,active:c=Sn().foreground,background:h="transparent",smear:p=0,playheadColor:m=Sn().foreground,minMidi:d=10,maxMidi:y=90,autorange:P=0,timeframe:D,fold:B=0,vertical:x=0,labels:N=!1,fill:q=1,fillActive:I=!1,strokeActive:F=!0,stroke:_,hideInactive:S=0,colorizeInactive:V=1,fontFamily:W,ctx:O,id:K}={}){const G=O.canvas.width,z=O.canvas.height;let Z=-n*r,pt=n*(1-r);K&&(e=e.filter(yt=>yt.hasTag(K))),D&&(console.warn("timeframe is deprecated! use from/to instead"),Z=0,pt=D);const nt=x?z:G,lt=x?G:z;let ot=x?[nt,0]:[0,nt];const Ft=pt-Z,oe=x?[0,lt]:[lt,0];let Ut=y-d+1,X=lt/Ut,$t=[];i&&ot.reverse(),s&&oe.reverse();const{min:ne,max:Ae,values:Dt}=e.reduce(({min:yt,max:zt,values:me},de)=>{const xt=Da(de);return{min:xt<yt?xt:yt,max:xt>zt?xt:zt,values:me.includes(xt)?me:[...me,xt]}},{min:1/0,max:-1/0,values:[]});P&&(d=ne,y=Ae,Ut=y-d+1),$t=Dt.sort((yt,zt)=>typeof yt=="number"&&typeof zt=="number"?yt-zt:typeof yt=="number"?1:String(yt).localeCompare(String(zt))),X=B?lt/$t.length:lt/Ut,O.fillStyle=h,O.globalAlpha=1,p||(O.clearRect(0,0,G,z),O.fillRect(0,0,G,z)),e.forEach(yt=>{const zt=yt.whole.begin<=t&&yt.endClipped>t;let me=_??(F&&zt),de=!zt&&q||zt&&I;if(S&&!zt)return;let xt=yt.value?.color;c=xt||c,o=V&&xt||o,xt=zt?c:o,O.fillStyle=de?xt:"transparent",O.strokeStyle=xt;const{velocity:yn=1,gain:St=1}=yt.value||{};O.globalAlpha=yn*St;const Mn=(yt.whole.begin-(i?pt:Z))/Ft,Ce=Nr(Mn,...ot);let Te=Nr(yt.duration/Ft,0,nt);const tn=Da(yt),en=B?$t.indexOf(tn)/$t.length:(Number(tn)-d)/Ut,nn=Nr(en,...oe);let bn=0;const rn=Nr(t/Ft,...ot);let Re;if(x?Re=[nn+1-(s?X:0),nt-rn+Ce+bn+1-(i?0:Te),X-2,Te-2]:Re=[Ce-rn+bn+1-(i?Te:0),nn+1-(s?0:X),Te-2,X-2],me&&O.strokeRect(...Re),de&&O.fillRect(...Re),N){const Ve=yt.value.note??yt.value.s+(yt.value.n?`:${yt.value.n}`:""),{label:gt,activeLabel:Rt}=yt.value,ut=(zt&&Rt||gt)??Ve;let Gt=x?Te:X*.75;O.font=`${Gt}px ${W||"monospace"}`,O.fillStyle=de?"black":xt,O.textBaseline="top",O.fillText(ut,...Re)}}),O.globalAlpha=1;const Zt=Nr(-Z/Ft,...ot);return O.strokeStyle=m,O.beginPath(),x?(O.moveTo(0,Zt),O.lineTo(lt,Zt)):(O.moveTo(Zt,0),O.lineTo(Zt,lt)),O.stroke(),this}function rP(t,e={}){let[n,r]=t;n=Math.abs(n);const i=r+n,s=n/i;return{fold:1,...e,cycles:i,playhead:s}}const iP=(t={})=>(e,n,r,i)=>Cd({ctx:e,time:n,haps:r,...rP(i,t)});rt.prototype.punchcard=function(t){return this.onPaint(iP(t))};rt.prototype.wordfall=function(t){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...t})};function sP(t,e,n,r){const i=(t-90)*Math.PI/180;return[n+Math.cos(i)*e,r+Math.sin(i)*e]}const va=(t,e,n,r,i=0)=>sP((t+i)*360,e*t,n,r);function Ea(t){let{ctx:e,from:n=0,to:r=3,margin:i=50,cx:s=100,cy:u=100,rotate:o=0,thickness:c=i/2,color:h=Sn().foreground,cap:p="round",stretch:m=1,fromOpacity:d=1,toOpacity:y=1}=t;n*=m,r*=m,o*=m,e.lineWidth=c,e.lineCap=p,e.strokeStyle=h,e.globalAlpha=d,e.beginPath();let[P,D]=va(n,i,s,u,o);e.moveTo(P,D);const B=1/60;let x=n;for(;x<=r;){const[N,q]=va(x,i,s,u,o);e.globalAlpha=(x-n)/(r-n)*y,e.lineTo(N,q),x+=B}e.stroke()}function uP(t){let{stretch:e=1,size:n=80,thickness:r=n/2,cap:i="butt",inset:s=3,playheadColor:u="#ffffff",playheadLength:o=.02,playheadThickness:c=r,padding:h=0,steady:p=1,activeColor:m=Sn().foreground,inactiveColor:d=Sn().gutterForeground,colorizeInactive:y=0,fade:P=!0,ctx:D,time:B,haps:x,drawTime:N,id:q}=t;q&&(x=x.filter(G=>G.hasTag(q)));const[I,F]=[D.canvas.width,D.canvas.height];D.clearRect(0,0,I*2,F*2);const[_,S]=[I/2,F/2],V={margin:n/e,cx:_,cy:S,stretch:e,cap:i,thickness:r},W={...V,thickness:c,from:s-o,to:s,color:u},[O]=N,K=p*B;x.forEach(G=>{const z=G.whole.begin<=B&&G.endClipped>B,Z=G.whole.begin-B+s,pt=G.endClipped-B+s-h,nt=G.value?.color||m,lt=y||z?nt:d,ot=P?1-Math.abs((G.whole.begin-B)/O):1;Ea({ctx:D,...V,from:Z,to:pt,rotate:K,color:lt,fromOpacity:ot,toOpacity:ot})}),Ea({ctx:D,...W,rotate:K})}rt.prototype.spiral=function(t={}){return this.onPaint((e,n,r,i)=>uP({ctx:e,time:n,haps:r,drawTime:i,...t}))};const oP=mr(36),Fa=(t,e,n,r)=>{r=r*Math.PI*2;const i=Math.sin(r)*n+t,s=Math.cos(r)*n+e;return[i,s]},Ba=(t,e)=>.5-Math.log2(t/e)%1;function aP({haps:t,ctx:e,id:n,hapcircles:r=1,circle:i=0,edo:s=12,root:u=oP,thickness:o=3,hapRadius:c=6,mode:h="flake",margin:p=10}={}){const m=h==="polygon",d=h==="flake",y=e.canvas.width,P=e.canvas.height;e.clearRect(0,0,y,P);const D=Sn().foreground,B=Math.min(y,P)/2-o/2-c-p,x=y/2,N=P/2;n&&(t=t.filter(I=>I.hasTag(n))),e.strokeStyle=D,e.fillStyle=D,e.globalAlpha=1,e.lineWidth=o,i&&(e.beginPath(),e.arc(x,N,B,0,2*Math.PI),e.stroke()),s&&(Array.from({length:s},(I,F)=>{const _=Ba(u*Math.pow(2,F/s),u),[S,V]=Fa(x,N,B,_);e.beginPath(),e.arc(S,V,c,0,2*Math.PI),e.fill()}),e.stroke());let q=[];e.lineWidth=c,t.forEach(I=>{let F;try{F=Hc(I)}catch{return}const _=Ba(F,u),[S,V]=Fa(x,N,B,_),W=I.value.color||D;e.strokeStyle=W,e.fillStyle=W;const{velocity:O=1,gain:K=1}=I.value||{},G=O*K;e.globalAlpha=G,q.push([S,V,_,W,G]),e.beginPath(),r&&(e.moveTo(S+c,V),e.arc(S,V,c,0,2*Math.PI),e.fill()),d&&(e.moveTo(x,N),e.lineTo(S,V)),e.stroke()}),e.strokeStyle=D,e.globalAlpha=1,m&&q.length&&(q=q.sort((I,F)=>I[2]-F[2]),e.beginPath(),e.moveTo(q[0][0],q[0][1]),q.forEach(([I,F,_,S,V])=>{e.strokeStyle=S,e.globalAlpha=V,e.lineTo(I,F)}),e.lineTo(q[0][0],q[0][1]),e.stroke())}rt.prototype.pitchwheel=function(t={}){let{ctx:e=br(),id:n=1}=t;return this.tag(n).onPaint((r,i,s)=>aP({...t,time:i,ctx:e,haps:s.filter(u=>u.isActive(i)),id:n}))};const{Pattern:yd,logger:cP,repl:lP}=Om;Gm(cP);const Md=t=>(t.ensureObjectValue(),t.value),bd=(t,e,n,r)=>ss(Md(e),t-n,e.duration/r),Pd=(t,e,n,r,i)=>ss(Md(t),i?`=${i}`:e,n);yd.prototype.webaudio=function(){return this.onTrigger(bd)};function Dd(t={}){return t={getTime:()=>Et().currentTime,defaultOutput:Pd,...t},lP(t)}yd.prototype.dough=function(){return this.onTrigger(gd,1)};function vd(t,{align:e=!0,color:n="white",thickness:r=3,scale:i=.25,pos:s=.75,trigger:u=0,ctx:o=br(),id:c=1}={}){o.lineWidth=r,o.strokeStyle=n;let h=o.canvas;if(!t){o.beginPath();let D=s*h.height;o.moveTo(0,D),o.lineTo(h.width,D),o.stroke();return}const p=oo("time",c);o.beginPath();const m=t.frequencyBinCount;let d=e?Array.from(p).findIndex((D,B,x)=>B&&x[B-1]>-u&&D<=-u):0;d=Math.max(d,0);const y=h.width*1/m;let P=0;for(let D=d;D<m;D++){const B=p[D]+1,x=(s-i*(B-1))*h.height;D===0?o.moveTo(P,x):o.lineTo(P,x),P+=y}o.stroke()}function Ed(t,{color:e="white",scale:n=.25,pos:r=.75,lean:i=.5,min:s=-150,max:u=0,ctx:o=br(),id:c=1}={}){if(!t){o.beginPath();let P=r*p.height;o.moveTo(0,P),o.lineTo(p.width,P),o.stroke();return}const h=oo("frequency",c),p=o.canvas;o.fillStyle=e;const m=t.frequencyBinCount,d=p.width*1/m;let y=0;for(let P=0;P<m;P++){const D=Ru((h[P]-s)/(u-s),0,1)*n,B=D*p.height,x=(r-D*i)*p.height;o.fillRect(y,x,Math.max(d,1),B),y+=d}}function Fd(t=0,e="0,0,0",n=br()){t?(n.fillStyle=`rgba(${e},${1-t})`,n.fillRect(0,0,n.canvas.width,n.canvas.height)):n.clearRect(0,0,n.canvas.width,n.canvas.height)}rt.prototype.fscope=function(t={}){let e=t.id??1;return this.analyze(e).draw(()=>{Fd(t.smear,"0,0,0",t.ctx),he[e]&&Ed(he[e],t)},{id:e})};rt.prototype.tscope=function(t={}){let e=t.id??1;return this.analyze(e).draw(n=>{t.color=n[0]?.value?.color||Sn().foreground,t.color,Fd(t.smear,"0,0,0",t.ctx),vd(he[e],t)},{id:e})};rt.prototype.scope=rt.prototype.tscope;const hP=Object.freeze(Object.defineProperty({__proto__:null,get analysers(){return he},get analysersData(){return qn},applyFM:no,connectToDestination:is,createFilter:Ei,dough:tP,doughTrigger:gd,drawFrequencyScope:Ed,drawTimeScope:vd,drywet:Xm,dspWorklet:dd,gainNode:Fn,getADSRValues:xn,getAnalyserById:od,getAnalyzerData:oo,getAudioContext:Et,getCachedBuffer:_b,getCompressor:qm,getDefaultValue:qt,getLoadedBuffer:Nb,getOscillator:pd,getParamADSR:In,getPitchEnvelope:es,getSampleBufferSource:Hm,getSound:Fi,getVibratoOscillator:ns,getWorklet:Bn,getZZFX:md,initAudio:id,initAudioOnFirstClick:sd,initializeAudioOutput:ud,loadBuffer:io,logger:ze,onTriggerSample:td,panic:Gb,processSampleMap:$m,registerSamplesPrefix:Tb,registerSound:lr,registerSynthSounds:ld,registerZZFXSounds:Qb,resetDefaultValues:nd,resetGlobalEffects:Zb,resetLoadedSounds:Ob,reverseBuffer:Km,samples:Qm,setDefaultAudioContext:rd,setDefaultValue:uo,setDefaultValues:Vb,setLogger:Gm,setVersionDefaults:Lb,soundMap:rs,superdough:ss,superdoughTrigger:Hb,waveformN:hd,webAudioTimeout:Zm,webaudioOutput:Pd,webaudioOutputTrigger:bd,webaudioRepl:Dd},Symbol.toStringTag,{value:"Module"}));function pP(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function Kn(t,e,n,r){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Kn.prototype),i.expected=e,i.found=n,i.location=r,i.name="SyntaxError",i}pP(Kn,Error);function Vs(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,n+=n.repeat(e),t+n.slice(0,e))}Kn.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n=null,r;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){n=t[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,u=this.location.source+":"+s.line+":"+s.column;if(n){var o=this.location.end,c=Vs("",s.line.toString().length," "),h=n[i.line-1],p=i.line===o.line?o.column:h.length+1,m=p-i.column||1;e+=`
 --> `+u+`
`+c+` |
`+s.line+" | "+h+`
`+c+" | "+Vs("",i.column-1," ")+Vs("",m,"^")}else e+=`
 at `+u}return e};Kn.buildMessage=function(t,e){var n={literal:function(h){return'"'+i(h.text)+'"'},class:function(h){var p=h.parts.map(function(m){return Array.isArray(m)?s(m[0])+"-"+s(m[1]):s(m)});return"["+(h.inverted?"^":"")+p.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(h){return h.description}};function r(h){return h.charCodeAt(0).toString(16).toUpperCase()}function i(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+r(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+r(p)})}function s(h){return h.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+r(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+r(p)})}function u(h){return n[h.type](h)}function o(h){var p=h.map(u),m,d;if(p.sort(),p.length>0){for(m=1,d=1;m<p.length;m++)p[m-1]!==p[m]&&(p[d]=p[m],d++);p.length=d}switch(p.length){case 1:return p[0];case 2:return p[0]+" or "+p[1];default:return p.slice(0,-1).join(", ")+", or "+p[p.length-1]}}function c(h){return h?'"'+i(h)+'"':"end of input"}return"Expected "+o(t)+" but "+c(e)+" found."};function Bd(t,e){e=e!==void 0?e:{};var n={},r=e.grammarSource,i={start:ra},s=ra,u=".",o="-",c="+",h="0",p=",",m="|",d='"',y="'",P="#",D="^",B="_",x="[",N="]",q="{",I="}",F="%",_="<",S=">",V="@",W="!",O="(",K=")",G="/",z="*",Z="?",pt=":",nt="..",lt="struct",ot="target",Ft="euclid",oe="slow",Ut="rotL",X="rotR",$t="fast",ne="scale",Ae="//",Dt="cat",Zt="$",yt="setcps",zt="setbpm",me="hush",de=/^[1-9]/,xt=/^[eE]/,yn=/^[0-9]/,St=/^[ \n\r\t\xA0]/,Mn=/^[0-9~]/,Ce=/^[^\n]/,Te=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,tn=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,en=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05EF-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,nn=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,bn=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]/,rn=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,Re=Bs("number"),Ve=dt(".",!1),gt=be([["1","9"]],!1,!1),Rt=be(["e","E"],!1,!1),ut=dt("-",!1),Gt=dt("+",!1),_t=dt("0",!1),Sr=be([["0","9"]],!1,!1),Pn=Bs("whitespace"),Mt=be([" ",`
`,"\r","	"," "],!1,!1),sn=dt(",",!1),ae=dt("|",!1),kt=dt('"',!1),Gn=dt("'",!1),Qn=Bs('a letter, a number, "-", "#", ".", "^", "_"'),at=be([["0","9"],"~"],!1,!1),Vt=dt("#",!1),ye=dt("^",!1),ce=dt("_",!1),_r=dt("[",!1),ci=dt("]",!1),Es=dt("{",!1),l=dt("}",!1),g=dt("%",!1),f=dt("<",!1),A=dt(">",!1),v=dt("@",!1),k=dt("!",!1),R=dt("(",!1),j=dt(")",!1),Y=dt("/",!1),ft=dt("*",!1),Wt=dt("?",!1),un=dt(":",!1),Dn=dt("..",!1),li=dt("struct",!1),hi=dt("target",!1),Me=dt("euclid",!1),uA=dt("slow",!1),oA=dt("rotL",!1),aA=dt("rotR",!1),cA=dt("fast",!1),lA=dt("scale",!1),hA=dt("//",!1),Qo=be([`
`],!0,!1),pA=dt("cat",!1),mA=dt("$",!1),dA=dt("setcps",!1),fA=dt("setbpm",!1),gA=dt("hush",!1),AA=be([["a","z"],"µ",["ß","ö"],["ø","ÿ"],"ā","ă","ą","ć","ĉ","ċ","č","ď","đ","ē","ĕ","ė","ę","ě","ĝ","ğ","ġ","ģ","ĥ","ħ","ĩ","ī","ĭ","į","ı","ĳ","ĵ",["ķ","ĸ"],"ĺ","ļ","ľ","ŀ","ł","ń","ņ",["ň","ŉ"],"ŋ","ō","ŏ","ő","œ","ŕ","ŗ","ř","ś","ŝ","ş","š","ţ","ť","ŧ","ũ","ū","ŭ","ů","ű","ų","ŵ","ŷ","ź","ż",["ž","ƀ"],"ƃ","ƅ","ƈ",["ƌ","ƍ"],"ƒ","ƕ",["ƙ","ƛ"],"ƞ","ơ","ƣ","ƥ","ƨ",["ƪ","ƫ"],"ƭ","ư","ƴ","ƶ",["ƹ","ƺ"],["ƽ","ƿ"],"ǆ","ǉ","ǌ","ǎ","ǐ","ǒ","ǔ","ǖ","ǘ","ǚ",["ǜ","ǝ"],"ǟ","ǡ","ǣ","ǥ","ǧ","ǩ","ǫ","ǭ",["ǯ","ǰ"],"ǳ","ǵ","ǹ","ǻ","ǽ","ǿ","ȁ","ȃ","ȅ","ȇ","ȉ","ȋ","ȍ","ȏ","ȑ","ȓ","ȕ","ȗ","ș","ț","ȝ","ȟ","ȡ","ȣ","ȥ","ȧ","ȩ","ȫ","ȭ","ȯ","ȱ",["ȳ","ȹ"],"ȼ",["ȿ","ɀ"],"ɂ","ɇ","ɉ","ɋ","ɍ",["ɏ","ʓ"],["ʕ","ʯ"],"ͱ","ͳ","ͷ",["ͻ","ͽ"],"ΐ",["ά","ώ"],["ϐ","ϑ"],["ϕ","ϗ"],"ϙ","ϛ","ϝ","ϟ","ϡ","ϣ","ϥ","ϧ","ϩ","ϫ","ϭ",["ϯ","ϳ"],"ϵ","ϸ",["ϻ","ϼ"],["а","џ"],"ѡ","ѣ","ѥ","ѧ","ѩ","ѫ","ѭ","ѯ","ѱ","ѳ","ѵ","ѷ","ѹ","ѻ","ѽ","ѿ","ҁ","ҋ","ҍ","ҏ","ґ","ғ","ҕ","җ","ҙ","қ","ҝ","ҟ","ҡ","ң","ҥ","ҧ","ҩ","ҫ","ҭ","ү","ұ","ҳ","ҵ","ҷ","ҹ","һ","ҽ","ҿ","ӂ","ӄ","ӆ","ӈ","ӊ","ӌ",["ӎ","ӏ"],"ӑ","ӓ","ӕ","ӗ","ә","ӛ","ӝ","ӟ","ӡ","ӣ","ӥ","ӧ","ө","ӫ","ӭ","ӯ","ӱ","ӳ","ӵ","ӷ","ӹ","ӻ","ӽ","ӿ","ԁ","ԃ","ԅ","ԇ","ԉ","ԋ","ԍ","ԏ","ԑ","ԓ","ԕ","ԗ","ԙ","ԛ","ԝ","ԟ","ԡ","ԣ","ԥ","ԧ","ԩ","ԫ","ԭ","ԯ",["ՠ","ֈ"],["ა","ჺ"],["ჽ","ჿ"],["ᏸ","ᏽ"],["ᲀ","ᲈ"],["ᴀ","ᴫ"],["ᵫ","ᵷ"],["ᵹ","ᶚ"],"ḁ","ḃ","ḅ","ḇ","ḉ","ḋ","ḍ","ḏ","ḑ","ḓ","ḕ","ḗ","ḙ","ḛ","ḝ","ḟ","ḡ","ḣ","ḥ","ḧ","ḩ","ḫ","ḭ","ḯ","ḱ","ḳ","ḵ","ḷ","ḹ","ḻ","ḽ","ḿ","ṁ","ṃ","ṅ","ṇ","ṉ","ṋ","ṍ","ṏ","ṑ","ṓ","ṕ","ṗ","ṙ","ṛ","ṝ","ṟ","ṡ","ṣ","ṥ","ṧ","ṩ","ṫ","ṭ","ṯ","ṱ","ṳ","ṵ","ṷ","ṹ","ṻ","ṽ","ṿ","ẁ","ẃ","ẅ","ẇ","ẉ","ẋ","ẍ","ẏ","ẑ","ẓ",["ẕ","ẝ"],"ẟ","ạ","ả","ấ","ầ","ẩ","ẫ","ậ","ắ","ằ","ẳ","ẵ","ặ","ẹ","ẻ","ẽ","ế","ề","ể","ễ","ệ","ỉ","ị","ọ","ỏ","ố","ồ","ổ","ỗ","ộ","ớ","ờ","ở","ỡ","ợ","ụ","ủ","ứ","ừ","ử","ữ","ự","ỳ","ỵ","ỷ","ỹ","ỻ","ỽ",["ỿ","ἇ"],["ἐ","ἕ"],["ἠ","ἧ"],["ἰ","ἷ"],["ὀ","ὅ"],["ὐ","ὗ"],["ὠ","ὧ"],["ὰ","ώ"],["ᾀ","ᾇ"],["ᾐ","ᾗ"],["ᾠ","ᾧ"],["ᾰ","ᾴ"],["ᾶ","ᾷ"],"ι",["ῂ","ῄ"],["ῆ","ῇ"],["ῐ","ΐ"],["ῖ","ῗ"],["ῠ","ῧ"],["ῲ","ῴ"],["ῶ","ῷ"],"ℊ",["ℎ","ℏ"],"ℓ","ℯ","ℴ","ℹ",["ℼ","ℽ"],["ⅆ","ⅉ"],"ⅎ","ↄ",["ⰰ","ⱞ"],"ⱡ",["ⱥ","ⱦ"],"ⱨ","ⱪ","ⱬ","ⱱ",["ⱳ","ⱴ"],["ⱶ","ⱻ"],"ⲁ","ⲃ","ⲅ","ⲇ","ⲉ","ⲋ","ⲍ","ⲏ","ⲑ","ⲓ","ⲕ","ⲗ","ⲙ","ⲛ","ⲝ","ⲟ","ⲡ","ⲣ","ⲥ","ⲧ","ⲩ","ⲫ","ⲭ","ⲯ","ⲱ","ⲳ","ⲵ","ⲷ","ⲹ","ⲻ","ⲽ","ⲿ","ⳁ","ⳃ","ⳅ","ⳇ","ⳉ","ⳋ","ⳍ","ⳏ","ⳑ","ⳓ","ⳕ","ⳗ","ⳙ","ⳛ","ⳝ","ⳟ","ⳡ",["ⳣ","ⳤ"],"ⳬ","ⳮ","ⳳ",["ⴀ","ⴥ"],"ⴧ","ⴭ","ꙁ","ꙃ","ꙅ","ꙇ","ꙉ","ꙋ","ꙍ","ꙏ","ꙑ","ꙓ","ꙕ","ꙗ","ꙙ","ꙛ","ꙝ","ꙟ","ꙡ","ꙣ","ꙥ","ꙧ","ꙩ","ꙫ","ꙭ","ꚁ","ꚃ","ꚅ","ꚇ","ꚉ","ꚋ","ꚍ","ꚏ","ꚑ","ꚓ","ꚕ","ꚗ","ꚙ","ꚛ","ꜣ","ꜥ","ꜧ","ꜩ","ꜫ","ꜭ",["ꜯ","ꜱ"],"ꜳ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ꜿ","ꝁ","ꝃ","ꝅ","ꝇ","ꝉ","ꝋ","ꝍ","ꝏ","ꝑ","ꝓ","ꝕ","ꝗ","ꝙ","ꝛ","ꝝ","ꝟ","ꝡ","ꝣ","ꝥ","ꝧ","ꝩ","ꝫ","ꝭ","ꝯ",["ꝱ","ꝸ"],"ꝺ","ꝼ","ꝿ","ꞁ","ꞃ","ꞅ","ꞇ","ꞌ","ꞎ","ꞑ",["ꞓ","ꞕ"],"ꞗ","ꞙ","ꞛ","ꞝ","ꞟ","ꞡ","ꞣ","ꞥ","ꞧ","ꞩ","ꞯ","ꞵ","ꞷ","ꞹ","ꟺ",["ꬰ","ꭚ"],["ꭠ","ꭥ"],["ꭰ","ꮿ"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],["ａ","ｚ"]],!1,!1),CA=be([["ʰ","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ","ʹ","ͺ","ՙ","ـ",["ۥ","ۦ"],["ߴ","ߵ"],"ߺ","ࠚ","ࠤ","ࠨ","ॱ","ๆ","ໆ","ჼ","ៗ","ᡃ","ᪧ",["ᱸ","ᱽ"],["ᴬ","ᵪ"],"ᵸ",["ᶛ","ᶿ"],"ⁱ","ⁿ",["ₐ","ₜ"],["ⱼ","ⱽ"],"ⵯ","ⸯ","々",["〱","〵"],"〻",["ゝ","ゞ"],["ー","ヾ"],"ꀕ",["ꓸ","ꓽ"],"ꘌ","ꙿ",["ꚜ","ꚝ"],["ꜗ","ꜟ"],"ꝰ","ꞈ",["ꟸ","ꟹ"],"ꧏ","ꧦ","ꩰ","ꫝ",["ꫳ","ꫴ"],["ꭜ","ꭟ"],"ｰ",["ﾞ","ﾟ"]],!1,!1),yA=be(["ª","º","ƻ",["ǀ","ǃ"],"ʔ",["א","ת"],["ׯ","ײ"],["ؠ","ؿ"],["ف","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ࠀ","ࠕ"],["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॲ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๅ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["ᄀ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛱ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៜ",["ᠠ","ᡂ"],["ᡄ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱷ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ℵ","ℸ"],["ⴰ","ⵧ"],["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"〆","〼",["ぁ","ゖ"],"ゟ",["ァ","ヺ"],"ヿ",["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꀔ"],["ꀖ","ꒌ"],["ꓐ","ꓷ"],["ꔀ","ꘋ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],"ꙮ",["ꚠ","ꛥ"],"ꞏ","ꟷ",["ꟻ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],["ꧠ","ꧤ"],["ꧧ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩯ"],["ꩱ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫜ"],["ꫠ","ꫪ"],"ꫲ",["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꯀ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["ｦ","ｯ"],["ｱ","ﾝ"],["ﾠ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),MA=be(["ǅ","ǈ","ǋ","ǲ",["ᾈ","ᾏ"],["ᾘ","ᾟ"],["ᾨ","ᾯ"],"ᾼ","ῌ","ῼ"],!1,!1),bA=be([["A","Z"],["À","Ö"],["Ø","Þ"],"Ā","Ă","Ą","Ć","Ĉ","Ċ","Č","Ď","Đ","Ē","Ĕ","Ė","Ę","Ě","Ĝ","Ğ","Ġ","Ģ","Ĥ","Ħ","Ĩ","Ī","Ĭ","Į","İ","Ĳ","Ĵ","Ķ","Ĺ","Ļ","Ľ","Ŀ","Ł","Ń","Ņ","Ň","Ŋ","Ō","Ŏ","Ő","Œ","Ŕ","Ŗ","Ř","Ś","Ŝ","Ş","Š","Ţ","Ť","Ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","Ŵ","Ŷ",["Ÿ","Ź"],"Ż","Ž",["Ɓ","Ƃ"],"Ƅ",["Ɔ","Ƈ"],["Ɖ","Ƌ"],["Ǝ","Ƒ"],["Ɠ","Ɣ"],["Ɩ","Ƙ"],["Ɯ","Ɲ"],["Ɵ","Ơ"],"Ƣ","Ƥ",["Ʀ","Ƨ"],"Ʃ","Ƭ",["Ʈ","Ư"],["Ʊ","Ƴ"],"Ƶ",["Ʒ","Ƹ"],"Ƽ","Ǆ","Ǉ","Ǌ","Ǎ","Ǐ","Ǒ","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ǟ","Ǡ","Ǣ","Ǥ","Ǧ","Ǩ","Ǫ","Ǭ","Ǯ","Ǳ","Ǵ",["Ƕ","Ǹ"],"Ǻ","Ǽ","Ǿ","Ȁ","Ȃ","Ȅ","Ȇ","Ȉ","Ȋ","Ȍ","Ȏ","Ȑ","Ȓ","Ȕ","Ȗ","Ș","Ț","Ȝ","Ȟ","Ƞ","Ȣ","Ȥ","Ȧ","Ȩ","Ȫ","Ȭ","Ȯ","Ȱ","Ȳ",["Ⱥ","Ȼ"],["Ƚ","Ⱦ"],"Ɂ",["Ƀ","Ɇ"],"Ɉ","Ɋ","Ɍ","Ɏ","Ͱ","Ͳ","Ͷ","Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ώ"],["Α","Ρ"],["Σ","Ϋ"],"Ϗ",["ϒ","ϔ"],"Ϙ","Ϛ","Ϝ","Ϟ","Ϡ","Ϣ","Ϥ","Ϧ","Ϩ","Ϫ","Ϭ","Ϯ","ϴ","Ϸ",["Ϲ","Ϻ"],["Ͻ","Я"],"Ѡ","Ѣ","Ѥ","Ѧ","Ѩ","Ѫ","Ѭ","Ѯ","Ѱ","Ѳ","Ѵ","Ѷ","Ѹ","Ѻ","Ѽ","Ѿ","Ҁ","Ҋ","Ҍ","Ҏ","Ґ","Ғ","Ҕ","Җ","Ҙ","Қ","Ҝ","Ҟ","Ҡ","Ң","Ҥ","Ҧ","Ҩ","Ҫ","Ҭ","Ү","Ұ","Ҳ","Ҵ","Ҷ","Ҹ","Һ","Ҽ","Ҿ",["Ӏ","Ӂ"],"Ӄ","Ӆ","Ӈ","Ӊ","Ӌ","Ӎ","Ӑ","Ӓ","Ӕ","Ӗ","Ә","Ӛ","Ӝ","Ӟ","Ӡ","Ӣ","Ӥ","Ӧ","Ө","Ӫ","Ӭ","Ӯ","Ӱ","Ӳ","Ӵ","Ӷ","Ӹ","Ӻ","Ӽ","Ӿ","Ԁ","Ԃ","Ԅ","Ԇ","Ԉ","Ԋ","Ԍ","Ԏ","Ԑ","Ԓ","Ԕ","Ԗ","Ԙ","Ԛ","Ԝ","Ԟ","Ԡ","Ԣ","Ԥ","Ԧ","Ԩ","Ԫ","Ԭ","Ԯ",["Ա","Ֆ"],["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["Ꭰ","Ᏽ"],["Ა","Ჺ"],["Ჽ","Ჿ"],"Ḁ","Ḃ","Ḅ","Ḇ","Ḉ","Ḋ","Ḍ","Ḏ","Ḑ","Ḓ","Ḕ","Ḗ","Ḙ","Ḛ","Ḝ","Ḟ","Ḡ","Ḣ","Ḥ","Ḧ","Ḩ","Ḫ","Ḭ","Ḯ","Ḱ","Ḳ","Ḵ","Ḷ","Ḹ","Ḻ","Ḽ","Ḿ","Ṁ","Ṃ","Ṅ","Ṇ","Ṉ","Ṋ","Ṍ","Ṏ","Ṑ","Ṓ","Ṕ","Ṗ","Ṙ","Ṛ","Ṝ","Ṟ","Ṡ","Ṣ","Ṥ","Ṧ","Ṩ","Ṫ","Ṭ","Ṯ","Ṱ","Ṳ","Ṵ","Ṷ","Ṹ","Ṻ","Ṽ","Ṿ","Ẁ","Ẃ","Ẅ","Ẇ","Ẉ","Ẋ","Ẍ","Ẏ","Ẑ","Ẓ","Ẕ","ẞ","Ạ","Ả","Ấ","Ầ","Ẩ","Ẫ","Ậ","Ắ","Ằ","Ẳ","Ẵ","Ặ","Ẹ","Ẻ","Ẽ","Ế","Ề","Ể","Ễ","Ệ","Ỉ","Ị","Ọ","Ỏ","Ố","Ồ","Ổ","Ỗ","Ộ","Ớ","Ờ","Ở","Ỡ","Ợ","Ụ","Ủ","Ứ","Ừ","Ử","Ữ","Ự","Ỳ","Ỵ","Ỷ","Ỹ","Ỻ","Ỽ","Ỿ",["Ἀ","Ἇ"],["Ἐ","Ἕ"],["Ἠ","Ἧ"],["Ἰ","Ἷ"],["Ὀ","Ὅ"],"Ὑ","Ὓ","Ὕ","Ὗ",["Ὠ","Ὧ"],["Ᾰ","Ά"],["Ὲ","Ή"],["Ῐ","Ί"],["Ῠ","Ῥ"],["Ὸ","Ώ"],"ℂ","ℇ",["ℋ","ℍ"],["ℐ","ℒ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℰ","ℳ"],["ℾ","ℿ"],"ⅅ","Ↄ",["Ⰰ","Ⱞ"],"Ⱡ",["Ɫ","Ɽ"],"Ⱨ","Ⱪ","Ⱬ",["Ɑ","Ɒ"],"Ⱳ","Ⱶ",["Ȿ","Ⲁ"],"Ⲃ","Ⲅ","Ⲇ","Ⲉ","Ⲋ","Ⲍ","Ⲏ","Ⲑ","Ⲓ","Ⲕ","Ⲗ","Ⲙ","Ⲛ","Ⲝ","Ⲟ","Ⲡ","Ⲣ","Ⲥ","Ⲧ","Ⲩ","Ⲫ","Ⲭ","Ⲯ","Ⲱ","Ⲳ","Ⲵ","Ⲷ","Ⲹ","Ⲻ","Ⲽ","Ⲿ","Ⳁ","Ⳃ","Ⳅ","Ⳇ","Ⳉ","Ⳋ","Ⳍ","Ⳏ","Ⳑ","Ⳓ","Ⳕ","Ⳗ","Ⳙ","Ⳛ","Ⳝ","Ⳟ","Ⳡ","Ⳣ","Ⳬ","Ⳮ","Ⳳ","Ꙁ","Ꙃ","Ꙅ","Ꙇ","Ꙉ","Ꙋ","Ꙍ","Ꙏ","Ꙑ","Ꙓ","Ꙕ","Ꙗ","Ꙙ","Ꙛ","Ꙝ","Ꙟ","Ꙡ","Ꙣ","Ꙥ","Ꙧ","Ꙩ","Ꙫ","Ꙭ","Ꚁ","Ꚃ","Ꚅ","Ꚇ","Ꚉ","Ꚋ","Ꚍ","Ꚏ","Ꚑ","Ꚓ","Ꚕ","Ꚗ","Ꚙ","Ꚛ","Ꜣ","Ꜥ","Ꜧ","Ꜩ","Ꜫ","Ꜭ","Ꜯ","Ꜳ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ꜿ","Ꝁ","Ꝃ","Ꝅ","Ꝇ","Ꝉ","Ꝋ","Ꝍ","Ꝏ","Ꝑ","Ꝓ","Ꝕ","Ꝗ","Ꝙ","Ꝛ","Ꝝ","Ꝟ","Ꝡ","Ꝣ","Ꝥ","Ꝧ","Ꝩ","Ꝫ","Ꝭ","Ꝯ","Ꝺ","Ꝼ",["Ᵹ","Ꝿ"],"Ꞁ","Ꞃ","Ꞅ","Ꞇ","Ꞌ","Ɥ","Ꞑ","Ꞓ","Ꞗ","Ꞙ","Ꞛ","Ꞝ","Ꞟ","Ꞡ","Ꞣ","Ꞥ","Ꞧ","Ꞩ",["Ɦ","Ɪ"],["Ʞ","Ꞵ"],"Ꞷ","Ꞹ",["Ａ","Ｚ"]],!1,!1),PA=be([["ᛮ","ᛰ"],["Ⅰ","ↂ"],["ↅ","ↈ"],"〇",["〡","〩"],["〸","〺"],["ꛦ","ꛯ"]],!1,!1),DA=function(){return parseFloat(aC())},vA=function(a){const M=a.join("");return M==="."||M==="_"},EA=function(a){return new i2(a.join(""))},FA=function(a){return a},BA=function(a,M){return a.arguments_.stepsPerCycle=M,a},wA=function(a){return a},IA=function(a){return a.arguments_.alignment="polymeter_slowcat",a},xA=function(a){return M=>M.options_.weight=(M.options_.weight??1)+(a??2)-1},SA=function(a){return M=>{const E=(M.options_.reps??1)+(a??2)-1;M.options_.reps=E,M.options_.ops=M.options_.ops.filter(T=>T.type_!=="replicate"),M.options_.ops.push({type_:"replicate",arguments_:{amount:E}}),M.options_.weight=E}},_A=function(a,M,E){return T=>T.options_.ops.push({type_:"bjorklund",arguments_:{pulse:a,step:M,rotation:E}})},kA=function(a){return M=>M.options_.ops.push({type_:"stretch",arguments_:{amount:a,type:"slow"}})},NA=function(a){return M=>M.options_.ops.push({type_:"stretch",arguments_:{amount:a,type:"fast"}})},TA=function(a){return M=>M.options_.ops.push({type_:"degradeBy",arguments_:{amount:a,seed:Ss++}})},RA=function(a){return M=>M.options_.ops.push({type_:"tail",arguments_:{element:a}})},VA=function(a){return M=>M.options_.ops.push({type_:"range",arguments_:{element:a}})},LA=function(a,M){const E=new u2(a,{ops:[],weight:1,reps:1});for(const T of M)T(E);return E},OA=function(a,M){return new gi(M,"fastcat",void 0,!!a)},jA=function(a){return{alignment:"stack",list:a}},GA=function(a){return{alignment:"rand",list:a,seed:Ss++}},zA=function(a){return{alignment:"feet",list:a,seed:Ss++}},WA=function(a,M){return M&&M.list.length>0?new gi([a,...M.list],M.alignment,M.seed):a},qA=function(a,M){return new gi(M?[a,...M.list]:[a],"polymeter")},XA=function(a){return a},ZA=function(a){return{name:"struct",args:{mini:a}}},HA=function(a){return{name:"target",args:{name:a}}},KA=function(a,M,E){return{name:"bjorklund",args:{pulse:a,step:parseInt(M)}}},YA=function(a){return{name:"stretch",args:{amount:a}}},UA=function(a){return{name:"shift",args:{amount:"-"+a}}},$A=function(a){return{name:"shift",args:{amount:a}}},JA=function(a){return{name:"stretch",args:{amount:"1/"+a}}},QA=function(a){return{name:"scale",args:{scale:a.join("")}}},ta=function(a,M){return M},tC=function(a,M){return M.unshift(a),new gi(M,"slowcat")},eC=function(a){return a},nC=function(a,M){return new s2(a.name,a.args,M)},rC=function(a){return a},iC=function(a){return a},sC=function(a){return new xs("setcps",{value:a})},uC=function(a){return new xs("setcps",{value:a/120/2})},oC=function(){return new xs("hush")},b=0,mt=0,pi=[{line:1,column:1}],Ze=0,Fs=[],H=0,mi;if("startRule"in e){if(!(e.startRule in i))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');s=i[e.startRule]}function aC(){return t.substring(mt,b)}function ea(){return ws(mt,b)}function dt(a,M){return{type:"literal",text:a,ignoreCase:M}}function be(a,M,E){return{type:"class",parts:a,inverted:M,ignoreCase:E}}function cC(){return{type:"end"}}function Bs(a){return{type:"other",description:a}}function na(a){var M=pi[a],E;if(M)return M;for(E=a-1;!pi[E];)E--;for(M=pi[E],M={line:M.line,column:M.column};E<a;)t.charCodeAt(E)===10?(M.line++,M.column=1):M.column++,E++;return pi[a]=M,M}function ws(a,M,E){var T=na(a),it=na(M),Nt={source:r,start:{offset:a,line:T.line,column:T.column},end:{offset:M,line:it.line,column:it.column}};return Nt}function $(a){b<Ze||(b>Ze&&(Ze=b,Fs=[]),Fs.push(a))}function lC(a,M,E){return new Kn(Kn.buildMessage(a,M),a,M,E)}function ra(){var a;return a=UC(),a}function on(){var a,M;return H++,a=b,ia(),M=di(),M!==n?(fC(),dC(),mt=a,a=DA()):(b=a,a=n),H--,a===n&&H===0&&$(Re),a}function hC(){var a;return t.charCodeAt(b)===46?(a=u,b++):(a=n,H===0&&$(Ve)),a}function pC(){var a;return de.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(gt)),a}function mC(){var a;return xt.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(Rt)),a}function dC(){var a,M,E,T,it;if(a=b,M=mC(),M!==n){if(E=ia(),E===n&&(E=gC()),E===n&&(E=null),T=[],it=tr(),it!==n)for(;it!==n;)T.push(it),it=tr();else T=n;T!==n?(M=[M,E,T],a=M):(b=a,a=n)}else b=a,a=n;return a}function fC(){var a,M,E,T;if(a=b,M=hC(),M!==n){if(E=[],T=tr(),T!==n)for(;T!==n;)E.push(T),T=tr();else E=n;E!==n?(M=[M,E],a=M):(b=a,a=n)}else b=a,a=n;return a}function di(){var a,M,E,T;if(a=AC(),a===n)if(a=b,M=pC(),M!==n){for(E=[],T=tr();T!==n;)E.push(T),T=tr();M=[M,E],a=M}else b=a,a=n;return a}function ia(){var a;return t.charCodeAt(b)===45?(a=o,b++):(a=n,H===0&&$(ut)),a}function gC(){var a;return t.charCodeAt(b)===43?(a=c,b++):(a=n,H===0&&$(Gt)),a}function AC(){var a;return t.charCodeAt(b)===48?(a=h,b++):(a=n,H===0&&$(_t)),a}function tr(){var a;return yn.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(Sr)),a}function ct(){var a,M;for(H++,a=[],St.test(t.charAt(b))?(M=t.charAt(b),b++):(M=n,H===0&&$(Mt));M!==n;)a.push(M),St.test(t.charAt(b))?(M=t.charAt(b),b++):(M=n,H===0&&$(Mt));return H--,M=n,H===0&&$(Pn),a}function er(){var a,M,E,T;return a=b,M=ct(),t.charCodeAt(b)===44?(E=p,b++):(E=n,H===0&&$(sn)),E!==n?(T=ct(),M=[M,E,T],a=M):(b=a,a=n),a}function sa(){var a,M,E,T;return a=b,M=ct(),t.charCodeAt(b)===124?(E=m,b++):(E=n,H===0&&$(ae)),E!==n?(T=ct(),M=[M,E,T],a=M):(b=a,a=n),a}function ua(){var a,M,E,T;return a=b,M=ct(),t.charCodeAt(b)===46?(E=u,b++):(E=n,H===0&&$(Ve)),E!==n?(T=ct(),M=[M,E,T],a=M):(b=a,a=n),a}function nr(){var a;return t.charCodeAt(b)===34?(a=d,b++):(a=n,H===0&&$(kt)),a===n&&(t.charCodeAt(b)===39?(a=y,b++):(a=n,H===0&&$(Gn))),a}function fi(){var a;return H++,a=$C(),a===n&&(Mn.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(at)),a===n&&(t.charCodeAt(b)===45?(a=o,b++):(a=n,H===0&&$(ut)),a===n&&(t.charCodeAt(b)===35?(a=P,b++):(a=n,H===0&&$(Vt)),a===n&&(t.charCodeAt(b)===46?(a=u,b++):(a=n,H===0&&$(Ve)),a===n&&(t.charCodeAt(b)===94?(a=D,b++):(a=n,H===0&&$(ye)),a===n&&(t.charCodeAt(b)===95?(a=B,b++):(a=n,H===0&&$(ce)))))))),H--,a===n&&H===0&&$(Qn),a}function oa(){var a,M,E,T;if(a=b,ct(),M=[],E=fi(),E!==n)for(;E!==n;)M.push(E),E=fi();else M=n;return M!==n?(E=ct(),mt=b,T=vA(M),T?T=n:T=void 0,T!==n?(mt=a,a=EA(M)):(b=a,a=n)):(b=a,a=n),a}function CC(){var a,M,E,T;return a=b,ct(),t.charCodeAt(b)===91?(M=x,b++):(M=n,H===0&&$(_r)),M!==n?(ct(),E=la(),E!==n?(ct(),t.charCodeAt(b)===93?(T=N,b++):(T=n,H===0&&$(ci)),T!==n?(ct(),mt=a,a=FA(E)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n),a}function yC(){var a,M,E,T,it;return a=b,ct(),t.charCodeAt(b)===123?(M=q,b++):(M=n,H===0&&$(Es)),M!==n?(ct(),E=ha(),E!==n?(ct(),t.charCodeAt(b)===125?(T=I,b++):(T=n,H===0&&$(l)),T!==n?(it=MC(),it===n&&(it=null),ct(),mt=a,a=BA(E,it)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n),a}function MC(){var a,M,E;return a=b,t.charCodeAt(b)===37?(M=F,b++):(M=n,H===0&&$(g)),M!==n?(E=rr(),E!==n?(mt=a,a=wA(E)):(b=a,a=n)):(b=a,a=n),a}function bC(){var a,M,E,T;return a=b,ct(),t.charCodeAt(b)===60?(M=_,b++):(M=n,H===0&&$(f)),M!==n?(ct(),E=ha(),E!==n?(ct(),t.charCodeAt(b)===62?(T=S,b++):(T=n,H===0&&$(A)),T!==n?(ct(),mt=a,a=IA(E)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n),a}function rr(){var a;return a=oa(),a===n&&(a=CC(),a===n&&(a=yC(),a===n&&(a=bC()))),a}function aa(){var a;return a=PC(),a===n&&(a=vC(),a===n&&(a=EC(),a===n&&(a=FC(),a===n&&(a=DC(),a===n&&(a=BC(),a===n&&(a=wC(),a===n&&(a=IC()))))))),a}function PC(){var a,M,E;return a=b,ct(),t.charCodeAt(b)===64?(M=V,b++):(M=n,H===0&&$(v)),M===n&&(t.charCodeAt(b)===95?(M=B,b++):(M=n,H===0&&$(ce))),M!==n?(E=on(),E===n&&(E=null),mt=a,a=xA(E)):(b=a,a=n),a}function DC(){var a,M,E;return a=b,ct(),t.charCodeAt(b)===33?(M=W,b++):(M=n,H===0&&$(k)),M!==n?(E=on(),E===n&&(E=null),mt=a,a=SA(E)):(b=a,a=n),a}function vC(){var a,M,E,T,it,Nt,Le;return a=b,t.charCodeAt(b)===40?(M=O,b++):(M=n,H===0&&$(R)),M!==n?(ct(),E=kr(),E!==n?(ct(),T=er(),T!==n?(ct(),it=kr(),it!==n?(ct(),er(),ct(),Nt=kr(),Nt===n&&(Nt=null),ct(),t.charCodeAt(b)===41?(Le=K,b++):(Le=n,H===0&&$(j)),Le!==n?(mt=a,a=_A(E,it,Nt)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n),a}function EC(){var a,M,E;return a=b,t.charCodeAt(b)===47?(M=G,b++):(M=n,H===0&&$(Y)),M!==n?(E=rr(),E!==n?(mt=a,a=kA(E)):(b=a,a=n)):(b=a,a=n),a}function FC(){var a,M,E;return a=b,t.charCodeAt(b)===42?(M=z,b++):(M=n,H===0&&$(ft)),M!==n?(E=rr(),E!==n?(mt=a,a=NA(E)):(b=a,a=n)):(b=a,a=n),a}function BC(){var a,M,E;return a=b,t.charCodeAt(b)===63?(M=Z,b++):(M=n,H===0&&$(Wt)),M!==n?(E=on(),E===n&&(E=null),mt=a,a=TA(E)):(b=a,a=n),a}function wC(){var a,M,E;return a=b,t.charCodeAt(b)===58?(M=pt,b++):(M=n,H===0&&$(un)),M!==n?(E=rr(),E!==n?(mt=a,a=RA(E)):(b=a,a=n)):(b=a,a=n),a}function IC(){var a,M,E;return a=b,t.substr(b,2)===nt?(M=nt,b+=2):(M=n,H===0&&$(Dn)),M!==n?(E=rr(),E!==n?(mt=a,a=VA(E)):(b=a,a=n)):(b=a,a=n),a}function kr(){var a,M,E,T;if(a=b,M=rr(),M!==n){for(E=[],T=aa();T!==n;)E.push(T),T=aa();mt=a,a=LA(M,E)}else b=a,a=n;return a}function vn(){var a,M,E,T;if(a=b,t.charCodeAt(b)===94?(M=D,b++):(M=n,H===0&&$(ye)),M===n&&(M=null),E=[],T=kr(),T!==n)for(;T!==n;)E.push(T),T=kr();else E=n;return E!==n?(mt=a,a=OA(M,E)):(b=a,a=n),a}function ca(){var a,M,E,T,it;if(a=b,M=[],E=b,T=er(),T!==n?(it=vn(),it!==n?E=it:(b=E,E=n)):(b=E,E=n),E!==n)for(;E!==n;)M.push(E),E=b,T=er(),T!==n?(it=vn(),it!==n?E=it:(b=E,E=n)):(b=E,E=n);else M=n;return M!==n&&(mt=a,M=jA(M)),a=M,a}function xC(){var a,M,E,T,it;if(a=b,M=[],E=b,T=sa(),T!==n?(it=vn(),it!==n?E=it:(b=E,E=n)):(b=E,E=n),E!==n)for(;E!==n;)M.push(E),E=b,T=sa(),T!==n?(it=vn(),it!==n?E=it:(b=E,E=n)):(b=E,E=n);else M=n;return M!==n&&(mt=a,M=GA(M)),a=M,a}function SC(){var a,M,E,T,it;if(a=b,M=[],E=b,T=ua(),T!==n?(it=vn(),it!==n?E=it:(b=E,E=n)):(b=E,E=n),E!==n)for(;E!==n;)M.push(E),E=b,T=ua(),T!==n?(it=vn(),it!==n?E=it:(b=E,E=n)):(b=E,E=n);else M=n;return M!==n&&(mt=a,M=zA(M)),a=M,a}function la(){var a,M,E;return a=b,M=vn(),M!==n?(E=ca(),E===n&&(E=xC(),E===n&&(E=SC())),E===n&&(E=null),mt=a,a=WA(M,E)):(b=a,a=n),a}function ha(){var a,M,E;return a=b,M=vn(),M!==n?(E=ca(),E===n&&(E=null),mt=a,a=qA(M,E)):(b=a,a=n),a}function _C(){var a,M,E,T;return a=b,ct(),M=nr(),M!==n?(ct(),E=la(),E!==n?(ct(),T=nr(),T!==n?(mt=a,a=XA(E)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n),a}function kC(){var a;return a=GC(),a===n&&(a=VC(),a===n&&(a=jC(),a===n&&(a=TC(),a===n&&(a=RC(),a===n&&(a=NC(),a===n&&(a=OC(),a===n&&(a=LC()))))))),a}function NC(){var a,M,E;return a=b,t.substr(b,6)===lt?(M=lt,b+=6):(M=n,H===0&&$(li)),M!==n?(ct(),E=ir(),E!==n?(mt=a,a=ZA(E)):(b=a,a=n)):(b=a,a=n),a}function TC(){var a,M,E,T,it;return a=b,t.substr(b,6)===ot?(M=ot,b+=6):(M=n,H===0&&$(hi)),M!==n?(ct(),E=nr(),E!==n?(T=oa(),T!==n?(it=nr(),it!==n?(mt=a,a=HA(T)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n),a}function RC(){var a,M,E,T;return a=b,t.substr(b,6)===Ft?(M=Ft,b+=6):(M=n,H===0&&$(Me)),M!==n?(ct(),E=di(),E!==n?(ct(),T=di(),T!==n?(ct(),di(),mt=a,a=KA(E,T)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n),a}function VC(){var a,M,E;return a=b,t.substr(b,4)===oe?(M=oe,b+=4):(M=n,H===0&&$(uA)),M!==n?(ct(),E=on(),E!==n?(mt=a,a=YA(E)):(b=a,a=n)):(b=a,a=n),a}function LC(){var a,M,E;return a=b,t.substr(b,4)===Ut?(M=Ut,b+=4):(M=n,H===0&&$(oA)),M!==n?(ct(),E=on(),E!==n?(mt=a,a=UA(E)):(b=a,a=n)):(b=a,a=n),a}function OC(){var a,M,E;return a=b,t.substr(b,4)===X?(M=X,b+=4):(M=n,H===0&&$(aA)),M!==n?(ct(),E=on(),E!==n?(mt=a,a=$A(E)):(b=a,a=n)):(b=a,a=n),a}function jC(){var a,M,E;return a=b,t.substr(b,4)===$t?(M=$t,b+=4):(M=n,H===0&&$(cA)),M!==n?(ct(),E=on(),E!==n?(mt=a,a=JA(E)):(b=a,a=n)):(b=a,a=n),a}function GC(){var a,M,E,T,it;if(a=b,t.substr(b,5)===ne?(M=ne,b+=5):(M=n,H===0&&$(lA)),M!==n)if(ct(),E=nr(),E!==n){if(T=[],it=fi(),it!==n)for(;it!==n;)T.push(it),it=fi();else T=n;T!==n?(it=nr(),it!==n?(mt=a,a=QA(T)):(b=a,a=n)):(b=a,a=n)}else b=a,a=n;else b=a,a=n;return a}function Is(){var a,M,E,T;if(a=b,t.substr(b,2)===Ae?(M=Ae,b+=2):(M=n,H===0&&$(hA)),M!==n){for(E=[],Ce.test(t.charAt(b))?(T=t.charAt(b),b++):(T=n,H===0&&$(Qo));T!==n;)E.push(T),Ce.test(t.charAt(b))?(T=t.charAt(b),b++):(T=n,H===0&&$(Qo));M=[M,E],a=M}else b=a,a=n;return a}function zC(){var a,M,E,T,it,Nt,Le,sr;if(a=b,t.substr(b,3)===Dt?(M=Dt,b+=3):(M=n,H===0&&$(pA)),M!==n)if(ct(),t.charCodeAt(b)===91?(E=x,b++):(E=n,H===0&&$(_r)),E!==n)if(ct(),T=ir(),T!==n){for(it=[],Nt=b,Le=er(),Le!==n?(sr=ir(),sr!==n?(mt=Nt,Nt=ta(T,sr)):(b=Nt,Nt=n)):(b=Nt,Nt=n);Nt!==n;)it.push(Nt),Nt=b,Le=er(),Le!==n?(sr=ir(),sr!==n?(mt=Nt,Nt=ta(T,sr)):(b=Nt,Nt=n)):(b=Nt,Nt=n);Nt=ct(),t.charCodeAt(b)===93?(Le=N,b++):(Le=n,H===0&&$(ci)),Le!==n?(mt=a,a=tC(T,it)):(b=a,a=n)}else b=a,a=n;else b=a,a=n;else b=a,a=n;return a}function WC(){var a;return a=zC(),a===n&&(a=_C()),a}function ir(){var a,M,E,T,it;if(a=b,M=WC(),M!==n){for(ct(),E=[],T=Is();T!==n;)E.push(T),T=Is();mt=a,a=eC(M)}else b=a,a=n;return a===n&&(a=b,M=kC(),M!==n?(ct(),t.charCodeAt(b)===36?(E=Zt,b++):(E=n,H===0&&$(mA)),E!==n?(T=ct(),it=ir(),it!==n?(mt=a,a=nC(M,it)):(b=a,a=n)):(b=a,a=n)):(b=a,a=n)),a}function qC(){var a,M;return a=b,M=ir(),M!==n&&(mt=a,M=rC(M)),a=M,a===n&&(a=Is()),a}function XC(){var a;return a=qC(),a}function ZC(){var a,M;return a=b,ct(),M=HC(),M===n&&(M=KC(),M===n&&(M=YC())),M!==n?(ct(),mt=a,a=iC(M)):(b=a,a=n),a}function HC(){var a,M,E;return a=b,t.substr(b,6)===yt?(M=yt,b+=6):(M=n,H===0&&$(dA)),M!==n?(ct(),E=on(),E!==n?(mt=a,a=sC(E)):(b=a,a=n)):(b=a,a=n),a}function KC(){var a,M,E;return a=b,t.substr(b,6)===zt?(M=zt,b+=6):(M=n,H===0&&$(fA)),M!==n?(ct(),E=on(),E!==n?(mt=a,a=uC(E)):(b=a,a=n)):(b=a,a=n),a}function YC(){var a,M;return a=b,t.substr(b,4)===me?(M=me,b+=4):(M=n,H===0&&$(gA)),M!==n&&(mt=a,M=oC()),a=M,a}function UC(){var a;return a=XC(),a===n&&(a=ZC()),a}function $C(){var a;return a=n2(),a===n&&(a=JC(),a===n&&(a=e2(),a===n&&(a=QC(),a===n&&(a=t2(),a===n&&(a=r2()))))),a}function JC(){var a;return Te.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(AA)),a}function QC(){var a;return tn.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(CA)),a}function t2(){var a;return en.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(yA)),a}function e2(){var a;return nn.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(MA)),a}function n2(){var a;return bn.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(bA)),a}function r2(){var a;return rn.test(t.charAt(b))?(a=t.charAt(b),b++):(a=n,H===0&&$(PA)),a}var i2=function(a){this.type_="atom",this.source_=a,this.location_=ea()},gi=function(a,M,E,T){this.type_="pattern",this.arguments_={alignment:M,tactus:T},E!==void 0&&(this.arguments_.seed=E),this.source_=a},s2=function(a,M,E){this.type_=a,this.arguments_=M,this.source_=E},u2=function(a,M){this.type_="element",this.source_=a,this.options_=M,this.location_=ea()},xs=function(a,M){this.type_="command",this.name_=a,this.options_=M},Ss=0;if(mi=s(),mi!==n&&b===t.length)return mi;throw mi!==n&&b<t.length&&$(cC()),lC(Fs,Ze<t.length?t.charAt(Ze):null,Ze<t.length?ws(Ze,Ze+1):ws(Ze,Ze))}/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var mP=2e3,et={s:1,n:0,d:1};function ln(t,e){if(isNaN(t=parseInt(t,10)))throw Bi();return t*e}function Ot(t,e){if(e===0)throw ao();var n=Object.create(It.prototype);n.s=t<0?-1:1,t=t<0?-t:t;var r=ar(t,e);return n.n=t/r,n.d=e/r,n}function wa(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r===0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var ge=function(t,e){var n=0,r=1,i=1,s=0,u=0,o=0,c=1,h=1,p=0,m=1,d=1,y=1,P=1e7,D;if(t!=null)if(e!==void 0){if(n=t,r=e,i=n*r,n%1!==0||r%1!==0)throw AP()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)n=t.n,r=t.d,"s"in t&&(n*=t.s);else if(0 in t)n=t[0],1 in t&&(r=t[1]);else throw Bi();i=n*r;break}case"number":{if(t<0&&(i=t,t=-t),t%1===0)n=t;else if(t>0){for(t>=1&&(h=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=h);m<=P&&y<=P;)if(D=(p+d)/(m+y),t===D){m+y<=P?(n=p+d,r=m+y):y>m?(n=d,r=y):(n=p,r=m);break}else t>D?(p+=d,m+=y):(d+=p,y+=m),m>P?(n=d,r=y):(n=p,r=m);n*=h}else(isNaN(t)||isNaN(e))&&(r=n=NaN);break}case"string":{if(m=t.match(/\d+|./g),m===null)throw Bi();if(m[p]==="-"?(i=-1,p++):m[p]==="+"&&p++,m.length===p+1?u=ln(m[p++],i):m[p+1]==="."||m[p]==="."?(m[p]!=="."&&(s=ln(m[p++],i)),p++,(p+1===m.length||m[p+1]==="("&&m[p+3]===")"||m[p+1]==="'"&&m[p+3]==="'")&&(u=ln(m[p],i),c=Math.pow(10,m[p].length),p++),(m[p]==="("&&m[p+2]===")"||m[p]==="'"&&m[p+2]==="'")&&(o=ln(m[p+1],i),h=Math.pow(10,m[p+1].length)-1,p+=3)):m[p+1]==="/"||m[p+1]===":"?(u=ln(m[p],i),c=ln(m[p+2],1),p+=3):m[p+3]==="/"&&m[p+1]===" "&&(s=ln(m[p],i),u=ln(m[p+2],i),c=ln(m[p+4],1),p+=5),m.length<=p){r=c*h,i=n=o+r*s+h*u;break}}default:throw Bi()}if(r===0)throw ao();et.s=i<0?-1:1,et.n=Math.abs(n),et.d=Math.abs(r)};function dP(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)e&1&&(r=r*t%n);return r}function fP(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(e===1)return 0;for(var n=10%e,r=1;n!==1;r++)if(n=n*10%e,r>mP)return 0;return r}function gP(t,e,n){for(var r=1,i=dP(10,n,e),s=0;s<300;s++){if(r===i)return s;r=r*10%e,i=i*10%e}return 0}function ar(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function It(t,e){if(ge(t,e),this instanceof It)t=ar(et.d,et.n),this.s=et.s,this.n=et.n/t,this.d=et.d/t;else return Ot(et.s*et.n,et.d)}var ao=function(){return new Error("Division by Zero")},Bi=function(){return new Error("Invalid argument")},AP=function(){return new Error("Parameters must be integer")};It.prototype={s:1,n:0,d:1,abs:function(){return Ot(this.n,this.d)},neg:function(){return Ot(-this.s*this.n,this.d)},add:function(t,e){return ge(t,e),Ot(this.s*this.n*et.d+et.s*this.d*et.n,this.d*et.d)},sub:function(t,e){return ge(t,e),Ot(this.s*this.n*et.d-et.s*this.d*et.n,this.d*et.d)},mul:function(t,e){return ge(t,e),Ot(this.s*et.s*this.n*et.n,this.d*et.d)},div:function(t,e){return ge(t,e),Ot(this.s*et.s*this.n*et.d,this.d*et.n)},clone:function(){return Ot(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new It(NaN);if(t===void 0)return Ot(this.s*this.n%this.d,1);if(ge(t,e),et.n===0&&this.d===0)throw ao();return Ot(this.s*(et.d*this.n)%(et.n*this.d),et.d*this.d)},gcd:function(t,e){return ge(t,e),Ot(ar(et.n,this.n)*ar(et.d,this.d),et.d*this.d)},lcm:function(t,e){return ge(t,e),et.n===0&&this.n===0?Ot(0,1):Ot(et.n*this.n,ar(et.n,this.n)*ar(et.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new It(NaN):Ot(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new It(NaN):Ot(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new It(NaN):Ot(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,e){return ge(t,e),Ot(this.s*Math.round(this.n*et.d/(this.d*et.n))*et.n,et.d)},inverse:function(){return Ot(this.s*this.d,this.n)},pow:function(t,e){if(ge(t,e),et.d===1)return et.s<0?Ot(Math.pow(this.s*this.d,et.n),Math.pow(this.n,et.n)):Ot(Math.pow(this.s*this.n,et.n),Math.pow(this.d,et.n));if(this.s<0)return null;var n=wa(this.n),r=wa(this.d),i=1,s=1;for(var u in n)if(u!=="1"){if(u==="0"){i=0;break}if(n[u]*=et.n,n[u]%et.d===0)n[u]/=et.d;else return null;i*=Math.pow(u,n[u])}for(var u in r)if(u!=="1"){if(r[u]*=et.n,r[u]%et.d===0)r[u]/=et.d;else return null;s*=Math.pow(u,r[u])}return et.s<0?Ot(s,i):Ot(i,s)},equals:function(t,e){return ge(t,e),this.s*this.n*et.d===et.s*et.n*this.d},compare:function(t,e){ge(t,e);var n=this.s*this.n*et.d-et.s*et.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var i=Ot(n[r-1],1),s=r-2;s>=0;s--)i=i.inverse().add(n[s]);if(Math.abs(i.sub(e).valueOf())<t)return i.mul(this.s)}return this},divisible:function(t,e){return ge(t,e),!(!(et.n*this.d)||this.n*et.d%(et.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),i===1?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),i===1?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do r.push(Math.floor(e/n)),t=e%n,e=n,n=t;while(e!==1);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=fP(e,n),i=gP(e,n,r),s=this.s<0?"-":"";if(s+=e/n|0,e%=n,e*=10,e&&(s+="."),r){for(var u=i;u--;)s+=e/n|0,e%=n,e*=10;s+="(";for(var u=r;u--;)s+=e/n|0,e%=n,e*=10;s+=")"}else for(var u=t;e&&u--;)s+=e/n|0,e%=n,e*=10;return s}};class Ke{constructor(e,n){this.begin=Wn(e),this.end=Wn(n)}get spanCycles(){const e=[];var n=this.begin;const r=this.end,i=r.sam();if(n.equals(r))return[new Ke(n,r)];for(;r.gt(n);){if(n.sam().equals(i)){e.push(new Ke(n,this.end));break}const s=n.nextSam();e.push(new Ke(n,s)),n=s}return e}get duration(){return this.end.sub(this.begin)}cycleArc(){const e=this.begin.cyclePos(),n=e.add(this.duration);return new Ke(e,n)}withTime(e){return new Ke(e(this.begin),e(this.end))}withEnd(e){return new Ke(this.begin,e(this.end))}withCycle(e){const n=this.begin.sam(),r=n.add(e(this.begin.sub(n))),i=n.add(e(this.end.sub(n)));return new Ke(r,i)}intersection(e){const n=this.begin.max(e.begin),r=this.end.min(e.end);if(!n.gt(r)&&!(n.equals(r)&&(n.equals(this.end)&&this.begin.lt(this.end)||n.equals(e.end)&&e.begin.lt(e.end))))return new Ke(n,r)}intersection_e(e){const n=this.intersection(e);if(n==null)throw"TimeSpans do not intersect";return n}midpoint(){return this.begin.add(this.duration.div(Wn(2)))}equals(e){return this.begin.equals(e.begin)&&this.end.equals(e.end)}show(){return this.begin.show()+" → "+this.end.show()}}const CP=t=>t.filter(e=>e!=null);It.prototype.sam=function(){return this.floor()};It.prototype.nextSam=function(){return this.sam().add(1)};It.prototype.wholeCycle=function(){return new Ke(this.sam(),this.nextSam())};It.prototype.cyclePos=function(){return this.sub(this.sam())};It.prototype.lt=function(t){return this.compare(t)<0};It.prototype.gt=function(t){return this.compare(t)>0};It.prototype.lte=function(t){return this.compare(t)<=0};It.prototype.gte=function(t){return this.compare(t)>=0};It.prototype.eq=function(t){return this.compare(t)==0};It.prototype.ne=function(t){return this.compare(t)!=0};It.prototype.max=function(t){return this.gt(t)?this:t};It.prototype.maximum=function(...t){return t=t.map(e=>new It(e)),t.reduce((e,n)=>n.max(e),this)};It.prototype.min=function(t){return this.lt(t)?this:t};It.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};It.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};It.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};It.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};It.prototype.show=function(){return this.s*this.n+"/"+this.d};It.prototype.or=function(t){return this.eq(0)?t:this};const co=t=>It(t),yi=(...t)=>{if(t=CP(t),t.length!==0)return t.reduce((e,n)=>e===void 0||n===void 0?void 0:e.lcm(n),co(1))};co._original=It;const Wn=co,wd=3e-4,yP=(t,e)=>(n,r)=>{const i=t.source_[r].options_?.ops;if(i)for(const s of i)switch(s.type_){case"stretch":{const u=["fast","slow"],{type:o,amount:c}=s.arguments_;if(!u.includes(o))throw new Error(`mini: stretch: type must be one of ${u.join("|")} but got ${o}`);n=J(n)[o](e(c));break}case"replicate":{const{amount:u}=s.arguments_;n=J(n),n=n._repeatCycles(u)._fast(u);break}case"bjorklund":{s.arguments_.rotation?n=n.euclidRot(e(s.arguments_.pulse),e(s.arguments_.step),e(s.arguments_.rotation)):n=n.euclid(e(s.arguments_.pulse),e(s.arguments_.step));break}case"degradeBy":{n=J(n)._degradeByWith(pe.early(wd*s.arguments_.seed),s.arguments_.amount??.5);break}case"tail":{const u=e(s.arguments_.element);n=n.fmap(o=>c=>Array.isArray(o)?[...o,c]:[o,c]).appLeft(u);break}case"range":{const u=e(s.arguments_.element);n=J(n);const o=(c,h,p=1)=>Array.from({length:Math.abs(h-c)/p+1},(m,d)=>c<h?c+d*p:c-d*p);n=((c,h)=>c.squeezeBind(p=>h.bind(m=>_e(...o(p,m)))))(n,u);break}default:console.warn(`operator "${s.type_}" not implemented`)}return n};function Pr(t,e,n,r=0){n?.(t);const i=s=>Pr(s,e,n,r);switch(t.type_){case"pattern":{const s=t.source_.map(h=>i(h)).map(yP(t,i)),u=t.arguments_.alignment,o=s.filter(h=>h.__tactus_source);let c;switch(u){case"stack":{c=jt(...s),o.length&&(c.tactus=yi(...o.map(h=>Wn(h.tactus))));break}case"polymeter_slowcat":{c=jt(...s.map(h=>h._slow(h.__weight))),o.length&&(c.tactus=yi(...o.map(h=>Wn(h.tactus))));break}case"polymeter":{const h=t.arguments_.stepsPerCycle?i(t.arguments_.stepsPerCycle).fmap(m=>U(m)):ie(U(s.length>0?s[0].__weight:1)),p=s.map(m=>m.fast(h.fmap(d=>d.div(m.__weight))));c=jt(...p);break}case"rand":{c=Qu(pe.early(wd*t.arguments_.seed).segment(1),s),o.length&&(c.tactus=yi(...o.map(h=>Wn(h.tactus))));break}case"feet":{c=_e(...s);break}default:{if(t.source_.some(h=>!!h.options_?.weight)){const h=t.source_.reduce((p,m)=>p.add(m.options_?.weight||U(1)),U(0));c=qu(...t.source_.map((p,m)=>[p.options_?.weight||U(1),s[m]])),c.__weight=h,c.tactus=h,o.length&&(c.tactus=c.tactus.mul(yi(...o.map(p=>Wn(p.tactus)))))}else c=Ie(...s),c.tactus=s.length;t.arguments_.tactus&&(c.__tactus_source=!0)}}return o.length&&(c.__tactus_source=!0),c}case"element":return i(t.source_);case"atom":{if(t.source_==="~"||t.source_==="-")return wt;if(!t.location_)return console.warn("no location for",t),t.source_;const s=isNaN(Number(t.source_))?t.source_:Number(t.source_);if(r===-1)return ie(s);const[u,o]=lo(e,t,r);return ie(s).withLoc(u,o)}case"stretch":return i(t.source_).slow(i(t.arguments_.amount));default:return console.warn(`node type "${t.type_}" not implemented -> returning silence`),wt}}const lo=(t,e,n=0)=>{const{start:r,end:i}=e.location_,s=t?.split("").slice(r.offset,i.offset).join(""),[u=0,o=0]=s?s.split(e.source_).map(c=>c.split("").filter(h=>h===" ").length):[];return[r.offset+u+n,i.offset-o+n]},Jr=(t,e=0,n=t)=>{try{return Bd(t)}catch(r){const i=[r.location.start.offset+e,r.location.end.offset+e],s=n.slice(0,i[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${s}: ${r.message}`)}},Id=(t,e,n)=>{const r=Jr(t,e,n);let i=[];return Pr(r,t,s=>{s.type_==="atom"&&i.push(s)},-1),i},ho=(t,e=0,n)=>Id(t,e,n).map(r=>lo(t,r,e)),po=(...t)=>{const e=t.map(n=>{const r=`"${n}"`,i=Jr(r);return Pr(i,r)});return Ie(...e)},MP=(t,e)=>{const n=`"${t}"`,r=Jr(n);return Pr(r,n,null,e)},bP=t=>{const e=Jr(t);return Pr(e,t)};function PP(t){return typeof t=="string"?po(t):J(t)}function xd(){rl(po)}const DP=Object.freeze(Object.defineProperty({__proto__:null,SyntaxError:Kn,getLeafLocation:lo,getLeafLocations:ho,getLeaves:Id,h:bP,m:MP,mini:po,mini2ast:Jr,miniAllStrings:xd,minify:PP,parse:Bd,patternifyAST:Pr},Symbol.toStringTag,{value:"Module"}));var vP=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Sd=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],EP="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",_d="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Ls={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Os="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",FP={5:Os,"5module":Os+" export import",6:Os+" const class extends export import super"},BP=/^in(stanceof)?$/,wP=new RegExp("["+_d+"]"),IP=new RegExp("["+_d+EP+"]");function lu(t,e){for(var n=65536,r=0;r<e.length;r+=2){if(n+=e[r],n>t)return!1;if(n+=e[r+1],n>=t)return!0}return!1}function dn(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&wP.test(String.fromCharCode(t)):e===!1?!1:lu(t,Sd)}function fr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&IP.test(String.fromCharCode(t)):e===!1?!1:lu(t,Sd)||lu(t,vP)}var bt=function(t,e){e===void 0&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function Pe(t,e){return new bt(t,{beforeExpr:!0,binop:e})}var De={beforeExpr:!0},le={startsExpr:!0},mo={};function Ct(t,e){return e===void 0&&(e={}),e.keyword=t,mo[t]=new bt(t,e)}var C={num:new bt("num",le),regexp:new bt("regexp",le),string:new bt("string",le),name:new bt("name",le),privateId:new bt("privateId",le),eof:new bt("eof"),bracketL:new bt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new bt("]"),braceL:new bt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new bt("}"),parenL:new bt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new bt(")"),comma:new bt(",",De),semi:new bt(";",De),colon:new bt(":",De),dot:new bt("."),question:new bt("?",De),questionDot:new bt("?."),arrow:new bt("=>",De),template:new bt("template"),invalidTemplate:new bt("invalidTemplate"),ellipsis:new bt("...",De),backQuote:new bt("`",le),dollarBraceL:new bt("${",{beforeExpr:!0,startsExpr:!0}),eq:new bt("=",{beforeExpr:!0,isAssign:!0}),assign:new bt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new bt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new bt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Pe("||",1),logicalAND:Pe("&&",2),bitwiseOR:Pe("|",3),bitwiseXOR:Pe("^",4),bitwiseAND:Pe("&",5),equality:Pe("==/!=/===/!==",6),relational:Pe("</>/<=/>=",7),bitShift:Pe("<</>>/>>>",8),plusMin:new bt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Pe("%",10),star:Pe("*",10),slash:Pe("/",10),starstar:new bt("**",{beforeExpr:!0}),coalesce:Pe("??",1),_break:Ct("break"),_case:Ct("case",De),_catch:Ct("catch"),_continue:Ct("continue"),_debugger:Ct("debugger"),_default:Ct("default",De),_do:Ct("do",{isLoop:!0,beforeExpr:!0}),_else:Ct("else",De),_finally:Ct("finally"),_for:Ct("for",{isLoop:!0}),_function:Ct("function",le),_if:Ct("if"),_return:Ct("return",De),_switch:Ct("switch"),_throw:Ct("throw",De),_try:Ct("try"),_var:Ct("var"),_const:Ct("const"),_while:Ct("while",{isLoop:!0}),_with:Ct("with"),_new:Ct("new",{beforeExpr:!0,startsExpr:!0}),_this:Ct("this",le),_super:Ct("super",le),_class:Ct("class",le),_extends:Ct("extends",De),_export:Ct("export"),_import:Ct("import",le),_null:Ct("null",le),_true:Ct("true",le),_false:Ct("false",le),_in:Ct("in",{beforeExpr:!0,binop:7}),_instanceof:Ct("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ct("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ct("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ct("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ke=/\r\n?|\n|\u2028|\u2029/,xP=new RegExp(ke.source,"g");function Dr(t){return t===10||t===13||t===8232||t===8233}function kd(t,e,n){n===void 0&&(n=t.length);for(var r=e;r<n;r++){var i=t.charCodeAt(r);if(Dr(i))return r<n-1&&i===13&&t.charCodeAt(r+1)===10?r+2:r+1}return-1}var Nd=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Fe=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Td=Object.prototype,SP=Td.hasOwnProperty,_P=Td.toString,Qr=Object.hasOwn||function(t,e){return SP.call(t,e)},Ia=Array.isArray||function(t){return _P.call(t)==="[object Array]"},xa=Object.create(null);function wn(t){return xa[t]||(xa[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function _n(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var kP=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Hr=function(t,e){this.line=t,this.column=e};Hr.prototype.offset=function(t){return new Hr(this.line,this.column+t)};var us=function(t,e,n){this.start=e,this.end=n,t.sourceFile!==null&&(this.source=t.sourceFile)};function Rd(t,e){for(var n=1,r=0;;){var i=kd(t,r,e);if(i<0)return new Hr(n,e-r);++n,r=i}}var hu={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Sa=!1;function NP(t){var e={};for(var n in hu)e[n]=t&&Qr(t,n)?t[n]:hu[n];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Sa&&typeof console=="object"&&console.warn&&(Sa=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Ia(e.onToken)){var r=e.onToken;e.onToken=function(i){return r.push(i)}}return Ia(e.onComment)&&(e.onComment=TP(e,e.onComment)),e}function TP(t,e){return function(n,r,i,s,u,o){var c={type:n?"Block":"Line",value:r,start:i,end:s};t.locations&&(c.loc=new us(this,u,o)),t.ranges&&(c.range=[i,s]),e.push(c)}}var Kr=1,vr=2,fo=4,Vd=8,Ld=16,Od=32,Ao=64,jd=128,ti=256,Co=Kr|vr|ti;function yo(t,e){return vr|(t?fo:0)|(e?Vd:0)}var Vi=0,Mo=1,Cn=2,Gd=3,zd=4,Wd=5,Ht=function(t,e,n){this.options=t=NP(t),this.sourceFile=t.sourceFile,this.keywords=wn(FP[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var r="";t.allowReserved!==!0&&(r=Ls[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(r+=" await")),this.reservedWords=wn(r);var i=(r?r+" ":"")+Ls.strict;this.reservedWordsStrict=wn(i),this.reservedWordsStrictBind=wn(i+" "+Ls.strictBind),this.input=String(e),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ke).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=C.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Kr),this.regexpState=null,this.privateNameStack=[]},Je={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ht.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Je.inFunction.get=function(){return(this.currentVarScope().flags&vr)>0};Je.inGenerator.get=function(){return(this.currentVarScope().flags&Vd)>0&&!this.currentVarScope().inClassFieldInit};Je.inAsync.get=function(){return(this.currentVarScope().flags&fo)>0&&!this.currentVarScope().inClassFieldInit};Je.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&ti)return!1;if(e.flags&vr)return(e.flags&fo)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Je.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&Ao)>0||n||this.options.allowSuperOutsideMethod};Je.allowDirectSuper.get=function(){return(this.currentThisScope().flags&jd)>0};Je.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Je.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&(vr|ti))>0||n};Je.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ti)>0};Ht.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=this,r=0;r<t.length;r++)n=t[r](n);return n};Ht.parse=function(t,e){return new this(e,t).parse()};Ht.parseExpressionAt=function(t,e,n){var r=new this(n,t,e);return r.nextToken(),r.parseExpression()};Ht.tokenizer=function(t,e){return new this(e,t)};Object.defineProperties(Ht.prototype,Je);var ue=Ht.prototype,RP=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/s;ue.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Fe.lastIndex=t,t+=Fe.exec(this.input)[0].length;var e=RP.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Fe.lastIndex=t+e[0].length;var n=Fe.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ke.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}t+=e[0].length,Fe.lastIndex=t,t+=Fe.exec(this.input)[0].length,this.input[t]===";"&&t++}};ue.eat=function(t){return this.type===t?(this.next(),!0):!1};ue.isContextual=function(t){return this.type===C.name&&this.value===t&&!this.containsEsc};ue.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};ue.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};ue.canInsertSemicolon=function(){return this.type===C.eof||this.type===C.braceR||ke.test(this.input.slice(this.lastTokEnd,this.start))};ue.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ue.semicolon=function(){!this.eat(C.semi)&&!this.insertSemicolon()&&this.unexpected()};ue.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};ue.expect=function(t){this.eat(t)||this.unexpected()};ue.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var os=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ue.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,e?"Assigning to rvalue":"Parenthesized pattern")}};ue.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,r=t.doubleProto;if(!e)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};ue.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ue.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var st=Ht.prototype;st.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==C.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var bo={kind:"loop"},VP={kind:"switch"};st.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Fe.lastIndex=this.pos;var e=Fe.exec(this.input),n=this.pos+e[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(t)return!1;if(r===123||r>55295&&r<56320)return!0;if(dn(r,!0)){for(var i=n+1;fr(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!BP.test(s))return!0}return!1};st.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Fe.lastIndex=this.pos;var t=Fe.exec(this.input),e=this.pos+t[0].length,n;return!ke.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(fr(n=this.input.charCodeAt(e+8))||n>55295&&n<56320))};st.parseStatement=function(t,e,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(t)&&(r=C._var,s="let"),r){case C._break:case C._continue:return this.parseBreakContinueStatement(i,r.keyword);case C._debugger:return this.parseDebuggerStatement(i);case C._do:return this.parseDoStatement(i);case C._for:return this.parseForStatement(i);case C._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!t);case C._class:return t&&this.unexpected(),this.parseClass(i,!0);case C._if:return this.parseIfStatement(i);case C._return:return this.parseReturnStatement(i);case C._switch:return this.parseSwitchStatement(i);case C._throw:return this.parseThrowStatement(i);case C._try:return this.parseTryStatement(i);case C._const:case C._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case C._while:return this.parseWhileStatement(i);case C._with:return this.parseWithStatement(i);case C.braceL:return this.parseBlock(!0,i);case C.semi:return this.parseEmptyStatement(i);case C._export:case C._import:if(this.options.ecmaVersion>10&&r===C._import){Fe.lastIndex=this.pos;var u=Fe.exec(this.input),o=this.pos+u[0].length,c=this.input.charCodeAt(o);if(c===40||c===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===C._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!t);var h=this.value,p=this.parseExpression();return r===C.name&&p.type==="Identifier"&&this.eat(C.colon)?this.parseLabeledStatement(i,h,p,t):this.parseExpressionStatement(i,p)}};st.parseBreakContinueStatement=function(t,e){var n=e==="break";this.next(),this.eat(C.semi)||this.insertSemicolon()?t.label=null:this.type!==C.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((t.label==null||i.name===t.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||t.label&&n))break}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")};st.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};st.parseDoStatement=function(t){return this.next(),this.labels.push(bo),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(C._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(C.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};st.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(bo),this.enterScope(0),this.expect(C.parenL),this.type===C.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===C._var||this.type===C._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===C._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===C._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var s=this.isContextual("let"),u=!1,o=this.containsEsc,c=new os,h=this.start,p=e>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===C._in||(u=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===C._in&&this.unexpected(e),t.await=!0):u&&this.options.ecmaVersion>=8&&(p.start===h&&!o&&p.type==="Identifier"&&p.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),s&&u&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,c),this.checkLValPattern(p),this.parseForIn(t,p)):(this.checkExpressionErrors(c,!0),e>-1&&this.unexpected(e),this.parseFor(t,p))};st.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,Wr|(n?0:pu),!1,e)};st.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(C._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};st.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(C.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};st.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(C.braceL),this.labels.push(VP),this.enterScope(0);for(var e,n=!1;this.type!==C.braceR;)if(this.type===C._case||this.type===C._default){var r=this.type===C._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(C.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};st.parseThrowStatement=function(t){return this.next(),ke.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var LP=[];st.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?Od:0),this.checkLValPattern(t,e?zd:Cn),this.expect(C.parenR),t};st.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===C._catch){var e=this.startNode();this.next(),this.eat(C.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(C._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};st.parseVarStatement=function(t,e,n){return this.next(),this.parseVar(t,!1,e,n),this.semicolon(),this.finishNode(t,"VariableDeclaration")};st.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(bo),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};st.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};st.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};st.parseLabeledStatement=function(t,e,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var u=s[i];u.name===e&&this.raise(n.start,"Label '"+e+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===C._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var h=this.labels[c];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=o;else break}return this.labels.push({name:e,kind:o,statementStart:this.start}),t.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")};st.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};st.parseBlock=function(t,e,n){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(C.braceL),t&&this.enterScope(0);this.type!==C.braceR;){var r=this.parseStatement(null);e.body.push(r)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};st.parseFor=function(t,e){return t.init=e,this.expect(C.semi),t.test=this.type===C.semi?null:this.parseExpression(),this.expect(C.semi),t.update=this.type===C.parenR?null:this.parseExpression(),this.expect(C.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};st.parseForIn=function(t,e){var n=this.type===C._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(C.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")};st.parseVar=function(t,e,n,r){for(t.declarations=[],t.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(C.eq)?i.init=this.parseMaybeAssign(e):!r&&n==="const"&&!(this.type===C._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(e&&(this.type===C._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(C.comma))break}return t};st.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Mo:Cn,!1)};var Wr=1,pu=2,qd=4;st.parseFunction=function(t,e,n,r,i){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===C.star&&e&pu&&this.unexpected(),t.generator=this.eat(C.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&Wr&&(t.id=e&qd&&this.type!==C.name?null:this.parseIdent(),t.id&&!(e&pu)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Mo:Cn:Gd));var s=this.yieldPos,u=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(yo(t.async,t.generator)),e&Wr||(t.id=this.type===C.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,i),this.yieldPos=s,this.awaitPos=u,this.awaitIdentPos=o,this.finishNode(t,e&Wr?"FunctionDeclaration":"FunctionExpression")};st.parseFunctionParams=function(t){this.expect(C.parenL),t.params=this.parseBindingList(C.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};st.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(C.braceL);this.type!==C.braceR;){var u=this.parseClassElement(t.superClass!==null);u&&(i.body.push(u),u.type==="MethodDefinition"&&u.kind==="constructor"?(s&&this.raiseRecoverable(u.start,"Duplicate constructor in the same class"),s=!0):u.key&&u.key.type==="PrivateIdentifier"&&OP(r,u)&&this.raiseRecoverable(u.key.start,"Identifier '#"+u.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};st.parseClassElement=function(t){if(this.eat(C.semi))return null;var e=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,u="method",o=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(C.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===C.star?o=!0:r="static"}if(n.static=o,!r&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===C.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(e>=9||!s)&&this.eat(C.star)&&(i=!0),!r&&!s&&!i){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?u=c:r=c)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),e<13||this.type===C.parenL||u!=="method"||i||s){var h=!n.static&&Li(n,"constructor"),p=h&&t;h&&u!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=h?"constructor":u,this.parseClassMethod(n,i,s,p)}else this.parseClassField(n);return n};st.isClassElementNameStart=function(){return this.type===C.name||this.type===C.privateId||this.type===C.num||this.type===C.string||this.type===C.bracketL||this.type.keyword};st.parseClassElementName=function(t){this.type===C.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};st.parseClassMethod=function(t,e,n,r){var i=t.key;t.kind==="constructor"?(e&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):t.static&&Li(t,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,n,r);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};st.parseClassField=function(t){if(Li(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Li(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(C.eq)){var e=this.currentThisScope(),n=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=n}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};st.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(ti|Ao);this.type!==C.braceR;){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};st.parseClassId=function(t,e){this.type===C.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Cn,!1)):(e===!0&&this.unexpected(),t.id=null)};st.parseClassSuper=function(t){t.superClass=this.eat(C._extends)?this.parseExprSubscripts(null,!1):null};st.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};st.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,n=t.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var u=n[s];Qr(e,u.name)||(i?i.used.push(u):this.raiseRecoverable(u.start,"Private field '#"+u.name+"' must be declared in an enclosing class"))}};function OP(t,e){var n=e.key.name,r=t[n],i="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(i=(e.static?"s":"i")+e.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(t[n]="true",!1):r?!0:(t[n]=i,!1)}function Li(t,e){var n=t.computed,r=t.key;return!n&&(r.type==="Identifier"&&r.name===e||r.type==="Literal"&&r.value===e)}st.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==C.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};st.parseExport=function(t,e){if(this.next(),this.eat(C.star))return this.parseExportAllDeclaration(t,e);if(this.eat(C._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==C.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var n=0,r=t.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};st.parseExportDeclaration=function(t){return this.parseStatement(null)};st.parseExportDefaultDeclaration=function(){var t;if(this.type===C._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Wr|qd,!1,t)}else if(this.type===C._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};st.checkExport=function(t,e,n){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Qr(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)};st.checkPatternExport=function(t,e){var n=e.type;if(n==="Identifier")this.checkExport(t,e,e.start);else if(n==="ObjectPattern")for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(t,s)}else if(n==="ArrayPattern")for(var u=0,o=e.elements;u<o.length;u+=1){var c=o[u];c&&this.checkPatternExport(t,c)}else n==="Property"?this.checkPatternExport(t,e.value):n==="AssignmentPattern"?this.checkPatternExport(t,e.left):n==="RestElement"&&this.checkPatternExport(t,e.argument)};st.checkVariableExport=function(t,e){if(t)for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}};st.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};st.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};st.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(C.braceL);!this.eat(C.braceR);){if(n)n=!1;else if(this.expect(C.comma),this.afterTrailingComma(C.braceR))break;e.push(this.parseExportSpecifier(t))}return e};st.parseImport=function(t){return this.next(),this.type===C.string?(t.specifiers=LP,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===C.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};st.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Cn),this.finishNode(t,"ImportSpecifier")};st.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Cn),this.finishNode(t,"ImportDefaultSpecifier")};st.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Cn),this.finishNode(t,"ImportNamespaceSpecifier")};st.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===C.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(C.comma)))return t;if(this.type===C.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(C.braceL);!this.eat(C.braceR);){if(e)e=!1;else if(this.expect(C.comma),this.afterTrailingComma(C.braceR))break;t.push(this.parseImportSpecifier())}return t};st.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===C.string){var t=this.parseLiteral(this.value);return kP.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};st.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};st.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Ne=Ht.prototype;Ne.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t};Ne.toAssignableList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i&&this.toAssignable(i,e)}if(n){var s=t[n-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};Ne.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Ne.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==C.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Ne.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case C.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(C.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case C.braceL:return this.parseObj(!0)}return this.parseIdent()};Ne.parseBindingList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(C.comma),e&&this.type===C.comma)i.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===C.ellipsis){var u=this.parseRestBinding();this.parseBindingListItem(u),i.push(u),this.type===C.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else i.push(this.parseAssignableListItem(r))}return i};Ne.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Ne.parseBindingListItem=function(t){return t};Ne.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(C.eq))return n;var r=this.startNodeAt(t,e);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Ne.checkLValSimple=function(t,e,n){e===void 0&&(e=Vi);var r=e!==Vi;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(r?"Binding ":"Assigning to ")+t.name+" in strict mode"),r&&(e===Cn&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(Qr(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e!==Wd&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,n);default:this.raise(t.start,(r?"Binding":"Assigning to")+" rvalue")}};Ne.checkLValPattern=function(t,e,n){switch(e===void 0&&(e=Vi),t.type){case"ObjectPattern":for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,e,n)}break;case"ArrayPattern":for(var u=0,o=t.elements;u<o.length;u+=1){var c=o[u];c&&this.checkLValInnerPattern(c,e,n)}break;default:this.checkLValSimple(t,e,n)}};Ne.checkLValInnerPattern=function(t,e,n){switch(e===void 0&&(e=Vi),t.type){case"Property":this.checkLValInnerPattern(t.value,e,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,n);break;case"RestElement":this.checkLValPattern(t.argument,e,n);break;default:this.checkLValPattern(t,e,n)}};var Oe=function(t,e,n,r,i){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=r,this.generator=!!i},Tt={b_stat:new Oe("{",!1),b_expr:new Oe("{",!0),b_tmpl:new Oe("${",!1),p_stat:new Oe("(",!1),p_expr:new Oe("(",!0),q_tmpl:new Oe("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Oe("function",!1),f_expr:new Oe("function",!0),f_expr_gen:new Oe("function",!0,!1,null,!0),f_gen:new Oe("function",!1,!1,null,!0)},Er=Ht.prototype;Er.initialContext=function(){return[Tt.b_stat]};Er.curContext=function(){return this.context[this.context.length-1]};Er.braceIsBlock=function(t){var e=this.curContext();return e===Tt.f_expr||e===Tt.f_stat?!0:t===C.colon&&(e===Tt.b_stat||e===Tt.b_expr)?!e.isExpr:t===C._return||t===C.name&&this.exprAllowed?ke.test(this.input.slice(this.lastTokEnd,this.start)):t===C._else||t===C.semi||t===C.eof||t===C.parenR||t===C.arrow?!0:t===C.braceL?e===Tt.b_stat:t===C._var||t===C._const||t===C.name?!1:!this.exprAllowed};Er.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Er.updateContext=function(t){var e,n=this.type;n.keyword&&t===C.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr};Er.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};C.parenR.updateContext=C.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Tt.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};C.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Tt.b_stat:Tt.b_expr),this.exprAllowed=!0};C.dollarBraceL.updateContext=function(){this.context.push(Tt.b_tmpl),this.exprAllowed=!0};C.parenL.updateContext=function(t){var e=t===C._if||t===C._for||t===C._with||t===C._while;this.context.push(e?Tt.p_stat:Tt.p_expr),this.exprAllowed=!0};C.incDec.updateContext=function(){};C._function.updateContext=C._class.updateContext=function(t){t.beforeExpr&&t!==C._else&&!(t===C.semi&&this.curContext()!==Tt.p_stat)&&!(t===C._return&&ke.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===C.colon||t===C.braceL)&&this.curContext()===Tt.b_stat)?this.context.push(Tt.f_expr):this.context.push(Tt.f_stat),this.exprAllowed=!1};C.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};C.backQuote.updateContext=function(){this.curContext()===Tt.q_tmpl?this.context.pop():this.context.push(Tt.q_tmpl),this.exprAllowed=!1};C.star.updateContext=function(t){if(t===C._function){var e=this.context.length-1;this.context[e]===Tt.f_expr?this.context[e]=Tt.f_expr_gen:this.context[e]=Tt.f_gen}this.exprAllowed=!0};C.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==C.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var ht=Ht.prototype;ht.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r=t.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);return}i="$"+i;var u=e[i];if(u){var o;s==="init"?o=this.strict&&u.init||u.get||u.set:o=u.init||u[s],o&&this.raiseRecoverable(r.start,"Redefinition of property")}else u=e[i]={init:!1,get:!1,set:!1};u[s]=!0}};ht.parseExpression=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===C.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(C.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return i};ht.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,i=-1,s=-1,u=-1;e?(i=e.parenthesizedAssign,s=e.trailingComma,u=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new os,r=!0);var o=this.start,c=this.startLoc;(this.type===C.parenL||this.type===C.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(n&&(h=n.call(this,h,o,c)),this.type.isAssign){var p=this.startNodeAt(o,c);return p.operator=this.value,this.type===C.eq&&(h=this.toAssignable(h,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===C.eq?this.checkLValPattern(h):this.checkLValSimple(h),p.left=h,this.next(),p.right=this.parseMaybeAssign(t),u>-1&&(e.doubleProto=u),this.finishNode(p,"AssignmentExpression")}else r&&this.checkExpressionErrors(e,!0);return i>-1&&(e.parenthesizedAssign=i),s>-1&&(e.trailingComma=s),h};ht.parseMaybeConditional=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(C.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(C.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return i};ht.parseExprOps=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,t)};ht.parseExprOp=function(t,e,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==C._in)&&s>r){var u=this.type===C.logicalOR||this.type===C.logicalAND,o=this.type===C.coalesce;o&&(s=C.logicalAND.binop);var c=this.value;this.next();var h=this.start,p=this.startLoc,m=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),h,p,s,i),d=this.buildBinary(e,n,t,m,c,u||o);return(u&&this.type===C.coalesce||o&&(this.type===C.logicalOR||this.type===C.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,e,n,r,i)}return t};ht.buildBinary=function(t,e,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var u=this.startNodeAt(t,e);return u.left=n,u.operator=i,u.right=r,this.finishNode(u,s?"LogicalExpression":"BinaryExpression")};ht.parseMaybeUnary=function(t,e,n,r){var i=this.start,s=this.startLoc,u;if(this.isContextual("await")&&this.canAwait)u=this.parseAwait(r),e=!0;else if(this.type.prefix){var o=this.startNode(),c=this.type===C.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,c,r),this.checkExpressionErrors(t,!0),c?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&Xd(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&mu(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):e=!0,u=this.finishNode(o,c?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===C.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),u=this.parsePrivateIdent(),this.type!==C._in&&this.unexpected();else{if(u=this.parseExprSubscripts(t,r),this.checkExpressionErrors(t))return u;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(i,s);h.operator=this.value,h.prefix=!1,h.argument=u,this.checkLValSimple(u),this.next(),u=this.finishNode(h,"UpdateExpression")}}if(!n&&this.eat(C.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,u,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return u};function Xd(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&Xd(t.expression)}function mu(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&mu(t.expression)||t.type==="ParenthesizedExpression"&&mu(t.expression)}ht.parseExprSubscripts=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprAtom(t,e);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};ht.parseSubscripts=function(t,e,n,r,i){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,u=!1;;){var o=this.parseSubscript(t,e,n,r,s,u,i);if(o.optional&&(u=!0),o===t||o.type==="ArrowFunctionExpression"){if(u){var c=this.startNodeAt(e,n);c.expression=o,o=this.finishNode(c,"ChainExpression")}return o}t=o}};ht.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(C.arrow)};ht.parseSubscriptAsyncArrow=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!0,r)};ht.parseSubscript=function(t,e,n,r,i,s,u){var o=this.options.ecmaVersion>=11,c=o&&this.eat(C.questionDot);r&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(C.bracketL);if(h||c&&this.type!==C.parenL&&this.type!==C.backQuote||this.eat(C.dot)){var p=this.startNodeAt(e,n);p.object=t,h?(p.property=this.parseExpression(),this.expect(C.bracketR)):this.type===C.privateId&&t.type!=="Super"?p.property=this.parsePrivateIdent():p.property=this.parseIdent(this.options.allowReserved!=="never"),p.computed=!!h,o&&(p.optional=c),t=this.finishNode(p,"MemberExpression")}else if(!r&&this.eat(C.parenL)){var m=new os,d=this.yieldPos,y=this.awaitPos,P=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var D=this.parseExprList(C.parenR,this.options.ecmaVersion>=8,!1,m);if(i&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(m,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=y,this.awaitIdentPos=P,this.parseSubscriptAsyncArrow(e,n,D,u);this.checkExpressionErrors(m,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=y||this.awaitPos,this.awaitIdentPos=P||this.awaitIdentPos;var B=this.startNodeAt(e,n);B.callee=t,B.arguments=D,o&&(B.optional=c),t=this.finishNode(B,"CallExpression")}else if(this.type===C.backQuote){(c||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var x=this.startNodeAt(e,n);x.tag=t,x.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(x,"TaggedTemplateExpression")}return t};ht.parseExprAtom=function(t,e,n){this.type===C.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case C._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===C.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==C.dot&&this.type!==C.bracketL&&this.type!==C.parenL&&this.unexpected(),this.finishNode(r,"Super");case C._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case C.name:var s=this.start,u=this.startLoc,o=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(C._function))return this.overrideContext(Tt.f_expr),this.parseFunction(this.startNodeAt(s,u),0,!1,!0,e);if(i&&!this.canInsertSemicolon()){if(this.eat(C.arrow))return this.parseArrowExpression(this.startNodeAt(s,u),[c],!1,e);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===C.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(C.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,u),[c],!0,e)}return c;case C.regexp:var h=this.value;return r=this.parseLiteral(h.value),r.regex={pattern:h.pattern,flags:h.flags},r;case C.num:case C.string:return this.parseLiteral(this.value);case C._null:case C._true:case C._false:return r=this.startNode(),r.value=this.type===C._null?null:this.type===C._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case C.parenL:var p=this.start,m=this.parseParenAndDistinguishExpression(i,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(m)&&(t.parenthesizedAssign=p),t.parenthesizedBind<0&&(t.parenthesizedBind=p)),m;case C.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(C.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case C.braceL:return this.overrideContext(Tt.b_expr),this.parseObj(!1,t);case C._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case C._class:return this.parseClass(this.startNode(),!1);case C._new:return this.parseNew();case C.backQuote:return this.parseTemplate();case C._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};ht.parseExprAtomDefault=function(){this.unexpected()};ht.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===C.parenL&&!t)return this.parseDynamicImport(e);if(this.type===C.dot){var n=this.startNodeAt(e.start,e.loc&&e.loc.start);return n.name="import",e.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};ht.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(C.parenR)){var e=this.start;this.eat(C.comma)&&this.eat(C.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};ht.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};ht.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};ht.parseParenExpression=function(){this.expect(C.parenL);var t=this.parseExpression();return this.expect(C.parenR),t};ht.shouldParseArrow=function(t){return!this.canInsertSemicolon()};ht.parseParenAndDistinguishExpression=function(t,e){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var u=this.start,o=this.startLoc,c=[],h=!0,p=!1,m=new os,d=this.yieldPos,y=this.awaitPos,P;for(this.yieldPos=0,this.awaitPos=0;this.type!==C.parenR;)if(h?h=!1:this.expect(C.comma),s&&this.afterTrailingComma(C.parenR,!0)){p=!0;break}else if(this.type===C.ellipsis){P=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===C.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,m,this.parseParenItem));var D=this.lastTokEnd,B=this.lastTokEndLoc;if(this.expect(C.parenR),t&&this.shouldParseArrow(c)&&this.eat(C.arrow))return this.checkPatternErrors(m,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=y,this.parseParenArrowList(n,r,c,e);(!c.length||p)&&this.unexpected(this.lastTokStart),P&&this.unexpected(P),this.checkExpressionErrors(m,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=y||this.awaitPos,c.length>1?(i=this.startNodeAt(u,o),i.expressions=c,this.finishNodeAt(i,"SequenceExpression",D,B)):i=c[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var x=this.startNodeAt(n,r);return x.expression=i,this.finishNode(x,"ParenthesizedExpression")}else return i};ht.parseParenItem=function(t){return t};ht.parseParenArrowList=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!1,r)};var jP=[];ht.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===C.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var n=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var r=this.start,i=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(C.parenL)?t.arguments=this.parseExprList(C.parenR,this.options.ecmaVersion>=8,!1):t.arguments=jP,this.finishNode(t,"NewExpression")};ht.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===C.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===C.backQuote,this.finishNode(n,"TemplateElement")};ht.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(n.quasis=[r];!r.tail;)this.type===C.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(C.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(C.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")};ht.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===C.name||this.type===C.num||this.type===C.string||this.type===C.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===C.star)&&!ke.test(this.input.slice(this.lastTokEnd,this.start))};ht.parseObj=function(t,e){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(C.braceR);){if(r)r=!1;else if(this.expect(C.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(C.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,i,e),n.properties.push(s)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")};ht.parseProperty=function(t,e){var n=this.startNode(),r,i,s,u;if(this.options.ecmaVersion>=9&&this.eat(C.ellipsis))return t?(n.argument=this.parseIdent(!1),this.type===C.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,e),this.type===C.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(t||e)&&(s=this.start,u=this.startLoc),t||(r=this.eat(C.star)));var o=this.containsEsc;return this.parsePropertyName(n),!t&&!o&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(C.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,t,r,i,s,u,e,o),this.finishNode(n,"Property")};ht.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var n=t.value.start;t.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};ht.parsePropertyValue=function(t,e,n,r,i,s,u,o){(n||r)&&this.type===C.colon&&this.unexpected(),this.eat(C.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,u),t.kind="init"):this.options.ecmaVersion>=6&&this.type===C.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,r)):!e&&!o&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==C.comma&&this.type!==C.braceR&&this.type!==C.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key)):this.type===C.eq&&u?(u.shorthandAssign<0&&(u.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};ht.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(C.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(C.bracketR),t.key;t.computed=!1}return t.key=this.type===C.num||this.type===C.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};ht.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};ht.parseMethod=function(t,e,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(yo(e,r.generator)|Ao|(n?jd:0)),this.expect(C.parenL),r.params=this.parseBindingList(C.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(r,"FunctionExpression")};ht.parseArrowExpression=function(t,e,n,r){var i=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.enterScope(yo(n,!1)|Ld),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(t,"ArrowFunctionExpression")};ht.parseFunctionBody=function(t,e,n,r){var i=e&&this.type!==C.braceL,s=this.strict,u=!1;if(i)t.body=this.parseMaybeAssign(r),t.expression=!0,this.checkParams(t,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||o)&&(u=this.strictDirective(this.end),u&&o&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],u&&(this.strict=!0),this.checkParams(t,!s&&!u&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Wd),t.body=this.parseBlock(!1,void 0,u&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=c}this.exitScope()};ht.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(r.type!=="Identifier")return!1}return!0};ht.checkParams=function(t,e){for(var n=Object.create(null),r=0,i=t.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,Mo,e?null:n)}};ht.parseExprList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(C.comma),e&&this.afterTrailingComma(t))break;var u=void 0;n&&this.type===C.comma?u=null:this.type===C.ellipsis?(u=this.parseSpread(r),r&&this.type===C.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):u=this.parseMaybeAssign(!1,r),i.push(u)}return i};ht.checkUnreserved=function(t){var e=t.start,n=t.end,r=t.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))}};ht.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};ht.parseIdentNode=function(){var t=this.startNode();return this.type===C.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=C.name):this.unexpected(),t};ht.parsePrivateIdent=function(){var t=this.startNode();return this.type===C.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};ht.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===C.semi||this.canInsertSemicolon()||this.type!==C.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(C.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};ht.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Oi=Ht.prototype;Oi.raise=function(t,e){var n=Rd(this.input,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=this.pos,r};Oi.raiseRecoverable=Oi.raise;Oi.curPosition=function(){if(this.options.locations)return new Hr(this.curLine,this.pos-this.lineStart)};var Vn=Ht.prototype,GP=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Vn.enterScope=function(t){this.scopeStack.push(new GP(t))};Vn.exitScope=function(){this.scopeStack.pop()};Vn.treatFunctionsAsVarInScope=function(t){return t.flags&vr||!this.inModule&&t.flags&Kr};Vn.declareName=function(t,e,n){var r=!1;if(e===Cn){var i=this.currentScope();r=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&i.flags&Kr&&delete this.undefinedExports[t]}else if(e===zd){var s=this.currentScope();s.lexical.push(t)}else if(e===Gd){var u=this.currentScope();this.treatFunctionsAsVar?r=u.lexical.indexOf(t)>-1:r=u.lexical.indexOf(t)>-1||u.var.indexOf(t)>-1,u.functions.push(t)}else for(var o=this.scopeStack.length-1;o>=0;--o){var c=this.scopeStack[o];if(c.lexical.indexOf(t)>-1&&!(c.flags&Od&&c.lexical[0]===t)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(t)>-1){r=!0;break}if(c.var.push(t),this.inModule&&c.flags&Kr&&delete this.undefinedExports[t],c.flags&Co)break}r&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")};Vn.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Vn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Vn.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Co)return e}};Vn.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Co&&!(e.flags&Ld))return e}};var as=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new us(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},ei=Ht.prototype;ei.startNode=function(){return new as(this,this.start,this.startLoc)};ei.startNodeAt=function(t,e){return new as(this,t,e)};function Zd(t,e,n,r){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=n),t}ei.finishNode=function(t,e){return Zd.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};ei.finishNodeAt=function(t,e,n,r){return Zd.call(this,t,e,n,r)};ei.copyNode=function(t){var e=new as(this,t.start,this.startLoc);for(var n in t)e[n]=t[n];return e};var Hd="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Kd=Hd+" Extended_Pictographic",Yd=Kd,Ud=Yd+" EBase EComp EMod EPres ExtPict",$d=Ud,zP=$d,WP={9:Hd,10:Kd,11:Yd,12:Ud,13:$d,14:zP},qP="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",XP={9:"",10:"",11:"",12:"",13:"",14:qP},_a="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Jd="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Qd=Jd+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",tf=Qd+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ef=tf+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",nf=ef+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ZP=nf+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",HP={9:Jd,10:Qd,11:tf,12:ef,13:nf,14:ZP},rf={};function KP(t){var e=rf[t]={binary:wn(WP[t]+" "+_a),binaryOfStrings:wn(XP[t]),nonBinary:{General_Category:wn(_a),Script:wn(HP[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var js=0,ka=[9,10,11,12,13,14];js<ka.length;js+=1){var YP=ka[js];KP(YP)}var Q=Ht.prototype,ji=function(t,e){this.parent=t,this.base=e||this};ji.prototype.separatedFrom=function(t){for(var e=this;e;e=e.parent)for(var n=t;n;n=n.parent)if(e.base===n.base&&e!==n)return!0;return!1};ji.prototype.sibling=function(){return new ji(this.parent,this.base)};var Qe=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=rf[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Qe.prototype.reset=function(t,e,n){var r=n.indexOf("v")!==-1,i=n.indexOf("u")!==-1;this.start=t|0,this.source=e+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=i&&this.parser.options.ecmaVersion>=9)};Qe.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Qe.prototype.at=function(t,e){e===void 0&&(e=!1);var n=this.source,r=n.length;if(t>=r)return-1;var i=n.charCodeAt(t);if(!(e||this.switchU)||i<=55295||i>=57344||t+1>=r)return i;var s=n.charCodeAt(t+1);return s>=56320&&s<=57343?(i<<10)+s-56613888:i};Qe.prototype.nextIndex=function(t,e){e===void 0&&(e=!1);var n=this.source,r=n.length;if(t>=r)return r;var i=n.charCodeAt(t),s;return!(e||this.switchU)||i<=55295||i>=57344||t+1>=r||(s=n.charCodeAt(t+1))<56320||s>57343?t+1:t+2};Qe.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Qe.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Qe.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Qe.prototype.eat=function(t,e){return e===void 0&&(e=!1),this.current(e)===t?(this.advance(e),!0):!1};Qe.prototype.eatChars=function(t,e){e===void 0&&(e=!1);for(var n=this.pos,r=0,i=t;r<i.length;r+=1){var s=i[r],u=this.at(n,e);if(u===-1||u!==s)return!1;n=this.nextIndex(n,e)}return this.pos=n,!0};Q.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,r=!1,i=!1,s=0;s<n.length;s++){var u=n.charAt(s);e.indexOf(u)===-1&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(u,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),u==="u"&&(r=!0),u==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(t.start,"Invalid regular expression flag")};function UP(t){for(var e in t)return!0;return!1}Q.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&UP(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};Q.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var r=n[e];t.groupNames[r]||t.raise("Invalid named capture referenced")}};Q.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new ji(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};Q.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};Q.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};Q.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1};Q.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};Q.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};Q.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return i!==-1&&i<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1};Q.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};Q.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};Q.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};Q.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};Q.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};Q.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};Q.regexp_eatSyntaxCharacter=function(t){var e=t.current();return sf(e)?(t.lastIntValue=e,t.advance(),!0):!1};function sf(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}Q.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;(n=t.current())!==-1&&!sf(n);)t.advance();return t.pos!==e};Q.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};Q.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,n=t.groupNames[t.lastStringValue];if(n)if(e)for(var r=0,i=n;r<i.length;r+=1){var s=i[r];s.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(n||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};Q.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};Q.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=_n(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=_n(t.lastIntValue);return!0}return!1};Q.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),$P(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function $P(t){return dn(t,!0)||t===36||t===95}Q.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),JP(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function JP(t){return fr(t,!0)||t===36||t===95||t===8204||t===8205}Q.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};Q.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1};Q.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};Q.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};Q.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};Q.regexp_eatZero=function(t){return t.current()===48&&!cs(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};Q.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};Q.regexp_eatControlLetter=function(t){var e=t.current();return uf(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function uf(t){return t>=65&&t<=90||t>=97&&t<=122}Q.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var n=t.pos,r=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(r&&i>=55296&&i<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var u=t.lastIntValue;if(u>=56320&&u<=57343)return t.lastIntValue=(i-55296)*1024+(u-56320)+65536,!0}t.pos=s,t.lastIntValue=i}return!0}if(r&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&QP(t.lastIntValue))return!0;r&&t.raise("Invalid unicode escape"),t.pos=n}return!1};function QP(t){return t>=0&&t<=1114111}Q.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};Q.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var of=0,fn=1,Be=2;Q.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(t7(e))return t.lastIntValue=-1,t.advance(),fn;var n=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((n=e===80)||e===112)){t.lastIntValue=-1,t.advance();var r;if(t.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return n&&r===Be&&t.raise("Invalid property name"),r;t.raise("Invalid property name")}return of};function t7(t){return t===100||t===68||t===115||t===83||t===119||t===87}Q.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,r),fn}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i)}return of};Q.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){Qr(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")};Q.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return fn;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Be;t.raise("Invalid property name")};Q.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";af(e=t.current());)t.lastStringValue+=_n(e),t.advance();return t.lastStringValue!==""};function af(t){return uf(t)||t===95}Q.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";e7(e=t.current());)t.lastStringValue+=_n(e),t.advance();return t.lastStringValue!==""};function e7(t){return af(t)||cs(t)}Q.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};Q.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),n=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&n===Be&&t.raise("Negated character class may contain strings"),!0}return!1};Q.regexp_classContents=function(t){return t.current()===93?fn:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),fn)};Q.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;t.switchU&&(e===-1||n===-1)&&t.raise("Invalid character class"),e!==-1&&n!==-1&&e>n&&t.raise("Range out of order in character class")}}};Q.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(n===99||hf(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return r!==93?(t.lastIntValue=r,t.advance(),!0):!1};Q.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};Q.regexp_classSetExpression=function(t){var e=fn,n;if(!this.regexp_eatClassSetRange(t))if(n=this.regexp_eatClassSetOperand(t)){n===Be&&(e=Be);for(var r=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(n=this.regexp_eatClassSetOperand(t))){n!==Be&&(e=fn);continue}t.raise("Invalid character in character class")}if(r!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(r!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(n=this.regexp_eatClassSetOperand(t),!n)return e;n===Be&&(e=Be)}};Q.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var r=t.lastIntValue;return n!==-1&&r!==-1&&n>r&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};Q.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?fn:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};Q.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var n=t.eat(94),r=this.regexp_classContents(t);if(t.eat(93))return n&&r===Be&&t.raise("Negated character class may contain strings"),r;t.pos=e}if(t.eat(92)){var i=this.regexp_eatCharacterClassEscape(t);if(i)return i;t.pos=e}return null};Q.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var n=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return n}else t.raise("Invalid escape");t.pos=e}return null};Q.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Be&&(e=Be);return e};Q.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?fn:Be};Q.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var n=t.current();return n<0||n===t.lookahead()&&n7(n)||r7(n)?!1:(t.advance(),t.lastIntValue=n,!0)};function n7(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function r7(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}Q.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return i7(e)?(t.lastIntValue=e,t.advance(),!0):!1};function i7(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}Q.regexp_eatClassControlLetter=function(t){var e=t.current();return cs(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};Q.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};Q.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;cs(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e};function cs(t){return t>=48&&t<=57}Q.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;cf(n=t.current());)t.lastIntValue=16*t.lastIntValue+lf(n),t.advance();return t.pos!==e};function cf(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function lf(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}Q.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+n*8+t.lastIntValue:t.lastIntValue=e*8+n}else t.lastIntValue=e;return!0}return!1};Q.regexp_eatOctalDigit=function(t){var e=t.current();return hf(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function hf(t){return t>=48&&t<=55}Q.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var i=t.current();if(!cf(i))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+lf(i),t.advance()}return!0};var Po=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new us(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},At=Ht.prototype;At.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Po(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};At.getToken=function(){return this.next(),new Po(this)};typeof Symbol<"u"&&(At[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===C.eof,value:e}}}});At.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(C.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};At.readToken=function(t){return dn(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};At.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};At.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=e;(r=kd(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,n),e,this.pos,t,this.curPosition())};At.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Dr(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())};At.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(t>8&&t<14||t>=5760&&Nd.test(String.fromCharCode(t)))++this.pos;else break t}}};At.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)};At.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(C.ellipsis)):(++this.pos,this.finishToken(C.dot))};At.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(C.assign,2):this.finishOp(C.slash,1)};At.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,r=t===42?C.star:C.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++n,r=C.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(C.assign,n+1):this.finishOp(r,n)};At.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(C.assign,3)}return this.finishOp(t===124?C.logicalOR:C.logicalAND,2)}return e===61?this.finishOp(C.assign,2):this.finishOp(t===124?C.bitwiseOR:C.bitwiseAND,1)};At.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(C.assign,2):this.finishOp(C.bitwiseXOR,1)};At.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ke.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(C.incDec,2):e===61?this.finishOp(C.assign,2):this.finishOp(C.plusMin,1)};At.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(C.assign,n+1):this.finishOp(C.bitShift,n)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(n=2),this.finishOp(C.relational,n))};At.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(C.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(C.arrow)):this.finishOp(t===61?C.eq:C.prefix,1)};At.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(C.questionDot,2)}if(e===63){if(t>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(C.assign,3)}return this.finishOp(C.coalesce,2)}}return this.finishOp(C.question,1)};At.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),dn(e,!0)||e===92))return this.finishToken(C.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+_n(e)+"'")};At.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(C.parenL);case 41:return++this.pos,this.finishToken(C.parenR);case 59:return++this.pos,this.finishToken(C.semi);case 44:return++this.pos,this.finishToken(C.comma);case 91:return++this.pos,this.finishToken(C.bracketL);case 93:return++this.pos,this.finishToken(C.bracketR);case 123:return++this.pos,this.finishToken(C.braceL);case 125:return++this.pos,this.finishToken(C.braceR);case 58:return++this.pos,this.finishToken(C.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(C.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(C.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+_n(t)+"'")};At.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)};At.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ke.test(r)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if(r==="[")e=!0;else if(r==="]"&&e)e=!1;else if(r==="/"&&!e)break;t=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,u=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new Qe(this));o.reset(n,i,u),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var c=null;try{c=new RegExp(i,u)}catch{}return this.finishToken(C.regexp,{pattern:i,flags:u,value:c})};At.readInt=function(t,e,n){for(var r=this.options.ecmaVersion>=12&&e===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,u=0,o=0,c=0,h=e??1/0;c<h;++c,++this.pos){var p=this.input.charCodeAt(this.pos),m=void 0;if(r&&p===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=p;continue}if(p>=97?m=p-97+10:p>=65?m=p-65+10:p>=48&&p<=57?m=p-48:m=1/0,m>=t)break;o=p,u=u*t+m}return r&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:u};function s7(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function pf(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}At.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return n==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=pf(this.input.slice(e,this.pos)),++this.pos):dn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(C.num,n)};At.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var n=this.pos-e>=2&&this.input.charCodeAt(e)===48;n&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&r===110){var i=pf(this.input.slice(e,this.pos));return++this.pos,dn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(C.num,i)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),dn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=s7(this.input.slice(e,this.pos),n);return this.finishToken(C.num,s)};At.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e};At.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;r===92?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Dr(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(C.string,e)};var mf={};At.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===mf)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};At.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw mf;this.raise(t,e)};At.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===C.template||this.type===C.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(C.dollarBraceL)):(++this.pos,this.finishToken(C.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(C.template,t));if(n===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Dr(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};At.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(C.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};At.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return _n(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),(r!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Dr(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};At.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return n===null&&this.invalidStringToken(e,"Bad character escape sequence"),n};At.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(fr(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,t+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(e?dn:fr)(u,r)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=_n(u),n=this.pos}else break;e=!1}return t+this.input.slice(n,this.pos)};At.readWord=function(){var t=this.readWord1(),e=C.name;return this.keywords.test(t)&&(e=mo[t]),this.finishToken(e,t)};var u7="8.12.0";Ht.acorn={Parser:Ht,version:u7,defaultOptions:hu,Position:Hr,SourceLocation:us,getLineInfo:Rd,Node:as,TokenType:bt,tokTypes:C,keywordTypes:mo,TokContext:Oe,tokContexts:Tt,isIdentifierChar:fr,isIdentifierStart:dn,Token:Po,isNewLine:Dr,lineBreak:ke,lineBreakG:xP,nonASCIIwhitespace:Nd};function o7(t,e){return Ht.parse(t,e)}var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function df(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function a7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ff={},gf={};(function(t){(function e(n){var r,i,s,u,o,c;function h(F){var _={},S,V;for(S in F)F.hasOwnProperty(S)&&(V=F[S],typeof V=="object"&&V!==null?_[S]=h(V):_[S]=V);return _}function p(F,_){var S,V,W,O;for(V=F.length,W=0;V;)S=V>>>1,O=W+S,_(F[O])?V=S:(W=O+1,V-=S+1);return W}r={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={},o={},c={},i={Break:u,Skip:o,Remove:c};function m(F,_){this.parent=F,this.key=_}m.prototype.replace=function(F){this.parent[this.key]=F},m.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function d(F,_,S,V){this.node=F,this.path=_,this.wrap=S,this.ref=V}function y(){}y.prototype.path=function(){var F,_,S,V,W,O;function K(G,z){if(Array.isArray(z))for(S=0,V=z.length;S<V;++S)G.push(z[S]);else G.push(z)}if(!this.__current.path)return null;for(W=[],F=2,_=this.__leavelist.length;F<_;++F)O=this.__leavelist[F],K(W,O.path);return K(W,this.__current.path),W},y.prototype.type=function(){var F=this.current();return F.type||this.__current.wrap},y.prototype.parents=function(){var F,_,S;for(S=[],F=1,_=this.__leavelist.length;F<_;++F)S.push(this.__leavelist[F].node);return S},y.prototype.current=function(){return this.__current.node},y.prototype.__execute=function(F,_){var S,V;return V=void 0,S=this.__current,this.__current=_,this.__state=null,F&&(V=F.call(this,_.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=S,V},y.prototype.notify=function(F){this.__state=F},y.prototype.skip=function(){this.notify(o)},y.prototype.break=function(){this.notify(u)},y.prototype.remove=function(){this.notify(c)},y.prototype.__initialize=function(F,_){this.visitor=_,this.root=F,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,_.fallback==="iteration"?this.__fallback=Object.keys:typeof _.fallback=="function"&&(this.__fallback=_.fallback),this.__keys=s,_.keys&&(this.__keys=Object.assign(Object.create(this.__keys),_.keys))};function P(F){return F==null?!1:typeof F=="object"&&typeof F.type=="string"}function D(F,_){return(F===r.ObjectExpression||F===r.ObjectPattern)&&_==="properties"}function B(F,_){for(var S=F.length-1;S>=0;--S)if(F[S].node===_)return!0;return!1}y.prototype.traverse=function(F,_){var S,V,W,O,K,G,z,Z,pt,nt,lt,ot;for(this.__initialize(F,_),ot={},S=this.__worklist,V=this.__leavelist,S.push(new d(F,null,null,null)),V.push(new d(null,null,null,null));S.length;){if(W=S.pop(),W===ot){if(W=V.pop(),G=this.__execute(_.leave,W),this.__state===u||G===u)return;continue}if(W.node){if(G=this.__execute(_.enter,W),this.__state===u||G===u)return;if(S.push(ot),V.push(W),this.__state===o||G===o)continue;if(O=W.node,K=O.type||W.wrap,nt=this.__keys[K],!nt)if(this.__fallback)nt=this.__fallback(O);else throw new Error("Unknown node type "+K+".");for(Z=nt.length;(Z-=1)>=0;)if(z=nt[Z],lt=O[z],!!lt){if(Array.isArray(lt)){for(pt=lt.length;(pt-=1)>=0;)if(lt[pt]&&!B(V,lt[pt])){if(D(K,nt[Z]))W=new d(lt[pt],[z,pt],"Property",null);else if(P(lt[pt]))W=new d(lt[pt],[z,pt],null,null);else continue;S.push(W)}}else if(P(lt)){if(B(V,lt))continue;S.push(new d(lt,z,null,null))}}}}},y.prototype.replace=function(F,_){var S,V,W,O,K,G,z,Z,pt,nt,lt,ot,Ft;function oe(Ut){var X,$t,ne,Ae;if(Ut.ref.remove()){for($t=Ut.ref.key,Ae=Ut.ref.parent,X=S.length;X--;)if(ne=S[X],ne.ref&&ne.ref.parent===Ae){if(ne.ref.key<$t)break;--ne.ref.key}}}for(this.__initialize(F,_),lt={},S=this.__worklist,V=this.__leavelist,ot={root:F},G=new d(F,null,null,new m(ot,"root")),S.push(G),V.push(G);S.length;){if(G=S.pop(),G===lt){if(G=V.pop(),K=this.__execute(_.leave,G),K!==void 0&&K!==u&&K!==o&&K!==c&&G.ref.replace(K),(this.__state===c||K===c)&&oe(G),this.__state===u||K===u)return ot.root;continue}if(K=this.__execute(_.enter,G),K!==void 0&&K!==u&&K!==o&&K!==c&&(G.ref.replace(K),G.node=K),(this.__state===c||K===c)&&(oe(G),G.node=null),this.__state===u||K===u)return ot.root;if(W=G.node,!!W&&(S.push(lt),V.push(G),!(this.__state===o||K===o))){if(O=W.type||G.wrap,pt=this.__keys[O],!pt)if(this.__fallback)pt=this.__fallback(W);else throw new Error("Unknown node type "+O+".");for(z=pt.length;(z-=1)>=0;)if(Ft=pt[z],nt=W[Ft],!!nt)if(Array.isArray(nt)){for(Z=nt.length;(Z-=1)>=0;)if(nt[Z]){if(D(O,pt[z]))G=new d(nt[Z],[Ft,Z],"Property",new m(nt,Z));else if(P(nt[Z]))G=new d(nt[Z],[Ft,Z],null,new m(nt,Z));else continue;S.push(G)}}else P(nt)&&S.push(new d(nt,Ft,null,new m(W,Ft)))}}return ot.root};function x(F,_){var S=new y;return S.traverse(F,_)}function N(F,_){var S=new y;return S.replace(F,_)}function q(F,_){var S;return S=p(_,function(V){return V.range[0]>F.range[0]}),F.extendedRange=[F.range[0],F.range[1]],S!==_.length&&(F.extendedRange[1]=_[S].range[0]),S-=1,S>=0&&(F.extendedRange[0]=_[S].range[1]),F}function I(F,_,S){var V=[],W,O,K,G;if(!F.range)throw new Error("attachComments needs range information");if(!S.length){if(_.length){for(K=0,O=_.length;K<O;K+=1)W=h(_[K]),W.extendedRange=[0,F.range[0]],V.push(W);F.leadingComments=V}return F}for(K=0,O=_.length;K<O;K+=1)V.push(q(h(_[K]),S));return G=0,x(F,{enter:function(z){for(var Z;G<V.length&&(Z=V[G],!(Z.extendedRange[1]>z.range[0]));)Z.extendedRange[1]===z.range[0]?(z.leadingComments||(z.leadingComments=[]),z.leadingComments.push(Z),V.splice(G,1)):G+=1;if(G===V.length)return i.Break;if(V[G].extendedRange[0]>z.range[1])return i.Skip}}),G=0,x(F,{leave:function(z){for(var Z;G<V.length&&(Z=V[G],!(z.range[1]<Z.extendedRange[0]));)z.range[1]===Z.extendedRange[0]?(z.trailingComments||(z.trailingComments=[]),z.trailingComments.push(Z),V.splice(G,1)):G+=1;if(G===V.length)return i.Break;if(V[G].extendedRange[0]>z.range[1])return i.Skip}}),F}return n.Syntax=r,n.traverse=x,n.replace=N,n.attachComments=I,n.VisitorKeys=s,n.VisitorOption=i,n.Controller=y,n.cloneEnvironment=function(){return e({})},n})(t)})(gf);var wi={},Af={exports:{}};(function(){function t(u){if(u==null)return!1;switch(u.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function e(u){if(u==null)return!1;switch(u.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function n(u){if(u==null)return!1;switch(u.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function r(u){return n(u)||u!=null&&u.type==="FunctionDeclaration"}function i(u){switch(u.type){case"IfStatement":return u.alternate!=null?u.alternate:u.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return u.body}return null}function s(u){var o;if(u.type!=="IfStatement"||u.alternate==null)return!1;o=u.consequent;do{if(o.type==="IfStatement"&&o.alternate==null)return!0;o=i(o)}while(o);return!1}Af.exports={isExpression:t,isStatement:n,isIterationStatement:e,isSourceElement:r,isProblematicIfStatement:s,trailingStatement:i}})();var c7=Af.exports,Cf={exports:{}};(function(){var t,e,n,r,i,s;e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function u(B){return 48<=B&&B<=57}function o(B){return 48<=B&&B<=57||97<=B&&B<=102||65<=B&&B<=70}function c(B){return B>=48&&B<=55}n=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function h(B){return B===32||B===9||B===11||B===12||B===160||B>=5760&&n.indexOf(B)>=0}function p(B){return B===10||B===13||B===8232||B===8233}function m(B){if(B<=65535)return String.fromCharCode(B);var x=String.fromCharCode(Math.floor((B-65536)/1024)+55296),N=String.fromCharCode((B-65536)%1024+56320);return x+N}for(r=new Array(128),s=0;s<128;++s)r[s]=s>=97&&s<=122||s>=65&&s<=90||s===36||s===95;for(i=new Array(128),s=0;s<128;++s)i[s]=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===36||s===95;function d(B){return B<128?r[B]:e.NonAsciiIdentifierStart.test(m(B))}function y(B){return B<128?i[B]:e.NonAsciiIdentifierPart.test(m(B))}function P(B){return B<128?r[B]:t.NonAsciiIdentifierStart.test(m(B))}function D(B){return B<128?i[B]:t.NonAsciiIdentifierPart.test(m(B))}Cf.exports={isDecimalDigit:u,isHexDigit:o,isOctalDigit:c,isWhiteSpace:h,isLineTerminator:p,isIdentifierStartES5:d,isIdentifierPartES5:y,isIdentifierStartES6:P,isIdentifierPartES6:D}})();var yf=Cf.exports,Mf={exports:{}};(function(){var t=yf;function e(d){switch(d){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function n(d,y){return!y&&d==="yield"?!1:r(d,y)}function r(d,y){if(y&&e(d))return!0;switch(d.length){case 2:return d==="if"||d==="in"||d==="do";case 3:return d==="var"||d==="for"||d==="new"||d==="try";case 4:return d==="this"||d==="else"||d==="case"||d==="void"||d==="with"||d==="enum";case 5:return d==="while"||d==="break"||d==="catch"||d==="throw"||d==="const"||d==="yield"||d==="class"||d==="super";case 6:return d==="return"||d==="typeof"||d==="delete"||d==="switch"||d==="export"||d==="import";case 7:return d==="default"||d==="finally"||d==="extends";case 8:return d==="function"||d==="continue"||d==="debugger";case 10:return d==="instanceof";default:return!1}}function i(d,y){return d==="null"||d==="true"||d==="false"||n(d,y)}function s(d,y){return d==="null"||d==="true"||d==="false"||r(d,y)}function u(d){return d==="eval"||d==="arguments"}function o(d){var y,P,D;if(d.length===0||(D=d.charCodeAt(0),!t.isIdentifierStartES5(D)))return!1;for(y=1,P=d.length;y<P;++y)if(D=d.charCodeAt(y),!t.isIdentifierPartES5(D))return!1;return!0}function c(d,y){return(d-55296)*1024+(y-56320)+65536}function h(d){var y,P,D,B,x;if(d.length===0)return!1;for(x=t.isIdentifierStartES6,y=0,P=d.length;y<P;++y){if(D=d.charCodeAt(y),55296<=D&&D<=56319){if(++y,y>=P||(B=d.charCodeAt(y),!(56320<=B&&B<=57343)))return!1;D=c(D,B)}if(!x(D))return!1;x=t.isIdentifierPartES6}return!0}function p(d,y){return o(d)&&!i(d,y)}function m(d,y){return h(d)&&!s(d,y)}Mf.exports={isKeywordES5:n,isKeywordES6:r,isReservedWordES5:i,isReservedWordES6:s,isRestrictedWord:u,isIdentifierNameES5:o,isIdentifierNameES6:h,isIdentifierES5:p,isIdentifierES6:m}})();var l7=Mf.exports;(function(){wi.ast=c7,wi.code=yf,wi.keyword=l7})();var Mi={},Gs={},bi={},Pi={},Na;function h7(){if(Na)return Pi;Na=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Pi.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},Pi.decode=function(e){var n=65,r=90,i=97,s=122,u=48,o=57,c=43,h=47,p=26,m=52;return n<=e&&e<=r?e-n:i<=e&&e<=s?e-i+p:u<=e&&e<=o?e-u+m:e==c?62:e==h?63:-1},Pi}var Ta;function bf(){if(Ta)return bi;Ta=1;var t=h7(),e=5,n=1<<e,r=n-1,i=n;function s(o){return o<0?(-o<<1)+1:(o<<1)+0}function u(o){var c=(o&1)===1,h=o>>1;return c?-h:h}return bi.encode=function(o){var c="",h,p=s(o);do h=p&r,p>>>=e,p>0&&(h|=i),c+=t.encode(h);while(p>0);return c},bi.decode=function(o,c,h){var p=o.length,m=0,d=0,y,P;do{if(c>=p)throw new Error("Expected more digits in base 64 VLQ value.");if(P=t.decode(o.charCodeAt(c++)),P===-1)throw new Error("Invalid base64 digit: "+o.charAt(c-1));y=!!(P&i),P&=r,m=m+(P<<d),d+=e}while(y);h.value=u(m),h.rest=c},bi}var Ra={},Va;function ni(){return Va||(Va=1,function(t){function e(I,F,_){if(F in I)return I[F];if(arguments.length===3)return _;throw new Error('"'+F+'" is a required argument.')}t.getArg=e;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function i(I){var F=I.match(n);return F?{scheme:F[1],auth:F[2],host:F[3],port:F[4],path:F[5]}:null}t.urlParse=i;function s(I){var F="";return I.scheme&&(F+=I.scheme+":"),F+="//",I.auth&&(F+=I.auth+"@"),I.host&&(F+=I.host),I.port&&(F+=":"+I.port),I.path&&(F+=I.path),F}t.urlGenerate=s;function u(I){var F=I,_=i(I);if(_){if(!_.path)return I;F=_.path}for(var S=t.isAbsolute(F),V=F.split(/\/+/),W,O=0,K=V.length-1;K>=0;K--)W=V[K],W==="."?V.splice(K,1):W===".."?O++:O>0&&(W===""?(V.splice(K+1,O),O=0):(V.splice(K,2),O--));return F=V.join("/"),F===""&&(F=S?"/":"."),_?(_.path=F,s(_)):F}t.normalize=u;function o(I,F){I===""&&(I="."),F===""&&(F=".");var _=i(F),S=i(I);if(S&&(I=S.path||"/"),_&&!_.scheme)return S&&(_.scheme=S.scheme),s(_);if(_||F.match(r))return F;if(S&&!S.host&&!S.path)return S.host=F,s(S);var V=F.charAt(0)==="/"?F:u(I.replace(/\/+$/,"")+"/"+F);return S?(S.path=V,s(S)):V}t.join=o,t.isAbsolute=function(I){return I.charAt(0)==="/"||n.test(I)};function c(I,F){I===""&&(I="."),I=I.replace(/\/$/,"");for(var _=0;F.indexOf(I+"/")!==0;){var S=I.lastIndexOf("/");if(S<0||(I=I.slice(0,S),I.match(/^([^\/]+:\/)?\/*$/)))return F;++_}return Array(_+1).join("../")+F.substr(I.length+1)}t.relative=c;var h=function(){var I=Object.create(null);return!("__proto__"in I)}();function p(I){return I}function m(I){return y(I)?"$"+I:I}t.toSetString=h?p:m;function d(I){return y(I)?I.slice(1):I}t.fromSetString=h?p:d;function y(I){if(!I)return!1;var F=I.length;if(F<9||I.charCodeAt(F-1)!==95||I.charCodeAt(F-2)!==95||I.charCodeAt(F-3)!==111||I.charCodeAt(F-4)!==116||I.charCodeAt(F-5)!==111||I.charCodeAt(F-6)!==114||I.charCodeAt(F-7)!==112||I.charCodeAt(F-8)!==95||I.charCodeAt(F-9)!==95)return!1;for(var _=F-10;_>=0;_--)if(I.charCodeAt(_)!==36)return!1;return!0}function P(I,F,_){var S=B(I.source,F.source);return S!==0||(S=I.originalLine-F.originalLine,S!==0)||(S=I.originalColumn-F.originalColumn,S!==0||_)||(S=I.generatedColumn-F.generatedColumn,S!==0)||(S=I.generatedLine-F.generatedLine,S!==0)?S:B(I.name,F.name)}t.compareByOriginalPositions=P;function D(I,F,_){var S=I.generatedLine-F.generatedLine;return S!==0||(S=I.generatedColumn-F.generatedColumn,S!==0||_)||(S=B(I.source,F.source),S!==0)||(S=I.originalLine-F.originalLine,S!==0)||(S=I.originalColumn-F.originalColumn,S!==0)?S:B(I.name,F.name)}t.compareByGeneratedPositionsDeflated=D;function B(I,F){return I===F?0:I===null?1:F===null?-1:I>F?1:-1}function x(I,F){var _=I.generatedLine-F.generatedLine;return _!==0||(_=I.generatedColumn-F.generatedColumn,_!==0)||(_=B(I.source,F.source),_!==0)||(_=I.originalLine-F.originalLine,_!==0)||(_=I.originalColumn-F.originalColumn,_!==0)?_:B(I.name,F.name)}t.compareByGeneratedPositionsInflated=x;function N(I){return JSON.parse(I.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=N;function q(I,F,_){if(F=F||"",I&&(I[I.length-1]!=="/"&&F[0]!=="/"&&(I+="/"),F=I+F),_){var S=i(_);if(!S)throw new Error("sourceMapURL could not be parsed");if(S.path){var V=S.path.lastIndexOf("/");V>=0&&(S.path=S.path.substring(0,V+1))}F=o(s(S),F)}return u(F)}t.computeSourceURL=q}(Ra)),Ra}var zs={},La;function Pf(){if(La)return zs;La=1;var t=ni(),e=Object.prototype.hasOwnProperty,n=typeof Map<"u";function r(){this._array=[],this._set=n?new Map:Object.create(null)}return r.fromArray=function(i,s){for(var u=new r,o=0,c=i.length;o<c;o++)u.add(i[o],s);return u},r.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(i,s){var u=n?i:t.toSetString(i),o=n?this.has(i):e.call(this._set,u),c=this._array.length;(!o||s)&&this._array.push(i),o||(n?this._set.set(i,c):this._set[u]=c)},r.prototype.has=function(i){if(n)return this._set.has(i);var s=t.toSetString(i);return e.call(this._set,s)},r.prototype.indexOf=function(i){if(n){var s=this._set.get(i);if(s>=0)return s}else{var u=t.toSetString(i);if(e.call(this._set,u))return this._set[u]}throw new Error('"'+i+'" is not in the set.')},r.prototype.at=function(i){if(i>=0&&i<this._array.length)return this._array[i];throw new Error("No element indexed by "+i)},r.prototype.toArray=function(){return this._array.slice()},zs.ArraySet=r,zs}var Ws={},Oa;function p7(){if(Oa)return Ws;Oa=1;var t=ni();function e(r,i){var s=r.generatedLine,u=i.generatedLine,o=r.generatedColumn,c=i.generatedColumn;return u>s||u==s&&c>=o||t.compareByGeneratedPositionsInflated(r,i)<=0}function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return n.prototype.unsortedForEach=function(r,i){this._array.forEach(r,i)},n.prototype.add=function(r){e(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Ws.MappingList=n,Ws}var ja;function Df(){if(ja)return Gs;ja=1;var t=bf(),e=ni(),n=Pf().ArraySet,r=p7().MappingList;function i(s){s||(s={}),this._file=e.getArg(s,"file",null),this._sourceRoot=e.getArg(s,"sourceRoot",null),this._skipValidation=e.getArg(s,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new r,this._sourcesContents=null}return i.prototype._version=3,i.fromSourceMap=function(s){var u=s.sourceRoot,o=new i({file:s.file,sourceRoot:u});return s.eachMapping(function(c){var h={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(h.source=c.source,u!=null&&(h.source=e.relative(u,h.source)),h.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(h.name=c.name)),o.addMapping(h)}),s.sources.forEach(function(c){var h=c;u!==null&&(h=e.relative(u,c)),o._sources.has(h)||o._sources.add(h);var p=s.sourceContentFor(c);p!=null&&o.setSourceContent(c,p)}),o},i.prototype.addMapping=function(s){var u=e.getArg(s,"generated"),o=e.getArg(s,"original",null),c=e.getArg(s,"source",null),h=e.getArg(s,"name",null);this._skipValidation||this._validateMapping(u,o,c,h),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),h!=null&&(h=String(h),this._names.has(h)||this._names.add(h)),this._mappings.add({generatedLine:u.line,generatedColumn:u.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:c,name:h})},i.prototype.setSourceContent=function(s,u){var o=s;this._sourceRoot!=null&&(o=e.relative(this._sourceRoot,o)),u!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(o)]=u):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},i.prototype.applySourceMap=function(s,u,o){var c=u;if(u==null){if(s.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=s.file}var h=this._sourceRoot;h!=null&&(c=e.relative(h,c));var p=new n,m=new n;this._mappings.unsortedForEach(function(d){if(d.source===c&&d.originalLine!=null){var y=s.originalPositionFor({line:d.originalLine,column:d.originalColumn});y.source!=null&&(d.source=y.source,o!=null&&(d.source=e.join(o,d.source)),h!=null&&(d.source=e.relative(h,d.source)),d.originalLine=y.line,d.originalColumn=y.column,y.name!=null&&(d.name=y.name))}var P=d.source;P!=null&&!p.has(P)&&p.add(P);var D=d.name;D!=null&&!m.has(D)&&m.add(D)},this),this._sources=p,this._names=m,s.sources.forEach(function(d){var y=s.sourceContentFor(d);y!=null&&(o!=null&&(d=e.join(o,d)),h!=null&&(d=e.relative(h,d)),this.setSourceContent(d,y))},this)},i.prototype._validateMapping=function(s,u,o,c){if(u&&typeof u.line!="number"&&typeof u.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(s&&"line"in s&&"column"in s&&s.line>0&&s.column>=0&&!u&&!o&&!c)){if(s&&"line"in s&&"column"in s&&u&&"line"in u&&"column"in u&&s.line>0&&s.column>=0&&u.line>0&&u.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:s,source:o,original:u,name:c}))}},i.prototype._serializeMappings=function(){for(var s=0,u=1,o=0,c=0,h=0,p=0,m="",d,y,P,D,B=this._mappings.toArray(),x=0,N=B.length;x<N;x++){if(y=B[x],d="",y.generatedLine!==u)for(s=0;y.generatedLine!==u;)d+=";",u++;else if(x>0){if(!e.compareByGeneratedPositionsInflated(y,B[x-1]))continue;d+=","}d+=t.encode(y.generatedColumn-s),s=y.generatedColumn,y.source!=null&&(D=this._sources.indexOf(y.source),d+=t.encode(D-p),p=D,d+=t.encode(y.originalLine-1-c),c=y.originalLine-1,d+=t.encode(y.originalColumn-o),o=y.originalColumn,y.name!=null&&(P=this._names.indexOf(y.name),d+=t.encode(P-h),h=P)),m+=d}return m},i.prototype._generateSourcesContent=function(s,u){return s.map(function(o){if(!this._sourcesContents)return null;u!=null&&(o=e.relative(u,o));var c=e.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},i.prototype.toJSON=function(){var s={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(s.file=this._file),this._sourceRoot!=null&&(s.sourceRoot=this._sourceRoot),this._sourcesContents&&(s.sourcesContent=this._generateSourcesContent(s.sources,s.sourceRoot)),s},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},Gs.SourceMapGenerator=i,Gs}var Tr={},Ga={},za;function m7(){return za||(za=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(n,r,i,s,u,o){var c=Math.floor((r-n)/2)+n,h=u(i,s[c],!0);return h===0?c:h>0?r-c>1?e(c,r,i,s,u,o):o==t.LEAST_UPPER_BOUND?r<s.length?r:-1:c:c-n>1?e(n,c,i,s,u,o):o==t.LEAST_UPPER_BOUND?c:n<0?-1:n}t.search=function(n,r,i,s){if(r.length===0)return-1;var u=e(-1,r.length,n,r,i,s||t.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&i(r[u],r[u-1],!0)===0;)--u;return u}}(Ga)),Ga}var qs={},Wa;function d7(){if(Wa)return qs;Wa=1;function t(r,i,s){var u=r[i];r[i]=r[s],r[s]=u}function e(r,i){return Math.round(r+Math.random()*(i-r))}function n(r,i,s,u){if(s<u){var o=e(s,u),c=s-1;t(r,o,u);for(var h=r[u],p=s;p<u;p++)i(r[p],h)<=0&&(c+=1,t(r,c,p));t(r,c+1,p);var m=c+1;n(r,i,s,m-1),n(r,i,m+1,u)}}return qs.quickSort=function(r,i){n(r,i,0,r.length-1)},qs}var qa;function f7(){if(qa)return Tr;qa=1;var t=ni(),e=m7(),n=Pf().ArraySet,r=bf(),i=d7().quickSort;function s(h,p){var m=h;return typeof h=="string"&&(m=t.parseSourceMapInput(h)),m.sections!=null?new c(m,p):new u(m,p)}s.fromSourceMap=function(h,p){return u.fromSourceMap(h,p)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(h,p){var m=h.charAt(p);return m===";"||m===","},s.prototype._parseMappings=function(h,p){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(h,p,m){var d=p||null,y=m||s.GENERATED_ORDER,P;switch(y){case s.GENERATED_ORDER:P=this._generatedMappings;break;case s.ORIGINAL_ORDER:P=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var D=this.sourceRoot;P.map(function(B){var x=B.source===null?null:this._sources.at(B.source);return x=t.computeSourceURL(D,x,this._sourceMapURL),{source:x,generatedLine:B.generatedLine,generatedColumn:B.generatedColumn,originalLine:B.originalLine,originalColumn:B.originalColumn,name:B.name===null?null:this._names.at(B.name)}},this).forEach(h,d)},s.prototype.allGeneratedPositionsFor=function(h){var p=t.getArg(h,"line"),m={source:t.getArg(h,"source"),originalLine:p,originalColumn:t.getArg(h,"column",0)};if(m.source=this._findSourceIndex(m.source),m.source<0)return[];var d=[],y=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(y>=0){var P=this._originalMappings[y];if(h.column===void 0)for(var D=P.originalLine;P&&P.originalLine===D;)d.push({line:t.getArg(P,"generatedLine",null),column:t.getArg(P,"generatedColumn",null),lastColumn:t.getArg(P,"lastGeneratedColumn",null)}),P=this._originalMappings[++y];else for(var B=P.originalColumn;P&&P.originalLine===p&&P.originalColumn==B;)d.push({line:t.getArg(P,"generatedLine",null),column:t.getArg(P,"generatedColumn",null),lastColumn:t.getArg(P,"lastGeneratedColumn",null)}),P=this._originalMappings[++y]}return d},Tr.SourceMapConsumer=s;function u(h,p){var m=h;typeof h=="string"&&(m=t.parseSourceMapInput(h));var d=t.getArg(m,"version"),y=t.getArg(m,"sources"),P=t.getArg(m,"names",[]),D=t.getArg(m,"sourceRoot",null),B=t.getArg(m,"sourcesContent",null),x=t.getArg(m,"mappings"),N=t.getArg(m,"file",null);if(d!=this._version)throw new Error("Unsupported version: "+d);D&&(D=t.normalize(D)),y=y.map(String).map(t.normalize).map(function(q){return D&&t.isAbsolute(D)&&t.isAbsolute(q)?t.relative(D,q):q}),this._names=n.fromArray(P.map(String),!0),this._sources=n.fromArray(y,!0),this._absoluteSources=this._sources.toArray().map(function(q){return t.computeSourceURL(D,q,p)}),this.sourceRoot=D,this.sourcesContent=B,this._mappings=x,this._sourceMapURL=p,this.file=N}u.prototype=Object.create(s.prototype),u.prototype.consumer=s,u.prototype._findSourceIndex=function(h){var p=h;if(this.sourceRoot!=null&&(p=t.relative(this.sourceRoot,p)),this._sources.has(p))return this._sources.indexOf(p);var m;for(m=0;m<this._absoluteSources.length;++m)if(this._absoluteSources[m]==h)return m;return-1},u.fromSourceMap=function(h,p){var m=Object.create(u.prototype),d=m._names=n.fromArray(h._names.toArray(),!0),y=m._sources=n.fromArray(h._sources.toArray(),!0);m.sourceRoot=h._sourceRoot,m.sourcesContent=h._generateSourcesContent(m._sources.toArray(),m.sourceRoot),m.file=h._file,m._sourceMapURL=p,m._absoluteSources=m._sources.toArray().map(function(F){return t.computeSourceURL(m.sourceRoot,F,p)});for(var P=h._mappings.toArray().slice(),D=m.__generatedMappings=[],B=m.__originalMappings=[],x=0,N=P.length;x<N;x++){var q=P[x],I=new o;I.generatedLine=q.generatedLine,I.generatedColumn=q.generatedColumn,q.source&&(I.source=y.indexOf(q.source),I.originalLine=q.originalLine,I.originalColumn=q.originalColumn,q.name&&(I.name=d.indexOf(q.name)),B.push(I)),D.push(I)}return i(m.__originalMappings,t.compareByOriginalPositions),m},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}u.prototype._parseMappings=function(h,p){for(var m=1,d=0,y=0,P=0,D=0,B=0,x=h.length,N=0,q={},I={},F=[],_=[],S,V,W,O,K;N<x;)if(h.charAt(N)===";")m++,N++,d=0;else if(h.charAt(N)===",")N++;else{for(S=new o,S.generatedLine=m,O=N;O<x&&!this._charIsMappingSeparator(h,O);O++);if(V=h.slice(N,O),W=q[V],W)N+=V.length;else{for(W=[];N<O;)r.decode(h,N,I),K=I.value,N=I.rest,W.push(K);if(W.length===2)throw new Error("Found a source, but no line and column");if(W.length===3)throw new Error("Found a source and line, but no column");q[V]=W}S.generatedColumn=d+W[0],d=S.generatedColumn,W.length>1&&(S.source=D+W[1],D+=W[1],S.originalLine=y+W[2],y=S.originalLine,S.originalLine+=1,S.originalColumn=P+W[3],P=S.originalColumn,W.length>4&&(S.name=B+W[4],B+=W[4])),_.push(S),typeof S.originalLine=="number"&&F.push(S)}i(_,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=_,i(F,t.compareByOriginalPositions),this.__originalMappings=F},u.prototype._findMapping=function(h,p,m,d,y,P){if(h[m]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+h[m]);if(h[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+h[d]);return e.search(h,p,y,P)},u.prototype.computeColumnSpans=function(){for(var h=0;h<this._generatedMappings.length;++h){var p=this._generatedMappings[h];if(h+1<this._generatedMappings.length){var m=this._generatedMappings[h+1];if(p.generatedLine===m.generatedLine){p.lastGeneratedColumn=m.generatedColumn-1;continue}}p.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(h){var p={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")},m=this._findMapping(p,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(h,"bias",s.GREATEST_LOWER_BOUND));if(m>=0){var d=this._generatedMappings[m];if(d.generatedLine===p.generatedLine){var y=t.getArg(d,"source",null);y!==null&&(y=this._sources.at(y),y=t.computeSourceURL(this.sourceRoot,y,this._sourceMapURL));var P=t.getArg(d,"name",null);return P!==null&&(P=this._names.at(P)),{source:y,line:t.getArg(d,"originalLine",null),column:t.getArg(d,"originalColumn",null),name:P}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(h){return h==null}):!1},u.prototype.sourceContentFor=function(h,p){if(!this.sourcesContent)return null;var m=this._findSourceIndex(h);if(m>=0)return this.sourcesContent[m];var d=h;this.sourceRoot!=null&&(d=t.relative(this.sourceRoot,d));var y;if(this.sourceRoot!=null&&(y=t.urlParse(this.sourceRoot))){var P=d.replace(/^file:\/\//,"");if(y.scheme=="file"&&this._sources.has(P))return this.sourcesContent[this._sources.indexOf(P)];if((!y.path||y.path=="/")&&this._sources.has("/"+d))return this.sourcesContent[this._sources.indexOf("/"+d)]}if(p)return null;throw new Error('"'+d+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(h){var p=t.getArg(h,"source");if(p=this._findSourceIndex(p),p<0)return{line:null,column:null,lastColumn:null};var m={source:p,originalLine:t.getArg(h,"line"),originalColumn:t.getArg(h,"column")},d=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(h,"bias",s.GREATEST_LOWER_BOUND));if(d>=0){var y=this._originalMappings[d];if(y.source===m.source)return{line:t.getArg(y,"generatedLine",null),column:t.getArg(y,"generatedColumn",null),lastColumn:t.getArg(y,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Tr.BasicSourceMapConsumer=u;function c(h,p){var m=h;typeof h=="string"&&(m=t.parseSourceMapInput(h));var d=t.getArg(m,"version"),y=t.getArg(m,"sections");if(d!=this._version)throw new Error("Unsupported version: "+d);this._sources=new n,this._names=new n;var P={line:-1,column:0};this._sections=y.map(function(D){if(D.url)throw new Error("Support for url field in sections not implemented.");var B=t.getArg(D,"offset"),x=t.getArg(B,"line"),N=t.getArg(B,"column");if(x<P.line||x===P.line&&N<P.column)throw new Error("Section offsets must be ordered and non-overlapping.");return P=B,{generatedOffset:{generatedLine:x+1,generatedColumn:N+1},consumer:new s(t.getArg(D,"map"),p)}})}return c.prototype=Object.create(s.prototype),c.prototype.constructor=s,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var h=[],p=0;p<this._sections.length;p++)for(var m=0;m<this._sections[p].consumer.sources.length;m++)h.push(this._sections[p].consumer.sources[m]);return h}}),c.prototype.originalPositionFor=function(h){var p={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")},m=e.search(p,this._sections,function(y,P){var D=y.generatedLine-P.generatedOffset.generatedLine;return D||y.generatedColumn-P.generatedOffset.generatedColumn}),d=this._sections[m];return d?d.consumer.originalPositionFor({line:p.generatedLine-(d.generatedOffset.generatedLine-1),column:p.generatedColumn-(d.generatedOffset.generatedLine===p.generatedLine?d.generatedOffset.generatedColumn-1:0),bias:h.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(h){return h.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(h,p){for(var m=0;m<this._sections.length;m++){var d=this._sections[m],y=d.consumer.sourceContentFor(h,!0);if(y)return y}if(p)return null;throw new Error('"'+h+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(h){for(var p=0;p<this._sections.length;p++){var m=this._sections[p];if(m.consumer._findSourceIndex(t.getArg(h,"source"))!==-1){var d=m.consumer.generatedPositionFor(h);if(d){var y={line:d.line+(m.generatedOffset.generatedLine-1),column:d.column+(m.generatedOffset.generatedLine===d.line?m.generatedOffset.generatedColumn-1:0)};return y}}}return{line:null,column:null}},c.prototype._parseMappings=function(h,p){this.__generatedMappings=[],this.__originalMappings=[];for(var m=0;m<this._sections.length;m++)for(var d=this._sections[m],y=d.consumer._generatedMappings,P=0;P<y.length;P++){var D=y[P],B=d.consumer._sources.at(D.source);B=t.computeSourceURL(d.consumer.sourceRoot,B,this._sourceMapURL),this._sources.add(B),B=this._sources.indexOf(B);var x=null;D.name&&(x=d.consumer._names.at(D.name),this._names.add(x),x=this._names.indexOf(x));var N={source:B,generatedLine:D.generatedLine+(d.generatedOffset.generatedLine-1),generatedColumn:D.generatedColumn+(d.generatedOffset.generatedLine===D.generatedLine?d.generatedOffset.generatedColumn-1:0),originalLine:D.originalLine,originalColumn:D.originalColumn,name:x};this.__generatedMappings.push(N),typeof N.originalLine=="number"&&this.__originalMappings.push(N)}i(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),i(this.__originalMappings,t.compareByOriginalPositions)},Tr.IndexedSourceMapConsumer=c,Tr}var Xs={},Xa;function g7(){if(Xa)return Xs;Xa=1;var t=Df().SourceMapGenerator,e=ni(),n=/(\r?\n)/,r=10,i="$$$isSourceNode$$$";function s(u,o,c,h,p){this.children=[],this.sourceContents={},this.line=u??null,this.column=o??null,this.source=c??null,this.name=p??null,this[i]=!0,h!=null&&this.add(h)}return s.fromStringWithSourceMap=function(u,o,c){var h=new s,p=u.split(n),m=0,d=function(){var x=q(),N=q()||"";return x+N;function q(){return m<p.length?p[m++]:void 0}},y=1,P=0,D=null;return o.eachMapping(function(x){if(D!==null)if(y<x.generatedLine)B(D,d()),y++,P=0;else{var N=p[m]||"",q=N.substr(0,x.generatedColumn-P);p[m]=N.substr(x.generatedColumn-P),P=x.generatedColumn,B(D,q),D=x;return}for(;y<x.generatedLine;)h.add(d()),y++;if(P<x.generatedColumn){var N=p[m]||"";h.add(N.substr(0,x.generatedColumn)),p[m]=N.substr(x.generatedColumn),P=x.generatedColumn}D=x},this),m<p.length&&(D&&B(D,d()),h.add(p.splice(m).join(""))),o.sources.forEach(function(x){var N=o.sourceContentFor(x);N!=null&&(c!=null&&(x=e.join(c,x)),h.setSourceContent(x,N))}),h;function B(x,N){if(x===null||x.source===void 0)h.add(N);else{var q=c?e.join(c,x.source):x.source;h.add(new s(x.originalLine,x.originalColumn,q,N,x.name))}}},s.prototype.add=function(u){if(Array.isArray(u))u.forEach(function(o){this.add(o)},this);else if(u[i]||typeof u=="string")u&&this.children.push(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},s.prototype.prepend=function(u){if(Array.isArray(u))for(var o=u.length-1;o>=0;o--)this.prepend(u[o]);else if(u[i]||typeof u=="string")this.children.unshift(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},s.prototype.walk=function(u){for(var o,c=0,h=this.children.length;c<h;c++)o=this.children[c],o[i]?o.walk(u):o!==""&&u(o,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(u){var o,c,h=this.children.length;if(h>0){for(o=[],c=0;c<h-1;c++)o.push(this.children[c]),o.push(u);o.push(this.children[c]),this.children=o}return this},s.prototype.replaceRight=function(u,o){var c=this.children[this.children.length-1];return c[i]?c.replaceRight(u,o):typeof c=="string"?this.children[this.children.length-1]=c.replace(u,o):this.children.push("".replace(u,o)),this},s.prototype.setSourceContent=function(u,o){this.sourceContents[e.toSetString(u)]=o},s.prototype.walkSourceContents=function(u){for(var o=0,c=this.children.length;o<c;o++)this.children[o][i]&&this.children[o].walkSourceContents(u);for(var h=Object.keys(this.sourceContents),o=0,c=h.length;o<c;o++)u(e.fromSetString(h[o]),this.sourceContents[h[o]])},s.prototype.toString=function(){var u="";return this.walk(function(o){u+=o}),u},s.prototype.toStringWithSourceMap=function(u){var o={code:"",line:1,column:0},c=new t(u),h=!1,p=null,m=null,d=null,y=null;return this.walk(function(P,D){o.code+=P,D.source!==null&&D.line!==null&&D.column!==null?((p!==D.source||m!==D.line||d!==D.column||y!==D.name)&&c.addMapping({source:D.source,original:{line:D.line,column:D.column},generated:{line:o.line,column:o.column},name:D.name}),p=D.source,m=D.line,d=D.column,y=D.name,h=!0):h&&(c.addMapping({generated:{line:o.line,column:o.column}}),p=null,h=!1);for(var B=0,x=P.length;B<x;B++)P.charCodeAt(B)===r?(o.line++,o.column=0,B+1===x?(p=null,h=!1):h&&c.addMapping({source:D.source,original:{line:D.line,column:D.column},generated:{line:o.line,column:o.column},name:D.name})):o.column++}),this.walkSourceContents(function(P,D){c.setSourceContent(P,D)}),{code:o.code,map:c}},Xs.SourceNode=s,Xs}var Za;function A7(){return Za||(Za=1,Mi.SourceMapGenerator=Df().SourceMapGenerator,Mi.SourceMapConsumer=f7().SourceMapConsumer,Mi.SourceNode=g7().SourceNode),Mi}const C7="escodegen",y7="ECMAScript code generator",M7="http://github.com/estools/escodegen",b7="escodegen.js",P7={esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},D7=["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],v7="2.1.0",E7={node:">=6.0"},F7=[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],B7={type:"git",url:"http://github.com/estools/escodegen.git"},w7={estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1"},I7={"source-map":"~0.6.1"},x7={acorn:"^8.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-mocha":"^7.0.2",minimist:"^1.2.5",optionator:"^0.9.1",semver:"^7.3.4"},S7="BSD-2-Clause",_7={test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"},k7={name:C7,description:y7,homepage:M7,main:b7,bin:P7,files:D7,version:v7,engines:E7,maintainers:F7,repository:B7,dependencies:w7,optionalDependencies:I7,devDependencies:x7,license:S7,scripts:_7};(function(t){(function(){var e,n,r,i,s,u,o,c,h,p,m,d,y,P,D,B,x,N,q,I,F,_,S,V,W,O;s=gf,u=wi,e=s.Syntax;function K(l){return at.Expression.hasOwnProperty(l.type)}function G(l){return at.Statement.hasOwnProperty(l.type)}n={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},r={"??":n.Coalesce,"||":n.LogicalOR,"&&":n.LogicalAND,"|":n.BitwiseOR,"^":n.BitwiseXOR,"&":n.BitwiseAND,"==":n.Equality,"!=":n.Equality,"===":n.Equality,"!==":n.Equality,is:n.Equality,isnt:n.Equality,"<":n.Relational,">":n.Relational,"<=":n.Relational,">=":n.Relational,in:n.Relational,instanceof:n.Relational,"<<":n.BitwiseSHIFT,">>":n.BitwiseSHIFT,">>>":n.BitwiseSHIFT,"+":n.Additive,"-":n.Additive,"*":n.Multiplicative,"%":n.Multiplicative,"/":n.Multiplicative,"**":n.Exponentiation};var z=1,Z=2,pt=4,nt=8,lt=16,ot=32,Ft=64,oe=Z|pt,Ut=z|Z,X=z|Z|pt,$t=z,ne=pt,Ae=z|pt,Dt=z,Zt=z|ot,yt=0,zt=z|lt,me=z|nt;function de(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function xt(l,g){var f="";for(g|=0;g>0;g>>>=1,l+=l)g&1&&(f+=l);return f}function yn(l){return/[\r\n]/g.test(l)}function St(l){var g=l.length;return g&&u.code.isLineTerminator(l.charCodeAt(g-1))}function Mn(l,g){var f;for(f in g)g.hasOwnProperty(f)&&(l[f]=g[f]);return l}function Ce(l,g){var f,A;function v(k){return typeof k=="object"&&k instanceof Object&&!(k instanceof RegExp)}for(f in g)g.hasOwnProperty(f)&&(A=g[f],v(A)?v(l[f])?Ce(l[f],A):l[f]=Ce({},A):l[f]=A);return l}function Te(l){var g,f,A,v,k;if(l!==l)throw new Error("Numeric literal whose value is NaN");if(l<0||l===0&&1/l<0)throw new Error("Numeric literal whose value is negative");if(l===1/0)return h?"null":p?"1e400":"1e+400";if(g=""+l,!p||g.length<3)return g;for(f=g.indexOf("."),!h&&g.charCodeAt(0)===48&&f===1&&(f=0,g=g.slice(1)),A=g,g=g.replace("e+","e"),v=0,(k=A.indexOf("e"))>0&&(v=+A.slice(k+1),A=A.slice(0,k)),f>=0&&(v-=A.length-f-1,A=+(A.slice(0,f)+A.slice(f+1))+""),k=0;A.charCodeAt(A.length+k-1)===48;)--k;return k!==0&&(v-=k,A=A.slice(0,k)),v!==0&&(A+="e"+v),(A.length<g.length||m&&l>1e12&&Math.floor(l)===l&&(A="0x"+l.toString(16)).length<g.length)&&+A===l&&(g=A),g}function tn(l,g){return(l&-2)===8232?(g?"u":"\\u")+(l===8232?"2028":"2029"):l===10||l===13?(g?"":"\\")+(l===10?"n":"r"):String.fromCharCode(l)}function en(l){var g,f,A,v,k,R,j,Y;if(f=l.toString(),l.source){if(g=f.match(/\/([^/]*)$/),!g)return f;for(A=g[1],f="",j=!1,Y=!1,v=0,k=l.source.length;v<k;++v)R=l.source.charCodeAt(v),Y?(f+=tn(R,Y),Y=!1):(j?R===93&&(j=!1):R===47?f+="\\":R===91&&(j=!0),f+=tn(R,Y),Y=R===92);return"/"+f+"/"+A}return f}function nn(l,g){var f;return l===8?"\\b":l===12?"\\f":l===9?"\\t":(f=l.toString(16).toUpperCase(),h||l>255?"\\u"+"0000".slice(f.length)+f:l===0&&!u.code.isDecimalDigit(g)?"\\0":l===11?"\\x0B":"\\x"+"00".slice(f.length)+f)}function bn(l){if(l===92)return"\\\\";if(l===10)return"\\n";if(l===13)return"\\r";if(l===8232)return"\\u2028";if(l===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function rn(l){var g,f,A,v;for(v=d==="double"?'"':"'",g=0,f=l.length;g<f;++g)if(A=l.charCodeAt(g),A===39){v='"';break}else if(A===34){v="'";break}else A===92&&++g;return v+l+v}function Re(l){var g="",f,A,v,k=0,R=0,j,Y;for(f=0,A=l.length;f<A;++f){if(v=l.charCodeAt(f),v===39)++k;else if(v===34)++R;else if(v===47&&h)g+="\\";else if(u.code.isLineTerminator(v)||v===92){g+=bn(v);continue}else if(!u.code.isIdentifierPartES5(v)&&(h&&v<32||!h&&!y&&(v<32||v>126))){g+=nn(v,l.charCodeAt(f+1));continue}g+=String.fromCharCode(v)}if(j=!(d==="double"||d==="auto"&&R<k),Y=j?"'":'"',!(j?k:R))return Y+g+Y;for(l=g,g=Y,f=0,A=l.length;f<A;++f)v=l.charCodeAt(f),(v===39&&j||v===34&&!j)&&(g+="\\"),g+=String.fromCharCode(v);return g+Y}function Ve(l){var g,f,A,v="";for(g=0,f=l.length;g<f;++g)A=l[g],v+=Array.isArray(A)?Ve(A):A;return v}function gt(l,g){if(!_)return Array.isArray(l)?Ve(l):l;if(g==null){if(l instanceof i)return l;g={}}return g.loc==null?new i(null,null,_,l,g.name||null):new i(g.loc.start.line,g.loc.start.column,_===!0?g.loc.source||null:_,l,g.name||null)}function Rt(){return D||" "}function ut(l,g){var f,A,v,k;return f=gt(l).toString(),f.length===0?[g]:(A=gt(g).toString(),A.length===0?[l]:(v=f.charCodeAt(f.length-1),k=A.charCodeAt(0),(v===43||v===45)&&v===k||u.code.isIdentifierPartES5(v)&&u.code.isIdentifierPartES5(k)||v===47&&k===105?[l,Rt(),g]:u.code.isWhiteSpace(v)||u.code.isLineTerminator(v)||u.code.isWhiteSpace(k)||u.code.isLineTerminator(k)?[l,g]:[l,D,g]))}function Gt(l){return[o,l]}function _t(l){var g;g=o,o+=c,l(o),o=g}function Sr(l){var g;for(g=l.length-1;g>=0&&!u.code.isLineTerminator(l.charCodeAt(g));--g);return l.length-1-g}function Pn(l,g){var f,A,v,k,R,j,Y,ft;for(f=l.split(/\r\n|[\r\n]/),j=Number.MAX_VALUE,A=1,v=f.length;A<v;++A){for(k=f[A],R=0;R<k.length&&u.code.isWhiteSpace(k.charCodeAt(R));)++R;j>R&&(j=R)}for(typeof g<"u"?(Y=o,f[1][j]==="*"&&(g+=" "),o=g):(j&1&&--j,Y=o),A=1,v=f.length;A<v;++A)ft=gt(Gt(f[A].slice(j))),f[A]=_?ft.join(""):ft;return o=Y,f.join(`
`)}function Mt(l,g){if(l.type==="Line"){if(St(l.value))return"//"+l.value;var f="//"+l.value;return V||(f+=`
`),f}return I.format.indent.adjustMultilineComment&&/[\n\r]/.test(l.value)?Pn("/*"+l.value+"*/",g):"/*"+l.value+"*/"}function sn(l,g){var f,A,v,k,R,j,Y,ft,Wt,un,Dn,li,hi,Me;if(l.leadingComments&&l.leadingComments.length>0){if(k=g,V){for(v=l.leadingComments[0],g=[],ft=v.extendedRange,Wt=v.range,Dn=S.substring(ft[0],Wt[0]),Me=(Dn.match(/\n/g)||[]).length,Me>0?(g.push(xt(`
`,Me)),g.push(Gt(Mt(v)))):(g.push(Dn),g.push(Mt(v))),un=Wt,f=1,A=l.leadingComments.length;f<A;f++)v=l.leadingComments[f],Wt=v.range,li=S.substring(un[1],Wt[0]),Me=(li.match(/\n/g)||[]).length,g.push(xt(`
`,Me)),g.push(Gt(Mt(v))),un=Wt;hi=S.substring(Wt[1],ft[1]),Me=(hi.match(/\n/g)||[]).length,g.push(xt(`
`,Me))}else for(v=l.leadingComments[0],g=[],N&&l.type===e.Program&&l.body.length===0&&g.push(`
`),g.push(Mt(v)),St(gt(g).toString())||g.push(`
`),f=1,A=l.leadingComments.length;f<A;++f)v=l.leadingComments[f],Y=[Mt(v)],St(gt(Y).toString())||Y.push(`
`),g.push(Gt(Y));g.push(Gt(k))}if(l.trailingComments)if(V)v=l.trailingComments[0],ft=v.extendedRange,Wt=v.range,Dn=S.substring(ft[0],Wt[0]),Me=(Dn.match(/\n/g)||[]).length,Me>0?(g.push(xt(`
`,Me)),g.push(Gt(Mt(v)))):(g.push(Dn),g.push(Mt(v)));else for(R=!St(gt(g).toString()),j=xt(" ",Sr(gt([o,g,c]).toString())),f=0,A=l.trailingComments.length;f<A;++f)v=l.trailingComments[f],R?(f===0?g=[g,c]:g=[g,j],g.push(Mt(v,j))):g=[g,Gt(Mt(v))],f!==A-1&&!St(gt(g).toString())&&(g=[g,`
`]);return g}function ae(l,g,f){var A,v=0;for(A=l;A<g;A++)S[A]===`
`&&v++;for(A=1;A<v;A++)f.push(P)}function kt(l,g,f){return g<f?["(",l,")"]:l}function Gn(l){var g,f,A;for(A=l.split(/\r\n|\n/),g=1,f=A.length;g<f;g++)A[g]=P+o+A[g];return A}function Qn(l,g){var f,A,v;return f=l[I.verbatim],typeof f=="string"?A=kt(Gn(f),n.Sequence,g):(A=Gn(f.content),v=f.precedence!=null?f.precedence:n.Sequence,A=kt(A,v,g)),gt(A,l)}function at(){}at.prototype.maybeBlock=function(l,g){var f,A,v=this;return A=!I.comment||!l.leadingComments,l.type===e.BlockStatement&&A?[D,this.generateStatement(l,g)]:l.type===e.EmptyStatement&&A?";":(_t(function(){f=[P,Gt(v.generateStatement(l,g))]}),f)},at.prototype.maybeBlockSuffix=function(l,g){var f=St(gt(g).toString());return l.type===e.BlockStatement&&(!I.comment||!l.leadingComments)&&!f?[g,D]:f?[g,o]:[g,P,o]};function Vt(l){return gt(l.name,l)}function ye(l,g){return l.async?"async"+(g?Rt():D):""}function ce(l){var g=l.generator&&!I.moz.starlessGenerator;return g?"*"+D:""}function _r(l){var g=l.value,f="";return g.async&&(f+=ye(g,!l.computed)),g.generator&&(f+=ce(g)?"*":""),f}at.prototype.generatePattern=function(l,g,f){return l.type===e.Identifier?Vt(l):this.generateExpression(l,g,f)},at.prototype.generateFunctionParams=function(l){var g,f,A,v;if(v=!1,l.type===e.ArrowFunctionExpression&&!l.rest&&(!l.defaults||l.defaults.length===0)&&l.params.length===1&&l.params[0].type===e.Identifier)A=[ye(l,!0),Vt(l.params[0])];else{for(A=l.type===e.ArrowFunctionExpression?[ye(l,!1)]:[],A.push("("),l.defaults&&(v=!0),g=0,f=l.params.length;g<f;++g)v&&l.defaults[g]?A.push(this.generateAssignment(l.params[g],l.defaults[g],"=",n.Assignment,X)):A.push(this.generatePattern(l.params[g],n.Assignment,X)),g+1<f&&A.push(","+D);l.rest&&(l.params.length&&A.push(","+D),A.push("..."),A.push(Vt(l.rest))),A.push(")")}return A},at.prototype.generateFunctionBody=function(l){var g,f;return g=this.generateFunctionParams(l),l.type===e.ArrowFunctionExpression&&(g.push(D),g.push("=>")),l.expression?(g.push(D),f=this.generateExpression(l.body,n.Assignment,X),f.toString().charAt(0)==="{"&&(f=["(",f,")"]),g.push(f)):g.push(this.maybeBlock(l.body,me)),g},at.prototype.generateIterationForStatement=function(l,g,f){var A=["for"+(g.await?Rt()+"await":"")+D+"("],v=this;return _t(function(){g.left.type===e.VariableDeclaration?_t(function(){A.push(g.left.kind+Rt()),A.push(v.generateStatement(g.left.declarations[0],yt))}):A.push(v.generateExpression(g.left,n.Call,X)),A=ut(A,l),A=[ut(A,v.generateExpression(g.right,n.Assignment,X)),")"]}),A.push(this.maybeBlock(g.body,f)),A},at.prototype.generatePropertyKey=function(l,g){var f=[];return g&&f.push("["),f.push(this.generateExpression(l,n.Assignment,X)),g&&f.push("]"),f},at.prototype.generateAssignment=function(l,g,f,A,v){return n.Assignment<A&&(v|=z),kt([this.generateExpression(l,n.Call,v),D+f+D,this.generateExpression(g,n.Assignment,v)],n.Assignment,A)},at.prototype.semicolon=function(l){return!x&&l&ot?"":";"},at.Statement={BlockStatement:function(l,g){var f,A,v=["{",P],k=this;return _t(function(){l.body.length===0&&V&&(f=l.range,f[1]-f[0]>2&&(A=S.substring(f[0]+1,f[1]-1),A[0]===`
`&&(v=["{"]),v.push(A)));var R,j,Y,ft;for(ft=Dt,g&nt&&(ft|=lt),R=0,j=l.body.length;R<j;++R)V&&(R===0&&(l.body[0].leadingComments&&(f=l.body[0].leadingComments[0].extendedRange,A=S.substring(f[0],f[1]),A[0]===`
`&&(v=["{"])),l.body[0].leadingComments||ae(l.range[0],l.body[0].range[0],v)),R>0&&!l.body[R-1].trailingComments&&!l.body[R].leadingComments&&ae(l.body[R-1].range[1],l.body[R].range[0],v)),R===j-1&&(ft|=ot),l.body[R].leadingComments&&V?Y=k.generateStatement(l.body[R],ft):Y=Gt(k.generateStatement(l.body[R],ft)),v.push(Y),St(gt(Y).toString())||V&&R<j-1&&l.body[R+1].leadingComments||v.push(P),V&&R===j-1&&(l.body[R].trailingComments||ae(l.body[R].range[1],l.range[1],v))}),v.push(Gt("}")),v},BreakStatement:function(l,g){return l.label?"break "+l.label.name+this.semicolon(g):"break"+this.semicolon(g)},ContinueStatement:function(l,g){return l.label?"continue "+l.label.name+this.semicolon(g):"continue"+this.semicolon(g)},ClassBody:function(l,g){var f=["{",P],A=this;return _t(function(v){var k,R;for(k=0,R=l.body.length;k<R;++k)f.push(v),f.push(A.generateExpression(l.body[k],n.Sequence,X)),k+1<R&&f.push(P)}),St(gt(f).toString())||f.push(P),f.push(o),f.push("}"),f},ClassDeclaration:function(l,g){var f,A;return f=["class"],l.id&&(f=ut(f,this.generateExpression(l.id,n.Sequence,X))),l.superClass&&(A=ut("extends",this.generateExpression(l.superClass,n.Unary,X)),f=ut(f,A)),f.push(D),f.push(this.generateStatement(l.body,Zt)),f},DirectiveStatement:function(l,g){return I.raw&&l.raw?l.raw+this.semicolon(g):rn(l.directive)+this.semicolon(g)},DoWhileStatement:function(l,g){var f=ut("do",this.maybeBlock(l.body,Dt));return f=this.maybeBlockSuffix(l.body,f),ut(f,["while"+D+"(",this.generateExpression(l.test,n.Sequence,X),")"+this.semicolon(g)])},CatchClause:function(l,g){var f,A=this;return _t(function(){var v;l.param?(f=["catch"+D+"(",A.generateExpression(l.param,n.Sequence,X),")"],l.guard&&(v=A.generateExpression(l.guard,n.Sequence,X),f.splice(2,0," if ",v))):f=["catch"]}),f.push(this.maybeBlock(l.body,Dt)),f},DebuggerStatement:function(l,g){return"debugger"+this.semicolon(g)},EmptyStatement:function(l,g){return";"},ExportDefaultDeclaration:function(l,g){var f=["export"],A;return A=g&ot?Zt:Dt,f=ut(f,"default"),G(l.declaration)?f=ut(f,this.generateStatement(l.declaration,A)):f=ut(f,this.generateExpression(l.declaration,n.Assignment,X)+this.semicolon(g)),f},ExportNamedDeclaration:function(l,g){var f=["export"],A,v=this;return A=g&ot?Zt:Dt,l.declaration?ut(f,this.generateStatement(l.declaration,A)):(l.specifiers&&(l.specifiers.length===0?f=ut(f,"{"+D+"}"):l.specifiers[0].type===e.ExportBatchSpecifier?f=ut(f,this.generateExpression(l.specifiers[0],n.Sequence,X)):(f=ut(f,"{"),_t(function(k){var R,j;for(f.push(P),R=0,j=l.specifiers.length;R<j;++R)f.push(k),f.push(v.generateExpression(l.specifiers[R],n.Sequence,X)),R+1<j&&f.push(","+P)}),St(gt(f).toString())||f.push(P),f.push(o+"}")),l.source?f=ut(f,["from"+D,this.generateExpression(l.source,n.Sequence,X),this.semicolon(g)]):f.push(this.semicolon(g))),f)},ExportAllDeclaration:function(l,g){return["export"+D,"*"+D,"from"+D,this.generateExpression(l.source,n.Sequence,X),this.semicolon(g)]},ExpressionStatement:function(l,g){var f,A;function v(j){var Y;return j.slice(0,5)!=="class"?!1:(Y=j.charCodeAt(5),Y===123||u.code.isWhiteSpace(Y)||u.code.isLineTerminator(Y))}function k(j){var Y;return j.slice(0,8)!=="function"?!1:(Y=j.charCodeAt(8),Y===40||u.code.isWhiteSpace(Y)||Y===42||u.code.isLineTerminator(Y))}function R(j){var Y,ft,Wt;if(j.slice(0,5)!=="async"||!u.code.isWhiteSpace(j.charCodeAt(5)))return!1;for(ft=6,Wt=j.length;ft<Wt&&u.code.isWhiteSpace(j.charCodeAt(ft));++ft);return ft===Wt||j.slice(ft,ft+8)!=="function"?!1:(Y=j.charCodeAt(ft+8),Y===40||u.code.isWhiteSpace(Y)||Y===42||u.code.isLineTerminator(Y))}return f=[this.generateExpression(l.expression,n.Sequence,X)],A=gt(f).toString(),A.charCodeAt(0)===123||v(A)||k(A)||R(A)||q&&g&lt&&l.expression.type===e.Literal&&typeof l.expression.value=="string"?f=["(",f,")"+this.semicolon(g)]:f.push(this.semicolon(g)),f},ImportDeclaration:function(l,g){var f,A,v=this;return l.specifiers.length===0?["import",D,this.generateExpression(l.source,n.Sequence,X),this.semicolon(g)]:(f=["import"],A=0,l.specifiers[A].type===e.ImportDefaultSpecifier&&(f=ut(f,[this.generateExpression(l.specifiers[A],n.Sequence,X)]),++A),l.specifiers[A]&&(A!==0&&f.push(","),l.specifiers[A].type===e.ImportNamespaceSpecifier?f=ut(f,[D,this.generateExpression(l.specifiers[A],n.Sequence,X)]):(f.push(D+"{"),l.specifiers.length-A===1?(f.push(D),f.push(this.generateExpression(l.specifiers[A],n.Sequence,X)),f.push(D+"}"+D)):(_t(function(k){var R,j;for(f.push(P),R=A,j=l.specifiers.length;R<j;++R)f.push(k),f.push(v.generateExpression(l.specifiers[R],n.Sequence,X)),R+1<j&&f.push(","+P)}),St(gt(f).toString())||f.push(P),f.push(o+"}"+D)))),f=ut(f,["from"+D,this.generateExpression(l.source,n.Sequence,X),this.semicolon(g)]),f)},VariableDeclarator:function(l,g){var f=g&z?X:oe;return l.init?[this.generateExpression(l.id,n.Assignment,f),D,"=",D,this.generateExpression(l.init,n.Assignment,f)]:this.generatePattern(l.id,n.Assignment,f)},VariableDeclaration:function(l,g){var f,A,v,k,R,j=this;f=[l.kind],R=g&z?Dt:yt;function Y(){for(k=l.declarations[0],I.comment&&k.leadingComments?(f.push(`
`),f.push(Gt(j.generateStatement(k,R)))):(f.push(Rt()),f.push(j.generateStatement(k,R))),A=1,v=l.declarations.length;A<v;++A)k=l.declarations[A],I.comment&&k.leadingComments?(f.push(","+P),f.push(Gt(j.generateStatement(k,R)))):(f.push(","+D),f.push(j.generateStatement(k,R)))}return l.declarations.length>1?_t(Y):Y(),f.push(this.semicolon(g)),f},ThrowStatement:function(l,g){return[ut("throw",this.generateExpression(l.argument,n.Sequence,X)),this.semicolon(g)]},TryStatement:function(l,g){var f,A,v,k;if(f=["try",this.maybeBlock(l.block,Dt)],f=this.maybeBlockSuffix(l.block,f),l.handlers)for(A=0,v=l.handlers.length;A<v;++A)f=ut(f,this.generateStatement(l.handlers[A],Dt)),(l.finalizer||A+1!==v)&&(f=this.maybeBlockSuffix(l.handlers[A].body,f));else{for(k=l.guardedHandlers||[],A=0,v=k.length;A<v;++A)f=ut(f,this.generateStatement(k[A],Dt)),(l.finalizer||A+1!==v)&&(f=this.maybeBlockSuffix(k[A].body,f));if(l.handler)if(Array.isArray(l.handler))for(A=0,v=l.handler.length;A<v;++A)f=ut(f,this.generateStatement(l.handler[A],Dt)),(l.finalizer||A+1!==v)&&(f=this.maybeBlockSuffix(l.handler[A].body,f));else f=ut(f,this.generateStatement(l.handler,Dt)),l.finalizer&&(f=this.maybeBlockSuffix(l.handler.body,f))}return l.finalizer&&(f=ut(f,["finally",this.maybeBlock(l.finalizer,Dt)])),f},SwitchStatement:function(l,g){var f,A,v,k,R,j=this;if(_t(function(){f=["switch"+D+"(",j.generateExpression(l.discriminant,n.Sequence,X),")"+D+"{"+P]}),l.cases)for(R=Dt,v=0,k=l.cases.length;v<k;++v)v===k-1&&(R|=ot),A=Gt(this.generateStatement(l.cases[v],R)),f.push(A),St(gt(A).toString())||f.push(P);return f.push(Gt("}")),f},SwitchCase:function(l,g){var f,A,v,k,R,j=this;return _t(function(){for(l.test?f=[ut("case",j.generateExpression(l.test,n.Sequence,X)),":"]:f=["default:"],v=0,k=l.consequent.length,k&&l.consequent[0].type===e.BlockStatement&&(A=j.maybeBlock(l.consequent[0],Dt),f.push(A),v=1),v!==k&&!St(gt(f).toString())&&f.push(P),R=Dt;v<k;++v)v===k-1&&g&ot&&(R|=ot),A=Gt(j.generateStatement(l.consequent[v],R)),f.push(A),v+1!==k&&!St(gt(A).toString())&&f.push(P)}),f},IfStatement:function(l,g){var f,A,v,k=this;return _t(function(){f=["if"+D+"(",k.generateExpression(l.test,n.Sequence,X),")"]}),v=g&ot,A=Dt,v&&(A|=ot),l.alternate?(f.push(this.maybeBlock(l.consequent,Dt)),f=this.maybeBlockSuffix(l.consequent,f),l.alternate.type===e.IfStatement?f=ut(f,["else ",this.generateStatement(l.alternate,A)]):f=ut(f,ut("else",this.maybeBlock(l.alternate,A)))):f.push(this.maybeBlock(l.consequent,A)),f},ForStatement:function(l,g){var f,A=this;return _t(function(){f=["for"+D+"("],l.init?l.init.type===e.VariableDeclaration?f.push(A.generateStatement(l.init,yt)):(f.push(A.generateExpression(l.init,n.Sequence,oe)),f.push(";")):f.push(";"),l.test&&(f.push(D),f.push(A.generateExpression(l.test,n.Sequence,X))),f.push(";"),l.update&&(f.push(D),f.push(A.generateExpression(l.update,n.Sequence,X))),f.push(")")}),f.push(this.maybeBlock(l.body,g&ot?Zt:Dt)),f},ForInStatement:function(l,g){return this.generateIterationForStatement("in",l,g&ot?Zt:Dt)},ForOfStatement:function(l,g){return this.generateIterationForStatement("of",l,g&ot?Zt:Dt)},LabeledStatement:function(l,g){return[l.label.name+":",this.maybeBlock(l.body,g&ot?Zt:Dt)]},Program:function(l,g){var f,A,v,k,R;for(k=l.body.length,f=[N&&k>0?`
`:""],R=zt,v=0;v<k;++v)!N&&v===k-1&&(R|=ot),V&&(v===0&&(l.body[0].leadingComments||ae(l.range[0],l.body[v].range[0],f)),v>0&&!l.body[v-1].trailingComments&&!l.body[v].leadingComments&&ae(l.body[v-1].range[1],l.body[v].range[0],f)),A=Gt(this.generateStatement(l.body[v],R)),f.push(A),v+1<k&&!St(gt(A).toString())&&(V&&l.body[v+1].leadingComments||f.push(P)),V&&v===k-1&&(l.body[v].trailingComments||ae(l.body[v].range[1],l.range[1],f));return f},FunctionDeclaration:function(l,g){return[ye(l,!0),"function",ce(l)||Rt(),l.id?Vt(l.id):"",this.generateFunctionBody(l)]},ReturnStatement:function(l,g){return l.argument?[ut("return",this.generateExpression(l.argument,n.Sequence,X)),this.semicolon(g)]:["return"+this.semicolon(g)]},WhileStatement:function(l,g){var f,A=this;return _t(function(){f=["while"+D+"(",A.generateExpression(l.test,n.Sequence,X),")"]}),f.push(this.maybeBlock(l.body,g&ot?Zt:Dt)),f},WithStatement:function(l,g){var f,A=this;return _t(function(){f=["with"+D+"(",A.generateExpression(l.object,n.Sequence,X),")"]}),f.push(this.maybeBlock(l.body,g&ot?Zt:Dt)),f}},Mn(at.prototype,at.Statement),at.Expression={SequenceExpression:function(l,g,f){var A,v,k;for(n.Sequence<g&&(f|=z),A=[],v=0,k=l.expressions.length;v<k;++v)A.push(this.generateExpression(l.expressions[v],n.Assignment,f)),v+1<k&&A.push(","+D);return kt(A,n.Sequence,g)},AssignmentExpression:function(l,g,f){return this.generateAssignment(l.left,l.right,l.operator,g,f)},ArrowFunctionExpression:function(l,g,f){return kt(this.generateFunctionBody(l),n.ArrowFunction,g)},ConditionalExpression:function(l,g,f){return n.Conditional<g&&(f|=z),kt([this.generateExpression(l.test,n.Coalesce,f),D+"?"+D,this.generateExpression(l.consequent,n.Assignment,f),D+":"+D,this.generateExpression(l.alternate,n.Assignment,f)],n.Conditional,g)},LogicalExpression:function(l,g,f){return l.operator==="??"&&(f|=Ft),this.BinaryExpression(l,g,f)},BinaryExpression:function(l,g,f){var A,v,k,R,j,Y;return R=r[l.operator],v=l.operator==="**"?n.Postfix:R,k=l.operator==="**"?R:R+1,R<g&&(f|=z),j=this.generateExpression(l.left,v,f),Y=j.toString(),Y.charCodeAt(Y.length-1)===47&&u.code.isIdentifierPartES5(l.operator.charCodeAt(0))?A=[j,Rt(),l.operator]:A=ut(j,l.operator),j=this.generateExpression(l.right,k,f),l.operator==="/"&&j.toString().charAt(0)==="/"||l.operator.slice(-1)==="<"&&j.toString().slice(0,3)==="!--"?(A.push(Rt()),A.push(j)):A=ut(A,j),l.operator==="in"&&!(f&z)?["(",A,")"]:(l.operator==="||"||l.operator==="&&")&&f&Ft?["(",A,")"]:kt(A,R,g)},CallExpression:function(l,g,f){var A,v,k;for(A=[this.generateExpression(l.callee,n.Call,Ut)],l.optional&&A.push("?."),A.push("("),v=0,k=l.arguments.length;v<k;++v)A.push(this.generateExpression(l.arguments[v],n.Assignment,X)),v+1<k&&A.push(","+D);return A.push(")"),f&Z?kt(A,n.Call,g):["(",A,")"]},ChainExpression:function(l,g,f){n.OptionalChaining<g&&(f|=Z);var A=this.generateExpression(l.expression,n.OptionalChaining,f);return kt(A,n.OptionalChaining,g)},NewExpression:function(l,g,f){var A,v,k,R,j;if(v=l.arguments.length,j=f&pt&&!B&&v===0?Ae:$t,A=ut("new",this.generateExpression(l.callee,n.New,j)),!(f&pt)||B||v>0){for(A.push("("),k=0,R=v;k<R;++k)A.push(this.generateExpression(l.arguments[k],n.Assignment,X)),k+1<R&&A.push(","+D);A.push(")")}return kt(A,n.New,g)},MemberExpression:function(l,g,f){var A,v;return A=[this.generateExpression(l.object,n.Call,f&Z?Ut:$t)],l.computed?(l.optional&&A.push("?."),A.push("["),A.push(this.generateExpression(l.property,n.Sequence,f&Z?X:Ae)),A.push("]")):(!l.optional&&l.object.type===e.Literal&&typeof l.object.value=="number"&&(v=gt(A).toString(),v.indexOf(".")<0&&!/[eExX]/.test(v)&&u.code.isDecimalDigit(v.charCodeAt(v.length-1))&&!(v.length>=2&&v.charCodeAt(0)===48)&&A.push(" ")),A.push(l.optional?"?.":"."),A.push(Vt(l.property))),kt(A,n.Member,g)},MetaProperty:function(l,g,f){var A;return A=[],A.push(typeof l.meta=="string"?l.meta:Vt(l.meta)),A.push("."),A.push(typeof l.property=="string"?l.property:Vt(l.property)),kt(A,n.Member,g)},UnaryExpression:function(l,g,f){var A,v,k,R,j;return v=this.generateExpression(l.argument,n.Unary,X),D===""?A=ut(l.operator,v):(A=[l.operator],l.operator.length>2?A=ut(A,v):(R=gt(A).toString(),j=R.charCodeAt(R.length-1),k=v.toString().charCodeAt(0),((j===43||j===45)&&j===k||u.code.isIdentifierPartES5(j)&&u.code.isIdentifierPartES5(k))&&A.push(Rt()),A.push(v))),kt(A,n.Unary,g)},YieldExpression:function(l,g,f){var A;return l.delegate?A="yield*":A="yield",l.argument&&(A=ut(A,this.generateExpression(l.argument,n.Yield,X))),kt(A,n.Yield,g)},AwaitExpression:function(l,g,f){var A=ut(l.all?"await*":"await",this.generateExpression(l.argument,n.Await,X));return kt(A,n.Await,g)},UpdateExpression:function(l,g,f){return l.prefix?kt([l.operator,this.generateExpression(l.argument,n.Unary,X)],n.Unary,g):kt([this.generateExpression(l.argument,n.Postfix,X),l.operator],n.Postfix,g)},FunctionExpression:function(l,g,f){var A=[ye(l,!0),"function"];return l.id?(A.push(ce(l)||Rt()),A.push(Vt(l.id))):A.push(ce(l)||D),A.push(this.generateFunctionBody(l)),A},ArrayPattern:function(l,g,f){return this.ArrayExpression(l,g,f,!0)},ArrayExpression:function(l,g,f,A){var v,k,R=this;return l.elements.length?(k=A?!1:l.elements.length>1,v=["[",k?P:""],_t(function(j){var Y,ft;for(Y=0,ft=l.elements.length;Y<ft;++Y)l.elements[Y]?(v.push(k?j:""),v.push(R.generateExpression(l.elements[Y],n.Assignment,X))):(k&&v.push(j),Y+1===ft&&v.push(",")),Y+1<ft&&v.push(","+(k?P:D))}),k&&!St(gt(v).toString())&&v.push(P),v.push(k?o:""),v.push("]"),v):"[]"},RestElement:function(l,g,f){return"..."+this.generatePattern(l.argument)},ClassExpression:function(l,g,f){var A,v;return A=["class"],l.id&&(A=ut(A,this.generateExpression(l.id,n.Sequence,X))),l.superClass&&(v=ut("extends",this.generateExpression(l.superClass,n.Unary,X)),A=ut(A,v)),A.push(D),A.push(this.generateStatement(l.body,Zt)),A},MethodDefinition:function(l,g,f){var A,v;return l.static?A=["static"+D]:A=[],l.kind==="get"||l.kind==="set"?v=[ut(l.kind,this.generatePropertyKey(l.key,l.computed)),this.generateFunctionBody(l.value)]:v=[_r(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)],ut(A,v)},Property:function(l,g,f){return l.kind==="get"||l.kind==="set"?[l.kind,Rt(),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:l.shorthand?l.value.type==="AssignmentPattern"?this.AssignmentPattern(l.value,n.Sequence,X):this.generatePropertyKey(l.key,l.computed):l.method?[_r(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:[this.generatePropertyKey(l.key,l.computed),":"+D,this.generateExpression(l.value,n.Assignment,X)]},ObjectExpression:function(l,g,f){var A,v,k,R=this;return l.properties.length?(A=l.properties.length>1,_t(function(){k=R.generateExpression(l.properties[0],n.Sequence,X)}),!A&&!yn(gt(k).toString())?["{",D,k,D,"}"]:(_t(function(j){var Y,ft;if(v=["{",P,j,k],A)for(v.push(","+P),Y=1,ft=l.properties.length;Y<ft;++Y)v.push(j),v.push(R.generateExpression(l.properties[Y],n.Sequence,X)),Y+1<ft&&v.push(","+P)}),St(gt(v).toString())||v.push(P),v.push(o),v.push("}"),v)):"{}"},AssignmentPattern:function(l,g,f){return this.generateAssignment(l.left,l.right,"=",g,f)},ObjectPattern:function(l,g,f){var A,v,k,R,j,Y=this;if(!l.properties.length)return"{}";if(R=!1,l.properties.length===1)j=l.properties[0],j.type===e.Property&&j.value.type!==e.Identifier&&(R=!0);else for(v=0,k=l.properties.length;v<k;++v)if(j=l.properties[v],j.type===e.Property&&!j.shorthand){R=!0;break}return A=["{",R?P:""],_t(function(ft){var Wt,un;for(Wt=0,un=l.properties.length;Wt<un;++Wt)A.push(R?ft:""),A.push(Y.generateExpression(l.properties[Wt],n.Sequence,X)),Wt+1<un&&A.push(","+(R?P:D))}),R&&!St(gt(A).toString())&&A.push(P),A.push(R?o:""),A.push("}"),A},ThisExpression:function(l,g,f){return"this"},Super:function(l,g,f){return"super"},Identifier:function(l,g,f){return Vt(l)},ImportDefaultSpecifier:function(l,g,f){return Vt(l.id||l.local)},ImportNamespaceSpecifier:function(l,g,f){var A=["*"],v=l.id||l.local;return v&&A.push(D+"as"+Rt()+Vt(v)),A},ImportSpecifier:function(l,g,f){var A=l.imported,v=[A.name],k=l.local;return k&&k.name!==A.name&&v.push(Rt()+"as"+Rt()+Vt(k)),v},ExportSpecifier:function(l,g,f){var A=l.local,v=[A.name],k=l.exported;return k&&k.name!==A.name&&v.push(Rt()+"as"+Rt()+Vt(k)),v},Literal:function(l,g,f){var A;if(l.hasOwnProperty("raw")&&F&&I.raw)try{if(A=F(l.raw).body[0].expression,A.type===e.Literal&&A.value===l.value)return l.raw}catch{}return l.regex?"/"+l.regex.pattern+"/"+l.regex.flags:typeof l.value=="bigint"?l.value.toString()+"n":l.bigint?l.bigint+"n":l.value===null?"null":typeof l.value=="string"?Re(l.value):typeof l.value=="number"?Te(l.value):typeof l.value=="boolean"?l.value?"true":"false":en(l.value)},GeneratorExpression:function(l,g,f){return this.ComprehensionExpression(l,g,f)},ComprehensionExpression:function(l,g,f){var A,v,k,R,j=this;return A=l.type===e.GeneratorExpression?["("]:["["],I.moz.comprehensionExpressionStartsWithAssignment&&(R=this.generateExpression(l.body,n.Assignment,X),A.push(R)),l.blocks&&_t(function(){for(v=0,k=l.blocks.length;v<k;++v)R=j.generateExpression(l.blocks[v],n.Sequence,X),v>0||I.moz.comprehensionExpressionStartsWithAssignment?A=ut(A,R):A.push(R)}),l.filter&&(A=ut(A,"if"+D),R=this.generateExpression(l.filter,n.Sequence,X),A=ut(A,["(",R,")"])),I.moz.comprehensionExpressionStartsWithAssignment||(R=this.generateExpression(l.body,n.Assignment,X),A=ut(A,R)),A.push(l.type===e.GeneratorExpression?")":"]"),A},ComprehensionBlock:function(l,g,f){var A;return l.left.type===e.VariableDeclaration?A=[l.left.kind,Rt(),this.generateStatement(l.left.declarations[0],yt)]:A=this.generateExpression(l.left,n.Call,X),A=ut(A,l.of?"of":"in"),A=ut(A,this.generateExpression(l.right,n.Sequence,X)),["for"+D+"(",A,")"]},SpreadElement:function(l,g,f){return["...",this.generateExpression(l.argument,n.Assignment,X)]},TaggedTemplateExpression:function(l,g,f){var A=Ut;f&Z||(A=$t);var v=[this.generateExpression(l.tag,n.Call,A),this.generateExpression(l.quasi,n.Primary,ne)];return kt(v,n.TaggedTemplate,g)},TemplateElement:function(l,g,f){return l.value.raw},TemplateLiteral:function(l,g,f){var A,v,k;for(A=["`"],v=0,k=l.quasis.length;v<k;++v)A.push(this.generateExpression(l.quasis[v],n.Primary,X)),v+1<k&&(A.push("${"+D),A.push(this.generateExpression(l.expressions[v],n.Sequence,X)),A.push(D+"}"));return A.push("`"),A},ModuleSpecifier:function(l,g,f){return this.Literal(l,g,f)},ImportExpression:function(l,g,f){return kt(["import(",this.generateExpression(l.source,n.Assignment,X),")"],n.Call,g)}},Mn(at.prototype,at.Expression),at.prototype.generateExpression=function(l,g,f){var A,v;return v=l.type||e.Property,I.verbatim&&l.hasOwnProperty(I.verbatim)?Qn(l,g):(A=this[v](l,g,f),I.comment&&(A=sn(l,A)),gt(A,l))},at.prototype.generateStatement=function(l,g){var f,A;return f=this[l.type](l,g),I.comment&&(f=sn(l,f)),A=gt(f).toString(),l.type===e.Program&&!N&&P===""&&A.charAt(A.length-1)===`
`&&(f=_?gt(f).replaceRight(/\s+$/,""):A.replace(/\s+$/,"")),gt(f,l)};function ci(l){var g;if(g=new at,G(l))return g.generateStatement(l,Dt);if(K(l))return g.generateExpression(l,n.Sequence,X);throw new Error("Unknown node type: "+l.type)}function Es(l,g){var f=de(),A,v;return g!=null?(typeof g.indent=="string"&&(f.format.indent.style=g.indent),typeof g.base=="number"&&(f.format.indent.base=g.base),g=Ce(f,g),c=g.format.indent.style,typeof g.base=="string"?o=g.base:o=xt(c,g.format.indent.base)):(g=f,c=g.format.indent.style,o=xt(c,g.format.indent.base)),h=g.format.json,p=g.format.renumber,m=h?!1:g.format.hexadecimal,d=h?"double":g.format.quotes,y=g.format.escapeless,P=g.format.newline,D=g.format.space,g.format.compact&&(P=D=c=o=""),B=g.format.parentheses,x=g.format.semicolons,N=g.format.safeConcatenation,q=g.directive,F=h?null:g.parse,_=g.sourceMap,S=g.sourceCode,V=g.format.preserveBlankLines&&S!==null,I=g,_&&(t.browser?i=Lr.sourceMap.SourceNode:i=A7().SourceNode),A=ci(l),_?(v=A.toStringWithSourceMap({file:g.file,sourceRoot:g.sourceMapRoot}),g.sourceContent&&v.map.setSourceContent(g.sourceMap,g.sourceContent),g.sourceMapWithCode?v:v.map.toString()):(v={code:A.toString(),map:null},g.sourceMapWithCode?v:v.code)}W={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},O=de().format,t.version=k7.version,t.generate=Es,t.attachComments=s.attachComments,t.Precedence=Ce({},n),t.browser=!1,t.FORMAT_MINIFY=W,t.FORMAT_DEFAULTS=O})()})(ff);const N7=df(ff);class T7{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e}}replace(e,n,r,i){e&&n&&(r!=null?e[n][r]=i:e[n]=i)}remove(e,n,r){e&&n&&(r!=null?e[n].splice(r,1):delete e[n])}}class R7 extends T7{constructor(e,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:r=>this.replacement=r},this.enter=e,this.leave=n}visit(e,n,r,i){if(e){if(this.enter){const u=this.should_skip,o=this.should_remove,c=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,n,r,i),this.replacement&&(e=this.replacement,this.replace(n,r,i,e)),this.should_remove&&this.remove(n,r,i);const h=this.should_skip,p=this.should_remove;if(this.should_skip=u,this.should_remove=o,this.replacement=c,h)return e;if(p)return null}let s;for(s in e){const u=e[s];if(u&&typeof u=="object")if(Array.isArray(u)){const o=u;for(let c=0;c<o.length;c+=1){const h=o[c];Ha(h)&&(this.visit(h,e,s,c)||c--)}}else Ha(u)&&this.visit(u,e,s,null)}if(this.leave){const u=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,n,r,i),this.replacement&&(e=this.replacement,this.replace(n,r,i,e)),this.should_remove&&this.remove(n,r,i);const c=this.should_remove;if(this.replacement=u,this.should_remove=o,c)return null}}return e}}function Ha(t){return t!==null&&typeof t=="object"&&"type"in t&&typeof t.type=="string"}function V7(t,{enter:e,leave:n}){return new R7(e,n).visit(t,null)}let L7=[];function O7(t,e={}){const{wrapAsync:n=!1,addReturn:r=!0,emitMiniLocations:i=!0,emitWidgets:s=!0}=e;let u=o7(t,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),o=[];const c=(d,y)=>{const P=ho(`"${d}"`,y.start,t);o=o.concat(P)};let h=[];V7(u,{enter(d,y){if($7(d)){const P=d.quasi.quasis[0].value.raw,D=d.quasi.start+1;if(i){const B=J7(P,D);o=o.concat(B)}return this.skip(),this.replace(Q7(P,D))}if(G7(d,y)){const{quasis:P}=d,{raw:D}=P[0].value;return this.skip(),i&&c(D,d),this.replace(Ka(D,d))}if(j7(d)){const{value:P}=d;return this.skip(),i&&c(P,d),this.replace(Ka(P,d))}if(z7(d))return s&&h.push({from:d.arguments[0].start,to:d.arguments[0].end,value:d.arguments[0].raw,min:d.arguments[1]?.value??0,max:d.arguments[2]?.value??1,step:d.arguments[3]?.value,type:"slider"}),this.replace(q7(d));if(W7(d)){const P=d.callee.property.name,D=h.filter(x=>x.type===P).length,B={to:d.end,index:D,type:P};return s&&h.push(B),this.replace(Z7(d,B))}if(H7(d,y))return this.replace(K7(d));if(Y7(d))return this.replace(U7(d))},leave(d,y,P,D){}});const{body:p}=u;if(!p?.[p.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(r){const{expression:d}=p[p.length-1];p[p.length-1]={type:"ReturnStatement",argument:d}}let m=N7.generate(u);return n&&(m=`(async ()=>{${m}})()`),i?{output:m,miniLocations:o,widgets:h}:{output:m}}function j7(t,e,n){return t.type!=="Literal"?!1:t.raw[0]==='"'}function G7(t,e){return t.type==="TemplateLiteral"&&e.type!=="TaggedTemplateExpression"}function Ka(t,e){const{start:n}=e;return{type:"CallExpression",callee:{type:"Identifier",name:"m"},arguments:[{type:"Literal",value:t},{type:"Literal",value:n}],optional:!1}}function z7(t){return t.type==="CallExpression"&&t.callee.name==="slider"}function W7(t){return t.type==="CallExpression"&&L7.includes(t.callee.property?.name)}function q7(t){const e="slider_"+t.arguments[0].start;return t.arguments.unshift({type:"Literal",value:e,raw:e}),t.callee.name="sliderWithID",t}function X7(t){return`widget_${t.type}_${t.index}`}function Z7(t,e){const n=X7(e);return t.arguments.unshift({type:"Literal",value:n,raw:n}),t}function H7(t,e){return t.type==="CallExpression"&&t.callee.name==="samples"&&e.type!=="AwaitExpression"}function K7(t){return{type:"AwaitExpression",argument:t}}function Y7(t){return t.type==="LabeledStatement"}function U7(t){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:t.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:t.label.name,raw:`'${t.label.name}'`}]}}}function $7(t){return t.type==="TaggedTemplateExpression"&&t.tag.name==="tidal"}function J7(t,e){return t.split("").reduce((n,r,i)=>(r!=='"'||(!n.length||n[n.length-1].length>1?n.push([i+1]):n[n.length-1].push(i)),n),[]).map(([n,r])=>{const i=t.slice(n,r);return ho(`"${i}"`,e+n-1)}).flat()}function Q7(t,e){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:t},{type:"Literal",value:e}],optional:!1}}function ri(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function ii(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var vf=[0,2,4,-1,1,3,5],Ef=vf.map(t=>Math.floor(t*7/12));function ls(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=vf[e]+7*n;if(r===void 0)return[i*s];const u=r-Ef[e]-4*n;return[i*s,i*u]}var tD=[3,0,4,1,5,2,6];function Do(t){const[e,n,r]=t,i=tD[eD(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const u=n+4*s+Ef[i];return{step:i,alt:s,oct:u,dir:r}}function eD(t){const e=(t+1)%7;return e<0?7+e:e}var Ya=(t,e)=>Array(Math.abs(e)+1).join(t),du=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),nD="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",rD="(AA|A|P|M|m|d|dd)([-+]?\\d+)",iD=new RegExp("^"+nD+"|"+rD+"$");function sD(t){const e=iD.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var Ua={};function Gi(t){return typeof t=="string"?Ua[t]||(Ua[t]=uD(t)):ii(t)?Gi(cD(t)):ri(t)?Gi(t.name):du}var $a=[0,2,4,5,7,9,11],Ff="PMMPPMM";function uD(t){const e=sD(t);if(e[0]==="")return du;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=Ff[i];if(s==="M"&&r==="P")return du;const u=s==="M"?"majorable":"perfectable",o=""+n+r,c=n<0?-1:1,h=n===8||n===-8?n:c*(i+1),p=aD(u,r),m=Math.floor((Math.abs(n)-1)/7),d=c*($a[i]+p+12*m),y=(c*($a[i]+p)%12+12)%12,P=ls({step:i,alt:p,oct:m,dir:c});return{empty:!1,name:o,num:n,q:r,step:i,alt:p,dir:c,type:u,simple:h,semitones:d,chroma:y,coord:P,oct:m}}function oD(t,e){const[n,r=0]=t,i=n*7+r*12<0,s=e||i?[-n,-r,-1]:[n,r,1];return Gi(Do(s))}function aD(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function cD(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,u=s===0?e+1:s,o=i<0?"-":"",c=Ff[e]==="M"?"majorable":"perfectable";return o+u+lD(c,n)}function lD(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?Ya("A",e):Ya("d",t==="perfectable"?e:e+1)}var Ja=(t,e)=>Array(Math.abs(e)+1).join(t),Bf=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Qa=new Map,hD=t=>"CDEFGAB".charAt(t),hs=t=>t<0?Ja("b",-t):Ja("#",t),vo=t=>t[0]==="b"?-t.length:t.length;function vt(t){const e=JSON.stringify(t),n=Qa.get(e);if(n)return n;const r=typeof t=="string"?fD(t):ii(t)?vt(gD(t)):ri(t)?vt(t.name):Bf;return Qa.set(e,r),r}var pD=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Eo(t){const e=pD.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function mD(t){return vt(Do(t))}var dD=(t,e)=>(t%e+e)%e,Zs=[0,2,4,5,7,9,11];function fD(t){const e=Eo(t);if(e[0]===""||e[3]!=="")return Bf;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,u=vo(r),o=i.length?+i:void 0,c=ls({step:s,alt:u,oct:o}),h=n+r+i,p=n+r,m=(Zs[s]+u+120)%12,d=o===void 0?dD(Zs[s]+u,12)-12*99:Zs[s]+u+12*(o+1),y=d>=0&&d<=127?d:null,P=o===void 0?null:Math.pow(2,(d-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:m,coord:c,freq:P,height:d,letter:n,midi:y,name:h,oct:o,pc:p,step:s}}function gD(t){const{step:e,alt:n,oct:r}=t,i=hD(e);if(!i)return"";const s=i+hs(n);return r||r===0?s+r:s}function se(t,e){const n=vt(t),r=Array.isArray(e)?e:Gi(e).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,s=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return mD(s).name}function wf(t,e){const n=t.length;return r=>{if(!e)return"";const i=r<0?(n- -r%n)%n:r%n,s=Math.floor(r/n),u=se(e,[0,s]);return se(u,t[i])}}function If(t,e){const n=vt(t),r=vt(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,u=s[0]-i[0],o=i.length===2&&s.length===2?s[1]-i[1]:-Math.floor(u*7/12),c=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return oD([u,o],c).name}var tc=(t,e)=>Array(e+1).join(t),AD=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function xf(t){const e=AD.exec(t);return e?[e[1],e[2],e[3]]:["","",""]}function zi(t){const[e,n,r]=xf(t);if(n==="")return"";let i=4;for(let u=0;u<r.length;u++)i+=r.charAt(u)===","?-1:1;const s=e[0]==="_"?e.replace(/_/g,"b"):e[0]==="^"?e.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+s+(i+1):n+s+i}function Sf(t){const e=vt(t);if(e.empty||!e.oct&&e.oct!==0)return"";const{letter:n,acc:r,oct:i}=e,s=r[0]==="b"?r.replace(/b/g,"_"):r.replace(/#/g,"^"),u=i>4?n.toLowerCase():n,o=i===5?"":i>4?tc("'",i-5):tc(",",4-i);return s+u+o}function CD(t,e){return Sf(se(zi(t),e))}function yD(t,e){return If(zi(t),zi(e))}var MD={abcToScientificNotation:zi,scientificToAbcNotation:Sf,tokenize:xf,transpose:CD,distance:yD};function bD(t,e){const n=[];for(;e--;n[e]=e+t);return n}function PD(t,e){const n=[];for(;e--;n[e]=t-e);return n}function DD(t,e){return t<e?bD(t,e-t+1):PD(t,t-e+1)}function vD(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}function ED(t){return t.filter(e=>e===0||e)}function _f(t){return t.map(e=>vt(e)).filter(e=>!e.empty).sort((e,n)=>e.height-n.height).map(e=>e.name)}function FD(t){return _f(t).filter((e,n,r)=>n===0||e!==r[n-1])}function BD(t,e=Math.random){let n,r,i=t.length;for(;i;)n=Math.floor(e()*i--),r=t[i],t[i]=t[n],t[n]=r;return t}function kf(t){return t.length===0?[[]]:kf(t.slice(1)).reduce((e,n)=>e.concat(t.map((r,i)=>{const s=n.slice();return s.splice(i,0,t[0]),s})),[])}const wD=Object.freeze(Object.defineProperty({__proto__:null,compact:ED,permutations:kf,range:DD,rotate:vD,shuffle:BD,sortedNoteNames:_f,sortedUniqNoteNames:FD},Symbol.toStringTag,{value:"Module"}));var ec=(t,e)=>Array(Math.abs(e)+1).join(t),fu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),ID="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",xD="(AA|A|P|M|m|d|dd)([-+]?\\d+)",SD=new RegExp("^"+ID+"|"+xD+"$");function _D(t){const e=SD.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var nc={};function gr(t){return typeof t=="string"?nc[t]||(nc[t]=kD(t)):ii(t)?gr(TD(t)):ri(t)?gr(t.name):fu}var rc=[0,2,4,5,7,9,11],Nf="PMMPPMM";function kD(t){const e=_D(t);if(e[0]==="")return fu;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=Nf[i];if(s==="M"&&r==="P")return fu;const u=s==="M"?"majorable":"perfectable",o=""+n+r,c=n<0?-1:1,h=n===8||n===-8?n:c*(i+1),p=ND(u,r),m=Math.floor((Math.abs(n)-1)/7),d=c*(rc[i]+p+12*m),y=(c*(rc[i]+p)%12+12)%12,P=ls({step:i,alt:p,oct:m,dir:c});return{empty:!1,name:o,num:n,q:r,step:i,alt:p,dir:c,type:u,simple:h,semitones:d,chroma:y,coord:P,oct:m}}function ND(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function TD(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,u=s===0?e+1:s,o=i<0?"-":"",c=Nf[e]==="M"?"majorable":"perfectable";return o+u+RD(c,n)}function RD(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?ec("A",e):ec("d",t==="perfectable"?e:e+1)}function Ln(t,e,n){return function(...r){return console.warn(`${t} is deprecated. Use ${e}.`),n.apply(this,r)}}var VD=Ln("isNamed","isNamedPitch",ri);function LD(t,e){const n=[];for(;e--;n[e]=e+t);return n}function OD(t,e){const n=[];for(;e--;n[e]=t-e);return n}function ps(t,e){return t<e?LD(t,e-t+1):OD(t,t-e+1)}function Fr(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}function Fo(t){return t.filter(e=>e===0||e)}function jD(t,e=Math.random){let n,r,i=t.length;for(;i;)n=Math.floor(e()*i--),r=t[i],t[i]=t[n],t[n]=r;return t}function Tf(t){return t.length===0?[[]]:Tf(t.slice(1)).reduce((e,n)=>e.concat(t.map((r,i)=>{const s=n.slice();return s.splice(i,0,t[0]),s})),[])}var GD={compact:Fo,permutations:Tf,range:ps,rotate:Fr,shuffle:jD},gn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Bo=t=>Number(t).toString(2).padStart(12,"0"),ic=t=>parseInt(t,2),zD=/^[01]{12}$/;function wo(t){return zD.test(t)}var WD=t=>typeof t=="number"&&t>=0&&t<=4095,qD=t=>t&&wo(t.chroma),sc={[gn.chroma]:gn};function Yt(t){const e=wo(t)?t:WD(t)?Bo(t):Array.isArray(t)?nv(t):qD(t)?t.chroma:gn.chroma;return sc[e]=sc[e]||ev(e)}var XD=Ln("Pcset.pcset","Pcset.get",Yt),Rf=t=>Yt(t).chroma,ZD=t=>Yt(t).intervals,HD=t=>Yt(t).setNum,KD=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function YD(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(KD[n]);return e}function UD(t){return Yt(t).intervals.map(e=>se("C",e))}function $D(){return ps(2048,4095).map(Bo)}function Io(t,e=!0){const n=Yt(t).chroma.split("");return Fo(n.map((r,i)=>{const s=Fr(i,n);return e&&s[0]==="0"?null:s.join("")}))}function JD(t,e){return Yt(t).setNum===Yt(e).setNum}function ms(t){const e=Yt(t).setNum;return n=>{const r=Yt(n).setNum;return e&&e!==r&&(r&e)===r}}function ds(t){const e=Yt(t).setNum;return n=>{const r=Yt(n).setNum;return e&&e!==r&&(r|e)===r}}function Vf(t){const e=Yt(t);return n=>{const r=vt(n);return e&&!r.empty&&e.chroma.charAt(r.chroma)==="1"}}function QD(t){const e=Vf(t);return n=>n.filter(e)}var Lf={get:Yt,chroma:Rf,num:HD,intervals:ZD,chromas:$D,isSupersetOf:ds,isSubsetOf:ms,isNoteIncludedIn:Vf,isEqual:JD,filter:QD,modes:Io,notes:UD,pcset:XD};function tv(t){const e=t.split("");return e.map((n,r)=>Fr(r,e).join(""))}function ev(t){const e=ic(t),n=tv(t).map(ic).filter(s=>s>=2048).sort()[0],r=Bo(n),i=YD(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:i}}function nv(t){if(t.length===0)return gn.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=vt(t[r]),e.empty&&(e=gr(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var rv=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],iv=rv;({...gn});var xo=[],Ii={};function Of(){return xo.slice()}function sv(t,e,n){const r=ov(t),i={...Yt(t),name:n||"",quality:r,intervals:t,aliases:e};xo.push(i),i.name&&(Ii[i.name]=i),Ii[i.setNum]=i,Ii[i.chroma]=i,i.aliases.forEach(s=>uv(i,s))}function uv(t,e){Ii[e]=t}function ov(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}iv.forEach(([t,e,n])=>sv(t.split(" "),n.split(" "),e));xo.sort((t,e)=>t.setNum-e.setNum);var av=t=>{const e=t.reduce((n,r)=>{const i=vt(r).chroma;return i!==void 0&&(n[i]=n[i]||vt(r).name),n},{});return n=>e[n]};function cv(t,e={}){const n=t.map(r=>vt(r).pc).filter(r=>r);return vt.length===0?[]:gv(n,1,e).filter(r=>r.weight).sort((r,i)=>i.weight-r.weight).map(r=>r.name)}var fs={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},gs=t=>e=>!!(e&t),lv=gs(fs.anyThirds),hv=gs(fs.perfectFifth),pv=gs(fs.anySeventh),mv=gs(fs.nonPerfectFifths);function dv(t){const e=parseInt(t.chroma,2);return lv(e)&&hv(e)&&pv(e)}function fv(t){const e=parseInt(t,2);return mv(e)?t:(e|16).toString(2)}function gv(t,e,n){const r=t[0],i=vt(r).chroma,s=av(t),u=Io(t,!1),o=[];return u.forEach((c,h)=>{const p=n.assumePerfectFifth&&fv(c);Of().filter(m=>n.assumePerfectFifth&&dv(m)?m.chroma===p:m.chroma===c).forEach(m=>{const d=m.aliases[0],y=s(h);h!==i?o.push({weight:.5*e,name:`${y}${d}/${r}`}):o.push({weight:1*e,name:`${y}${d}`})})}),o}function Av(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function Cv(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var jf=[0,2,4,-1,1,3,5],Gf=jf.map(t=>Math.floor(t*7/12));function yv(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=jf[e]+7*n;if(r===void 0)return[i*s];const u=r-Gf[e]-4*n;return[i*s,i*u]}var Mv=[3,0,4,1,5,2,6];function bv(t){const[e,n,r]=t,i=Mv[Pv(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const u=n+4*s+Gf[i];return{step:i,alt:s,oct:u,dir:r}}function Pv(t){const e=(t+1)%7;return e<0?7+e:e}function Dv(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function vv(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var zf=[0,2,4,-1,1,3,5],Wf=zf.map(t=>Math.floor(t*7/12));function Ev(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=zf[e]+7*n;if(r===void 0)return[i*s];const u=r-Wf[e]-4*n;return[i*s,i*u]}var Fv=[3,0,4,1,5,2,6];function Bv(t){const[e,n,r]=t,i=Fv[wv(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const u=n+4*s+Wf[i];return{step:i,alt:s,oct:u,dir:r}}function wv(t){const e=(t+1)%7;return e<0?7+e:e}var uc=(t,e)=>Array(Math.abs(e)+1).join(t),gu={empty:!0,name:"",acc:""},Iv="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",xv="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Sv=new RegExp("^"+Iv+"|"+xv+"$");function So(t){const e=Sv.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var oc={};function te(t){return typeof t=="string"?oc[t]||(oc[t]=_v(t)):vv(t)?te(Nv(t)):Dv(t)?te(t.name):gu}var ac=[0,2,4,5,7,9,11],qf="PMMPPMM";function _v(t){const e=So(t);if(e[0]==="")return gu;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=qf[i];if(s==="M"&&r==="P")return gu;const u=s==="M"?"majorable":"perfectable",o=""+n+r,c=n<0?-1:1,h=n===8||n===-8?n:c*(i+1),p=kv(u,r),m=Math.floor((Math.abs(n)-1)/7),d=c*(ac[i]+p+12*m),y=(c*(ac[i]+p)%12+12)%12,P=Ev({step:i,alt:p,oct:m,dir:c});return{empty:!1,name:o,num:n,q:r,step:i,alt:p,dir:c,type:u,simple:h,semitones:d,chroma:y,coord:P,oct:m}}function Br(t,e){const[n,r=0]=t,i=n*7+r*12<0,s=e||i?[-n,-r,-1]:[n,r,1];return te(Bv(s))}function kv(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function Nv(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,u=s===0?e+1:s,o=i<0?"-":"",c=qf[e]==="M"?"majorable":"perfectable";return o+u+Tv(c,n)}function Tv(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?uc("A",e):uc("d",t==="perfectable"?e:e+1)}var cc=(t,e)=>Array(Math.abs(e)+1).join(t),Xf={empty:!0,name:"",pc:"",acc:""},lc=new Map,Rv=t=>"CDEFGAB".charAt(t),Vv=t=>t<0?cc("b",-t):cc("#",t),Lv=t=>t[0]==="b"?-t.length:t.length;function kn(t){const e=JSON.stringify(t),n=lc.get(e);if(n)return n;const r=typeof t=="string"?zv(t):Cv(t)?kn(Wv(t)):Av(t)?kn(t.name):Xf;return lc.set(e,r),r}var Ov=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Zf(t){const e=Ov.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function jv(t){return kn(bv(t))}var Gv=(t,e)=>(t%e+e)%e,Hs=[0,2,4,5,7,9,11];function zv(t){const e=Zf(t);if(e[0]===""||e[3]!=="")return Xf;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,u=Lv(r),o=i.length?+i:void 0,c=yv({step:s,alt:u,oct:o}),h=n+r+i,p=n+r,m=(Hs[s]+u+120)%12,d=o===void 0?Gv(Hs[s]+u,12)-12*99:Hs[s]+u+12*(o+1),y=d>=0&&d<=127?d:null,P=o===void 0?null:Math.pow(2,(d-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:m,coord:c,freq:P,height:d,letter:n,midi:y,name:h,oct:o,pc:p,step:s}}function Wv(t){const{step:e,alt:n,oct:r}=t,i=Rv(e);if(!i)return"";const s=i+Vv(n);return r||r===0?s+r:s}function Wi(t,e){const n=kn(t),r=Array.isArray(e)?e:te(e).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,s=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return jv(s).name}function Hf(t,e){const n=t.length;return r=>{if(!e)return"";const i=r<0?(n- -r%n)%n:r%n,s=Math.floor(r/n),u=Wi(e,[0,s]);return Wi(u,t[i])}}function qv(t,e){const n=kn(t),r=kn(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,u=s[0]-i[0],o=i.length===2&&s.length===2?s[1]-i[1]:-Math.floor(u*7/12),c=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return Br([u,o],c).name}function Xv(t,e,n){return function(...r){return console.warn(`${t} is deprecated. Use ${e}.`),n.apply(this,r)}}var Zv=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Hv=Zv,Kv={...gn,name:"",quality:"Unknown",intervals:[],aliases:[]},_o=[],qr={};function Yv(t){return qr[t]||Kv}function Kf(){return _o.slice()}function Uv(t,e,n){const r=Jv(t),i={...Yt(t),name:n||"",quality:r,intervals:t,aliases:e};_o.push(i),i.name&&(qr[i.name]=i),qr[i.setNum]=i,qr[i.chroma]=i,i.aliases.forEach(s=>$v(i,s))}function $v(t,e){qr[e]=t}function Jv(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}Hv.forEach(([t,e,n])=>Uv(t.split(" "),n.split(" "),e));_o.sort((t,e)=>t.setNum-e.setNum);var Qv=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],t5=Qv,e5={...gn,intervals:[],aliases:[]},As=[],Xn={};function Yf(){return As.map(t=>t.name)}function Cs(t){return Xn[t]||e5}var n5=Ln("ScaleDictionary.scaleType","ScaleType.get",Cs);function wr(){return As.slice()}var r5=Ln("ScaleDictionary.entries","ScaleType.all",wr);function i5(){return Object.keys(Xn)}function s5(){As=[],Xn={}}function Uf(t,e,n=[]){const r={...Yt(t),name:e,intervals:t,aliases:n};return As.push(r),Xn[r.name]=r,Xn[r.setNum]=r,Xn[r.chroma]=r,r.aliases.forEach(i=>u5(r,i)),r}function u5(t,e){Xn[e]=t}t5.forEach(([t,e,...n])=>Uf(t.split(" "),e,n));var $f={names:Yf,get:Cs,all:wr,add:Uf,removeAll:s5,keys:i5,entries:r5,scaleType:n5},Au={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function ko(t){const[e,n,r,i]=Zf(t);return e===""?["",t]:e==="A"&&i==="ug"?["","aug"]:[e+n,r+i]}function Jn(t){if(t==="")return Au;if(Array.isArray(t)&&t.length===2)return xi(t[1],t[0]);{const[e,n]=ko(t),r=xi(n,e);return r.empty?xi(t):r}}function xi(t,e,n){const r=Yv(t),i=kn(e||""),s=kn(n||"");if(r.empty||e&&i.empty||n&&s.empty)return Au;const u=qv(i.pc,s.pc),o=r.intervals.indexOf(u)+1;if(!s.empty&&!o)return Au;const c=Array.from(r.intervals);for(let d=1;d<o;d++){const y=c[0][0],P=c[0][1],D=parseInt(y,10)+7;c.push(`${D}${P}`),c.shift()}const h=i.empty?[]:c.map(d=>Wi(i,d));t=r.aliases.indexOf(t)!==-1?t:r.aliases[0];const p=`${i.empty?"":i.pc}${t}${s.empty||o<=1?"":"/"+s.pc}`,m=`${e?i.pc+" ":""}${r.name}${o>1&&n?" over "+s.pc:""}`;return{...r,name:m,symbol:p,type:r.name,root:s.name,intervals:c,rootDegree:o,tonic:i.name,notes:h}}var o5=Xv("Chord.chord","Chord.get",Jn);function a5(t,e){const[n,r]=ko(t);return n?Wi(n,e)+r:t}function c5(t){const e=Jn(t),n=ds(e.chroma);return wr().filter(r=>n(r.chroma)).map(r=>r.name)}function l5(t){const e=Jn(t),n=ds(e.chroma);return Kf().filter(r=>n(r.chroma)).map(r=>e.tonic+r.aliases[0])}function h5(t){const e=Jn(t),n=ms(e.chroma);return Kf().filter(r=>n(r.chroma)).map(r=>e.tonic+r.aliases[0])}function p5(t){const{intervals:e,tonic:n}=Jn(t),r=Hf(e,n);return i=>i?r(i>0?i-1:i):""}function m5(t){const{intervals:e,tonic:n}=Jn(t);return Hf(e,n)}var d5={getChord:xi,get:Jn,detect:cv,chordScales:c5,extended:l5,reduced:h5,tokenize:ko,transpose:a5,degrees:p5,steps:m5,chord:o5};function ys(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}var Jf=[0,2,4,5,7,9,11],Qf=({step:t,alt:e})=>(Jf[t]+e+120)%12,No=({step:t,alt:e,oct:n,dir:r=1})=>r*(Jf[t]+e+12*(n===void 0?-100:n)),tg=t=>{const e=No(t);return t.oct!==void 0&&e>=-12&&e<=115?e+12:null};function To(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var eg=[0,2,4,-1,1,3,5],ng=eg.map(t=>Math.floor(t*7/12));function Ro(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=eg[e]+7*n;if(r===void 0)return[i*s];const u=r-ng[e]-4*n;return[i*s,i*u]}var f5=[3,0,4,1,5,2,6];function Vo(t){const[e,n,r]=t,i=f5[g5(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const u=n+4*s+ng[i];return{step:i,alt:s,oct:u,dir:r}}function g5(t){const e=(t+1)%7;return e<0?7+e:e}var hc=(t,e)=>Array(Math.abs(e)+1).join(t),rg={empty:!0,name:"",pc:"",acc:""},pc=new Map,Lo=t=>"CDEFGAB".charAt(t),Oo=t=>t<0?hc("b",-t):hc("#",t),jo=t=>t[0]==="b"?-t.length:t.length;function Nn(t){const e=JSON.stringify(t),n=pc.get(e);if(n)return n;const r=typeof t=="string"?y5(t):To(t)?Nn(M5(t)):ys(t)?Nn(t.name):rg;return pc.set(e,r),r}var A5=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Go(t){const e=A5.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function zo(t){return Nn(Vo(t))}var C5=(t,e)=>(t%e+e)%e,Ks=[0,2,4,5,7,9,11];function y5(t){const e=Go(t);if(e[0]===""||e[3]!=="")return rg;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,u=jo(r),o=i.length?+i:void 0,c=Ro({step:s,alt:u,oct:o}),h=n+r+i,p=n+r,m=(Ks[s]+u+120)%12,d=o===void 0?C5(Ks[s]+u,12)-12*99:Ks[s]+u+12*(o+1),y=d>=0&&d<=127?d:null,P=o===void 0?null:Math.pow(2,(d-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:m,coord:c,freq:P,height:d,letter:n,midi:y,name:h,oct:o,pc:p,step:s}}function M5(t){const{step:e,alt:n,oct:r}=t,i=Lo(e);if(!i)return"";const s=i+Oo(n);return r||r===0?s+r:s}function qi(t,e){const n=Nn(t),r=Array.isArray(e)?e:te(e).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,s=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return zo(s).name}function ig(t,e){const n=t.length;return r=>{if(!e)return"";const i=r<0?(n- -r%n)%n:r%n,s=Math.floor(r/n),u=qi(e,[0,s]);return qi(u,t[i])}}function sg(t,e){const n=Nn(t),r=Nn(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,u=s[0]-i[0],o=i.length===2&&s.length===2?s[1]-i[1]:-Math.floor(u*7/12),c=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return Br([u,o],c).name}var ug=(t,e)=>Array(Math.abs(e)+1).join(t);function si(t,e,n){return function(...r){return console.warn(`${t} is deprecated. Use ${e}.`),n.apply(this,r)}}var og=si("isNamed","isNamedPitch",ys);const ag=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:jo,altToAcc:Oo,chroma:Qf,coordToInterval:Br,coordToNote:zo,coordinates:Ro,deprecate:si,distance:sg,fillStr:ug,height:No,interval:te,isNamed:og,isNamedPitch:ys,isPitch:To,midi:tg,note:Nn,pitch:Vo,stepToLetter:Lo,tokenizeInterval:So,tokenizeNote:Go,tonicIntervalsTransposer:ig,transpose:qi},Symbol.toStringTag,{value:"Module"}));var b5=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],P5=b5,D5={...gn,name:"",quality:"Unknown",intervals:[],aliases:[]},Ir=[],Zn={};function cg(t){return Zn[t]||D5}var v5=si("ChordType.chordType","ChordType.get",cg);function E5(){return Ir.map(t=>t.name).filter(t=>t)}function F5(){return Ir.map(t=>t.aliases[0]).filter(t=>t)}function B5(){return Object.keys(Zn)}function lg(){return Ir.slice()}var w5=si("ChordType.entries","ChordType.all",lg);function I5(){Ir=[],Zn={}}function hg(t,e,n){const r=S5(t),i={...Yt(t),name:n||"",quality:r,intervals:t,aliases:e};Ir.push(i),i.name&&(Zn[i.name]=i),Zn[i.setNum]=i,Zn[i.chroma]=i,i.aliases.forEach(s=>x5(i,s))}function x5(t,e){Zn[e]=t}function S5(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}P5.forEach(([t,e,n])=>hg(t.split(" "),n.split(" "),e));Ir.sort((t,e)=>t.setNum-e.setNum);var pg={names:E5,symbols:F5,get:cg,all:lg,add:hg,removeAll:I5,keys:B5,entries:w5,chordType:v5},_5=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],k5=_5,Ms=[];k5.forEach(([t,e,n])=>G5(t,e,n));var N5={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function T5(){return Ms.reduce((t,e)=>(e.names.forEach(n=>t.push(n)),t),[])}function R5(){return Ms.map(t=>t.shorthand)}var V5=/^([^.]+)(\.*)$/;function Wo(t){const[e,n,r]=V5.exec(t)||[],i=Ms.find(o=>o.shorthand===n||o.names.includes(n));if(!i)return N5;const s=z5(i.fraction,r.length),u=s[0]/s[1];return{...i,name:t,dots:r,value:u,fraction:s}}var L5=t=>Wo(t).value,O5=t=>Wo(t).fraction,j5={names:T5,shorthands:R5,get:Wo,value:L5,fraction:O5};function G5(t,e,n){Ms.push({empty:!1,dots:"",name:"",value:1/t,fraction:t<1?[1/t,1]:[1,t],shorthand:e,names:n})}function z5(t,e){const n=Math.pow(2,e);let r=t[0]*n,i=t[1]*n;const s=r;for(let u=0;u<e;u++)r+=s/Math.pow(2,u+1);for(;r%2===0&&i%2===0;)r/=2,i/=2;return[r,i]}function mg(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function dg(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var fg=[0,2,4,-1,1,3,5],gg=fg.map(t=>Math.floor(t*7/12));function Ag(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=fg[e]+7*n;if(r===void 0)return[i*s];const u=r-gg[e]-4*n;return[i*s,i*u]}var W5=[3,0,4,1,5,2,6];function q5(t){const[e,n,r]=t,i=W5[X5(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const u=n+4*s+gg[i];return{step:i,alt:s,oct:u,dir:r}}function X5(t){const e=(t+1)%7;return e<0?7+e:e}var mc=(t,e)=>Array(Math.abs(e)+1).join(t),Cu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Z5="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",H5="(AA|A|P|M|m|d|dd)([-+]?\\d+)",K5=new RegExp("^"+Z5+"|"+H5+"$");function Y5(t){const e=K5.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var dc={};function yu(t){return typeof t=="string"?dc[t]||(dc[t]=U5(t)):dg(t)?yu(Q5(t)):mg(t)?yu(t.name):Cu}var fc=[0,2,4,5,7,9,11],Cg="PMMPPMM";function U5(t){const e=Y5(t);if(e[0]==="")return Cu;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=Cg[i];if(s==="M"&&r==="P")return Cu;const u=s==="M"?"majorable":"perfectable",o=""+n+r,c=n<0?-1:1,h=n===8||n===-8?n:c*(i+1),p=J5(u,r),m=Math.floor((Math.abs(n)-1)/7),d=c*(fc[i]+p+12*m),y=(c*(fc[i]+p)%12+12)%12,P=Ag({step:i,alt:p,oct:m,dir:c});return{empty:!1,name:o,num:n,q:r,step:i,alt:p,dir:c,type:u,simple:h,semitones:d,chroma:y,coord:P,oct:m}}function $5(t,e){const[n,r=0]=t,i=n*7+r*12<0,s=e||i?[-n,-r,-1]:[n,r,1];return yu(q5(s))}function J5(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function Q5(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,u=s===0?e+1:s,o=i<0?"-":"",c=Cg[e]==="M"?"majorable":"perfectable";return o+u+tE(c,n)}function tE(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?mc("A",e):mc("d",t==="perfectable"?e:e+1)}var gc=(t,e)=>Array(Math.abs(e)+1).join(t),yg=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Ac=new Map,eE=t=>"CDEFGAB".charAt(t),nE=t=>t<0?gc("b",-t):gc("#",t),rE=t=>t[0]==="b"?-t.length:t.length;function Xi(t){const e=JSON.stringify(t),n=Ac.get(e);if(n)return n;const r=typeof t=="string"?oE(t):dg(t)?Xi(aE(t)):mg(t)?Xi(t.name):yg;return Ac.set(e,r),r}var iE=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function sE(t){const e=iE.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}var uE=(t,e)=>(t%e+e)%e,Ys=[0,2,4,5,7,9,11];function oE(t){const e=sE(t);if(e[0]===""||e[3]!=="")return yg;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,u=rE(r),o=i.length?+i:void 0,c=Ag({step:s,alt:u,oct:o}),h=n+r+i,p=n+r,m=(Ys[s]+u+120)%12,d=o===void 0?uE(Ys[s]+u,12)-12*99:Ys[s]+u+12*(o+1),y=d>=0&&d<=127?d:null,P=o===void 0?null:Math.pow(2,(d-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:m,coord:c,freq:P,height:d,letter:n,midi:y,name:h,oct:o,pc:p,step:s}}function aE(t){const{step:e,alt:n,oct:r}=t,i=eE(e);if(!i)return"";const s=i+nE(n);return r||r===0?s+r:s}function cE(t,e){const n=Xi(t),r=Xi(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,u=s[0]-i[0],o=i.length===2&&s.length===2?s[1]-i[1]:-Math.floor(u*7/12),c=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return $5([u,o],c).name}function lE(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var Mg=te,hE=t=>te(t).name,pE=t=>te(t).semitones,mE=t=>te(t).q,dE=t=>te(t).num;function fE(t){const e=te(t);return e.empty?"":e.simple+e.q}function gE(t){const e=te(t);if(e.empty)return"";const n=(7-e.step)%7,r=e.type==="perfectable"?-e.alt:-(e.alt+1);return te({step:n,alt:r,oct:e.oct,dir:e.dir}).name}var AE=[1,2,2,3,3,4,5,5,6,6,7,7],CE="P m M m M P d P m M m M".split(" ");function yE(t){const e=t<0?-1:1,n=Math.abs(t),r=n%12,i=Math.floor(n/12);return e*(AE[r]+7*i)+CE[r]}var ME=cE,bg=Pg((t,e)=>[t[0]+e[0],t[1]+e[1]]),bE=t=>e=>bg(t,e),PE=Pg((t,e)=>[t[0]-e[0],t[1]-e[1]]);function DE(t,e){const n=Mg(t);if(n.empty)return"";const[r,i,s]=n.coord;return Br([r+e,i,s]).name}var Ar={names:lE,get:Mg,name:hE,num:dE,semitones:pE,quality:mE,fromSemitones:yE,distance:ME,invert:gE,simplify:fE,add:bg,addTo:bE,substract:PE,transposeFifths:DE};function Pg(t){return(e,n)=>{const r=te(e).coord,i=te(n).coord;if(r&&i){const s=t(r,i);return Br(s).name}}}function Dg(t){return+t>=0&&+t<=127}function vg(t){if(Dg(t))return+t;const e=vt(t);return e.empty?null:e.midi}function vE(t,e=440){return Math.pow(2,(t-69)/12)*e}var EE=Math.log(2),FE=Math.log(440);function qo(t){const e=12*(Math.log(t)-FE)/EE+69;return Math.round(e*100)/100}var BE="C C# D D# E F F# G G# A A# B".split(" "),wE="C Db D Eb E F Gb G Ab A Bb B".split(" ");function On(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const n=(e.sharps===!0?BE:wE)[t%12];if(e.pitchClass)return n;const r=Math.floor(t/12)-1;return n+r}function Xo(t){return t%12}function IE(t){return t.split("").reduce((e,n,r)=>(r<12&&n==="1"&&e.push(r),e),[])}function xE(t){return t.map(Xo).sort((e,n)=>e-n).filter((e,n,r)=>n===0||e!==r[n-1])}function Zo(t){return Array.isArray(t)?xE(t):IE(t)}function SE(t){const e=Zo(t);return n=>{const r=Xo(n);for(let i=0;i<12;i++){if(e.includes(r+i))return n+i;if(e.includes(r-i))return n-i}}}function Eg(t,e){const n=Zo(t),r=n.length;return i=>{const s=i<0?(r- -i%r)%r:i%r,u=Math.floor(i/r);return n[s]+u*12+e}}function _E(t,e){const n=Eg(t,e);return r=>{if(r!==0)return n(r>0?r-1:r)}}var kE={chroma:Xo,freqToMidi:qo,isMidi:Dg,midiToFreq:vE,midiToNoteName:On,pcsetNearest:SE,pcset:Zo,pcsetDegrees:_E,pcsetSteps:Eg,toMidi:vg},NE=["C","D","E","F","G","A","B"],Fg=t=>t.name,Bg=t=>t.map(vt).filter(e=>!e.empty);function TE(t){return t===void 0?NE.slice():Array.isArray(t)?Bg(t).map(Fg):[]}var qe=vt,RE=t=>qe(t).name,VE=t=>qe(t).pc,LE=t=>qe(t).acc,OE=t=>qe(t).oct,jE=t=>qe(t).midi,GE=t=>qe(t).freq,zE=t=>qe(t).chroma;function wg(t){return On(t)}function WE(t){return On(qo(t))}function qE(t){return On(qo(t),{sharps:!0})}function XE(t){return On(t,{sharps:!0})}var ui=se,ZE=se,Ig=t=>e=>ui(e,t),HE=Ig,xg=t=>e=>ui(t,e),KE=xg;function Zi(t,e){return ui(t,[e,0])}var YE=Zi;function UE(t,e){return ui(t,[0,e])}var Ho=(t,e)=>t.height-e.height,$E=(t,e)=>e.height-t.height;function Sg(t,e){return e=e||Ho,Bg(t).sort(e).map(Fg)}function _g(t){return Sg(t,Ho).filter((e,n,r)=>n===0||e!==r[n-1])}var JE=t=>{const e=qe(t);return e.empty?"":On(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function kg(t,e){const n=qe(t);if(n.empty)return"";const r=qe(e||On(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const i=n.chroma-n.alt,s=r.chroma-r.alt,u=i>11||s<0?-1:i<0||s>11?1:0,o=n.oct+u;return r.pc+o}var Tn={names:TE,get:qe,name:RE,pitchClass:VE,accidentals:LE,octave:OE,midi:jE,ascending:Ho,descending:$E,sortedNames:Sg,sortedUniqNames:_g,fromMidi:wg,fromMidiSharps:XE,freq:GE,fromFreq:WE,fromFreqSharps:qE,chroma:zE,transpose:ui,tr:ZE,transposeBy:Ig,trBy:HE,transposeFrom:xg,trFrom:KE,transposeFifths:Zi,transposeOctaves:UE,trFifths:YE,simplify:JE,enharmonic:kg},Ng={empty:!0,name:"",chordType:""},Cc={};function An(t){return typeof t=="string"?Cc[t]||(Cc[t]=s9(t)):typeof t=="number"?An(bs[t]||""):ii(t)?e9(t):VD(t)?An(t.name):Ng}var QE=Ln("RomanNumeral.romanNumeral","RomanNumeral.get",An);function t9(t=!0){return(t?bs:i9).slice()}function e9(t){return An(hs(t.alt)+bs[t.step])}var n9=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function r9(t){return n9.exec(t)||["","","",""]}var Tg="I II III IV V VI VII",bs=Tg.split(" "),i9=Tg.toLowerCase().split(" ");function s9(t){const[e,n,r,i]=r9(t);if(!r)return Ng;const s=r.toUpperCase(),u=bs.indexOf(s),o=vo(n),c=1;return{empty:!1,name:e,roman:r,interval:gr({step:u,alt:o,dir:c}).name,acc:n,chordType:i,alt:o,step:u,major:r===s,oct:0,dir:c}}var u9={names:t9,get:An,romanNumeral:QE},Ee=Object.freeze([]),Rg={type:"major",tonic:"",alteration:0,keySignature:""},Si={tonic:"",grades:Ee,intervals:Ee,scale:Ee,triads:Ee,chords:Ee,chordsHarmonicFunction:Ee,chordScales:Ee},o9={...Rg,...Si,type:"major",minorRelative:"",scale:Ee,secondaryDominants:Ee,secondaryDominantsMinorRelative:Ee,substituteDominants:Ee,substituteDominantsMinorRelative:Ee},a9={...Rg,type:"minor",relativeMajor:"",natural:Si,harmonic:Si,melodic:Si},Us=(t,e,n="")=>e.map((r,i)=>`${t[i]}${n}${r}`);function Ps(t,e,n,r,i){return s=>{const u=t.map(c=>An(c).interval||""),o=u.map(c=>se(s,c));return{tonic:s,grades:t,intervals:u,scale:o,triads:Us(o,e),chords:Us(o,n),chordsHarmonicFunction:r.slice(),chordScales:Us(o,i," ")}}}var Vg=(t,e)=>{const n=vt(t),r=vt(e);return n.empty||r.empty?0:r.coord[0]-n.coord[0]},c9=Ps("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),l9=Ps("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),h9=Ps("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),p9=Ps("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function m9(t){const e=vt(t).pc;if(!e)return o9;const n=c9(e),r=Vg("C",e),i=s=>{const u=An(s);return u.empty?"":se(t,u.interval)+u.chordType};return{...n,type:"major",minorRelative:se(e,"-3m"),alteration:r,keySignature:hs(r),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(i),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(i),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(i),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(i)}}function d9(t){const e=vt(t).pc;if(!e)return a9;const n=Vg("C",e)-3;return{type:"minor",tonic:e,relativeMajor:se(e,"3m"),alteration:n,keySignature:hs(n),natural:l9(e),harmonic:h9(e),melodic:p9(e)}}function f9(t){return typeof t=="number"?Zi("C",t):typeof t=="string"&&/^b+|#+$/.test(t)?Zi("C",vo(t)):null}var g9={majorKey:m9,majorTonicFromKeySignature:f9,minorKey:d9},yc=(t,e)=>Array(Math.abs(e)+1).join(t),Mu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),A9="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",C9="(AA|A|P|M|m|d|dd)([-+]?\\d+)",y9=new RegExp("^"+A9+"|"+C9+"$");function M9(t){const e=y9.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var Mc={};function Yr(t){return typeof t=="string"?Mc[t]||(Mc[t]=b9(t)):ii(t)?Yr(v9(t)):ri(t)?Yr(t.name):Mu}var bc=[0,2,4,5,7,9,11],Lg="PMMPPMM";function b9(t){const e=M9(t);if(e[0]==="")return Mu;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=Lg[i];if(s==="M"&&r==="P")return Mu;const u=s==="M"?"majorable":"perfectable",o=""+n+r,c=n<0?-1:1,h=n===8||n===-8?n:c*(i+1),p=D9(u,r),m=Math.floor((Math.abs(n)-1)/7),d=c*(bc[i]+p+12*m),y=(c*(bc[i]+p)%12+12)%12,P=ls({step:i,alt:p,oct:m,dir:c});return{empty:!1,name:o,num:n,q:r,step:i,alt:p,dir:c,type:u,simple:h,semitones:d,chroma:y,coord:P,oct:m}}function P9(t,e){const[n,r=0]=t,i=n*7+r*12<0?[-n,-r,-1]:[n,r,1];return Yr(Do(i))}function D9(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function v9(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,u=s===0?e+1:s,o=i<0?"-":"",c=Lg[e]==="M"?"majorable":"perfectable";return o+u+E9(c,n)}function E9(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?yc("A",e):yc("d",t==="perfectable"?e:e+1)}var F9=Yr;function B9(t){const e=Yr(t);return e.empty?"":e.simple+e.q}function w9(t,e){const n=F9(t);if(n.empty)return"";const[r,i,s]=n.coord;return P9([r+e,i,s]).name}var Ko=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Pc={...gn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Yo=Ko.map(_9),bu={};Yo.forEach(t=>{bu[t.name]=t,t.aliases.forEach(e=>{bu[e]=t})});function Yn(t){return typeof t=="string"?bu[t.toLowerCase()]||Pc:t&&t.name?Yn(t.name):Pc}var I9=Ln("Mode.mode","Mode.get",Yn);function Og(){return Yo.slice()}var x9=Ln("Mode.mode","Mode.all",Og);function S9(){return Yo.map(t=>t.name)}function _9(t){const[e,n,r,i,s,u,o]=t,c=o?[o]:[],h=Number(n).toString(2);return{empty:!1,intervals:Cs(i).intervals,modeNum:e,chroma:h,normalized:h,name:i,setNum:n,alt:r,triad:s,seventh:u,aliases:c}}function k9(t,e){return Yn(t).intervals.map(n=>se(e,n))}function jg(t){return(e,n)=>{const r=Yn(e);if(r.empty)return[];const i=Fr(r.modeNum,t),s=r.intervals.map(u=>se(n,u));return i.map((u,o)=>s[o]+u)}}var N9=jg(Ko.map(t=>t[4])),T9=jg(Ko.map(t=>t[5]));function Gg(t,e){const n=Yn(e),r=Yn(t);return n.empty||r.empty?"":B9(w9("1P",r.alt-n.alt))}function R9(t,e,n){return se(n,Gg(t,e))}var V9={get:Yn,names:S9,all:Og,distance:Gg,relativeTonic:R9,notes:k9,triads:N9,seventhChords:T9,entries:x9,mode:I9};function L9(t){const[e,n,r,i]=Eo(t);return e===""?$s("",t):e==="A"&&i==="ug"?$s("","aug"):$s(e+n,r+i)}function $s(t,e){const n=e.split("/");if(n.length===1)return[t,n[0],""];const[r,i,s,u]=Eo(n[1]);return r!==""&&s===""&&u===""?[t,n[0],r+i]:[t,e,""]}function O9(t,e){return e.map(An).map(n=>se(t,gr(n))+n.chordType)}function j9(t,e){return e.map(n=>{const[r,i]=L9(n),s=If(t,r);return An(gr(s)).name+i})}var G9={fromRomanNumerals:O9,toRomanNumerals:j9};function zg(t){const e=Fo(t.map(n=>typeof n=="number"?n:vg(n)));return!t.length||e.length!==t.length?[]:e.reduce((n,r)=>{const i=n[n.length-1];return n.concat(ps(i,r).slice(1))},[e[0]])}function z9(t,e){return zg(t).map(n=>On(n,e))}var W9={numeric:zg,chromatic:z9},q9={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Wg(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),n=vt(t.substring(0,e));if(n.empty){const i=vt(t);return i.empty?["",t]:[i.name,""]}const r=t.substring(n.name.length+1).toLowerCase();return[n.name,r.length?r:""]}var X9=Yf;function Ue(t){const e=Array.isArray(t)?t:Wg(t),n=vt(e[0]).name,r=Cs(e[1]);if(r.empty)return q9;const i=r.name,s=n?r.intervals.map(o=>se(n,o)):[],u=n?n+" "+i:i;return{...r,name:u,type:i,tonic:n,notes:s}}var Z9=Ln("Scale.scale","Scale.get",Ue);function H9(t,e={}){const n=Rf(t),r=vt(e.tonic??t[0]??""),i=r.chroma;if(i===void 0)return[];const s=n.split("");s[i]="1";const u=Fr(i,s).join(""),o=wr().find(h=>h.chroma===u),c=[];return o&&c.push(r.name+" "+o.name),e.match==="exact"||qg(u).forEach(h=>{c.push(r.name+" "+h)}),c}function K9(t){const e=Ue(t),n=ms(e.chroma);return Of().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function qg(t){const e=wo(t)?t:Ue(t).chroma,n=ds(e);return wr().filter(r=>n(r.chroma)).map(r=>r.name)}function Y9(t){const e=ms(Ue(t).chroma);return wr().filter(n=>e(n.chroma)).map(n=>n.name)}function Xg(t){const e=t.map(i=>vt(i).pc).filter(i=>i),n=e[0],r=_g(e);return Fr(r.indexOf(n),r)}function U9(t){const e=Ue(t);if(e.empty)return[];const n=e.tonic?e.notes:e.intervals;return Io(e.chroma).map((r,i)=>{const s=Ue(r).name;return s?[n[i],s]:["",""]}).filter(r=>r[0])}function $9(t){const e=Array.isArray(t)?Xg(t):Ue(t).notes,n=e.map(r=>vt(r).chroma);return r=>{const i=vt(typeof r=="number"?wg(r):r),s=i.height;if(s===void 0)return;const u=s%12,o=n.indexOf(u);if(o!==-1)return kg(i.name,e[o])}}function J9(t){const e=$9(t);return(n,r)=>{const i=vt(n).height,s=vt(r).height;return i===void 0||s===void 0?[]:ps(i,s).map(e).filter(u=>u)}}function Q9(t){const{intervals:e,tonic:n}=Ue(t),r=wf(e,n);return i=>i?r(i>0?i-1:i):""}function tF(t){const{intervals:e,tonic:n}=Ue(t);return wf(e,n)}var Cr={degrees:Q9,detect:H9,extended:qg,get:Ue,modeNames:U9,names:X9,rangeOf:J9,reduced:Y9,scaleChords:K9,scaleNotes:Xg,steps:tF,tokenize:Wg,scale:Z9},eF={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},nF=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function rF(){return nF.slice()}var iF=/^(\d*\d(?:\+\d)*)\/(\d+)$/,Dc=new Map;function sF(t){const e=JSON.stringify(t),n=Dc.get(e);if(n)return n;const r=aF(Uo(t));return Dc.set(e,r),r}function Uo(t){if(typeof t=="string"){const[s,u,o]=iF.exec(t)||[];return Uo([u,o])}const[e,n]=t,r=+n;if(typeof e=="number")return[e,r];const i=e.split("+").map(s=>+s);return i.length===1?[i[0],r]:[i,r]}var uF={names:rF,parse:Uo,get:sF},oF=t=>Math.log(t)/Math.log(2)%1===0;function aF([t,e]){const n=Array.isArray(t)?t.reduce((o,c)=>o+c,0):t,r=e;if(n===0||r===0)return eF;const i=Array.isArray(t)?`${t.join("+")}/${e}`:`${t}/${e}`,s=Array.isArray(t)?t:[],u=r===4||r===2?"simple":r===8&&n%3===0?"compound":oF(r)?"irregular":"irrational";return{empty:!1,name:i,type:u,upper:n,lower:r,additive:s}}var cF=ag,lF=Lf,hF=pg,pF=$f;const mF=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:MD,Array:wD,Chord:d5,ChordDictionary:hF,ChordType:pg,Collection:GD,Core:ag,DurationValue:j5,Interval:Ar,Key:g9,Midi:kE,Mode:V9,Note:Tn,PcSet:lF,Pcset:Lf,Progression:G9,Range:W9,RomanNumeral:u9,Scale:Cr,ScaleDictionary:pF,ScaleType:$f,TimeSignature:uF,Tonal:cF,accToAlt:jo,altToAcc:Oo,chroma:Qf,coordToInterval:Br,coordToNote:zo,coordinates:Ro,deprecate:si,distance:sg,fillStr:ug,height:No,interval:te,isNamed:og,isNamedPitch:ys,isPitch:To,midi:tg,note:Nn,pitch:Vo,stepToLetter:Lo,tokenizeInterval:So,tokenizeNote:Go,tonicIntervalsTransposer:ig,transpose:qi},Symbol.toStringTag,{value:"Module"}));var Zg={},vc={},oi={};oi.__esModule=!0;oi.getBestVoicing=void 0;function dF(t){var e=t.chord,n=t.range,r=t.finder,i=t.picker,s=t.lastVoicing,u=r(e,n);return u.length?i(u,s):[]}oi.getBestVoicing=dF;var Rr={};const Hg=a7(mF);var ai={};ai.__esModule=!0;ai.tokenizeChord=void 0;function fF(t){var e=(t||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return e?e.slice(1):[]}ai.tokenizeChord=fF;var Ec;function gF(){if(Ec)return Rr;Ec=1,Rr.__esModule=!0,Rr.voicingsInRange=void 0;var t=Hg,e=Kg(),n=ai;function r(i,s,u){s===void 0&&(s=e.lefthand),u===void 0&&(u=["D3","A4"]);var o=(0,n.tokenizeChord)(i),c=o[0],h=o[1];if(!s[h])return[];var p=s[h].map(function(d){return d.split(" ")}),m=t.Range.chromatic(u);return p.reduce(function(d,y){var P=y.map(function(N){return t.Interval.substract(N,y[0])}),D=t.Note.transpose(c,y[0]),B=m.filter(function(N){return t.Note.chroma(N)===t.Note.chroma(D)}).filter(function(N){return t.Note.midi(t.Note.transpose(N,P[P.length-1]))<=t.Note.midi(u[1])}).map(function(N){return t.Note.enharmonic(N,D)}),x=B.map(function(N){return P.map(function(q){return t.Note.transpose(N,q)})});return d.concat(x)},[])}return Rr.voicingsInRange=r,Rr}var Fc;function Kg(){return Fc||(Fc=1,function(t){var e=Lr&&Lr.__assign||function(){return e=Object.assign||function(o){for(var c,h=1,p=arguments.length;h<p;h++){c=arguments[h];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(o[m]=c[m])}return o},e.apply(this,arguments)},n=Lr&&Lr.__rest||function(o,c){var h={};for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&c.indexOf(p)<0&&(h[p]=o[p]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,p=Object.getOwnPropertySymbols(o);m<p.length;m++)c.indexOf(p[m])<0&&Object.prototype.propertyIsEnumerable.call(o,p[m])&&(h[p[m]]=o[p[m]]);return h};t.__esModule=!0,t.dictionaryVoicing=t.dictionaryVoicingFinder=t.triads=t.guidetones=t.lefthand=void 0;var r=oi,i=gF();t.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},t.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var s=function(o){return function(c,h){return(0,i.voicingsInRange)(c,o,h)}};t.dictionaryVoicingFinder=s;var u=function(o){var c=o.dictionary,h=o.range,p=n(o,["dictionary","range"]);return(0,r.getBestVoicing)(e(e({},p),{range:h,finder:(0,t.dictionaryVoicingFinder)(c)}))};t.dictionaryVoicing=u}(vc)),vc}var Ds={};Ds.__esModule=!0;Ds.minTopNoteDiff=void 0;var Bc=Hg;function AF(t,e){if(!e)return t[0];var n=function(r){return Math.abs(Bc.Note.midi(e[e.length-1])-Bc.Note.midi(r[r.length-1]))};return t.reduce(function(r,i){return n(i)<n(r)?i:r},t[0])}Ds.minTopNoteDiff=AF;(function(t){t.__esModule=!0;var e=Kg(),n=Ds,r=oi,i=ai;t.default={tokenizeChord:i.tokenizeChord,getBestVoicing:r.getBestVoicing,dictionaryVoicing:e.dictionaryVoicing,dictionaryVoicingFinder:e.dictionaryVoicingFinder,lefthand:e.lefthand,guidetones:e.guidetones,triads:e.triads,minTopNoteDiff:n.minTopNoteDiff}})(Zg);const wc=df(Zg),CF=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],yF=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],MF=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],bF={b:-1,"#":1},PF=t=>{const[e,...n]=t.split("");return yF.indexOf(e.toLowerCase())+n.reduce((r,i)=>r+bF[i],0)};function DF(t){const e=(t||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return e?e.slice(1):[]}const Pu=t=>t%12,Yg=t=>{let e=Number(t);return isNaN(e)?Ar.semitones(t):e},Du=(t,e)=>{if(typeof t=="number")return t;if(typeof t=="string")return Rn(t,e)},vF=(t,e=!1)=>{const n=Math.floor(t/12)-1;return(e?MF:CF)[t%12]+n};function EF(t,e,n=1){t=t.map(i=>typeof i=="string"?Rn(i):i);const r=Math.floor(e/t.length)*n*12;return e=we(e,t.length),t[e]+r}function FF(t,e,n){let r=0,i=1/0;return e.forEach((s,u)=>{const o=Math.abs(s-t);(o<i||n)&&(r=u,i=o)}),r}let Js={};function BF(t,e,n,r){let[i,s]=Cr.tokenize(e);const u=Du(i),o=Pu(u);if(!Js[s]){let{intervals:m}=Cr.get(`C ${s}`);Js[s]=m.map(Yg)}const c=Js[s];if(!c)return null;let h=u;if(n){n=Du(n,3);const m=Pu(n),d=we(m-o,12),y=FF(d,c,r);t=t+y,h=n-d}const p=Math.floor(t/c.length)*12;return t=we(t,c.length),c[t]+h+p}let Ic={below:t=>t.slice(-1)[0],duck:t=>t.slice(-1)[0],above:t=>t[0],root:t=>t[0]};function wF({chord:t,dictionary:e,offset:n=0,n:r,mode:i="below",anchor:s="c5",octaves:u=1}){const[o,c]=DF(t),h=PF(o);s=Du(s?.note||s,4);const p=Pu(s),m=e[c].map(_=>(typeof _=="string"?_.split(" "):_).map(Yg));let d,y,P=m.map((_,S)=>{const V=Ic[i](_),W=we(p-V-h,12);return(d===void 0||W<d)&&(d=W,y=S),W});i==="root"&&(y=0);const D=Math.ceil(n/m.length)*12,B=we(y+n,m.length),x=m[B],N=Ic[i](x),q=s-P[B]+D,I=x.map(_=>q-N+_);let F=I.map(_=>vF(_));return i==="duck"&&(F=F.filter((_,S)=>I[S]!==s)),r!==void 0?[EF(F,r,u)]:F}const IF=t=>(t<=0?-1:1)+t*7+"P";function xF(t,e){e=e.replaceAll(":"," "),t=Math.ceil(t);let{intervals:n,tonic:r,empty:i}=Cr.get(e);if(i&&Un(e)||!i&&!r)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(i)throw new Error(`invalid scale "${e}"`);r=r||"C";const{pc:s,oct:u=3}=Tn.get(r),o=Math.floor(t/n.length),c=we(t,n.length),h=Ar.add(n[c],IF(o));return Tn.transpose(s+u,h)}function xc(t,e,n){let[r,i]=Cr.tokenize(t),{notes:s}=Cr.get(`${r} ${i}`);if(s=s.map(y=>Tn.get(y).pc),e=Number(e),isNaN(e))throw new Error(`scale offset "${e}" not a number`);const{pc:u,oct:o=3}=Tn.get(n),c=s.indexOf(u);if(c===-1)throw new Error(`note "${n}" is not in scale "${t}"`);let h=c,p=o,m=u;const d=Math.sign(e);for(;Math.abs(h-c)<Math.abs(e);){h+=d;const y=we(h,s.length);d<0&&m[0]==="C"&&(p+=d),m=s[y],d>0&&m[0]==="C"&&(p+=d)}return m+p}const SF=L("transpose",function(t,e){return e.withHap(n=>{const r=n.value.note??n.value;if(typeof r=="number"){let u;typeof t=="number"?u=t:typeof t=="string"&&(u=Ar.semitones(t)||0);const o=r+u;return typeof n.value=="object"?n.withValue(()=>({...n.value,note:o})):n.withValue(()=>o)}if(typeof r!="string"||!Un(r))return Xt(`[tonal] transpose: not a note "${r}"`,"warning"),n;const i=isNaN(Number(t))?String(t):Ar.fromSemitones(t),s=Tn.simplify(Tn.transpose(r,i));return typeof n.value=="object"?n.withValue(()=>({...n.value,note:s})):n.withValue(()=>s)})}),_F=L("scaleTranspose",function(t,e){return e.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value=="object")return n.withValue(()=>({...n.value,note:xc(n.context.scale,Number(t),n.value.note)}));if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>xc(n.context.scale,Number(t),n.value))})}),kF=L("scale",function(t,e){return Array.isArray(t)&&(t=t.flat().join(" ")),e.fmap(n=>{const r=typeof n=="object";let i=r?n.n:n;if(r&&delete n.n,Un(i))return ie(i);let s=Number(i),u=0;if(isNaN(s)){if(i=String(i),!/^[-+]?\d+(#*|b*){1}$/.test(i))return Xt(`[tonal] invalid scale step "${i}", expected number or integer with optional # b suffixes`,"error"),wt;const o=i.indexOf("#");if(o>=0)s=Number(i.substring(0,o)),u=i.length-o;else{const c=i.indexOf("b");s=Number(i.substring(0,c)),u=c-i.length}}try{let o;r&&n.anchor?o=BF(s,t,n.anchor):o=xF(s,t),u!=0&&(o=Tn.transpose(o,Ar.fromSemitones(u))),n=ie(r?{...n,note:o}:o)}catch(o){Xt(`[tonal] ${o.message}`,"error"),n=wt}return n}).outerJoin().withHap(n=>n.setContext({...n.context,scale:t}))},!0,!0),cr={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},Xr={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:NF,minTopNoteDiff:TF}=wc.default||wc,RF={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},VF={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},LF={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},OF={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},xr={lefthand:{dictionary:RF,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:LF,mode:"below",anchor:"a4"},guidetones:{dictionary:VF,mode:"above",anchor:"a4"},legacy:{dictionary:OF,mode:"below",anchor:"a4"}};let Ug="ireal";const $g=t=>Ug=t,jF=(t,e)=>Jg(t,xr[t].dictionary,e),Jg=(t,e,n=["F3","A4"])=>{Object.assign(xr,{[t]:{dictionary:e,range:n}})},$o=(t,e,n={})=>{Object.assign(xr,{[t]:{dictionary:e,...n}})},GF=(t,e,n)=>{const{dictionary:r,range:i}=xr[e];return NF({chord:t,dictionary:r,range:i,picker:TF,lastVoicing:n})};let _i;const zF=L("voicings",function(t,e){return e.fmap(n=>(_i=GF(n,t,_i),jt(..._i))).outerJoin()}),WF=L("rootNotes",function(t,e){return e.fmap(n=>{const r=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+t;return n.chord?{note:r}:r})}),qF=L("voicing",function(t){return t.fmap(e=>{e=typeof e=="string"?{chord:e}:e;let{dictionary:n=Ug,chord:r,anchor:i,offset:s,mode:u,n:o,octaves:c,...h}=e;n=typeof n=="string"?xr[n]:{dictionary:n,mode:"below",anchor:"c5"};try{let p=wF({...n,chord:r,anchor:i,offset:s,mode:u,n:o,octaves:c});return jt(...p).note().set(h)}catch{return Xt(`[voicing]: unknown chord "${r}"`),wt}}).outerJoin()});function Zr(t,e,n){n=Array.isArray(n)?n:[n],n.forEach(r=>{r[e]=r[t]})}Zr("^","",[cr,Xr]);Object.keys(cr).forEach(t=>{if(t.includes("-")){let e=t.replace("-","m");Zr(t,e,[Xr,cr])}if(t.includes("^")){let e=t.replace("^","M");Zr(t,e,[Xr,cr])}if(t.includes("+")){let e=t.replace("+","aug");Zr(t,e,[Xr,cr])}});$o("ireal",cr);$o("ireal-ext",Xr);function XF(){_i=void 0,$g("ireal")}const ZF="@strudel/tonal",HF=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:Jg,packageName:ZF,registerVoicings:$o,resetVoicings:XF,rootNotes:WF,scale:kF,scaleTranspose:_F,setDefaultVoicings:$g,setVoicingRange:jF,transpose:SF,voicing:qF,voicingAlias:Zr,voicingRegistry:xr,voicings:zF},Symbol.toStringTag,{value:"Module"}));async function KF(){const t=Ti(Ti,Promise.resolve().then(()=>Om),Promise.resolve().then(()=>DP),Promise.resolve().then(()=>HF),Promise.resolve().then(()=>hP),{hush:YF,evaluate:UF});await Promise.all([t,ld()])}let vu,Hn;function Qg(t={}){sd(),t.miniAllStrings!==!1&&xd();const{prebake:e,...n}=t;return Hn=Dd({...n,transpiler:O7}),vu=(async()=>(await KF(),await e?.(),Hn))(),to(()=>Hn.scheduler.now()),vu}window.initStrudel=Qg;rt.prototype.play=function(){if(!Hn)throw new Error(".play: no repl found. Have you called initStrudel?");return vu.then(()=>{Hn.setPattern(this,!0)}),this};function YF(){Hn.stop()}async function UF(t,e=!0){return Hn.evaluate(t,e)}const $F=(t,e)=>Math.floor(Math.random()*(e-t+1)+t),Se=()=>{if(!disk.isPlaying)return;const t=[];for(const n of disk.rooms)if(n&&n.generateSoundString){let r=n.generateSoundString();if(!r)continue;n.id!==disk.roomId&&disk.roomId!=="rainbowroom"?r=`${r}.gain(0.2).lpf(500).room(0.7)`:disk.roomId==="rainbowroom"?r=`${r}.gain(0.6)`:r=`${r}.gain(1)`,n.isMuted&&(r=`${r}.gain(0)`),t.push(`$: ${r}`)}const e=t.join(`
`);e.length>0&&(console.log("Re-evaluating ...",e),evaluate(e))},jn=t=>{t&&!disk.visitedRooms.includes(t)&&disk.visitedRooms.push(t),Se()},JF=t=>{if(disk.roomId==="rainbowroom"){const e=getRoom(t);e.isMuted=!0,Se(),println(`You muted the ${t} room`)}else println("You probably need som kind of control panel to do that.")},Sc=(t="")=>{if(disk.roomId==="rainbowroom")if(t.toLowerCase()==="play")if(disk.isPlaying)println("Already playing. If you don’t hear anything, perhaps you need to find something that can generate sounds?");else{const e=disk.rooms.filter(n=>n.isActive).filter(n=>!n.isMuted).map(n=>n.color);println("You press play."),e.length===0?println("Nothing happens."):e.length===1?println(`Music start playing from the ${e[0]} room.`):println("Sweet, weird music starts playing."),disk.isPlaying=!0,Se()}else t.toLowerCase()==="stop"&&(disk.isPlaying?(console.log("Stopping"),disk.isPlaying=!1,hush()):println("Already stopped."));else useItem(t)},QF=[{inv,i:inv,inventory:inv,look,l:look,go,talk,t:talk,take,get:take,items,use,chars,characters:chars,help,say,save,load,restore:load,export:exportSave,import:importSave},{go:goDir,take:takeItem,get:takeItem,use:useItem,say:sayString,save:t=>save(t),load:t=>load(t),restore:t=>load(t),x:t=>lookAt([null,t]),t:t=>talkToOrAboutX("to",t),export:exportSave,import:importSave,mute:JF,press:Sc,push:Sc},{look:lookAt,take:t=>takeItem(t.join(" ")),get:t=>takeItem(t.join(" ")),use:t=>useItem(t.join(" ")),say(t){const e=t.reduce((n,r)=>n+" "+r,"");sayString(e)},talk:t=>talkToOrAboutX(t[0],t[1]),x:t=>lookAt([null,...t])}],Jo={name:["Android"],roomId:"violetroom",desc:["The android looks like something from a past future. Its domed head is not shiny or smooth as you’d expect.","The shape seems more like it’s been conjured by a blacksmith than an engineer or a machine.","Beneath the wide oval screen that seemingly functions as the android’s eyes, a small square mouth opens and shuts erratically, but does not form any coherent words.","Do androids even need mouths?"].join(`
`),topics:[{option:"What’s your **name**?",keyword:"name",line:'"Look," you say. "This feels weird. Can I call you something?"',onSelected:()=>{Jo.name.push("Violet"),println("YOU CAN CALL ME VIOLET:","android")},removeOnRead:!0,prereqs:[]},{option:"",keyword:"",line:"",onSelected:()=>{},removeOnRead:!0,prereqs:["name"]}],onTalk:()=>{println("You decide you should perhaps try to communicate wth the android.")},onLook:()=>{println("Look")}},Qs={intro:["Welcome to the Rainbow Room","This is an experiment in generative, semi-random sequencing – hidden inside an Interactive Fiction story.","If this is your first time, type HELP to see the commands that are available to you.","BEWARE - This is a work in progress and very much ib beta still - BEWARE"].join(`
`),standard:["You’re standing in an octagonal room. Seven of the walls hold a door, each in one of the colors of the rainbow.","The eighth wall is almost completely covered by what looks like a **control panel** from some obscure fifties’ sci-fi movie: futuristic, but in an old-fashioned way.","LEDs, meters, levers, buttons and sliders – some labeled, some not – take up most of the real estate of the panel."].join(`
`)},tB=()=>{const t=disk.rooms.filter(e=>e.isActive).map(e=>e.color);if(t.length===0)println("None of the LEDs are lit.");else if(t.length===1)println(`The ${t[0]} LED is lit.`);else{let e="";for(let n=0;n<t.length-1;n++)e+=`${t[n]}, `;println(`The ${e.slice(0,-2)} and ${t[t.length-1]} LEDs are lit.`)}},eB=()=>{const t=disk.rooms.filter(e=>e.isMuted).map(e=>e.color);if(t.length===0)println("None of the rooms seem muted.");else if(t.length===1)println(`The ${t[0]} room is muted.`);else{let e="";for(let n=0;n<t.length-1;n++)e+=`${t[n]}, `;println(`The ${e.slice(0,-2)} and ${t[t.length-1]} rooms appear to be muted.`)}},tA={id:"rainbowroom",img:"R A I N B O W _ R O O M",name:"The Rainbow Room BETA",desc:`${Qs.intro}
- - - - - - - - - - - - - - - - - - - -
${Qs.standard}`,onEnter:()=>{const t=getRoom("rainbowroom");t.img="",jn()},onLook:()=>{tA.desc=Qs.standard},items:[{name:["control panel","panel"],desc:["It’s some kind of control panel. In the center of it there are two huge buttons. One says ’**PLAY**’, the other one ’**STOP**’.","A row of LEDs run across the top of the panel. There are seven of them. Their colors correspond to the colors of the doors.","And, coincidentally, to the colors of the rainbow.",'Underneath each LED is a switch labeled "Mute".'].join(`
`),onLook:()=>{disk.isPlaying&&println("The PLAY button is pulsating slowly."),tB(),eB()}}],exits:[{dir:["Red Door","red","r"],id:"redroom"},{dir:["Orange Room","orange","o"],id:"orangeroom"},{dir:["Yellow Room","yellow","y"],id:"yellowroom"},{dir:["Green Room","green","g"],id:"greenroom"},{dir:["Blue Room","blue","b"],id:"blueroom"},{dir:["Indigo Room","indigo","i"],id:"indigoroom"},{dir:["Violet Room","violet","v"],id:"violetroom"}]},_c="Red",nB=()=>"",rB={id:"redroom",img:"R E D _ R O O M",name:`The ${_c} Room`,desc:"This is the red room",isActive:!1,isMuted:!1,color:_c,generateSoundString:nB,onEnter:()=>{jn("redroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","x"],id:"rainbowroom"}]},kc="Orange",iB=()=>"",sB={id:"orangeroom",img:"O R A N G E _ R O O M",name:`The ${kc} Room`,desc:"This is the orange room",isActive:!1,isMuted:!1,color:kc,generateSoundString:iB,onEnter:()=>{jn("orangeroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","x"],id:"rainbowroom"}]},Nc="Yellow",Tc=["A","B","C","D","E","F","G"];let Eu="";const uB=['sound("[triangle]").fm(1.4)',"lpf(800).lpq(6).dec(1.5)",'vib("7:.3").gain(.8)',"velocity(sine.range(.2, .3).slow(15))"];let zn,Or,Ge,eA;const oB=()=>{zn=[0,1,2,3,4],Or=[],Ge=["-","-","-","-","-"],eA=4};oB();const aB=()=>Eu?`${Eu}.${uB.join(".")}`:"",Rc=()=>{Eu=Ge.length>0?`note("${Ge.map(t=>`${t}${t==="-"?"":eA}`).join(" ")}")`:""},Vc=()=>{if(Ge.length===0)println("No slots have cubes in them.");else{const t=[];for(let e=0;e<Ge.length;e++)Ge[e]!=="-"&&t.push(`In slot number ${e+1} there is a cube with the letter ${Ge[e]}`);println(t.join(`
`))}},ki={id:"yellowroom",img:"Y E L L O W _ R O O M",name:`The ${Nc} Room`,desc:"This is the yellow room. In the middle of the room there is a weird **contraption**. On the floor beneath the contraption is a **bucket** with what looks like wooden alphabet cubes.",isActive:!1,isMuted:!1,color:Nc,generateSoundString:aB,onEnter:()=>{jn("yellowroom")},items:[{name:["contraption"],desc:["Apart from all the wiring, the ornamentation and the weird details, the contraption seems fairly simple.","There are five square slots behind a glass pane.","The slots are about the same size as the alphabet cubes in the bucket at the bottom of the contraption.","On top of the contraption is a large funnel."].join(`
`)},{name:["bucket","cubes"],desc:["There are seven wooden cubes in the bucket. On each side of each cube, a letter is painted – one letter for each cube.","The cubes are about the same size as the square slots in the contraption.","It appears you can use them in some way."].join(`
`),onUse:()=>{if(!Ge.includes("-"))println("All slots are already filled, and the cubes bounce off them and tumble down the innards of the contraption, eventually ending up back in the bucket.");else{for(println("You empty the bucket in the funnel. The cubes tumble down a tube. Some of them land in a slot, others continue through the contraption and end up back in the bucket.");Ge.includes("-");){const t=pickOne(Tc);if(!Or.includes(t)){Or.push(t);const e=pickOne(zn);zn.splice(zn.indexOf(e),1),Ge[e]=t}}ki.isActive=!0,Rc(),Se(),Vc()}},onLook:()=>{for(const t of Tc)ki.items.push({name:[`Cube${t}`,t,t.toLowerCase()],desc:`A cube with the letter **${t}**`,onUse:()=>{if(Or.includes(t))println("This cube is already in the contraption.");else if(length.emptySlots===0)println("The cube falls down the funnel, bounces off the filled slots, falls through the contraption and rolls out in the bucket again.");else{let e=$F(0,4);zn.includes(e)?(println([`You put the cube with the letter ${t} in the funnel.`,`It tumbles down a tube and lands in the slot numbered ${e+1}`].join(`
`)),ki.isActive=!0,Or.push(t),zn.splice(zn.indexOf(e),1),Ge[e]=t,Rc(),Se(),Vc()):println([`You put the cube with the letter ${t} in the funnel.`,`It really wants to land in slot ${e+1}, but the slot is occupied and the cube falls through and lands in the bucket again.`].join(`
`))}}})}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","x"],id:"rainbowroom"}]},Lc="Green",nA=["A","B","C","D","E","F","G"];let Fu="";const cB=["segment(4).clip(rand.range(.4,.8))","room(.35).delay(.15)","fm(sine.range(2,6).slow(8))","lpf(sine.range(600,1200).slow(6)).lpq(3)",'rarely(ply("2")).chunk(4, fast(2))'];let Qt=[],jr=3,Gr=!1,rA,Di=0;const lB=()=>Fu?`${Fu}.${cB.join(".")}`:"",Hi=()=>{Fu=Qt.length>0?`note("${Qt.map(t=>`${t}${jr}`).join(" ")}")`:""},iA=()=>{if(Qt.length===0)println("No buttons are depressed.");else if(Qt.length===1)println(`Button ${Qt[0]} is depressed.`);else{let t="";for(let e=0;e<Qt.length-1;e++)t+=`${Qt[e]}, `;println(`Buttons ${t.slice(0,-2)} and ${Qt[Qt.length-1]} are depressed.`)}},hB=()=>{rA=setInterval(()=>{const t=[];nA.forEach(e=>{Math.random()<.2&&t.push(e)}),Qt=[...t],Qt.length===0&&Qt.push("E"),Hi(),Se()},3e3)},pB=()=>{clearInterval(rA),Gr=!1},mB=nA.map(t=>({name:`Button${t}`,desc:`A button with the letter ${t}`,onUse:()=>{Qt.includes(t)?Qt.splice(Qt.indexOf(t),1):Qt.push(t),disk.isPlaying||println("Nothing happens."),Ki.isActive=!0,Hi(),Se(),iA()}})),Ki={id:"greenroom",img:"G R E E N _ R O O M",name:`The ${Lc} Room`,desc:["This is a very green room. You can’t really see the walls – they’re all covered in leaves and vines.","It’s incredibly humid in here.","In the far corner of the room, some kind of ancient stone machinery is withering away, halv covered in vegetation.","You can see **buttons** on it, and something that looks like a **lever**.","There is a **cage** on the floor."].join(`
`),isActive:!1,isMuted:!1,color:Lc,generateSoundString:lB,onEnter:()=>{jn("greenroom")},items:[...mB,{name:"Buttons",desc:"There are seven buttons. Above each, a letter is chiseled. It’s the first seven letters of the alphabet.",onUse:()=>{println("You can’t use all the buttons at once. Try using one of the buttons instead. For example **ButtonA**.")},onLook:()=>{Gr?println("A very happy lizard is skipping across the buttons, engaging and disengaging them in a seemingly random pattern."):iA()}},{name:"Lever",desc:'The lever has two positions, marked "2" and "3".',onLook:()=>{println(`It’s currently in the "${jr}" position.`)},onUse:()=>{jr=jr===2?3:2,println(`The lever is now in the "${jr}" position.`),disk.isPlaying?println("This seems to have changed the octave of the notes playing. Sweet!"):println("Nothing happens."),Hi(),Se()}},{name:"Cage",desc:"There’s a small golden cage on the floor",onLook:()=>{Gr?println("The cage is empty."):println(["From inside, a lizard peers curiously at you.","The lizard is not huge, but way too big for the small cage.","The cage has a door, and it seems to be bolted, not locked."].join(`
`))},onTake:()=>{println("The cage is fastened to the stone floor with huge clasps. You won’t be able to move it. Perhaps you can use it some other way?")},onUse:()=>{Di===0?(println("Do you really want to open the cage door? The lizard will get out."),Di++):Di===1?(println("I mean, it’s your choice, and the lizard does seem pretty friendly. Are you absolutely sure?"),Di++):(println(["You wiggled the bolt a bit, and after a few tries you manage to slide it open.","You open the cage door and the lizard immediately slips out.","After looking around the room, it heads for the stone machine and starts walking proudly across the buttons."].join(`
`)),hB(),Gr=!0,Ki.isActive=!0,Ki.items.push({name:"Lizard",desc:"A green lizard.",isTakeable:!0,onTake:()=>{println(["After a few attempts, and to your big surprise, you manage to catch the lizard.","The lizard looks equally surprised.","You put it in your bag."].join(`
`)),Gr=!1,pB(),Hi(),Qt.length>0&&Se()},onUse:()=>{switch(disk.roomId){case"blueroom":const t=getRoom("blueroom");console.log(t),println("You put the lizard in the wheel, and it starts running immediately."),t.enableWheelTurn();const e=disk.inventory.map(n=>n.name).indexOf("Lizard");disk.inventory.splice(e,1),t.items.push({name:"Lizard",desc:"The lizard from the Green Room is now powering your jumping fountain bass machine.",isTakeable:!1,onTake:()=>{println("The lizard snaps at you with its strange beak. It does not seem willing to stop running in this wheel.")}});break;default:println("You can’t use the lizard here.")}}}))}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","x"],id:"rainbowroom"}]},Oc="Blue",dB=["A","B","C","D","E","F","G"];let Yi="";const fB=['slow(2).sound("sine")',"vib(sine.segment(16).range(0.01,0.5).range(0.1,1))","fm(3).gain(0.2).room(0.5)"];let gB=1,Kt=[],Ur=!1;const AB=()=>Yi?`${Yi}.${fB.join(".")}`:"",sA=()=>{Yi=Kt.length>0?`note("${Kt.map(t=>`${t}${gB}`).join(" ")}")`:""},CB=()=>{if(Kt.length===0)println("No valves are open.");else if(Kt.length===1)println(`Valve ${Kt[0]} is open.`),Ur?println(`A single stream of water shoots out of the nozzle labeled ${Kt[0]} and flies across the room. When it lands, a single bass note is played.`):println([`A single stream of water shoots out of the nozzle labeled ${Kt[0]} and lands with a splash on the floor halfway across the room.`,"Perhaps the water pressure is not enough?"].join(`
`));else{let t="";for(let e=0;e<Kt.length-1;e++)t+=`${Kt[e]}, `;println(`Valves ${t.slice(0,-2)} and ${Kt[Kt.length-1]} are open.`),Ur?println("Streams of water shoot out of the nozzles and fly across the room. As each land, a single bass note is played."):println(["Streams of water shoot out of the nozzles and land with a splash on the floor halfway across the room.","Perhaps the water pressure is not enough?"].join(`
`))}},jc=()=>{console.log("Enabling wheel turn"),Ur=!0,vs.isActive=!0,sA(),Se()},yB=()=>{console.log("Disabling wheel turn"),println(["As the wheel slows, the water pressure goes down again.","The earth-shattering bass that moments ago filled the room dies down and dissipates as if absorbed by the cracks in the floor.","You would have to turn this wheel indefinately to get a bass line going.","Or get someone to do it for you."].join(`
`)),Ur=!1,Yi="note()",Se(),vs.isActive=!1},MB=dB.map(t=>({name:`Valve${t}`,desc:`A valve with the letter ${t}`,onUse:()=>{if(Kt.includes(t)?Kt.splice(Kt.indexOf(t),1):Kt.push(t),!disk.isPlaying){println("Nothing happens.");return}Ur&&(vs.isActive=!0,sA(),Se()),CB()}})),vs={id:"blueroom",img:"B L U E _ R O O M",name:`The ${Oc} Room`,desc:["The room is dark. The only light – blue, pulsating – emanates from the translucent pipes running up and down the walls.","The pipes seem to converge in a row of seven nozzles, pointed at a slightly upwards angle.","Above the nozzles are seven valves, labeled A to G."].join(`
`),isActive:!1,isMuted:!1,color:Oc,generateSoundString:AB,enableWheelTurn:jc,onEnter:()=>{jn("blueroom")},items:[...MB,{name:["wheel"],desc:"",onUse:()=>{Kt.length===0?println("The water presssure rises, but nothing happens"):Kt.length===1?println([`The water pressure rises. A single jet of water shoots out from the nozzle labeled ${Kt[0]}, fly across the room and lan in its corresponding receptacle.`,"As it lands, a profound bass note shakes the room."].join(`
`)):println(["The water pressure rises. Water shoots out from the nozzles with open valves, fly across the room and lan in their respective receptacle.","As each jet of water lands, a profound bass note shakes the room."].join(`
`)),jc(),setTimeout(yB,5e3)}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","x"],id:"rainbowroom"}]},Gc="Indigo",bB=()=>"",PB={id:"indigoroom",img:"I N D I G O _ R O O M",name:`The ${Gc} Room`,desc:"This is the indigo room",isActive:!1,isMuted:!1,color:Gc,generateSoundString:bB,onEnter:()=>{jn("indigoroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","x"],id:"rainbowroom"}]},zc="Violet";let Wc=!1;const DB=()=>"",Bu={id:"violetroom",img:"V I O L E T _ R O O M",name:`The ${zc} Room`,desc:["You’re standing in the violet room. It’s completely bare, except for what looks like a metallic **mannequin** slumped against the back wall.",...disk&&disk.visitedRooms.filter(t=>!1).length>1?["This room seems deeper, longer than the others you visited, but the ceiling is much lower.","The silence in here is imposing, it’s almost as if the room is holding its breath.","As you start moving through the room, you notice that you’re unconsciously tiptoeing.","You approach the mannequin with trepidation, slowly as to not disturb the oppressive tranquility."]:["You don’t know how the other rooms look, but you hope they’re nothing like this one.","The ceiling seems too low compared to the length of the room, and there’s something almost imposing about the silence in here – it’s as if the room is holding its breath.","You approach the mannequin with trepidation, tiptoeing slowly as to not disturb the oppressive tranquility."],"When you’re a few feet away from the mannequin, you feel something... a presence?","No, your mind is just playing tricks on you. But still... you want to get out of this room."].join(`
`),isActive:!1,isMuted:!1,color:zc,generateSoundString:DB,onEnter:()=>{jn("violetroom")},onLook:()=>{Bu.desc="",Wc?println([].join(`
`)):println([].join(`
`))},items:[{name:"Mannequin",desc:["You lean forward to examine the mannequin. As you reach out to touch it, it startles to life with an actuator scream.",""].join(`
`),onLook:()=>{const t=disk.inventory.map(e=>e.name).indexOf("Mannequin");Bu.items.splice(t,1),Wc=!0,Jo.roomId="violetroom"}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","x"],id:"rainbowroom"}]};commands=QF;Qg();const vB=()=>({roomId:"rainbowroom",cpm:60,isPlaying:!1,inventory:[],visitedRooms:[],rooms:[tA,rB,sB,ki,Ki,vs,PB,Bu],characters:[Jo]});loadDisk(vB);
