(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(u){if(u.ep)return;u.ep=!0;const a=i(u);fetch(u.href,a)}})();/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var g2=2e3,it={s:1,n:0,d:1};function dn(t,r){if(isNaN(t=parseInt(t,10)))throw Si();return t*r}function zt(t,r){if(r===0)throw Ro();var i=Object.create(St.prototype);i.s=t<0?-1:1,t=t<0?-t:t;var o=mr(t,r);return i.n=t/o,i.d=r/o,i}function Ca(t){for(var r={},i=t,o=2,u=4;u<=i;){for(;i%o===0;)i/=o,r[o]=(r[o]||0)+1;u+=1+2*o++}return i!==t?i>1&&(r[i]=(r[i]||0)+1):r[t]=(r[t]||0)+1,r}var Pe=function(t,r){var i=0,o=1,u=1,a=0,c=0,l=0,p=1,d=1,f=0,g=1,A=1,P=1,E=1e7,F;if(t!=null)if(r!==void 0){if(i=t,o=r,u=i*o,i%1!==0||o%1!==0)throw M2()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)i=t.n,o=t.d,"s"in t&&(i*=t.s);else if(0 in t)i=t[0],1 in t&&(o=t[1]);else throw Si();u=i*o;break}case"number":{if(t<0&&(u=t,t=-t),t%1===0)i=t;else if(t>0){for(t>=1&&(d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=d);g<=E&&P<=E;)if(F=(f+A)/(g+P),t===F){g+P<=E?(i=f+A,o=g+P):P>g?(i=A,o=P):(i=f,o=g);break}else t>F?(f+=A,g+=P):(A+=f,P+=g),g>E?(i=A,o=P):(i=f,o=g);i*=d}else(isNaN(t)||isNaN(r))&&(o=i=NaN);break}case"string":{if(g=t.match(/\d+|./g),g===null)throw Si();if(g[f]==="-"?(u=-1,f++):g[f]==="+"&&f++,g.length===f+1?c=dn(g[f++],u):g[f+1]==="."||g[f]==="."?(g[f]!=="."&&(a=dn(g[f++],u)),f++,(f+1===g.length||g[f+1]==="("&&g[f+3]===")"||g[f+1]==="'"&&g[f+3]==="'")&&(c=dn(g[f],u),p=Math.pow(10,g[f].length),f++),(g[f]==="("&&g[f+2]===")"||g[f]==="'"&&g[f+2]==="'")&&(l=dn(g[f+1],u),d=Math.pow(10,g[f+1].length)-1,f+=3)):g[f+1]==="/"||g[f+1]===":"?(c=dn(g[f],u),p=dn(g[f+2],1),f+=3):g[f+3]==="/"&&g[f+1]===" "&&(a=dn(g[f],u),c=dn(g[f+2],u),p=dn(g[f+4],1),f+=5),g.length<=f){o=p*d,u=i=l+o*a+d*c;break}}default:throw Si()}if(o===0)throw Ro();it.s=u<0?-1:1,it.n=Math.abs(i),it.d=Math.abs(o)};function A2(t,r,i){for(var o=1;r>0;t=t*t%i,r>>=1)r&1&&(o=o*t%i);return o}function C2(t,r){for(;r%2===0;r/=2);for(;r%5===0;r/=5);if(r===1)return 0;for(var i=10%r,o=1;i!==1;o++)if(i=i*10%r,o>g2)return 0;return o}function y2(t,r,i){for(var o=1,u=A2(10,i,r),a=0;a<300;a++){if(o===u)return a;o=o*10%r,u=u*10%r}return 0}function mr(t,r){if(!t)return r;if(!r)return t;for(;;){if(t%=r,!t)return r;if(r%=t,!r)return t}}function St(t,r){if(Pe(t,r),this instanceof St)t=mr(it.d,it.n),this.s=it.s,this.n=it.n/t,this.d=it.d/t;else return zt(it.s*it.n,it.d)}var Ro=function(){return new Error("Division by Zero")},Si=function(){return new Error("Invalid argument")},M2=function(){return new Error("Parameters must be integer")};St.prototype={s:1,n:0,d:1,abs:function(){return zt(this.n,this.d)},neg:function(){return zt(-this.s*this.n,this.d)},add:function(t,r){return Pe(t,r),zt(this.s*this.n*it.d+it.s*this.d*it.n,this.d*it.d)},sub:function(t,r){return Pe(t,r),zt(this.s*this.n*it.d-it.s*this.d*it.n,this.d*it.d)},mul:function(t,r){return Pe(t,r),zt(this.s*it.s*this.n*it.n,this.d*it.d)},div:function(t,r){return Pe(t,r),zt(this.s*it.s*this.n*it.d,this.d*it.n)},clone:function(){return zt(this.s*this.n,this.d)},mod:function(t,r){if(isNaN(this.n)||isNaN(this.d))return new St(NaN);if(t===void 0)return zt(this.s*this.n%this.d,1);if(Pe(t,r),it.n===0&&this.d===0)throw Ro();return zt(this.s*(it.d*this.n)%(it.n*this.d),it.d*this.d)},gcd:function(t,r){return Pe(t,r),zt(mr(it.n,this.n)*mr(it.d,this.d),it.d*this.d)},lcm:function(t,r){return Pe(t,r),it.n===0&&this.n===0?zt(0,1):zt(it.n*this.n,mr(it.n,this.n)*mr(it.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new St(NaN):zt(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new St(NaN):zt(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new St(NaN):zt(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,r){return Pe(t,r),zt(this.s*Math.round(this.n*it.d/(this.d*it.n))*it.n,it.d)},inverse:function(){return zt(this.s*this.d,this.n)},pow:function(t,r){if(Pe(t,r),it.d===1)return it.s<0?zt(Math.pow(this.s*this.d,it.n),Math.pow(this.n,it.n)):zt(Math.pow(this.s*this.n,it.n),Math.pow(this.d,it.n));if(this.s<0)return null;var i=Ca(this.n),o=Ca(this.d),u=1,a=1;for(var c in i)if(c!=="1"){if(c==="0"){u=0;break}if(i[c]*=it.n,i[c]%it.d===0)i[c]/=it.d;else return null;u*=Math.pow(c,i[c])}for(var c in o)if(c!=="1"){if(o[c]*=it.n,o[c]%it.d===0)o[c]/=it.d;else return null;a*=Math.pow(c,o[c])}return it.s<0?zt(a,u):zt(u,a)},equals:function(t,r){return Pe(t,r),this.s*this.n*it.d===it.s*it.n*this.d},compare:function(t,r){Pe(t,r);var i=this.s*this.n*it.d-it.s*it.n*this.d;return(0<i)-(i<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var r=this.abs(),i=r.toContinued(),o=1;o<i.length;o++){for(var u=zt(i[o-1],1),a=o-2;a>=0;a--)u=u.inverse().add(i[a]);if(Math.abs(u.sub(r).valueOf())<t)return u.mul(this.s)}return this},divisible:function(t,r){return Pe(t,r),!(!(it.n*this.d)||this.n*it.d%(it.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,i="",o=this.n,u=this.d;return this.s<0&&(i+="-"),u===1?i+=o:(t&&(r=Math.floor(o/u))>0&&(i+=r,i+=" ",o%=u),i+=o,i+="/",i+=u),i},toLatex:function(t){var r,i="",o=this.n,u=this.d;return this.s<0&&(i+="-"),u===1?i+=o:(t&&(r=Math.floor(o/u))>0&&(i+=r,o%=u),i+="\\frac{",i+=o,i+="}{",i+=u,i+="}"),i},toContinued:function(){var t,r=this.n,i=this.d,o=[];if(isNaN(r)||isNaN(i))return o;do o.push(Math.floor(r/i)),t=r%i,r=i,i=t;while(r!==1);return o},toString:function(t){var r=this.n,i=this.d;if(isNaN(r)||isNaN(i))return"NaN";t=t||15;var o=C2(r,i),u=y2(r,i,o),a=this.s<0?"-":"";if(a+=r/i|0,r%=i,r*=10,r&&(a+="."),o){for(var c=u;c--;)a+=r/i|0,r%=i,r*=10;a+="(";for(var c=o;c--;)a+=r/i|0,r%=i,r*=10;a+=")"}else for(var c=t;r&&c--;)a+=r/i|0,r%=i,r*=10;return a}};const Vo="strudel.log";let b2=1e3,ya,Ma;function Yt(t,r,i={}){let o=performance.now();ya===t&&o-Ma<b2||(ya=t,Ma=o,console.log(`%c${t}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(Vo,{detail:{message:t,type:r,data:i}})))}Yt.key=Vo;const P2=t=>/^[a-gA-G][#bs]*[0-9]$/.test(t),rr=t=>/^[a-gA-G][#bsf]*[0-9]?$/.test(t),Yc=t=>{if(typeof t!="string")return[];const[r,i="",o]=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return r?[r,i,o?Number(o):void 0]:[]},D2={c:0,d:2,e:4,f:5,g:7,a:9,b:11},v2={"#":1,b:-1,s:1,f:-1},Wn=(t,r=3)=>{const[i,o,u=r]=Yc(t);if(!i)throw new Error('not a note: "'+t+'"');const a=D2[i.toLowerCase()],c=o?.split("").reduce((l,p)=>l+v2[p],0)||0;return(Number(u)+1)*12+a+c},br=t=>Math.pow(2,(t-69)/12)*440,Lo=t=>12*Math.log(t/440)/Math.LN2+69,E2=(t,r)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:i,note:o}=t;if(typeof i=="number")return Lo(i);if(typeof o=="string")return Wn(o);if(typeof o=="number")return o;if(!r)throw new Error("valueToMidi: expected freq or note to be set");return r},F2=(t,r)=>(t-r)*1e3,$c=t=>br(typeof t=="number"?t:Wn(t)),w2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],B2=t=>{const r=Math.floor(t/12)-1;return w2[t%12]+r},Te=(t,r)=>(t%r+r)%r;function Uc(t,r=0){return isNaN(Number(t))?(Yt(`"${t}" is not a number, falling back to ${r}`,"warning"),r):t}const I2=(t,r)=>Te(Math.round(Uc(t??0,0)),r),x2=t=>{let{value:r,context:i}=t,o=r;if(typeof o=="object"&&!Array.isArray(o)&&(o=o.note||o.n||o.value,o===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(r)}`);if(typeof o=="number"&&i.type!=="frequency")o=br(t.value);else if(typeof o=="number"&&i.type==="frequency")o=t.value;else if(typeof o!="string"||!rr(o))throw new Error("not a note: "+JSON.stringify(o));return o},Jc=t=>{let{value:r,context:i}=t;if(typeof r=="object")return r.freq?r.freq:$c(r.note||r.n||r.value);if(typeof r=="number"&&i.type!=="frequency")r=br(t.value);else if(typeof r=="string"&&rr(r))r=br(Wn(t.value));else if(typeof r!="number")throw new Error("not a note or frequency: "+r);return r},Qc=(t,r)=>t.slice(r).concat(t.slice(0,r)),tl=(...t)=>t.reduce((r,i)=>(...o)=>r(i(...o)),r=>r),S2=(...t)=>tl(...t.reverse()),wr=t=>t.filter(r=>r!=null),Cn=t=>[].concat(...t),dr=t=>t,k2=(t,r)=>t,jo=(t,r)=>Array.from({length:r-t+1},(i,o)=>o+t);function Ft(t,r,i=t.length){const o=function u(...a){if(a.length>=i)return t.apply(this,a);{const c=function(...l){return u.apply(this,a.concat(l))};return r&&r(c,a),c}};return r&&r(o,[]),o}function Oo(t){const r=Number(t);if(!isNaN(r))return r;if(rr(t))return Wn(t);throw new Error(`cannot parse as numeral: "${t}"`)}function Go(t,r){return(...i)=>t(...i.map(r))}function Se(t){return Go(t,Oo)}function el(t){const r=Number(t);if(!isNaN(r))return r;const i={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[t];if(typeof i<"u")return i;throw new Error(`cannot parse as fractional: "${t}"`)}const _2=t=>Go(t,el),zo=function(t,r){return[r.slice(0,t),r.slice(t)]},Wo=(t,r,i)=>r.map((o,u)=>t(o,i[u])),nl=function(t){const r=[];for(let i=0;i<t.length-1;++i)r.push([t[i],t[i+1]]);return r},qo=(t,r,i)=>Math.min(Math.max(t,r),i),N2=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],T2=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],R2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],V2=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],L2=["I","Ro","Ha","Ni","Ho","He","To"],j2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],O2=(t,r="letters")=>{const i=(r==="solfeggio"?N2:r==="indian"?T2:r==="german"?R2:r==="byzantine"?V2:r==="japanese"?L2:j2)[t%12],o=Math.floor(t/12)-1;return i+o};function G2(t){var r={};return t.filter(function(i){return r.hasOwn(i)?!1:r[i]=!0})}function z2(t){return t.sort().filter(function(r,i,o){return!i||r!=o[i-1]})}function rl(t){return t.sort((r,i)=>r.compare(i)).filter(function(r,i,o){return!i||r.ne(o[i-1])})}function il(t){const r=new TextEncoder().encode(t);return btoa(String.fromCharCode(...r))}function sl(t){const r=new Uint8Array(atob(t).split("").map(i=>i.charCodeAt(0)));return new TextDecoder().decode(r)}function W2(t){return encodeURIComponent(il(t))}function q2(t){return sl(decodeURIComponent(t))}function ol(t,r){return Array.isArray(t)?t.map(r):Object.fromEntries(Object.entries(t).map(([i,o],u)=>[i,r(o,i,u)]))}St.prototype.sam=function(){return this.floor()};St.prototype.nextSam=function(){return this.sam().add(1)};St.prototype.wholeCycle=function(){return new Ze(this.sam(),this.nextSam())};St.prototype.cyclePos=function(){return this.sub(this.sam())};St.prototype.lt=function(t){return this.compare(t)<0};St.prototype.gt=function(t){return this.compare(t)>0};St.prototype.lte=function(t){return this.compare(t)<=0};St.prototype.gte=function(t){return this.compare(t)>=0};St.prototype.eq=function(t){return this.compare(t)==0};St.prototype.ne=function(t){return this.compare(t)!=0};St.prototype.max=function(t){return this.gt(t)?this:t};St.prototype.maximum=function(...t){return t=t.map(r=>new St(r)),t.reduce((r,i)=>i.max(r),this)};St.prototype.min=function(t){return this.lt(t)?this:t};St.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};St.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};St.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};St.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};St.prototype.show=function(){return this.s*this.n+"/"+this.d};St.prototype.or=function(t){return this.eq(0)?t:this};const tt=t=>St(t),X2=(...t)=>{if(t=wr(t),t.length!==0)return t.reduce((r,i)=>r.gcd(i),tt(1))},ii=(...t)=>{if(t=wr(t),t.length!==0)return t.reduce((r,i)=>r===void 0||i===void 0?void 0:r.lcm(i),tt(1))};tt._original=St;let Ze=class An{constructor(r,i){this.begin=tt(r),this.end=tt(i)}get spanCycles(){const r=[];var i=this.begin;const o=this.end,u=o.sam();if(i.equals(o))return[new An(i,o)];for(;o.gt(i);){if(i.sam().equals(u)){r.push(new An(i,this.end));break}const a=i.nextSam();r.push(new An(i,a)),i=a}return r}get duration(){return this.end.sub(this.begin)}cycleArc(){const r=this.begin.cyclePos(),i=r.add(this.duration);return new An(r,i)}withTime(r){return new An(r(this.begin),r(this.end))}withEnd(r){return new An(this.begin,r(this.end))}withCycle(r){const i=this.begin.sam(),o=i.add(r(this.begin.sub(i))),u=i.add(r(this.end.sub(i)));return new An(o,u)}intersection(r){const i=this.begin.max(r.begin),o=this.end.min(r.end);if(!i.gt(o)&&!(i.equals(o)&&(i.equals(this.end)&&this.begin.lt(this.end)||i.equals(r.end)&&r.begin.lt(r.end))))return new An(i,o)}intersection_e(r){const i=this.intersection(r);if(i==null)throw"TimeSpans do not intersect";return i}midpoint(){return this.begin.add(this.duration.div(tt(2)))}equals(r){return this.begin.equals(r.begin)&&this.end.equals(r.end)}show(){return this.begin.show()+" → "+this.end.show()}},ue=class Xr{constructor(r,i,o,u={},a=!1){this.whole=r,this.part=i,this.value=o,this.context=u,this.stateful=a,a&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){let r;return typeof this.value?.duration=="number"?r=tt(this.value.duration):r=this.whole.end.sub(this.whole.begin),typeof this.value?.clip=="number"?r.mul(this.value.clip):r}get endClipped(){return this.whole.begin.add(this.duration)}isActive(r){return this.whole.begin<=r&&this.endClipped>=r}isInPast(r){return r>this.endClipped}isInNearPast(r,i){return i-r<=this.endClipped}isInFuture(r){return r<this.whole.begin}isInNearFuture(r,i){return i<this.whole.begin&&i>this.whole.begin-r}isWithinTime(r,i){return this.whole.begin<=i&&this.endClipped>=r}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(r){const i=this.whole?r(this.whole):void 0;return new Xr(i,r(this.part),this.value,this.context)}withValue(r){return new Xr(this.whole,this.part,r(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(r){return this.context.tags?.includes(r)}resolveState(r){if(this.stateful&&this.hasOnset()){console.log("stateful");const i=this.value,[o,u]=i(r);return[o,new Xr(this.whole,this.part,u,this.context,!1)]}return[r,this]}spanEquals(r){return this.whole==null&&r.whole==null||this.whole.equals(r.whole)}equals(r){return this.spanEquals(r)&&this.part.equals(r.part)&&this.value===r.value}show(r=!1){const i=typeof this.value=="object"?r?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var o="";if(this.whole==null)o="~"+this.part.show;else{var u=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(o=this.whole.begin.show()+" ⇜ "),u||(o+="("),o+=this.part.show(),u||(o+=")"),this.whole.end.equals(this.part.end)||(o+=" ⇝ "+this.whole.end.show())}return"[ "+o+" | "+i+" ]"}showWhole(r=!1){return`${this.whole==null?"~":this.whole.show()}: ${typeof this.value=="object"?r?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value}`}combineContext(r){const i=this;return{...i.context,...r.context,locations:(i.context.locations||[]).concat(r.context.locations||[])}}setContext(r){return new Xr(this.whole,this.part,this.value,r)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}},so=class oo{constructor(r,i={}){this.span=r,this.controls=i}setSpan(r){return new oo(r,this.controls)}withSpan(r){return this.setSpan(r(this.span))}setControls(r){return new oo(this.span,r)}};function Z2(t,r,i){if(r?.value!==void 0&&Object.keys(r).length===1)return Yt("[warn]: Can't do arithmetic on control pattern."),t;const o=Object.keys(t).filter(u=>Object.keys(r).includes(u));return Object.assign({},t,r,Object.fromEntries(o.map(u=>[u,i(t[u],r[u])])))}Ft((t,r)=>t*r);Ft((t,r)=>r.map(t));function ul(t,r=60){let i=0,o=tt(0),u=[""],a="";for(;u[0].length<r;){const c=t.queryArc(i,i+1),l=c.filter(f=>f.hasOnset()).map(f=>f.duration),p=X2(...l),d=p.inverse();u=u.map(f=>f+"|"),a+="|";for(let f=0;f<d;f++){const[g,A]=[o,o.add(p)],P=c.filter(F=>F.whole.begin.lte(g)&&F.whole.end.gte(A)),E=P.length-u.length;E>0&&(u=u.concat(Array(E).fill(a))),u=u.map((F,S)=>{const N=P[S];if(N){const L=N.whole.begin.eq(g)?""+N.value:"-";return F+L}return F+"."}),a+=".",o=o.add(p)}i++}return u.join(`
`)}let uo,Ye=!0;const H2=function(t){Ye=!!t},al=t=>uo=t;let ut=class re{constructor(r,i=void 0){this.query=r,this._Pattern=!0,this.tactus=i}get tactus(){return this.__tactus}set tactus(r){this.__tactus=r===void 0?void 0:tt(r)}setTactus(r){return this.tactus=r,this}withTactus(r){return Ye?new re(this.query,this.tactus===void 0?void 0:r(this.tactus)):this}get hasTactus(){return this.tactus!==void 0}withValue(r){const i=new re(o=>this.query(o).map(u=>u.withValue(r)));return i.tactus=this.tactus,i}fmap(r){return this.withValue(r)}appWhole(r,i){const o=this,u=function(a){const c=o.query(a),l=i.query(a),p=function(d,f){const g=d.part.intersection(f.part);if(g!=null)return new ue(r(d.whole,f.whole),g,d.value(f.value),f.combineContext(d))};return Cn(c.map(d=>wr(l.map(f=>p(d,f)))))};return new re(u)}appBoth(r){const i=this,o=function(a,c){if(!(a==null||c==null))return a.intersection_e(c)},u=i.appWhole(o,r);return Ye&&(u.tactus=ii(r.tactus,i.tactus)),u}appLeft(r){const i=this,o=function(a){const c=[];for(const l of i.query(a)){const p=r.query(a.setSpan(l.wholeOrPart()));for(const d of p){const f=l.whole,g=l.part.intersection(d.part);if(g){const A=l.value(d.value),P=d.combineContext(l),E=new ue(f,g,A,P);c.push(E)}}}return c},u=new re(o);return u.tactus=this.tactus,u}appRight(r){const i=this,o=function(a){const c=[];for(const l of r.query(a)){const p=i.query(a.setSpan(l.wholeOrPart()));for(const d of p){const f=l.whole,g=d.part.intersection(l.part);if(g){const A=d.value(l.value),P=l.combineContext(d),E=new ue(f,g,A,P);c.push(E)}}}return c},u=new re(o);return u.tactus=r.tactus,u}bindWhole(r,i){const o=this,u=function(a){const c=function(p,d){return new ue(r(p.whole,d.whole),d.part,d.value,Object.assign({},p.context,d.context,{locations:(p.context.locations||[]).concat(d.context.locations||[])}))},l=function(p){return i(p.value).query(a.setSpan(p.part)).map(d=>c(p,d))};return Cn(o.query(a).map(p=>l(p)))};return new re(u)}bind(r){const i=function(o,u){if(!(o==null||u==null))return o.intersection_e(u)};return this.bindWhole(i,r)}join(){return this.bind(dr)}outerBind(r){return this.bindWhole(i=>i,r).setTactus(this.tactus)}outerJoin(){return this.outerBind(dr)}innerBind(r){return this.bindWhole((i,o)=>o,r)}innerJoin(){return this.innerBind(dr)}resetJoin(r=!1){const i=this;return new re(o=>i.discreteOnly().query(o).map(u=>u.value.late(r?u.whole.begin:u.whole.begin.cyclePos()).query(o).map(a=>new ue(a.whole?a.whole.intersection(u.whole):void 0,a.part.intersection(u.part),a.value).setContext(u.combineContext(a))).filter(a=>a.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const r=this;function i(o){const u=r.discreteOnly().query(o);function a(c){const l=c.value._focusSpan(c.wholeOrPart()).query(o.setSpan(c.part));function p(d,f){let g;if(f.whole&&d.whole&&(g=f.whole.intersection(d.whole),!g))return;const A=f.part.intersection(d.part);if(!A)return;const P=f.combineContext(d);return new ue(g,A,f.value,P)}return l.map(d=>p(c,d))}return Cn(u.map(a)).filter(c=>c)}return new re(i)}squeezeBind(r){return this.fmap(r).squeezeJoin()}queryArc(r,i,o={}){try{return this.query(new so(new Ze(r,i),o))}catch(u){return Yt(`[query]: ${u.message}`,"error"),[]}}splitQueries(){const r=this,i=o=>Cn(o.span.spanCycles.map(u=>r.query(o.setSpan(u))));return new re(i)}withQuerySpan(r){return new re(i=>this.query(i.withSpan(r)))}withQuerySpanMaybe(r){const i=this;return new re(o=>{const u=o.withSpan(r);return u.span?i.query(u):[]})}withQueryTime(r){return new re(i=>this.query(i.withSpan(o=>o.withTime(r))))}withHapSpan(r){return new re(i=>this.query(i).map(o=>o.withSpan(r)))}withHapTime(r){return this.withHapSpan(i=>i.withTime(r))}withHaps(r){const i=new re(o=>r(this.query(o),o));return i.tactus=this.tactus,i}withHap(r){return this.withHaps(i=>i.map(r))}setContext(r){return this.withHap(i=>i.setContext(r))}withContext(r){const i=this.withHap(o=>o.setContext(r(o.context)));return this.__pure!==void 0&&(i.__pure=this.__pure,i.__pure_loc=this.__pure_loc),i}stripContext(){return this.withHap(r=>r.setContext({}))}withLoc(r,i){const o={start:r,end:i},u=this.withContext(a=>{const c=(a.locations||[]).concat([o]);return{...a,locations:c}});return this.__pure&&(u.__pure=this.__pure,u.__pure_loc=o),u}filterHaps(r){return new re(i=>this.query(i).filter(r))}filterValues(r){return new re(i=>this.query(i).filter(o=>r(o.value))).setTactus(this.tactus)}removeUndefineds(){return this.filterValues(r=>r!=null)}onsetsOnly(){return this.filterHaps(r=>r.hasOnset())}discreteOnly(){return this.filterHaps(r=>r.whole)}defragmentHaps(){return this.discreteOnly().withHaps(r=>{const i=[];for(var o=0;o<r.length;++o){for(var u=!0,a=r[o];u;){const p=JSON.stringify(r[o].value);for(var c=!1,l=o+1;l<r.length;l++){const d=r[l];if(a.whole.equals(d.whole)){if(a.part.begin.eq(d.part.end)){if(p===JSON.stringify(d.value)){a=new ue(a.whole,new Ze(d.part.begin,a.part.end),a.value),r.splice(l,1),c=!0;break}}else if(d.part.begin.eq(a.part.end)&&p==JSON.stringify(d.value)){a=new ue(a.whole,new Ze(a.part.begin,d.part.end),a.value),r.splice(l,1),c=!0;break}}}u=c}i.push(a)}return i})}firstCycle(r=!1){var i=this;return r||(i=i.stripContext()),i.query(new so(new Ze(tt(0),tt(1))))}get firstCycleValues(){return this.firstCycle().map(r=>r.value)}get showFirstCycle(){return this.firstCycle().map(r=>`${r.value}: ${r.whole.begin.toFraction()} - ${r.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(r=>r.sort((i,o)=>i.part.begin.sub(o.part.begin).or(i.part.end.sub(o.part.end)).or(i.whole.begin.sub(o.whole.begin).or(i.whole.end.sub(o.whole.end)))))}asNumber(){return this.fmap(Oo)}_opIn(r,i){return this.fmap(i).appLeft(nt(r))}_opOut(r,i){return this.fmap(i).appRight(nt(r))}_opMix(r,i){return this.fmap(i).appBoth(nt(r))}_opSqueeze(r,i){const o=nt(r);return this.fmap(u=>o.fmap(a=>i(u)(a))).squeezeJoin()}_opSqueezeOut(r,i){const o=this;return nt(r).fmap(u=>o.fmap(a=>i(a)(u))).squeezeJoin()}_opReset(r,i){return nt(r).fmap(o=>this.fmap(u=>i(u)(o))).resetJoin()}_opRestart(r,i){return nt(r).fmap(o=>this.fmap(u=>i(u)(o))).restartJoin()}layer(...r){return qt(...r.map(i=>i(this)))}superimpose(...r){return this.stack(...r.map(i=>i(this)))}stack(...r){return qt(this,...r)}sequence(...r){return Re(this,...r)}seq(...r){return Re(this,...r)}cat(...r){return pl(this,...r)}fastcat(...r){return Le(this,...r)}slowcat(...r){return ir(this,...r)}onTrigger(r,i=!0){return this.withHap(o=>o.setContext({...o.context,onTrigger:(...u)=>{o.context.onTrigger?.(...u),r(...u)},dominantTrigger:o.context.dominantTrigger||i}))}log(r=(o,u)=>`[hap] ${u.showWhole(!0)}`,i=(o,u)=>({hap:u})){return this.onTrigger((...o)=>{Yt(r(...o),void 0,i(...o))},!1)}logValues(r=dr){return this.log((i,o)=>r(o.value))}drawLine(){return console.log(ul(this)),this}};function K2(t,r){let i=[];return r.forEach(o=>{const u=i.findIndex(([a])=>t(o,a));u===-1?i.push([o]):i[u].push(o)}),i}const Y2=(t,r)=>t.spanEquals(r);ut.prototype.collect=function(){return this.withHaps(t=>K2(Y2,t).map(r=>new ue(r[0].whole,r[0].part,r,{})))};ut.prototype.arpWith=function(t){return this.collect().fmap(r=>nt(t(r))).innerJoin().withHap(r=>new ue(r.whole,r.part,r.value.value,r.combineContext(r.value)))};ut.prototype.arp=function(t){return this.arpWith(r=>t.fmap(i=>r[i%r.length]))};function vi(t){return!Array.isArray(t)&&typeof t=="object"}function $2(t,r,i){return vi(t)||vi(r)?(vi(t)||(t={value:t}),vi(r)||(r={value:r}),Z2(t,r,i)):i(t,r)}(function(){const t={set:[(i,o)=>o],keep:[i=>i],keepif:[(i,o)=>o?i:void 0],add:[Se((i,o)=>i+o)],sub:[Se((i,o)=>i-o)],mul:[Se((i,o)=>i*o)],div:[Se((i,o)=>i/o)],mod:[Se(Te)],pow:[Se(Math.pow)],band:[Se((i,o)=>i&o)],bor:[Se((i,o)=>i|o)],bxor:[Se((i,o)=>i^o)],blshift:[Se((i,o)=>i<<o)],brshift:[Se((i,o)=>i>>o)],lt:[(i,o)=>i<o],gt:[(i,o)=>i>o],lte:[(i,o)=>i<=o],gte:[(i,o)=>i>=o],eq:[(i,o)=>i==o],eqt:[(i,o)=>i===o],ne:[(i,o)=>i!=o],net:[(i,o)=>i!==o],and:[(i,o)=>i&&o],or:[(i,o)=>i||o],func:[(i,o)=>o(i)]},r=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart"];for(const[i,[o,u]]of Object.entries(t)){ut.prototype["_"+i]=function(a){return this.fmap(c=>o(c,a))},Object.defineProperty(ut.prototype,i,{get:function(){const a=this,c=(...l)=>a[i].in(...l);for(const l of r)c[l.toLowerCase()]=function(...p){var d=a;p=Re(p),u&&(d=u(d),p=u(p));var f;return i==="keepif"?(f=d["_op"+l](p,g=>A=>o(g,A)),f=f.removeUndefineds()):f=d["_op"+l](p,g=>A=>$2(g,A,o)),f};return c.squeezein=c.squeeze,c}});for(const a of r)ut.prototype[a.toLowerCase()]=function(...c){return this.set[a.toLowerCase()](c)}}ut.prototype.struct=function(...i){return this.keepif.out(...i)},ut.prototype.structAll=function(...i){return this.keep.out(...i)},ut.prototype.mask=function(...i){return this.keepif.in(...i)},ut.prototype.maskAll=function(...i){return this.keep.in(...i)},ut.prototype.reset=function(...i){return this.keepif.reset(...i)},ut.prototype.resetAll=function(...i){return this.keep.reset(...i)},ut.prototype.restart=function(...i){return this.keepif.restart(...i)},ut.prototype.restartAll=function(...i){return this.keep.restart(...i)}})();const U2=qt,J2=qt,Q2=Uo,Br=t=>new ut(()=>[],t),kt=Br(1),en=Br(0);function le(t){function r(o){return o.span.spanCycles.map(u=>new ue(tt(u.begin).wholeCycle(),u,t))}const i=new ut(r,1);return i.__pure=t,i}function Xo(t){return t instanceof ut||t?._Pattern}function nt(t){return Xo(t)?t:uo&&typeof t=="string"?uo(t):le(t)}function qt(...t){t=t.map(o=>Array.isArray(o)?Re(...o):nt(o));const r=o=>Cn(t.map(u=>u.query(o))),i=new ut(r);return Ye&&(i.tactus=ii(...t.map(o=>o.tactus))),i}function Zo(t,r){if(r=r.map(a=>Array.isArray(a)?Re(...a):nt(a)),r.length===0)return kt;if(r.length===1)return r[0];const[i,...o]=r.map(a=>a.tactus),u=Ye?i.maximum(...o):void 0;return qt(...t(u,r))}function cl(...t){return Zo((r,i)=>i.map(o=>o.tactus.eq(r)?o:Ve(o,Br(r.sub(o.tactus)))),t)}function ll(...t){return Zo((r,i)=>i.map(o=>o.tactus.eq(r)?o:Ve(Br(r.sub(o.tactus)),o)),t)}function hl(...t){return Zo((r,i)=>i.map(o=>{if(o.tactus.eq(r))return o;const u=Br(r.sub(o.tactus).div(2));return Ve(u,o,u)}),t)}function ty(t,...r){const[i,...o]=r.map(c=>c.tactus),u=i.maximum(...o),a={centre:hl,left:cl,right:ll,expand:qt,repeat:(...c)=>Cl(u,...c)};return t.inhabit(a).fmap(c=>c(...r)).innerJoin().setTactus(u)}function ir(...t){if(t=t.map(o=>Array.isArray(o)?Le(...o):nt(o)),t.length==1)return t[0];const r=function(o){const u=o.span,a=Te(u.begin.sam(),t.length),c=t[a];if(!c)return[];const l=u.begin.floor().sub(u.begin.div(t.length).floor());return c.withHapTime(p=>p.add(l)).query(o.setSpan(u.withTime(p=>p.sub(l))))},i=Ye?ii(...t.map(o=>o.tactus)):void 0;return new ut(r).splitQueries().setTactus(i)}function Ho(...t){t=t.map(nt);const r=function(i){const o=Math.floor(i.span.begin)%t.length;return t[o]?.query(i)||[]};return new ut(r).splitQueries()}function pl(...t){return ir(...t)}function ey(...t){const r=t.reduce((i,[o])=>i+o,0);return t=t.map(([i,o])=>[i,o.fast(i)]),Ve(...t).slow(r)}function Le(...t){let r=ir(...t);return t.length>1&&(r=r._fast(t.length),r.tactus=t.length),r}function Re(...t){return Le(...t)}function ml(...t){return Le(...t)}function ao(t){return Array.isArray(t)?t.length==0?[kt,0]:t.length==1?ao(t[0]):[Le(...t.map(r=>ao(r)[0])),t.length]:[nt(t),1]}const ny=Ft((t,r)=>nt(r).mask(t)),ry=Ft((t,r)=>nt(r).struct(t)),iy=Ft((t,r)=>nt(r).superimpose(...t)),sy=Ft((t,r)=>nt(r).set(t)),oy=Ft((t,r)=>nt(r).keep(t)),uy=Ft((t,r)=>nt(r).keepif(t)),ay=Ft((t,r)=>nt(r).add(t)),cy=Ft((t,r)=>nt(r).sub(t)),ly=Ft((t,r)=>nt(r).mul(t)),hy=Ft((t,r)=>nt(r).div(t)),py=Ft((t,r)=>nt(r).mod(t)),my=Ft((t,r)=>nt(r).pow(t)),dy=Ft((t,r)=>nt(r).band(t)),fy=Ft((t,r)=>nt(r).bor(t)),gy=Ft((t,r)=>nt(r).bxor(t)),Ay=Ft((t,r)=>nt(r).blshift(t)),Cy=Ft((t,r)=>nt(r).brshift(t)),yy=Ft((t,r)=>nt(r).lt(t)),My=Ft((t,r)=>nt(r).gt(t)),by=Ft((t,r)=>nt(r).lte(t)),Py=Ft((t,r)=>nt(r).gte(t)),Dy=Ft((t,r)=>nt(r).eq(t)),vy=Ft((t,r)=>nt(r).eqt(t)),Ey=Ft((t,r)=>nt(r).ne(t)),Fy=Ft((t,r)=>nt(r).net(t)),wy=Ft((t,r)=>nt(r).and(t)),By=Ft((t,r)=>nt(r).or(t)),Iy=Ft((t,r)=>nt(r).func(t));function z(t,r,i=!0,o=!1,u=a=>a.innerJoin()){if(Array.isArray(t)){const l={};for(const p of t)l[p]=z(p,r,i);return l}const a=r.length;var c;return i?c=function(...l){l=l.map(nt);const p=l[l.length-1];let d;if(a===1)d=r(p);else{const f=l.slice(0,-1);if(f.every(g=>g.__pure!=null)){const g=f.map(P=>P.__pure),A=f.filter(P=>P.__pure_loc).map(P=>P.__pure_loc);d=r(...g,p),d=d.withContext(P=>{const E=(P.locations||[]).concat(A);return{...P,locations:E}})}else{const[g,...A]=f;let P=(...E)=>r(...E,p);P=Ft(P,null,a-1),d=u(A.reduce((E,F)=>E.appLeft(F),g.fmap(P)))}}return o&&(d.tactus=p.tactus),d}:c=function(...l){l=l.map(nt);const p=r(...l);return o&&(p.tactus=l[l.length-1].tactus),p},ut.prototype[t]=function(...l){if(a===2&&l.length!==1)l=[Re(...l)];else if(a!==l.length+1)throw new Error(`.${t}() expects ${a-1} inputs but got ${l.length}.`);return l=l.map(nt),c(...l,this)},a>1&&(ut.prototype["_"+t]=function(...l){return r(...l,this)}),Ft(c,null,a)}function ns(t,r,i=!0,o=!1,u=a=>a.stepJoin()){return z(t,r,i,o,u)}const xy=z("round",function(t){return t.asNumber().fmap(r=>Math.round(r))}),Sy=z("floor",function(t){return t.asNumber().fmap(r=>Math.floor(r))}),ky=z("ceil",function(t){return t.asNumber().fmap(r=>Math.ceil(r))}),_y=z("toBipolar",function(t){return t.fmap(r=>r*2-1)}),Ny=z("fromBipolar",function(t){return t.fmap(r=>(r+1)/2)}),Ty=z("range",function(t,r,i){return i.mul(r-t).add(t)}),Ry=z("rangex",function(t,r,i){return i._range(Math.log(t),Math.log(r)).fmap(Math.exp)}),Vy=z("range2",function(t,r,i){return i.fromBipolar()._range(t,r)}),Ly=z("ratio",t=>t.fmap(r=>Array.isArray(r)?r.slice(1).reduce((i,o)=>i/o,r[0]):r)),jy=z("compress",function(t,r,i){return t=tt(t),r=tt(r),t.gt(r)||t.gt(1)||r.gt(1)||t.lt(0)||r.lt(0)?kt:i._fastGap(tt(1).div(r.sub(t)))._late(t)}),{compressSpan:Oy,compressspan:Gy}=z(["compressSpan","compressspan"],function(t,r){return r._compress(t.begin,t.end)}),{fastGap:zy,fastgap:Wy}=z(["fastGap","fastgap"],function(t,r){const i=function(u){const a=u.begin.sam(),c=u.begin.sub(a).mul(t).min(1),l=u.end.sub(a).mul(t).min(1);if(!(c>=1))return new Ze(a.add(c),a.add(l))},o=function(u){const a=u.part.begin,c=u.part.end,l=a.sam(),p=a.sub(l).div(t).min(1),d=c.sub(l).div(t).min(1),f=new Ze(l.add(p),l.add(d)),g=u.whole?new Ze(f.begin.sub(a.sub(u.whole.begin).div(t)),f.end.add(u.whole.end.sub(c).div(t))):void 0;return new ue(g,f,u.value,u.context)};return r.withQuerySpanMaybe(i).withHap(o).splitQueries()}),qy=z("focus",function(t,r,i){return t=tt(t),r=tt(r),i._fast(tt(1).div(r.sub(t))).late(t.cyclePos())}),{focusSpan:Xy,focusspan:Zy}=z(["focusSpan","focusspan"],function(t,r){return r._focus(t.begin,t.end)}),Hy=z("ply",function(t,r){const i=r.fmap(o=>le(o)._fast(t)).squeezeJoin();return Ye&&(i.tactus=tt(t).mulmaybe(r.tactus)),i}),{fast:Ky,density:Ow}=z(["fast","density"],function(t,r){return t===0?kt:(t=tt(t),r.withQueryTime(i=>i.mul(t)).withHapTime(i=>i.div(t)).setTactus(r.tactus))},!0,!0),Yy=z("hurry",function(t,r){return r._fast(t).mul(le({speed:t}))}),{slow:$y,sparsity:Uy}=z(["slow","sparsity"],function(t,r){return t===0?kt:r._fast(tt(1).div(t))}),Jy=z("inside",function(t,r,i){return r(i._slow(t))._fast(t)}),Qy=z("outside",function(t,r,i){return r(i._fast(t))._slow(t)}),t3=z("lastOf",function(t,r,i){const o=Array(t-1).fill(i);return o.push(r(i)),Ho(...o)}),{firstOf:e3,every:n3}=z(["firstOf","every"],function(t,r,i){const o=Array(t-1).fill(i);return o.unshift(r(i)),Ho(...o)}),r3=z("apply",function(t,r){return t(r)}),i3=z("cpm",function(t,r){return r._fast(t/60/1)}),s3=z("early",function(t,r){return t=tt(t),r.withQueryTime(i=>i.add(t)).withHapTime(i=>i.sub(t))},!0,!0),dl=z("late",function(t,r){return t=tt(t),r._early(tt(0).sub(t))},!0,!0),o3=z("zoom",function(t,r,i){if(r=tt(r),t=tt(t),t.gte(r))return en;const o=r.sub(t),u=Ye?i.tactus.mulmaybe(o):void 0;return i.withQuerySpan(a=>a.withCycle(c=>c.mul(o).add(t))).withHapSpan(a=>a.withCycle(c=>c.sub(t).div(o))).splitQueries().setTactus(u)}),{zoomArc:u3,zoomarc:a3}=z(["zoomArc","zoomarc"],function(t,r){return r.zoom(t.begin,t.end)}),c3=z("linger",function(t,r){return t==0?kt:t<0?r._zoom(t.add(1),1)._slow(t):r._zoom(0,t)._slow(t)},!0,!0),l3=z("segment",function(t,r){return r.struct(le(!0)._fast(t)).setTactus(t)}),h3=z("swingBy",(t,r,i)=>i.inside(r,dl(ml(0,t/2)))),p3=z("swing",(t,r)=>r.swingBy(1/3,t)),{invert:m3,inv:d3}=z(["invert","inv"],function(t){return t.fmap(r=>!r)},!0,!0),f3=z("when",function(t,r,i){return t?r(i):i}),g3=z("off",function(t,r,i){return qt(i,r(i.late(t)))}),A3=z("brak",function(t){return t.when(ir(!1,!0),r=>Le(r,kt)._late(.25))}),fl=z("rev",function(t){const r=function(i){const o=i.span,u=o.begin.sam(),a=o.begin.nextSam(),c=function(l){const p=l.withTime(f=>u.add(a.sub(f))),d=p.begin;return p.begin=p.end,p.end=d,p};return t.query(i.setSpan(c(o))).map(l=>l.withSpan(c))};return new ut(r).splitQueries()},!1,!0),C3=z("pressBy",function(t,r){return r.fmap(i=>le(i).compress(t,1)).squeezeJoin()}),y3=z("press",function(t){return t._pressBy(.5)});ut.prototype.hush=function(){return kt};const M3=z("palindrome",function(t){return t.lastOf(2,fl)},!0,!0),{juxBy:b3,juxby:P3}=z(["juxBy","juxby"],function(t,r,i){t/=2;const o=function(c,l,p){return l in c?c[l]:p},u=i.withValue(c=>Object.assign({},c,{pan:o(c,"pan",.5)-t})),a=r(i.withValue(c=>Object.assign({},c,{pan:o(c,"pan",.5)+t})));return qt(u,a).setTactus(Ye?ii(u.tactus,a.tactus):void 0)}),D3=z("jux",function(t,r){return r._juxBy(1,t,r)}),{echoWith:v3,echowith:E3,stutWith:F3,stutwith:w3}=z(["echoWith","echowith","stutWith","stutwith"],function(t,r,i,o){return qt(...jo(0,t-1).map(u=>i(o.late(tt(r).mul(u)),u)))}),B3=z("echo",function(t,r,i,o){return o._echoWith(t,r,(u,a)=>u.gain(Math.pow(i,a)))}),I3=z("stut",function(t,r,i,o){return o._echoWith(t,i,(u,a)=>u.gain(Math.pow(r,a)))}),Ko=function(t,r,i=!1){return t=tt(t),ir(...jo(0,t.sub(1)).map(o=>i?r.late(tt(o).div(t)):r.early(tt(o).div(t))))},x3=z("iter",function(t,r){return Ko(t,r,!1)},!0,!0),{iterBack:S3,iterback:k3}=z(["iterBack","iterback"],function(t,r){return Ko(t,r,!0)},!0,!0),{repeatCycles:_3}=z("repeatCycles",function(t,r){return new ut(function(i){const o=i.span.begin.sam(),u=o.div(t).sam(),a=o.sub(u);return i=i.withSpan(c=>c.withTime(l=>l.sub(a))),r.query(i).map(c=>c.withSpan(l=>l.withTime(p=>p.add(a))))}).splitQueries()},!0,!0),Yo=function(t,r,i,o=!1,u=!1){const a=Array(t-1).fill(!1);a.unshift(!0);const c=Ko(t,Re(...a),!o);return u||(i=i.repeatCycles(t)),i.when(c,r)},{chunk:N3,slowchunk:T3,slowChunk:R3}=z(["chunk","slowchunk","slowChunk"],function(t,r,i){return Yo(t,r,i,!1,!1)}),{chunkBack:V3,chunkback:L3}=z(["chunkBack","chunkback"],function(t,r,i){return Yo(t,r,i,!0)}),{fastchunk:j3,fastChunk:O3}=z(["fastchunk","fastChunk"],function(t,r,i){return Yo(t,r,i,!1,!0)}),G3=z("bypass",function(t,r){return t=!!parseInt(t),t?kt:r},!0,!0),z3=z("ribbon",(t,r,i)=>i.early(t).restart(le(1).slow(r))),W3=z("hsla",(t,r,i,o,u)=>u.color(`hsla(${t}turn,${r*100}%,${i*100}%,${o})`)),q3=z("hsl",(t,r,i,o)=>o.color(`hsl(${t}turn,${r*100}%,${i*100}%)`));ut.prototype.tag=function(t){return this.withContext(r=>({...r,tags:(r.tags||[]).concat([t])}))};ut.prototype.stepJoin=function(){const t=this,r=Ve(...co(lo(t.queryArc(0,1)))).tactus,i=function(o){const u=t.early(o.span.begin.sam()).query(o.setSpan(new Ze(tt(0),tt(1))));return Ve(...co(lo(u))).query(o)};return new ut(i,r)};function co(t){const r=t.filter((a,c)=>c.hasTactus).reduce((a,c)=>a.add(c),tt(0)),i=wr(t.map((a,c)=>c.tactus)).reduce((a,c)=>a.add(c),tt(0)),o=r.eq(0)?void 0:i.div(r);function u(a,c){return c.tactus===void 0?[a.mulmaybe(o),c]:[c.tactus,c]}return t.map(a=>u(...a))}function lo(t){const r=Cn(t.map(o=>[o.part.begin,o.part.end])),i=rl([tt(0),tt(1),...r]);return nl(i).map(o=>[o[1].sub(o[0]),qt(...gl(new Ze(...o),t).map(u=>u.value.withHap(a=>a.setContext(a.combineContext(u)))))])}function gl(t,r){return wr(r.map(i=>Al(t,i)))}function Al(t,r){const i=t.intersection(r.part);if(i!=null)return new ue(r.whole,i,r.value,r.context)}const X3=z("steps",function(t,r){return r.tactus===void 0?r:r.tactus.eq(tt(0))?en:r.fast(tt(t).div(r.tactus))});function $o(t,...r){const i=r.map(u=>ao(u));if(i.length==0)return kt;t==0&&(t=i[0][1]);const o=[];for(const u of i)u[1]!=0&&(t==u[1]?o.push(u[0]):o.push(u[0]._fast(tt(t).div(tt(u[1])))));return qt(...o)}function Cl(t,...r){return r.length==0?kt:Array.isArray(r[0])?$o(t,...r):Uo(...r).steps(t)}function Uo(...t){if(Array.isArray(t[0]))return $o(0,...t);if(t=t.filter(a=>a.hasTactus),t.length==0)return kt;const r=t[0].tactus;if(r.eq(tt(0)))return en;const[i,...o]=t,u=qt(i,...o.map(a=>a._slow(a.tactus.div(r))));return u.tactus=r,u}function Ve(...t){if(t.length===0)return en;const r=c=>Array.isArray(c)?c:[c.tactus,c];if(t=t.map(r),t.find(c=>c[0]===void 0)){const c=t.map(p=>p[0]).filter(p=>p!==void 0);if(c.length===0)return Le(...t.map(p=>p[1]));if(c.length===t.length)return en;const l=c.reduce((p,d)=>p.add(d),tt(0)).div(c.length);for(let p of t)p[0]===void 0&&(p[0]=l)}if(t.length==1){const c=nt(t[0][1]);return c.tactus=t[0][0],c}const i=t.map(c=>c[0]).reduce((c,l)=>c.add(l),tt(0));let o=tt(0);const u=[];for(const[c,l]of t){if(tt(c).eq(0))continue;const p=o.add(c);u.push(nt(l)._compress(o.div(i),p.div(i))),o=p}const a=qt(...u);return a.tactus=i,a}const Z3=Ve,Jo=Ve;function H3(...t){t=t.map(u=>Array.isArray(u)?u.map(nt):[nt(u)]);const r=ii(...t.map(u=>tt(u.length)));let i=[];for(let u=0;u<r;++u)i.push(...t.map(a=>a.length==0?kt:a[u%a.length]));i=i.filter(u=>u.hasTactus&&u.tactus>0);const o=i.reduce((u,a)=>u.add(a.tactus),tt(0));return i=Ve(...i),i.tactus=o,i}const K3=ns("s_add",function(t,r){if(!r.hasTactus||r.tactus.lte(0)||(t=tt(t),t.eq(0)))return en;const i=t<0;i&&(t=t.abs());const o=t.div(r.tactus);return o.lte(0)?en:o.gte(1)?r:i?r.zoom(tt(1).sub(o),1):r.zoom(0,o)}),Y3=ns("s_sub",function(t,r){return r.hasTactus?(t=tt(t),t.lt(0)?r.s_add(tt(0).sub(r.tactus.add(t))):r.s_add(r.tactus.sub(t))):en}),$3=ns("s_expand",function(t,r){return r.withTactus(i=>i.mul(tt(t)))}),U3=ns("s_contract",function(t,r){return r.withTactus(i=>i.div(tt(t)))});ut.prototype.s_taperlist=function(t,r){const i=this;if(!i.hasTactus)return[i];if(r=r-1,r===0)return[i];const o=[],u=t>0;t=tt(Math.abs(t));const a=i.tactus.sub(t.mul(tt(r))).max(tt(0));for(let c=0;c<r;++c)o.push(i.zoom(0,a.add(t.mul(tt(c))).div(i.tactus)));return o.push(i),u&&o.reverse(),o};const J3=(t,r,i)=>i.s_taperlist(t,r),Q3=z("s_taper",function(t,r,i){if(!i.hasTactus)return en;const o=i.s_taperlist(t,r),u=Ve(...o);return u.tactus=o.reduce((a,c)=>a.add(c.tactus),tt(0)),u},!0,!1,t=>t.stepJoin());ut.prototype.s_tour=function(...t){return Ve(...[].concat(...t.map((r,i)=>[...t.slice(0,t.length-i),this,...t.slice(t.length-i)]),this,...t))};const tM=function(t,...r){return t.s_tour(...r)},eM=z("chop",function(t,r){const i=Array.from({length:t},(u,a)=>a).map(u=>({begin:u/t,end:(u+1)/t})),o=function(u){return Re(i.map(a=>Object.assign({},u,a)))};return r.squeezeBind(o).setTactus(Ye?tt(t).mulmaybe(r.tactus):void 0)}),nM=z("striate",function(t,r){const i=Array.from({length:t},(u,a)=>a).map(u=>({begin:u/t,end:(u+1)/t})),o=ir(...i);return r.set(o)._fast(t).setTactus(Ye?tt(t).mulmaybe(r.tactus):void 0)}),yl=function(t,r,i=.5){return r.speed(1/t*i).unit("c").slow(t)},Ml=z("slice",function(t,r,i){return t.innerBind(o=>r.outerBind(u=>i.outerBind(a=>{a=a instanceof Object?a:{s:a};const c=Array.isArray(o)?o[u]:u/o,l=Array.isArray(o)?o[u+1]:(u+1)/o;return le({begin:c,end:l,_slices:o,...a})}))).setTactus(r.tactus)},!1),rM=z("splice",function(t,r,i){const o=Ml(t,r,i);return new ut(u=>{const a=u.controls._cps||1;return o.query(u).map(c=>c.withValue(l=>({speed:a/l._slices/c.whole.duration*(l.speed||1),unit:"c",...l})))}).setTactus(r.tactus)},!1),{loopAt:iM,loopat:sM}=z(["loopAt","loopat"],function(t,r){return new ut(i=>yl(t,r,i.controls._cps).query(i))}),oM=z("fit",t=>t.withHaps((r,i)=>r.map(o=>o.withValue(u=>({...u,speed:(i.controls._cps||1)/o.whole.duration,unit:"c"}))))),{loopAtCps:uM,loopatcps:aM}=z(["loopAtCps","loopatcps"],function(t,r,i){return yl(t,i,r)}),cM=t=>le(1).withValue(()=>nt(t())).innerJoin();let ba=t=>t<.5?1:1-(t-.5)/.5,bl=(t,r,i)=>{r=nt(r),t=nt(t),i=nt(i);let o=r.fmap(a=>({gain:ba(a)})),u=r.fmap(a=>({gain:ba(1-a)}));return qt(t.mul(o),i.mul(u))};ut.prototype.xfade=function(t,r){return bl(this,t,r)};function rs(t){let r=Array.isArray(t);t=r?t:[t];const i=t[0],o=c=>{let l;if(typeof c=="object"&&c.value!==void 0&&(l={...c},c=c.value,delete l.value),r&&Array.isArray(c)){const p=l||{};return c.forEach((d,f)=>{f<t.length&&(p[t[f]]=d)}),p}else return l?(l[i]=c,l):{[i]:c}},u=(...c)=>Re(...c).withValue(o),a=function(...c){return c.length?this.set(u(...c)):this.fmap(o)};return ut.prototype[i]=a,u}function k(t,...r){const i=Array.isArray(t)?t[0]:t;let o={};return o[i]=rs(t),r.forEach(u=>{o[u]=o[i],ut.prototype[u]=ut.prototype[i]}),o}const{s:Pl,sound:Dl}=k(["s","n","gain"],"sound"),{source:vl,src:El}=k("source","src"),{n:Fl}=k("n"),{note:wl}=k(["note","n"]),{accelerate:Bl}=k("accelerate"),{velocity:Il}=k("velocity"),{gain:xl}=k("gain"),{postgain:Sl}=k("postgain"),{amp:kl}=k("amp"),{attack:_l,att:Nl}=k("attack","att"),{fmh:Tl}=k(["fmh","fmi"],"fmh"),{fmi:Rl,fm:Vl}=k(["fmi","fmh"],"fm"),{fmenv:Ll}=k("fmenv"),{fmattack:jl}=k("fmattack"),{fmdecay:Ol}=k("fmdecay"),{fmsustain:Gl}=k("fmsustain"),{fmrelease:zl}=k("fmrelease"),{fmvelocity:Wl}=k("fmvelocity"),{bank:ql}=k("bank"),{analyze:Xl}=k("analyze"),{fft:Zl}=k("fft"),{decay:Hl,dec:Kl}=k("decay","dec"),{sustain:Yl,sus:$l}=k("sustain","sus"),{release:Ul,rel:Jl}=k("release","rel"),{hold:Ql}=k("hold"),{bandf:th,bpf:eh,bp:nh}=k(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:rh,bpq:ih}=k("bandq","bpq"),{begin:sh}=k("begin"),{end:oh}=k("end"),{loop:uh}=k("loop"),{loopBegin:ah,loopb:ch}=k("loopBegin","loopb"),{loopEnd:lh,loope:hh}=k("loopEnd","loope"),{crush:ph}=k("crush"),{coarse:mh}=k("coarse"),{drive:dh}=k("drive"),{channels:fh,ch:gh}=k("channels","ch"),{phaserrate:Ah,phasr:Ch}=k("phaserrate","phasr"),{phaser:yh,ph:Mh}=k(["phaser","phaserdepth","phasercenter","phasersweep"],"ph"),{phasersweep:bh,phs:Ph}=k("phasersweep","phs"),{phasercenter:Dh,phc:vh}=k("phasercenter","phc"),{phaserdepth:Eh,phd:Fh,phasdp:wh}=k("phaserdepth","phd","phasdp"),{channel:Bh}=k("channel"),{cut:Ih}=k("cut"),{cutoff:xh,ctf:Sh,lpf:kh,lp:_h}=k(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:Nh,lpe:Th}=k("lpenv","lpe"),{hpenv:Rh,hpe:Vh}=k("hpenv","hpe"),{bpenv:Lh,bpe:jh}=k("bpenv","bpe"),{lpattack:Oh,lpa:Gh}=k("lpattack","lpa"),{hpattack:zh,hpa:Wh}=k("hpattack","hpa"),{bpattack:qh,bpa:Xh}=k("bpattack","bpa"),{lpdecay:Zh,lpd:Hh}=k("lpdecay","lpd"),{hpdecay:Kh,hpd:Yh}=k("hpdecay","hpd"),{bpdecay:$h,bpd:Uh}=k("bpdecay","bpd"),{lpsustain:Jh,lps:Qh}=k("lpsustain","lps"),{hpsustain:t1,hps:e1}=k("hpsustain","hps"),{bpsustain:n1,bps:r1}=k("bpsustain","bps"),{lprelease:i1,lpr:s1}=k("lprelease","lpr"),{hprelease:o1,hpr:u1}=k("hprelease","hpr"),{bprelease:a1,bpr:c1}=k("bprelease","bpr"),{ftype:l1}=k("ftype"),{fanchor:h1}=k("fanchor"),{vib:p1,vibrato:m1,v:d1}=k(["vib","vibmod"],"vibrato","v"),{noise:f1}=k("noise"),{vibmod:g1,vmod:A1}=k(["vibmod","vib"],"vmod"),{hcutoff:C1,hpf:y1,hp:M1}=k(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:b1,hpq:P1}=k("hresonance","hpq"),{resonance:D1,lpq:v1}=k("resonance","lpq"),{djf:E1}=k("djf"),{delay:F1}=k(["delay","delaytime","delayfeedback"]),{delayfeedback:w1,delayfb:B1,dfb:I1}=k("delayfeedback","delayfb","dfb"),{delaytime:x1,delayt:S1,dt:k1}=k("delaytime","delayt","dt"),{lock:_1}=k("lock"),{detune:N1,det:T1}=k("detune","det"),{unison:R1}=k("unison"),{spread:V1}=k("spread"),{dry:L1}=k("dry"),{fadeTime:j1,fadeOutTime:O1}=k("fadeTime","fadeOutTime"),{fadeInTime:G1}=k("fadeInTime"),{freq:z1}=k("freq"),{pattack:W1,patt:q1}=k("pattack","patt"),{pdecay:X1,pdec:Z1}=k("pdecay","pdec"),{psustain:H1,psus:K1}=k("psustain","psus"),{prelease:Y1,prel:$1}=k("prelease","prel"),{penv:U1}=k("penv"),{pcurve:J1}=k("pcurve"),{panchor:Q1}=k("panchor"),{gate:t0,gat:e0}=k("gate","gat"),{leslie:n0}=k("leslie"),{lrate:r0}=k("lrate"),{lsize:i0}=k("lsize"),{activeLabel:s0}=k("activeLabel"),{label:o0}=k(["label","activeLabel"]),{degree:u0}=k("degree"),{mtranspose:a0}=k("mtranspose"),{ctranspose:c0}=k("ctranspose"),{harmonic:l0}=k("harmonic"),{stepsPerOctave:h0}=k("stepsPerOctave"),{octaveR:p0}=k("octaveR"),{nudge:m0}=k("nudge"),{octave:d0}=k("octave"),{orbit:f0}=k("orbit"),{overgain:g0}=k("overgain"),{overshape:A0}=k("overshape"),{pan:C0}=k("pan"),{panspan:y0}=k("panspan"),{pansplay:M0}=k("pansplay"),{panwidth:b0}=k("panwidth"),{panorient:P0}=k("panorient"),{rate:D0}=k("rate"),{slide:v0}=k("slide"),{semitone:E0}=k("semitone"),{voice:F0}=k("voice"),{chord:w0}=k("chord"),{dictionary:B0,dict:I0}=k("dictionary","dict"),{anchor:x0}=k("anchor"),{offset:S0}=k("offset"),{octaves:k0}=k("octaves"),{mode:_0}=k(["mode","anchor"]),{room:N0}=k(["room","size"]),{roomlp:T0,rlp:R0}=k("roomlp","rlp"),{roomdim:V0,rdim:L0}=k("roomdim","rdim"),{roomfade:j0,rfade:O0}=k("roomfade","rfade"),{ir:G0,iresponse:z0}=k(["ir","i"],"iresponse"),{roomsize:W0,size:q0,sz:X0,rsize:Z0}=k("roomsize","size","sz","rsize"),{shape:H0}=k(["shape","shapevol"]),{distort:K0,dist:Y0}=k(["distort","distortvol"],"dist"),{compressor:$0}=k(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:U0}=k("compressorKnee"),{compressorRatio:J0}=k("compressorRatio"),{compressorAttack:Q0}=k("compressorAttack"),{compressorRelease:tp}=k("compressorRelease"),{speed:ep}=k("speed"),{unit:np}=k("unit"),{squiz:rp}=k("squiz"),{vowel:ip}=k("vowel"),{waveloss:sp}=k("waveloss"),{density:lM}=k("density"),{expression:op}=k("expression"),{sustainpedal:up}=k("sustainpedal"),{tremolodepth:ap,tremdp:cp}=k("tremolodepth","tremdp"),{tremolorate:lp,tremr:hp}=k("tremolorate","tremr"),{fshift:pp}=k("fshift"),{fshiftnote:mp}=k("fshiftnote"),{fshiftphase:dp}=k("fshiftphase"),{triode:fp}=k("triode"),{krush:gp}=k("krush"),{kcutoff:Ap}=k("kcutoff"),{octer:Cp}=k("octer"),{octersub:yp}=k("octersub"),{octersubsub:Mp}=k("octersubsub"),{ring:bp}=k("ring"),{ringf:Pp}=k("ringf"),{ringdf:Dp}=k("ringdf"),{freeze:vp}=k("freeze"),{xsdelay:Ep}=k("xsdelay"),{tsdelay:Fp}=k("tsdelay"),{real:wp}=k("real"),{imag:Bp}=k("imag"),{enhance:Ip}=k("enhance"),{partials:xp}=k("partials"),{comb:Sp}=k("comb"),{smear:kp}=k("smear"),{scram:_p}=k("scram"),{binshift:Np}=k("binshift"),{hbrick:Tp}=k("hbrick"),{lbrick:Rp}=k("lbrick"),{midichan:Vp}=k("midichan"),{control:Lp}=k("control"),{ccn:jp}=k("ccn"),{ccv:Op}=k("ccv"),{polyTouch:Gp}=k("polyTouch"),{midibend:zp}=k("midibend"),{miditouch:Wp}=k("miditouch"),{ctlNum:qp}=k("ctlNum"),{frameRate:Xp}=k("frameRate"),{frames:Zp}=k("frames"),{hours:Hp}=k("hours"),{midicmd:Kp}=k("midicmd"),{minutes:Yp}=k("minutes"),{progNum:$p}=k("progNum"),{seconds:Up}=k("seconds"),{songPtr:Jp}=k("songPtr"),{uid:Qp}=k("uid"),{val:tm}=k("val"),{cps:em}=k("cps"),{clip:nm,legato:rm}=k("clip","legato"),{duration:im,dur:sm}=k("duration","dur"),{zrand:om}=k("zrand"),{curve:um}=k("curve"),{deltaSlide:am}=k("deltaSlide"),{pitchJump:cm}=k("pitchJump"),{pitchJumpTime:lm}=k("pitchJumpTime"),{lfo:hm,repeatTime:pm}=k("lfo","repeatTime"),{znoise:mm}=k("znoise"),{zmod:dm}=k("zmod"),{zcrush:fm}=k("zcrush"),{zdelay:gm}=k("zdelay"),{tremolo:Am}=k("tremolo"),{zzfx:Cm}=k("zzfx"),{color:ym,colour:Mm}=k(["color","colour"]);let Qo=(...t)=>t.reduce((r,i)=>Object.assign(r,{[i]:rs(i)}),{});const bm=z("adsr",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,o,u,a]=t;return r.set({attack:i,decay:o,sustain:u,release:a})}),Pm=z("ad",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,o=i]=t;return r.attack(i).decay(o)}),Dm=z("ds",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,o=0]=t;return r.set({decay:i,sustain:o})}),vm=z("ar",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,o=i]=t;return r.set({attack:i,release:o})}),hM=Object.freeze(Object.defineProperty({__proto__:null,accelerate:Bl,activeLabel:s0,ad:Pm,adsr:bm,amp:kl,analyze:Xl,anchor:x0,ar:vm,att:Nl,attack:_l,bandf:th,bandq:rh,bank:ql,begin:sh,binshift:Np,bp:nh,bpa:Xh,bpattack:qh,bpd:Uh,bpdecay:$h,bpe:jh,bpenv:Lh,bpf:eh,bpq:ih,bpr:c1,bprelease:a1,bps:r1,bpsustain:n1,ccn:jp,ccv:Op,ch:gh,channel:Bh,channels:fh,chord:w0,clip:nm,coarse:mh,color:ym,colour:Mm,comb:Sp,compressor:$0,compressorAttack:Q0,compressorKnee:U0,compressorRatio:J0,compressorRelease:tp,control:Lp,cps:em,createParam:rs,createParams:Qo,crush:ph,ctf:Sh,ctlNum:qp,ctranspose:c0,curve:um,cut:Ih,cutoff:xh,dec:Kl,decay:Hl,degree:u0,delay:F1,delayfb:B1,delayfeedback:w1,delayt:S1,delaytime:x1,deltaSlide:am,density:lM,det:T1,detune:N1,dfb:I1,dict:I0,dictionary:B0,dist:Y0,distort:K0,djf:E1,drive:dh,dry:L1,ds:Dm,dt:k1,dur:sm,duration:im,end:oh,enhance:Ip,expression:op,fadeInTime:G1,fadeOutTime:O1,fadeTime:j1,fanchor:h1,fft:Zl,fm:Vl,fmattack:jl,fmdecay:Ol,fmenv:Ll,fmh:Tl,fmi:Rl,fmrelease:zl,fmsustain:Gl,fmvelocity:Wl,frameRate:Xp,frames:Zp,freeze:vp,freq:z1,fshift:pp,fshiftnote:mp,fshiftphase:dp,ftype:l1,gain:xl,gat:e0,gate:t0,harmonic:l0,hbrick:Tp,hcutoff:C1,hold:Ql,hours:Hp,hp:M1,hpa:Wh,hpattack:zh,hpd:Yh,hpdecay:Kh,hpe:Vh,hpenv:Rh,hpf:y1,hpq:P1,hpr:u1,hprelease:o1,hps:e1,hpsustain:t1,hresonance:b1,imag:Bp,ir:G0,iresponse:z0,kcutoff:Ap,krush:gp,label:o0,lbrick:Rp,legato:rm,leslie:n0,lfo:hm,lock:_1,loop:uh,loopBegin:ah,loopEnd:lh,loopb:ch,loope:hh,lp:_h,lpa:Gh,lpattack:Oh,lpd:Hh,lpdecay:Zh,lpe:Th,lpenv:Nh,lpf:kh,lpq:v1,lpr:s1,lprelease:i1,lps:Qh,lpsustain:Jh,lrate:r0,lsize:i0,midibend:zp,midichan:Vp,midicmd:Kp,miditouch:Wp,minutes:Yp,mode:_0,mtranspose:a0,n:Fl,noise:f1,note:wl,nudge:m0,octave:d0,octaveR:p0,octaves:k0,octer:Cp,octersub:yp,octersubsub:Mp,offset:S0,orbit:f0,overgain:g0,overshape:A0,pan:C0,panchor:Q1,panorient:P0,panspan:y0,pansplay:M0,panwidth:b0,partials:xp,patt:q1,pattack:W1,pcurve:J1,pdec:Z1,pdecay:X1,penv:U1,ph:Mh,phasdp:wh,phaser:yh,phasercenter:Dh,phaserdepth:Eh,phaserrate:Ah,phasersweep:bh,phasr:Ch,phc:vh,phd:Fh,phs:Ph,pitchJump:cm,pitchJumpTime:lm,polyTouch:Gp,postgain:Sl,prel:$1,prelease:Y1,progNum:$p,psus:K1,psustain:H1,rate:D0,rdim:L0,real:wp,registerControl:k,rel:Jl,release:Ul,repeatTime:pm,resonance:D1,rfade:O0,ring:bp,ringdf:Dp,ringf:Pp,rlp:R0,room:N0,roomdim:V0,roomfade:j0,roomlp:T0,roomsize:W0,rsize:Z0,s:Pl,scram:_p,seconds:Up,semitone:E0,shape:H0,size:q0,slide:v0,smear:kp,songPtr:Jp,sound:Dl,source:vl,speed:ep,spread:V1,squiz:rp,src:El,stepsPerOctave:h0,sus:$l,sustain:Yl,sustainpedal:up,sz:X0,tremdp:cp,tremolo:Am,tremolodepth:ap,tremolorate:lp,tremr:hp,triode:fp,tsdelay:Fp,uid:Qp,unison:R1,unit:np,v:d1,val:tm,velocity:Il,vib:p1,vibmod:g1,vibrato:m1,vmod:A1,voice:F0,vowel:ip,waveloss:sp,xsdelay:Ep,zcrush:fm,zdelay:gm,zmod:dm,znoise:mm,zrand:om,zzfx:Cm},Symbol.toStringTag,{value:"Module"})),pM=function(t,r){const[i,o]=t,[u,a]=r,[c,l]=zo(o,u);return[[o,i-o],[Wo((p,d)=>p.concat(d),c,a),l]]},mM=function(t,r){const[i,o]=t,[u,a]=r,[c,l]=zo(i,a);return[[i,o-i],[Wo((p,d)=>p.concat(d),u,c),l]]},Em=function(t,r){const[i,o]=t;return Math.min(i,o)<=1?[t,r]:Em(...i>o?pM(t,r):mM(t,r))},Fm=function(t,r){const i=t<0;t=Math.abs(t);const o=r-t,u=Array(t).fill([1]),a=Array(o).fill([0]),c=Em([t,o],[u,a]),l=Cn(c[1][0]).concat(Cn(c[1][1]));return i?l.map(p=>p===0?1:0):l},tu=function(t,r,i){const o=Fm(t,r);return i?Qc(o,-i):o},dM=z("euclid",function(t,r,i){return i.struct(tu(t,r,0))}),{euclidrot:fM,euclidRot:gM}=z(["euclidrot","euclidRot"],function(t,r,i,o){return o.struct(tu(t,r,i))}),wm=function(t,r,i,o){if(t<1)return kt;const u=tu(t,r,i).join("").split("1").slice(1).map(a=>[a.length+1,!0]);return o.struct(Jo(...u))},AM=z(["euclidLegato"],function(t,r,i){return wm(t,r,0,i)}),CM=z(["euclidLegatoRot"],function(t,r,i,o){return wm(t,r,i,o)});function Bm(t,r,i=.05,o=.1,u=.1,a=globalThis.setInterval,c=globalThis.clearInterval,l=!0){let p=0,d=0,f=10**4,g=.01;const A=N=>i=N(i);u=u||o/2;const P=()=>{const N=t(),L=N+o+u;for(d===0&&(d=N+g);d<L;)d=l?Math.round(d*f)/f:d,r(d,i,p,N),d+=i,p++};let E;const F=()=>{S(),P(),E=a(P,o*1e3)},S=()=>{E!==void 0&&c(E),E=void 0};return{setDuration:A,start:F,stop:()=>{p=0,d=0,S()},pause:()=>S(),duration:i,interval:o,getPhase:()=>d,minLatency:g}}function yM(t){return new ut(r=>[new ue(void 0,r.span,t)])}const Ue=t=>{const r=i=>[new ue(void 0,i.span,t(i.span.midpoint()))];return new ut(r)},eu=Ue(t=>1-t%1),Im=eu.toBipolar(),is=Ue(t=>t%1),xm=is.toBipolar(),nu=Ue(t=>Math.sin(Math.PI*2*t)),Sm=nu.fromBipolar(),MM=Sm._early(tt(1).div(4)),bM=nu._early(tt(1).div(4)),km=Ue(t=>Math.floor(t*2%2)),PM=km.toBipolar(),DM=Le(eu,is),vM=Le(Im,xm),_m=Ue(dr);let ru=0,iu=0;typeof window<"u"&&document.addEventListener("mousemove",t=>{ru=t.clientY/document.body.clientHeight,iu=t.clientX/document.body.clientWidth});const EM=Ue(()=>ru),FM=Ue(()=>ru),wM=Ue(()=>iu),BM=Ue(()=>iu),IM=t=>{const r=t<<13^t,i=r>>17^r;return i<<5^i},xM=t=>t-Math.trunc(t),SM=t=>IM(Math.trunc(xM(t/300)*536870912)),kM=t=>t%536870912/536870912,ho=t=>Math.abs(kM(SM(t))),_M=t=>is.range(0,t).floor().segment(t),Ce=Ue(ho),NM=Ce.toBipolar(),su=t=>Ce.fmap(r=>r<t),TM=t=>nt(t).fmap(su).innerJoin(),RM=su(.5),Nm=t=>Ce.fmap(r=>Math.trunc(r*t)),VM=t=>nt(t).fmap(Nm).innerJoin(),rn=function(t,r,i=!0){const o=Array.isArray(t),u=Object.keys(t).length;return t=ol(t,nt),u===0?kt:r.fmap(a=>{let c=a;return o&&(c=i?Math.round(c)%u:qo(Math.round(c),0,t.length-1)),t[c]})},Tm=function(t,r){return Array.isArray(r)&&([r,t]=[t,r]),LM(t,r)},LM=z("pick",function(t,r){return rn(t,r,!1).innerJoin()}),Rm=z("pickmod",function(t,r){return rn(t,r,!0).innerJoin()}),jM=z("pickF",function(t,r,i){return i.apply(Tm(t,r))}),OM=z("pickmodF",function(t,r,i){return i.apply(Rm(t,r))}),GM=z("pickOut",function(t,r){return rn(t,r,!1).outerJoin()}),zM=z("pickmodOut",function(t,r){return rn(t,r,!0).outerJoin()}),WM=z("pickRestart",function(t,r){return rn(t,r,!1).restartJoin()}),qM=z("pickmodRestart",function(t,r){return rn(t,r,!0).restartJoin()}),XM=z("pickReset",function(t,r){return rn(t,r,!1).resetJoin()}),ZM=z("pickmodReset",function(t,r){return rn(t,r,!0).resetJoin()}),{inhabit:HM,pickSqueeze:KM}=z(["inhabit","pickSqueeze"],function(t,r){return rn(t,r,!1).squeezeJoin()}),{inhabitmod:YM,pickmodSqueeze:$M}=z(["inhabitmod","pickmodSqueeze"],function(t,r){return rn(t,r,!0).squeezeJoin()}),UM=(t,r)=>(r=r.map(nt),r.length==0?kt:t.fmap(i=>{const o=Te(Math.round(i),r.length);return r[o]}).squeezeJoin()),ou=(t,r)=>(r=r.map(nt),r.length==0?kt:t.range(0,r.length).fmap(i=>{const o=Math.min(Math.max(Math.floor(i),0),r.length-1);return r[o]})),ss=(t,r)=>ou(t,r).outerJoin(),uu=(t,r)=>ou(t,r).innerJoin(),JM=(...t)=>ss(Ce,t);ut.prototype.choose=function(...t){return ss(this,t)};ut.prototype.choose2=function(...t){return ss(this.fromBipolar(),t)};const Vm=(...t)=>uu(Ce.segment(1),t),QM=Vm,Lm=function(t,...r){const i=r.map(l=>nt(l[0])),o=[];let u=0;for(const l of r)u+=l[1],o.push(u);const a=u,c=function(l){const p=l*a;return i[o.findIndex(d=>d>p,o)]};return t.fmap(c)},tb=(...t)=>Lm(...t).outerJoin(),eb=(...t)=>tb(Ce,...t),jm=(...t)=>Lm(Ce.segment(1),...t).innerJoin(),nb=jm,Om=t=>{const r=t.fmap(Math.floor),i=t.fmap(a=>Math.floor(a)+1),o=a=>6*a**5-15*a**4+10*a**3,u=a=>c=>l=>c+o(a)*(l-c);return t.sub(r).fmap(u).appBoth(r.fmap(ho)).appBoth(i.fmap(ho))},rb=Om(_m.fmap(t=>Number(t))),ib=z("degradeByWith",(t,r,i)=>i.fmap(o=>u=>o).appLeft(t.filterValues(o=>o>r))),sb=z("degradeBy",function(t,r){return r._degradeByWith(Ce,t)}),ob=z("degrade",t=>t._degradeBy(.5)),ub=z("undegradeBy",function(t,r){return r._degradeByWith(Ce.fmap(i=>1-i),t)}),ab=z("undegrade",t=>t._undegradeBy(.5)),cb=z("sometimesBy",function(t,r,i){return nt(t).fmap(o=>qt(i._degradeBy(o),r(i._undegradeBy(1-o)))).innerJoin()}),lb=z("sometimes",function(t,r){return r._sometimesBy(.5,t)}),hb=z("someCyclesBy",function(t,r,i){return nt(t).fmap(o=>qt(i._degradeByWith(Ce._segment(1),o),r(i._degradeByWith(Ce.fmap(u=>1-u)._segment(1),1-o)))).innerJoin()}),pb=z("someCycles",function(t,r){return r._someCyclesBy(.5,t)}),mb=z("often",function(t,r){return r.sometimesBy(.75,t)}),db=z("rarely",function(t,r){return r.sometimesBy(.25,t)}),fb=z("almostNever",function(t,r){return r.sometimesBy(.1,t)}),gb=z("almostAlways",function(t,r){return r.sometimesBy(.9,t)}),Ab=z("never",function(t,r){return r}),Cb=z("always",function(t,r){return t(r)});let Oi;try{Oi=window?.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let Pa=Oi?.getVoices();function yb(t,r,i){Oi.cancel();const o=new SpeechSynthesisUtterance(t);o.lang=r,Pa=Oi.getVoices();const u=Pa.filter(a=>a.lang.includes(r));typeof i=="number"?o.voice=u[i%u.length]:typeof i=="string"&&(o.voice=u.find(a=>a.name===a)),speechSynthesis.speak(o)}const Mb=z("speak",function(t,r,i){return i.onTrigger((o,u)=>{yb(u.value,t,r)})}),Gi=async(...t)=>{const r=await Promise.allSettled(t),i=r.filter(o=>o.status==="fulfilled").map(o=>o.value);return r.forEach((o,u)=>{o.status==="rejected"&&console.warn(`evalScope: module with index ${u} could not be loaded:`,o.reason)}),i.forEach(o=>{Object.entries(o).forEach(([u,a])=>{globalThis[u]=a})}),i};function bb(t,r={}){const{wrapExpression:i=!0,wrapAsync:o=!0}=r;i&&(t=`{${t}}`),o&&(t=`(async ()=>${t})()`);const u=`"use strict";return (${t})`;return Function(u)()}const Gm=async(t,r)=>{let i={};if(r){const o=r(t);t=o.output,i=o}return{mode:"javascript",pattern:await bb(t,{wrapExpression:!!r}),meta:i}};function Pb(t){return new SharedWorker("/assets/clockworker-OodvW4tn.js",{name:t?.name})}class Db{constructor({onTrigger:r,onToggle:i,getTime:o}){this.started=!1,this.cps=.5,this.lastTick=0,this.getTime=o,this.time_at_last_tick_message=0,this.num_cycles_at_cps_change=0,this.onToggle=i,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker_time_dif,this.worker=new Pb,this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");let u=0;const a=20,c=10**3,l=(f,g,A)=>{const P=o()-(f+g)+A;if(this.worker_time_dif==null)this.worker_time_dif=P;else{const E=Math.round((this.worker_time_dif*u+P*1)/(u+1)*c)/c;E!=this.worker_time_dif&&(u=4),this.worker_time_dif=E}u=Math.min(u+1,a)},p=f=>{const{num_cycles_at_cps_change:g,cps:A,num_seconds_at_cps_change:P,num_seconds_since_cps_change:E,begin:F,end:S,tickdeadline:N,cycle:L}=f;this.cps=A,this.cycle=L,l(P,E,N),d(F,S,g,P),this.time_at_last_tick_message=this.getTime()},d=(f,g,A,P)=>{this.started!==!1&&this.pattern.queryArc(f,g,{_cps:this.cps}).forEach(E=>{if(E.hasOnset()){const F=(E.whole.begin-A)/this.cps+P+this.latency+this.worker_time_dif,S=E.duration/this.cps;r?.(E,0,S,this.cps,F)}})};this.channel.onmessage=f=>{if(!this.started)return;const{payload:g,type:A}=f.data;switch(A){case"tick":p(g)}}}sendMessage(r,i){this.worker.port.postMessage({type:r,payload:i,id:this.id})}now(){const r=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+r}setCps(r=1){this.sendMessage("cpschange",{cps:r})}setCycle(r){this.sendMessage("setcycle",{cycle:r})}setStarted(r){this.sendMessage("toggle",{started:r}),this.started=r,this.onToggle?.(r)}start(){Yt("[cyclist] start"),this.setStarted(!0)}stop(){this.worker_time_dif=null,Yt("[cyclist] stop"),this.setStarted(!1)}setPattern(r,i=!1){this.pattern=r,i&&!this.started&&this.start()}log(r,i,o){const u=o.filter(a=>a.hasOnset());console.log(`${r.toFixed(4)} - ${i.toFixed(4)} ${Array(u.length).fill("I").join("")}`)}}class zm{constructor({interval:r,onTrigger:i,onToggle:o,onError:u,getTime:a,latency:c=.1,setInterval:l,clearInterval:p}){this.started=!1,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=a,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=o,this.latency=c,this.clock=Bm(a,(d,f,g,A)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=d),this.num_ticks_since_cps_change++;const P=this.num_ticks_since_cps_change*f*this.cps;try{const E=this.lastEnd;this.lastBegin=E;const F=this.num_cycles_at_cps_change+P;if(this.lastEnd=F,this.lastTick=d,d<A){console.log("skip query: too late");return}this.pattern.queryArc(E,F,{_cps:this.cps}).forEach(S=>{if(S.hasOnset()){const N=(S.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+c,L=S.duration/this.cps,K=N-d;i?.(S,K,L,this.cps,N)}})}catch(E){Yt(`[cyclist] error: ${E.message}`),u?.(E)}},r,.1,.1,l,p)}now(){if(!this.started)return 0;const r=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+r*this.cps}setStarted(r){this.started=r,this.onToggle?.(r)}start(){if(this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");Yt("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){Yt("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){Yt("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}setPattern(r,i=!1){this.pattern=r,i&&!this.started&&this.start()}setCps(r=.5){this.cps!==r&&(this.cps=r,this.num_ticks_since_cps_change=0)}log(r,i,o){const u=o.filter(a=>a.hasOnset());console.log(`${r.toFixed(4)} - ${i.toFixed(4)} ${Array(u.length).fill("I").join("")}`)}}let po;function mo(){if(!po)throw new Error("no time set! use setTime to define a time source");return po()}function au(t){po=t}function vb({defaultOutput:t,onEvalError:r,beforeEval:i,afterEval:o,getTime:u,transpiler:a,onToggle:c,editPattern:l,onUpdateState:p,sync:d=!1,setInterval:f,clearInterval:g}){const A={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},P=Z=>{Object.assign(A,Z),A.isDirty=A.code!==A.activeCode,A.error=A.evalError||A.schedulerError,p?.(A)},E={onTrigger:Wm({defaultOutput:t,getTime:u}),getTime:u,onToggle:Z=>{P({started:Z}),c?.(Z)},setInterval:f,clearInterval:g},F=d&&typeof SharedWorker<"u"?new Db(E):new zm(E);let S={},N=0,L;const K=function(){return S={},N=0,L=void 0,kt},_=(Z,$=!0)=>{Z=l?.(Z)||Z,F.setPattern(Z,$)};au(()=>F.now());const x=()=>F.stop(),R=()=>F.start(),T=()=>F.pause(),G=()=>F.toggle(),H=Z=>F.setCps(Z),W=Z=>F.setCps(Z/60),J=function(Z){return L=Z,kt},X=()=>{ut.prototype.p=function($){return $.startsWith("_")||$.endsWith("_")?kt:($==="$"&&($=`$${N}`,N++),S[$]=this,this)},ut.prototype.q=function($){return kt};try{for(let $=1;$<10;++$)Object.defineProperty(ut.prototype,`d${$}`,{get(){return this.p($)},configurable:!0}),Object.defineProperty(ut.prototype,`p${$}`,{get(){return this.p($)},configurable:!0}),ut.prototype[`q${$}`]=kt}catch($){console.warn("injectPatternMethods: error:",$)}const Z=z("cpm",function($,gt){return gt._fast($/60/F.cps)});return Gi({all:J,hush:K,cpm:Z,setCps:H,setcps:H,setCpm:W,setcpm:W})};return{scheduler:F,evaluate:async(Z,$=!0,gt=!0)=>{if(!Z)throw new Error("no code to evaluate");try{P({code:Z,pending:!0}),await X(),await i?.({code:Z}),gt&&K();let{pattern:ot,meta:dt}=await Gm(Z,a);if(Object.keys(S).length&&(ot=qt(...Object.values(S))),L&&(ot=L(ot)),!Xo(ot)){const ht=`got "${typeof evaluated}" instead of pattern`;throw new Error(ht+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return Yt("[eval] code updated"),_(ot,$),P({miniLocations:dt?.miniLocations||[],widgets:dt?.widgets||[],activeCode:Z,pattern:ot,evalError:void 0,schedulerError:void 0,pending:!1}),o?.({code:Z,pattern:ot,meta:dt}),ot}catch(ot){Yt(`[eval] error: ${ot.message}`,"error"),console.error(ot),P({evalError:ot,pending:!1}),r?.(ot)}},start:R,stop:x,pause:T,setCps:H,setPattern:_,setCode:Z=>P({code:Z}),toggle:G,state:A}}const Wm=({getTime:t,defaultOutput:r})=>async(i,o,u,a,c)=>{try{(!i.context.onTrigger||!i.context.dominantTrigger)&&await r(i,o,u,a,c),i.context.onTrigger&&await i.context.onTrigger(t()+o,i,t(),a,c)}catch(l){Yt(`[cyclist] error: ${l.message}`,"error")}},Eb=function(t,r={}){const i=document.getElementById("code"),o="background-image:url("+t+");background-size:contain;";i.style=o;const{className:u}=i,a=(l,p)=>{({style:()=>i.style=o+";"+p,className:()=>i.className=p+" "+u})[l]()},c=Object.entries(r).filter(([l,p])=>typeof p=="function");Object.entries(r).filter(([l,p])=>typeof p=="string").forEach(([l,p])=>a(l,p)),c.length},Fb=()=>{const t=document.getElementById("code");t&&(t.style="")};Yt("🌀 @strudel/core loaded 🌀");globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed.
Please check with "npm ls @strudel/core".`);globalThis._strudelLoaded=!0;const qm=Object.freeze(Object.defineProperty({__proto__:null,Cyclist:zm,Fraction:tt,Hap:ue,Pattern:ut,State:so,TimeSpan:Ze,__chooseWith:ou,_brandBy:su,_fitslice:gl,_irand:Nm,_match:Al,_mod:Te,_polymeterListSteps:$o,_retime:co,_slices:lo,accelerate:Bl,activeLabel:s0,ad:Pm,add:ay,adsr:bm,almostAlways:gb,almostNever:fb,always:Cb,amp:kl,analyze:Xl,anchor:x0,and:wy,apply:r3,ar:vm,arrange:ey,att:Nl,attack:_l,backgroundImage:Eb,band:dy,bandf:th,bandq:rh,bank:ql,base64ToUnicode:sl,begin:sh,binshift:Np,bjork:Fm,blshift:Ay,bor:fy,bp:nh,bpa:Xh,bpattack:qh,bpd:Uh,bpdecay:$h,bpe:jh,bpenv:Lh,bpf:eh,bpq:ih,bpr:c1,bprelease:a1,bps:r1,bpsustain:n1,brak:A3,brand:RM,brandBy:TM,brshift:Cy,bxor:gy,bypass:G3,calculateTactus:H2,cat:pl,ccn:jp,ccv:Op,ceil:ky,ch:gh,channel:Bh,channels:fh,choose:JM,chooseCycles:Vm,chooseInWith:uu,chooseWith:ss,chop:eM,chord:w0,chunk:N3,chunkBack:V3,chunkback:L3,clamp:qo,cleanupUi:Fb,clip:nm,coarse:mh,code2hash:W2,color:ym,colour:Mm,comb:Sp,compose:S2,compress:jy,compressSpan:Oy,compressor:$0,compressorAttack:Q0,compressorKnee:U0,compressorRatio:J0,compressorRelease:tp,compressspan:Gy,constant:k2,control:Lp,controls:hM,cosine:MM,cosine2:bM,cpm:i3,cps:em,createClock:Bm,createParam:rs,createParams:Qo,crush:ph,ctf:Sh,ctlNum:qp,ctranspose:c0,curry:Ft,curve:um,cut:Ih,cutoff:xh,dec:Kl,decay:Hl,degrade:ob,degradeBy:sb,degradeByWith:ib,degree:u0,delay:F1,delayfb:B1,delayfeedback:w1,delayt:S1,delaytime:x1,deltaSlide:am,det:T1,detune:N1,dfb:I1,dict:I0,dictionary:B0,dist:Y0,distort:K0,div:hy,djf:E1,drawLine:ul,drive:dh,dry:L1,ds:Dm,dt:k1,dur:sm,duration:im,early:s3,echo:B3,echoWith:v3,echowith:E3,end:oh,enhance:Ip,eq:Dy,eqt:vy,euclid:dM,euclidLegato:AM,euclidLegatoRot:CM,euclidRot:gM,euclidrot:fM,evalScope:Gi,evaluate:Gm,every:n3,expression:op,fadeInTime:G1,fadeOutTime:O1,fadeTime:j1,fanchor:h1,fast:Ky,fastChunk:O3,fastGap:zy,fastcat:Le,fastchunk:j3,fastgap:Wy,fft:Zl,firstOf:e3,fit:oM,flatten:Cn,floor:Sy,fm:Vl,fmattack:jl,fmdecay:Ol,fmenv:Ll,fmh:Tl,fmi:Rl,fmrelease:zl,fmsustain:Gl,fmvelocity:Wl,focus:qy,focusSpan:Xy,focusspan:Zy,fractionalArgs:_2,frameRate:Xp,frames:Zp,freeze:vp,freq:z1,freqToMidi:Lo,fromBipolar:Ny,fshift:pp,fshiftnote:mp,fshiftphase:dp,ftype:l1,func:Iy,gain:xl,gap:Br,gat:e0,gate:t0,getEventOffsetMs:F2,getFreq:$c,getFrequency:Jc,getPlayableNoteValue:x2,getSoundIndex:I2,getTime:mo,getTrigger:Wm,gt:My,gte:Py,harmonic:l0,hash2code:q2,hbrick:Tp,hcutoff:C1,hold:Ql,hours:Hp,hp:M1,hpa:Wh,hpattack:zh,hpd:Yh,hpdecay:Kh,hpe:Vh,hpenv:Rh,hpf:y1,hpq:P1,hpr:u1,hprelease:o1,hps:e1,hpsustain:t1,hresonance:b1,hsl:q3,hsla:W3,hurry:Yy,id:dr,imag:Bp,inhabit:HM,inhabitmod:YM,inside:Jy,inv:d3,invert:m3,ir:G0,irand:VM,iresponse:z0,isNote:rr,isNoteWithOctave:P2,isPattern:Xo,isaw:eu,isaw2:Im,iter:x3,iterBack:S3,iterback:k3,jux:D3,juxBy:b3,juxby:P3,kcutoff:Ap,keep:oy,keepif:uy,krush:gp,label:o0,lastOf:t3,late:dl,lbrick:Rp,legato:rm,leslie:n0,lfo:hm,linger:c3,listRange:jo,lock:_1,logKey:Vo,logger:Yt,loop:uh,loopAt:iM,loopAtCps:uM,loopBegin:ah,loopEnd:lh,loopat:sM,loopatcps:aM,loopb:ch,loope:hh,lp:_h,lpa:Gh,lpattack:Oh,lpd:Hh,lpdecay:Zh,lpe:Th,lpenv:Nh,lpf:kh,lpq:v1,lpr:s1,lprelease:i1,lps:Qh,lpsustain:Jh,lrate:r0,lsize:i0,lt:yy,lte:by,mapArgs:Go,mask:ny,midi2note:B2,midiToFreq:br,midibend:zp,midichan:Vp,midicmd:Kp,miditouch:Wp,minutes:Yp,mod:py,mode:_0,mouseX:BM,mouseY:FM,mousex:wM,mousey:EM,mtranspose:a0,mul:ly,n:Fl,nanFallback:Uc,ne:Ey,net:Fy,never:Ab,noise:f1,note:wl,noteToMidi:Wn,nothing:en,nudge:m0,numeralArgs:Se,objectMap:ol,octave:d0,octaveR:p0,octaves:k0,octer:Cp,octersub:yp,octersubsub:Mp,off:g3,offset:S0,often:mb,or:By,orbit:f0,outside:Qy,overgain:g0,overshape:A0,pairs:nl,palindrome:M3,pan:C0,panchor:Q1,panorient:P0,panspan:y0,pansplay:M0,panwidth:b0,parseFractional:el,parseNumeral:Oo,partials:xp,patt:q1,pattack:W1,pcurve:J1,pdec:Z1,pdecay:X1,penv:U1,perlin:rb,perlinWith:Om,ph:Mh,phasdp:wh,phaser:yh,phasercenter:Dh,phaserdepth:Eh,phaserrate:Ah,phasersweep:bh,phasr:Ch,phc:vh,phd:Fh,phs:Ph,pick:Tm,pickF:jM,pickOut:GM,pickReset:XM,pickRestart:WM,pickSqueeze:KM,pickmod:Rm,pickmodF:OM,pickmodOut:zM,pickmodReset:ZM,pickmodRestart:qM,pickmodSqueeze:$M,pipe:tl,pitchJump:cm,pitchJumpTime:lm,ply:Hy,pm:Q2,polyTouch:Gp,polyrhythm:U2,postgain:Sl,pow:my,pr:J2,prel:$1,prelease:Y1,press:y3,pressBy:C3,progNum:$p,psus:K1,psustain:H1,pure:le,rand:Ce,rand2:NM,randcat:QM,range:Ty,range2:Vy,rangex:Ry,rarely:db,rate:D0,ratio:Ly,rdim:L0,real:wp,ref:cM,register:z,registerControl:k,reify:nt,rel:Jl,release:Ul,removeUndefineds:wr,repeatCycles:_3,repeatTime:pm,repl:vb,resonance:D1,rev:fl,rfade:O0,ribbon:z3,ring:bp,ringdf:Dp,ringf:Pp,rlp:R0,room:N0,roomdim:V0,roomfade:j0,roomlp:T0,roomsize:W0,rotate:Qc,round:xy,rsize:Z0,run:_M,s:Pl,s_add:K3,s_alt:H3,s_cat:Ve,s_contract:U3,s_expand:$3,s_polymeter:Uo,s_polymeterSteps:Cl,s_sub:Y3,s_taper:Q3,s_taperlist:J3,s_tour:tM,saw:is,saw2:xm,scram:_p,seconds:Up,segment:l3,semitone:E0,seq:ml,sequence:Re,set:sy,setStringParser:al,setTime:au,shape:H0,signal:Ue,silence:kt,sine:Sm,sine2:nu,size:q0,slice:Ml,slide:v0,slow:$y,slowChunk:R3,slowcat:ir,slowcatPrime:Ho,slowchunk:T3,smear:kp,sol2note:O2,someCycles:pb,someCyclesBy:hb,sometimes:lb,sometimesBy:cb,songPtr:Jp,sound:Dl,source:vl,sparsity:Uy,speak:Mb,speed:ep,splice:rM,splitAt:zo,spread:V1,square:km,square2:PM,squeeze:UM,squiz:rp,src:El,stack:qt,stackBy:ty,stackCentre:hl,stackLeft:cl,stackRight:ll,steady:yM,steps:X3,stepsPerOctave:h0,striate:nM,struct:ry,stut:I3,stutWith:F3,stutwith:w3,sub:cy,superimpose:iy,sus:$l,sustain:Yl,sustainpedal:up,swing:p3,swingBy:h3,sz:X0,time:_m,timeCat:Jo,timecat:Z3,toBipolar:_y,tokenizeNote:Yc,tremdp:cp,tremolo:Am,tremolodepth:ap,tremolorate:lp,tremr:hp,tri:DM,tri2:vM,triode:fp,tsdelay:Fp,uid:Qp,undegrade:ab,undegradeBy:ub,unicodeToBase64:il,uniq:G2,uniqsort:z2,uniqsortr:rl,unison:R1,unit:np,v:d1,val:tm,valueToMidi:E2,velocity:Il,vib:p1,vibmod:g1,vibrato:m1,vmod:A1,voice:F0,vowel:ip,waveloss:sp,wchoose:eb,wchooseCycles:jm,when:f3,wrandcat:nb,xfade:bl,xsdelay:Ep,zcrush:fm,zdelay:gm,zipWith:Wo,zmod:dm,znoise:mm,zoom:o3,zoomArc:u3,zoomarc:a3,zrand:om,zzfx:Cm},Symbol.toStringTag,{value:"Module"}));let ce=[],wb=(t,r)=>{let i=[],o={get(){return o.lc||o.listen(()=>{})(),o.value},l:0,lc:0,listen(u,a){return o.lc=i.push(u,a||o.l)/2,()=>{let c=i.indexOf(u);~c&&(i.splice(c,2),--o.lc||o.off())}},notify(u){let a=!ce.length;for(let c=0;c<i.length;c+=2)ce.push(i[c],i[c+1],o.value,u);if(a){for(let c=0;c<ce.length;c+=4){let l;for(let p=c+1;!l&&(p+=4)<ce.length;)ce[p]<ce[c+1]&&(l=ce.push(ce[c],ce[c+1],ce[c+2],ce[c+3]));l||ce[c](ce[c+2],ce[c+3])}ce.length=0}},off(){},set(u){o.value!==u&&(o.value=u,o.notify())},subscribe(u,a){let c=o.listen(u,a);return u(o.value),c},value:t};return o},Bb=(t={})=>{let r=wb(t);return r.setKey=function(i,o){typeof o>"u"?i in r.value&&(r.value={...r.value},delete r.value[i],r.notify(i)):r.value[i]!==o&&(r.value={...r.value,[i]:o},r.notify(i))},r};if(typeof DelayNode<"u"){class t extends DelayNode{constructor(i,o,u,a){super(i),o=Math.abs(o),this.delayTime.value=u;const c=i.createGain();c.gain.value=Math.min(Math.abs(a),.995),this.feedback=c.gain;const l=i.createGain();return l.gain.value=o,this.delayGain=l,this.connect(c),this.connect(l),c.connect(this),this.connect=p=>l.connect(p),this}start(i){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,i+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(r,i,o){return new t(this,r,i,o)}}var cu={};cu.generateReverb=function(t,r){for(var i=t.audioContext||new AudioContext,o=i.sampleRate,u=t.numChannels||2,a=t.decayTime*1.5,c=Math.round(t.decayTime*o),l=Math.round(a*o),p=Math.round((t.fadeInTime||0)*o),d=Math.pow(1/1e3,1/c),f=i.createBuffer(u,l,o),g=0;g<u;g++){for(var A=f.getChannelData(g),P=0;P<l;P++)A[P]=Sb()*Math.pow(d,P);for(var P=0;P<p;P++)A[P]*=P/p}Ib(f,t.lpFreqStart||0,t.lpFreqEnd||0,t.decayTime,r)};cu.generateGraph=function(t,r,i,o,u){var a=document.createElement("canvas");a.width=r,a.height=i;var c=a.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,a.width,a.height),c.fillStyle="#fff";for(var l=r/t.length,p=i/(u-o),d=0;d<t.length;d++)c.fillRect(d*l,i-(t[d]-o)*p,1,1);return a};var Ib=function(t,r,i,o,u){if(r==0){u(t);return}var a=xb(t),c=new OfflineAudioContext(t.numberOfChannels,a[0].length,t.sampleRate),l=c.createBufferSource();l.buffer=t;var p=c.createBiquadFilter();r=Math.min(r,t.sampleRate/2),i=Math.min(i,t.sampleRate/2),p.type="lowpass",p.Q.value=1e-4,p.frequency.setValueAtTime(r,0),p.frequency.linearRampToValueAtTime(i,o),l.connect(p),p.connect(c.destination),l.start(),c.oncomplete=function(d){u(d.renderedBuffer)},c.startRendering(),window.filterNode=p},xb=function(t){for(var r=[],i=0;i<t.numberOfChannels;i++)r[i]=t.getChannelData(i);return r},Sb=function(){return Math.random()*2-1};typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(t,r){const i=r.sampleRate*t,o=this.createBuffer(r.numberOfChannels,r.length,r.sampleRate);for(let u=0;u<r.numberOfChannels;u++){let a=r.getChannelData(u),c=o.getChannelData(u);for(let l=0;l<i;l++)c[l]=a[l]||0}return o},AudioContext.prototype.createReverb=function(t,r,i,o,u){const a=this.createConvolver();return a.generate=(c=2,l=.1,p=15e3,d=1e3,f)=>{a.duration=c,a.fade=l,a.lp=p,a.dim=d,a.ir=f,f?a.buffer=this.adjustLength(c,f):cu.generateReverb({audioContext:this,numChannels:2,decayTime:c,fadeInTime:l,lpFreqStart:p,lpFreqEnd:d},g=>{a.buffer=g})},a.generate(t,r,i,o,u),a});var Da={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class t extends GainNode{constructor(i,o){if(super(i),!Da[o])throw new Error("vowel: unknown vowel "+o);const{gains:u,qs:a,freqs:c}=Da[o],l=i.createGain();for(let p=0;p<5;p++){const d=i.createGain();d.gain.value=u[p];const f=i.createBiquadFilter();f.type="bandpass",f.Q.value=a[p],f.frequency.value=c[p],this.connect(f),f.connect(d),d.connect(l)}return l.gain.value=8,this.connect=p=>l.connect(p),this}}AudioContext.prototype.createVowelFilter=function(r){return new t(this,r)}}let Xm=t=>console.log(t);const Ke=(...t)=>Xm(...t),Zm=t=>{Xm=t},kb=t=>{if(typeof t!="string")return[];const[r,i="",o]=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return r?[r,i,o?Number(o):void 0]:[]},_b={c:0,d:2,e:4,f:5,g:7,a:9,b:11},Nb={"#":1,b:-1,s:1,f:-1},os=(t,r=3)=>{const[i,o,u=r]=kb(t);if(!i)throw new Error('not a note: "'+t+'"');const a=_b[i.toLowerCase()],c=o?.split("").reduce((l,p)=>l+Nb[p],0)||0;return(Number(u)+1)*12+a+c},Hm=t=>Math.pow(2,(t-69)/12)*440,Pr=(t,r,i)=>Math.min(Math.max(t,r),i),Tb=t=>12*Math.log(t/440)/Math.LN2+69,Rb=(t,r)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:i,note:o}=t;return typeof i=="number"?Tb(i):typeof o=="string"?os(o):typeof o=="number"?o:r};function yn(t,r=0,i){return isNaN(Number(t))?(!i&&Ke(`"${t}" is not a number, falling back to ${r}`,"warning"),r):t}const Km=(t,r)=>(t%r+r)%r,va=(t,r)=>Km(Math.round(yn(t,0)),r),Vb="data:application/javascript;base64,Ly8gY29hcnNlLCBjcnVzaCwgYW5kIHNoYXBlIHByb2Nlc3NvcnMgYWRhcHRlZCBmcm9tIGRrdHIwJ3Mgd2ViZGlydDogaHR0cHM6Ly9naXRodWIuY29tL2RrdHIwL1dlYkRpcnQvYmxvYi81Y2UzZDY5ODM2MmM1NGQ2ZTFiNjhhY2M0N2ViMjk1NWFjNjJjNzkzL2Rpc3QvQXVkaW9Xb3JrbGV0cy5qcwovLyBMSUNFTlNFIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ka3RyMC9XZWJEaXJ0L2Jsb2IvbWFpbi9MSUNFTlNFCi8vIFRPRklYOiBUSElTIEZJTEUgRE9FUyBOT1QgU1VQUE9SVCBJTVBPUlRTIE9OIERFUE9MWU1FTlQKY29uc3QgY2xhbXAgPSAobnVtLCBtaW4sIG1heCkgPT4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpOwpjb25zdCBfbW9kID0gKG4sIG0pID0+ICgobiAlIG0pICsgbSkgJSBtOwoKY29uc3QgYmxvY2tTaXplID0gMTI4OwovLyBhZGp1c3Qgd2F2ZXNoYXBlIHRvIHJlbW92ZSBmcmVxdWVuY2llcyBhYm92ZSBueXF1aXN0IHRvIHByZXZlbnQgYWxpYXNpbmcKLy8gcmVmZXJlbmNlZCBmcm9tIGh0dHBzOi8vd3d3Lmt2cmF1ZGlvLmNvbS9mb3J1bS92aWV3dG9waWMucGhwP3Q9Mzc1NTE3CmZ1bmN0aW9uIHBvbHlCbGVwKHBoYXNlLCBkdCkgewogIC8vIDAgPD0gcGhhc2UgPCAxCiAgaWYgKHBoYXNlIDwgZHQpIHsKICAgIHBoYXNlIC89IGR0OwogICAgLy8gMiAqIChwaGFzZSAtIHBoYXNlXjIvMiAtIDAuNSkKICAgIHJldHVybiBwaGFzZSArIHBoYXNlIC0gcGhhc2UgKiBwaGFzZSAtIDE7CiAgfQoKICAvLyAtMSA8IHBoYXNlIDwgMAogIGVsc2UgaWYgKHBoYXNlID4gMSAtIGR0KSB7CiAgICBwaGFzZSA9IChwaGFzZSAtIDEpIC8gZHQ7CiAgICAvLyAyICogKHBoYXNlXjIvMiArIHBoYXNlICsgMC41KQogICAgcmV0dXJuIHBoYXNlICogcGhhc2UgKyBwaGFzZSArIHBoYXNlICsgMTsKICB9CgogIC8vIDAgb3RoZXJ3aXNlCiAgZWxzZSB7CiAgICByZXR1cm4gMDsKICB9Cn0KCmNvbnN0IHdhdmVzaGFwZXMgPSB7CiAgdHJpKHBoYXNlLCBza2V3ID0gMC41KSB7CiAgICBjb25zdCB4ID0gMSAtIHNrZXc7CiAgICBpZiAocGhhc2UgPj0gc2tldykgewogICAgICByZXR1cm4gMSAvIHggLSBwaGFzZSAvIHg7CiAgICB9CiAgICByZXR1cm4gcGhhc2UgLyBza2V3OwogIH0sCiAgc2luZShwaGFzZSkgewogICAgcmV0dXJuIE1hdGguc2luKE1hdGguUEkgKiAyICogcGhhc2UpICogMC41ICsgMC41OwogIH0sCiAgcmFtcChwaGFzZSkgewogICAgcmV0dXJuIHBoYXNlOwogIH0sCiAgc2F3KHBoYXNlKSB7CiAgICByZXR1cm4gMSAtIHBoYXNlOwogIH0sCgogIHNxdWFyZShwaGFzZSwgc2tldyA9IDAuNSkgewogICAgaWYgKHBoYXNlID49IHNrZXcpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICByZXR1cm4gMTsKICB9LAogIGN1c3RvbShwaGFzZSwgdmFsdWVzID0gWzAsIDFdKSB7CiAgICBjb25zdCBudW1QYXJ0cyA9IHZhbHVlcy5sZW5ndGggLSAxOwogICAgY29uc3QgY3VyclBhcnQgPSBNYXRoLmZsb29yKHBoYXNlICogbnVtUGFydHMpOwoKICAgIGNvbnN0IHBhcnRMZW5ndGggPSAxIC8gbnVtUGFydHM7CiAgICBjb25zdCBzdGFydFZhbCA9IGNsYW1wKHZhbHVlc1tjdXJyUGFydF0sIDAsIDEpOwogICAgY29uc3QgZW5kVmFsID0gY2xhbXAodmFsdWVzW2N1cnJQYXJ0ICsgMV0sIDAsIDEpOwogICAgY29uc3QgeTIgPSBlbmRWYWw7CiAgICBjb25zdCB5MSA9IHN0YXJ0VmFsOwogICAgY29uc3QgeDEgPSAwOwogICAgY29uc3QgeDIgPSBwYXJ0TGVuZ3RoOwogICAgY29uc3Qgc2xvcGUgPSAoeTIgLSB5MSkgLyAoeDIgLSB4MSk7CiAgICByZXR1cm4gc2xvcGUgKiAocGhhc2UgLSBwYXJ0TGVuZ3RoICogY3VyclBhcnQpICsgc3RhcnRWYWw7CiAgfSwKICBzYXdibGVwKHBoYXNlLCBkdCkgewogICAgY29uc3QgdiA9IDIgKiBwaGFzZSAtIDE7CiAgICByZXR1cm4gdiAtIHBvbHlCbGVwKHBoYXNlLCBkdCk7CiAgfSwKfTsKCmNvbnN0IHdhdmVTaGFwZU5hbWVzID0gT2JqZWN0LmtleXMod2F2ZXNoYXBlcyk7CmNsYXNzIExGT1Byb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsgbmFtZTogJ3RpbWUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAnZW5kJywgZGVmYXVsdFZhbHVlOiAwIH0sCiAgICAgIHsgbmFtZTogJ2ZyZXF1ZW5jeScsIGRlZmF1bHRWYWx1ZTogMC41IH0sCiAgICAgIHsgbmFtZTogJ3NrZXcnLCBkZWZhdWx0VmFsdWU6IDAuNSB9LAogICAgICB7IG5hbWU6ICdkZXB0aCcsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdwaGFzZW9mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdzaGFwZScsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdkY29mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2U7CiAgfQoKICBpbmNyZW1lbnRQaGFzZShkdCkgewogICAgdGhpcy5waGFzZSArPSBkdDsKICAgIGlmICh0aGlzLnBoYXNlID4gMS4wKSB7CiAgICAgIHRoaXMucGhhc2UgPSB0aGlzLnBoYXNlIC0gMTsKICAgIH0KICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbWV0ZXJzLmVuZFswXSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKICAgIGNvbnN0IGZyZXF1ZW5jeSA9IHBhcmFtZXRlcnNbJ2ZyZXF1ZW5jeSddWzBdOwoKICAgIGNvbnN0IHRpbWUgPSBwYXJhbWV0ZXJzWyd0aW1lJ11bMF07CiAgICBjb25zdCBkZXB0aCA9IHBhcmFtZXRlcnNbJ2RlcHRoJ11bMF07CiAgICBjb25zdCBza2V3ID0gcGFyYW1ldGVyc1snc2tldyddWzBdOwogICAgY29uc3QgcGhhc2VvZmZzZXQgPSBwYXJhbWV0ZXJzWydwaGFzZW9mZnNldCddWzBdOwoKICAgIGNvbnN0IGRjb2Zmc2V0ID0gcGFyYW1ldGVyc1snZGNvZmZzZXQnXVswXTsKICAgIGNvbnN0IHNoYXBlID0gd2F2ZVNoYXBlTmFtZXNbcGFyYW1ldGVyc1snc2hhcGUnXVswXV07CgogICAgY29uc3QgYmxvY2tTaXplID0gb3V0cHV0WzBdLmxlbmd0aCA/PyAwOwoKICAgIGlmICh0aGlzLnBoYXNlID09IG51bGwpIHsKICAgICAgdGhpcy5waGFzZSA9IF9tb2QodGltZSAqIGZyZXF1ZW5jeSArIHBoYXNlb2Zmc2V0LCAxKTsKICAgIH0KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgY29uc3QgZHQgPSBmcmVxdWVuY3kgLyBzYW1wbGVSYXRlOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG1vZHZhbCA9ICh3YXZlc2hhcGVzW3NoYXBlXSh0aGlzLnBoYXNlLCBza2V3KSArIGRjb2Zmc2V0KSAqIGRlcHRoOwogICAgICAgIG91dHB1dFtpXVtuXSA9IG1vZHZhbDsKICAgICAgfQogICAgICB0aGlzLmluY3JlbWVudFBoYXNlKGR0KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2xmby1wcm9jZXNzb3InLCBMRk9Qcm9jZXNzb3IpOwoKY2xhc3MgQ29hcnNlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjb2Fyc2UnLCBkZWZhdWx0VmFsdWU6IDEgfV07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IGNvYXJzZSA9IHBhcmFtZXRlcnMuY29hcnNlWzBdID8/IDA7CiAgICBjb2Fyc2UgPSBNYXRoLm1heCgxLCBjb2Fyc2UpOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gbiAlIGNvYXJzZSA9PT0gMCA/IGlucHV0W2ldW25dIDogb3V0cHV0W2ldW24gLSAxXTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQp9CnJlZ2lzdGVyUHJvY2Vzc29yKCdjb2Fyc2UtcHJvY2Vzc29yJywgQ29hcnNlUHJvY2Vzc29yKTsKCmNsYXNzIENydXNoUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjcnVzaCcsIGRlZmF1bHRWYWx1ZTogMCB9XTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBsZXQgY3J1c2ggPSBwYXJhbWV0ZXJzLmNydXNoWzBdID8/IDg7CiAgICBjcnVzaCA9IE1hdGgubWF4KDEsIGNydXNoKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB4ID0gTWF0aC5wb3coMiwgY3J1c2ggLSAxKTsKICAgICAgICBvdXRwdXRbaV1bbl0gPSBNYXRoLnJvdW5kKGlucHV0W2ldW25dICogeCkgLyB4OwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2NydXNoLXByb2Nlc3NvcicsIENydXNoUHJvY2Vzc29yKTsKCmNsYXNzIFNoYXBlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnc2hhcGUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAncG9zdGdhaW4nLCBkZWZhdWx0VmFsdWU6IDEgfSwKICAgIF07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IHNoYXBlID0gcGFyYW1ldGVycy5zaGFwZVswXTsKICAgIHNoYXBlID0gc2hhcGUgPCAxID8gc2hhcGUgOiAxLjAgLSA0ZS0xMDsKICAgIHNoYXBlID0gKDIuMCAqIHNoYXBlKSAvICgxLjAgLSBzaGFwZSk7CiAgICBjb25zdCBwb3N0Z2FpbiA9IE1hdGgubWF4KDAuMDAxLCBNYXRoLm1pbigxLCBwYXJhbWV0ZXJzLnBvc3RnYWluWzBdKSk7CgogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gKCgoMSArIHNoYXBlKSAqIGlucHV0W2ldW25dKSAvICgxICsgc2hhcGUgKiBNYXRoLmFicyhpbnB1dFtpXVtuXSkpKSAqIHBvc3RnYWluOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ3NoYXBlLXByb2Nlc3NvcicsIFNoYXBlUHJvY2Vzc29yKTsKCmZ1bmN0aW9uIGZhc3RfdGFuaCh4KSB7CiAgY29uc3QgeDIgPSB4ICogeDsKICByZXR1cm4gKHggKiAoMjcuMCArIHgyKSkgLyAoMjcuMCArIDkuMCAqIHgyKTsKfQpjb25zdCBfUEkgPSAzLjE0MTU5MjY1MzU5OwovL2FkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vVGhlQm91dGVpbGxhY0JlYXIvd2ViYXVkaW93b3JrbGV0LXdhc20/dGFiPU1JVC0xLW92LWZpbGUKY2xhc3MgTGFkZGVyUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZnJlcXVlbmN5JywgZGVmYXVsdFZhbHVlOiA1MDAgfSwKICAgICAgeyBuYW1lOiAncScsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdkcml2ZScsIGRlZmF1bHRWYWx1ZTogMC42OSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogICAgdGhpcy5wMCA9IFswLCAwXTsKICAgIHRoaXMucDEgPSBbMCwgMF07CiAgICB0aGlzLnAyID0gWzAsIDBdOwogICAgdGhpcy5wMyA9IFswLCAwXTsKICAgIHRoaXMucDMyID0gWzAsIDBdOwogICAgdGhpcy5wMzMgPSBbMCwgMF07CiAgICB0aGlzLnAzNCA9IFswLCAwXTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHRoaXMuc3RhcnRlZCA9IGhhc0lucHV0OwoKICAgIGNvbnN0IHJlc29uYW5jZSA9IHBhcmFtZXRlcnMucVswXTsKICAgIGNvbnN0IGRyaXZlID0gY2xhbXAoTWF0aC5leHAocGFyYW1ldGVycy5kcml2ZVswXSksIDAuMSwgMjAwMCk7CgogICAgbGV0IGN1dG9mZiA9IHBhcmFtZXRlcnMuZnJlcXVlbmN5WzBdOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICBjdXRvZmYgPSAoY3V0b2ZmICogMiAqIF9QSSkgLyBzYW1wbGVSYXRlOwogICAgY3V0b2ZmID0gY3V0b2ZmID4gMSA/IDEgOiBjdXRvZmY7CgogICAgY29uc3QgayA9IE1hdGgubWluKDgsIHJlc29uYW5jZSAqIDAuNCk7CiAgICAvLyAgICAgICAgICAgICAgIGRyaXZlIG1ha2V1cCAgKiByZXNvbmFuY2Ugdm9sdW1lIGxvc3MgbWFrZXVwCiAgICBsZXQgbWFrZXVwZ2FpbiA9ICgxIC8gZHJpdmUpICogTWF0aC5taW4oMS43NSwgMSArIGspOwoKICAgIGZvciAobGV0IG4gPSAwOyBuIDwgYmxvY2tTaXplOyBuKyspIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG91dCA9IHRoaXMucDNbaV0gKiAwLjM2MDg5MSArIHRoaXMucDMyW2ldICogMC40MTcyOSArIHRoaXMucDMzW2ldICogMC4xNzc4OTYgKyB0aGlzLnAzNFtpXSAqIDAuMDQzOTcyNTsKCiAgICAgICAgdGhpcy5wMzRbaV0gPSB0aGlzLnAzM1tpXTsKICAgICAgICB0aGlzLnAzM1tpXSA9IHRoaXMucDMyW2ldOwogICAgICAgIHRoaXMucDMyW2ldID0gdGhpcy5wM1tpXTsKCiAgICAgICAgdGhpcy5wMFtpXSArPSAoZmFzdF90YW5oKGlucHV0W2ldW25dICogZHJpdmUgLSBrICogb3V0KSAtIGZhc3RfdGFuaCh0aGlzLnAwW2ldKSkgKiBjdXRvZmY7CiAgICAgICAgdGhpcy5wMVtpXSArPSAoZmFzdF90YW5oKHRoaXMucDBbaV0pIC0gZmFzdF90YW5oKHRoaXMucDFbaV0pKSAqIGN1dG9mZjsKICAgICAgICB0aGlzLnAyW2ldICs9IChmYXN0X3RhbmgodGhpcy5wMVtpXSkgLSBmYXN0X3RhbmgodGhpcy5wMltpXSkpICogY3V0b2ZmOwogICAgICAgIHRoaXMucDNbaV0gKz0gKGZhc3RfdGFuaCh0aGlzLnAyW2ldKSAtIGZhc3RfdGFuaCh0aGlzLnAzW2ldKSkgKiBjdXRvZmY7CgogICAgICAgIG91dHB1dFtpXVtuXSA9IG91dCAqIG1ha2V1cGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignbGFkZGVyLXByb2Nlc3NvcicsIExhZGRlclByb2Nlc3Nvcik7CgpjbGFzcyBEaXN0b3J0UHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZGlzdG9ydCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdwb3N0Z2FpbicsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBjb25zdCBzaGFwZSA9IE1hdGguZXhwbTEocGFyYW1ldGVycy5kaXN0b3J0WzBdKTsKICAgIGNvbnN0IHBvc3RnYWluID0gTWF0aC5tYXgoMC4wMDEsIE1hdGgubWluKDEsIHBhcmFtZXRlcnMucG9zdGdhaW5bMF0pKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBvdXRwdXRbaV1bbl0gPSAoKCgxICsgc2hhcGUpICogaW5wdXRbaV1bbl0pIC8gKDEgKyBzaGFwZSAqIE1hdGguYWJzKGlucHV0W2ldW25dKSkpICogcG9zdGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignZGlzdG9ydC1wcm9jZXNzb3InLCBEaXN0b3J0UHJvY2Vzc29yKTsKCi8vIFNVUEVSU0FXCmZ1bmN0aW9uIGxlcnAoYSwgYiwgbikgewogIHJldHVybiBuICogKGIgLSBhKSArIGE7Cn0KCmZ1bmN0aW9uIGdldFVuaXNvbkRldHVuZSh1bmlzb24sIGRldHVuZSwgdm9pY2VJbmRleCkgewogIGlmICh1bmlzb24gPCAyKSB7CiAgICByZXR1cm4gMDsKICB9CiAgcmV0dXJuIGxlcnAoLWRldHVuZSAqIDAuNSwgZGV0dW5lICogMC41LCB2b2ljZUluZGV4IC8gKHVuaXNvbiAtIDEpKTsKfQpjbGFzcyBTdXBlclNhd09zY2lsbGF0b3JQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2UgPSBbXTsKICB9CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsKICAgICAgICBuYW1lOiAnYmVnaW4nLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMCwKICAgICAgICBtYXg6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwKICAgICAgICBtaW46IDAsCiAgICAgIH0sCgogICAgICB7CiAgICAgICAgbmFtZTogJ2VuZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1heDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXVlbmN5JywKICAgICAgICBkZWZhdWx0VmFsdWU6IDQ0MCwKICAgICAgICBtaW46IE51bWJlci5FUFNJTE9OLAogICAgICB9LAoKICAgICAgewogICAgICAgIG5hbWU6ICdwYW5zcHJlYWQnLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMC40LAogICAgICAgIG1pbjogMCwKICAgICAgICBtYXg6IDEsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXNwcmVhZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLjIsCiAgICAgICAgbWluOiAwLAogICAgICB9LAogICAgICB7CiAgICAgICAgbmFtZTogJ2RldHVuZScsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAndm9pY2VzJywKICAgICAgICBkZWZhdWx0VmFsdWU6IDUsCiAgICAgICAgbWluOiAxLAogICAgICB9LAogICAgXTsKICB9CiAgcHJvY2VzcyhpbnB1dCwgb3V0cHV0cywgcGFyYW1zKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA8PSBwYXJhbXMuYmVnaW5bMF0pIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbXMuZW5kWzBdKSB7CiAgICAgIC8vIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IHR5cGU6ICdvbmVuZGVkJyB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgbGV0IGZyZXF1ZW5jeSA9IHBhcmFtcy5mcmVxdWVuY3lbMF07CiAgICAvL2FwcGx5IGRldHVuZSBpbiBjZW50cwogICAgZnJlcXVlbmN5ID0gZnJlcXVlbmN5ICogTWF0aC5wb3coMiwgcGFyYW1zLmRldHVuZVswXSAvIDEyMDApOwoKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCB2b2ljZXMgPSBwYXJhbXMudm9pY2VzWzBdOwogICAgY29uc3QgZnJlcXNwcmVhZCA9IHBhcmFtcy5mcmVxc3ByZWFkWzBdOwogICAgY29uc3QgcGFuc3ByZWFkID0gcGFyYW1zLnBhbnNwcmVhZFswXSAqIDAuNSArIDAuNTsKICAgIGNvbnN0IGdhaW4xID0gTWF0aC5zcXJ0KDEgLSBwYW5zcHJlYWQpOwogICAgY29uc3QgZ2FpbjIgPSBNYXRoLnNxcnQocGFuc3ByZWFkKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHZvaWNlczsgbisrKSB7CiAgICAgIGNvbnN0IGlzT2RkID0gKG4gJiAxKSA9PSAxOwoKICAgICAgLy9hcHBsaWVzIHVuaXNvbiAic3ByZWFkIiBkZXR1bmUgaW4gc2VtaXRvbmVzCiAgICAgIGNvbnN0IGZyZXEgPSBmcmVxdWVuY3kgKiBNYXRoLnBvdygyLCBnZXRVbmlzb25EZXR1bmUodm9pY2VzLCBmcmVxc3ByZWFkLCBuKSAvIDEyKTsKICAgICAgbGV0IGdhaW5MID0gZ2FpbjE7CiAgICAgIGxldCBnYWluUiA9IGdhaW4yOwogICAgICAvLyBpbnZlcnQgcmlnaHQgYW5kIGxlZnQgZ2FpbgogICAgICBpZiAoaXNPZGQpIHsKICAgICAgICBnYWluTCA9IGdhaW4yOwogICAgICAgIGdhaW5SID0gZ2FpbjE7CiAgICAgIH0KICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIGNvbnN0IGR0ID0gZnJlcSAvIHNhbXBsZVJhdGU7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dFswXS5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMucGhhc2Vbbl0gPSB0aGlzLnBoYXNlW25dID8/IE1hdGgucmFuZG9tKCk7CiAgICAgICAgY29uc3QgdiA9IHdhdmVzaGFwZXMuc2F3YmxlcCh0aGlzLnBoYXNlW25dLCBkdCk7CgogICAgICAgIG91dHB1dFswXVtpXSA9IG91dHB1dFswXVtpXSArIHYgKiBnYWluTDsKICAgICAgICBvdXRwdXRbMV1baV0gPSBvdXRwdXRbMV1baV0gKyB2ICogZ2FpblI7CgogICAgICAgIHRoaXMucGhhc2Vbbl0gKz0gZHQ7CgogICAgICAgIGlmICh0aGlzLnBoYXNlW25dID4gMS4wKSB7CiAgICAgICAgICB0aGlzLnBoYXNlW25dID0gdGhpcy5waGFzZVtuXSAtIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCnJlZ2lzdGVyUHJvY2Vzc29yKCdzdXBlcnNhdy1vc2NpbGxhdG9yJywgU3VwZXJTYXdPc2NpbGxhdG9yUHJvY2Vzc29yKTsK";function kn(t){const r=It().createGain();return r.gain.value=t,r}const Ea=(t,r,i,o)=>o-i===0?0:(r-t)/(o-i);function Nn(t,r,i,o){const u=new AudioWorkletNode(t,r,o);return Object.entries(i).forEach(([a,c])=>{u.parameters.get(a).value=c}),u}const Rn=(t,r,i,o,u,a,c,l,p,d="exponential")=>{r=yn(r),i=yn(i),o=yn(o),u=yn(u);const f=d==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";d==="exponential"&&(a=a===0?.001:a,c=c===0?.001:c);const g=c-a,A=c,P=a+o*g,E=p-l,F=S=>{let N;if(r>S){let L=Ea(a,A,0,r);N=S*L+(a>A?a:0)}else N=(S-r)*Ea(A,P,0,i)+A;return d==="exponential"&&(N=N||.001),N};t.setValueAtTime(a,l),r>E?t[f](F(E),p):r+i>E?(t[f](F(r),l+r),t[f](F(E),p)):(t[f](F(r),l+r),t[f](F(r+i),l+r+i),t.setValueAtTime(P,p)),t[f](a,p+u)};function Ym(t,r,i,o,u,a){const c={threshold:r??-3,ratio:i??10,knee:o??10,attack:u??.005,release:a??.05};return new DynamicsCompressorNode(t,c)}const Vn=(t,r="linear",i)=>{const[o,u,a,c]=t;if(o==null&&u==null&&a==null&&c==null)return i??[.001,.001,1,.01];const l=a??(o!=null&&u==null||o==null&&u==null?1:.001);return[Math.max(o??0,.001),Math.max(u??0,.001),Math.min(l,1),Math.max(c??0,.01)]};function ki(t,r,i,o,u,a,c,l,p,d,f,g,A,P){const E="exponential",[F,S,N,L]=Vn([u,a,c,l],E,[.005,.14,0,.1]);let K,_;if(A==="ladder"?(K=Nn(t,"ladder-processor",{frequency:i,q:o,drive:P}),_=K.parameters.get("frequency")):(K=t.createBiquadFilter(),K.type=r,K.Q.value=o,K.frequency.value=i,_=K.frequency),(u??a??c??l??p)!==void 0){p=yn(p,1,!0),g=yn(g,0,!0);const x=Math.abs(p),R=x*g;let T=Pr(2**-R*i,0,2e4),G=Pr(2**(x-R)*i,0,2e4);return p<0&&([T,G]=[G,T]),Rn(_,F,S,N,L,T,G,d,f,E),K}return K}let Fa=t=>t<.5?1:1-(t-.5)/.5;function $m(t,r,i=0){const o=It();if(!i)return t;let u=o.createGain(),a=o.createGain();t.connect(u),r.connect(a),u.gain.value=Fa(i),a.gain.value=Fa(1-i);let c=o.createGain();return u.connect(c),a.connect(c),c}let Lb=["linear","exponential"];function us(t,r,i,o){if(!(r.pattack??r.pdecay??r.psustain??r.prelease??r.penv))return;const u=yn(r.penv,1,!0),a=Lb[r.pcurve??0];let[c,l,p,d]=Vn([r.pattack,r.pdecay,r.psustain,r.prelease],a,[.2,.001,1,.001]),f=r.panchor??p;const g=u*100,A=0-g*f,P=g-g*f;Rn(t,c,l,p,d,A,P,i,o,a)}function as(t,r,i){const{vibmod:o=.5,vib:u}=r;let a;if(u>0){a=It().createOscillator(),a.frequency.value=u;const c=It().createGain();return c.gain.value=o*100,a.connect(c),c.connect(t),a.start(i),a}}function Um(t,r,i,o){const u=t.createConstantSource();u.start(i),u.stop(o),u.onended=()=>{r()}}const jb=(t,r=1,i="sine")=>{const o=It(),u=o.createOscillator();u.type=i,u.frequency.value=t,u.start();const a=new GainNode(o,{gain:r});return u.connect(a),{node:a,stop:c=>u.stop(c)}},Ob=(t,r,i,o="sine")=>{const u=t.value*r,a=u*i;return jb(u,a,o)};function lu(t,r,i){const{fmh:o=1,fmi:u,fmenv:a="exp",fmattack:c,fmdecay:l,fmsustain:p,fmrelease:d,fmvelocity:f,fmwave:g="sine",duration:A}=r;let P,E=()=>{};if(u){const F=It().createGain(),S=Ob(t,o,u,g);if(P=S.node,E=S.stop,![c,l,p,d,f].find(N=>N!==void 0))P.connect(t);else{const[N,L,K,_]=Vn([c,l,p,d]),x=i+A;Rn(F.gain,N,L,K,_,0,1,i,x,a==="exp"?"exponential":"linear"),P.connect(F),F.connect(t)}}return{stop:E}}const hu={},Ls={},Gb=t=>hu[t];function zb(t,r){var i=1024;if(t<i)return t+" B";var o=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],u=-1;do t/=i,++u;while(t>=i);return t.toFixed(1)+" "+o[u]}const Jm=async(t,r,i,o,u,a,c)=>{let l=0;u!==void 0&&i!==void 0&&Ke("[sampler] hap has note and freq. ignoring note","warning");let p=Rb({freq:u,note:i},36);l=p-36;const d=It();let f,g=0;if(Array.isArray(a))g=va(r,a.length),f=a[g];else{const F=N=>os(N)-p,S=Object.keys(a).filter(N=>!N.startsWith("_")).reduce((N,L,K)=>!N||Math.abs(F(L))<Math.abs(F(N))?L:N,null);l=-F(S),g=va(r,a[S].length),f=a[S][g]}c&&(f=await c(f));let A=await pu(f,d,t,g);o<0&&(A=Qm(A));const P=d.createBufferSource();P.buffer=A;const E=1*Math.pow(2,l/12);return P.playbackRate.value=E,P},pu=(t,r,i,o=0)=>{const u=i?`sound "${i}:${o}"`:"sample";if(t=t.replace("#","%23"),!Ls[t]){Ke(`[sampler] load ${u}..`,"load-sample",{url:t});const a=Date.now();Ls[t]=fetch(t).then(c=>c.arrayBuffer()).then(async c=>{const l=Date.now()-a,p=zb(c.byteLength);Ke(`[sampler] load ${u}... done! loaded ${p} in ${l}ms`,"loaded-sample",{url:t});const d=await r.decodeAudioData(c);return hu[t]=d,d})}return Ls[t]};function Qm(t){const r=It(),i=r.createBuffer(t.numberOfChannels,t.length,r.sampleRate);for(let o=0;o<t.numberOfChannels;o++)i.copyToChannel(t.getChannelData(o).slice().reverse(),o,o);return i}const Wb=t=>hu[t];function td(t){if(t.startsWith("bubo:")){const[r,i]=t.split(":");t=`github:Bubobubobubobubo/dough-${i}`}return t}function ed(t,r=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[i,o]=t.split("github:");return o=o.endsWith("/")?o.slice(0,-1):o,o.split("/").length===2&&(o+="/main"),`https://raw.githubusercontent.com/${o}/${r}`}const nd=(t,r,i=t._base||"")=>Object.entries(t).forEach(([o,u])=>{if(typeof u=="string"&&(u=[u]),typeof u!="object")throw new Error("wrong sample map format for "+o);i=u._base||i,i=td(i),i.startsWith("github:")&&(i=ed(i,""));const a=c=>i+c;Array.isArray(u)?u=u.map(a):u=Object.fromEntries(Object.entries(u).map(([c,l])=>[c,(typeof l=="string"?[l]:l).map(a)])),r(o,u)});let rd={};function qb(t,r){rd[t]=r}function Xb(t){const r=Object.entries(rd).find(([i])=>t.startsWith(i));if(r)return r[1]}const id=async(t,r=t._base||"",i={})=>{if(typeof t=="string"){const a=Xb(t);if(a)return a(t);if(t=td(t),t.startsWith("github:")&&(t=ed(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),t.startsWith("shabda:")){let[l,p]=t.split("shabda:");t=`https://shabda.ndre.gr/${p}.json?strudel=1`}if(t.startsWith("shabda/speech")){let[l,p]=t.split("shabda/speech");p=p.startsWith("/")?p.substring(1):p;let[d,f]=p.split(":"),g="f",A="en-GB";d&&([A,g]=d.split("/")),t=`https://shabda.ndre.gr/speech/${f}.json?gender=${g}&language=${A}&strudel=1'`}if(typeof fetch!="function")return;const c=t.split("/").slice(0,-1).join("/");return typeof fetch>"u"?void 0:fetch(t).then(l=>l.json()).then(l=>id(l,r||l._base||c,i)).catch(l=>{throw console.error(l),new Error(`error loading "${t}"`)})}const{prebake:o,tag:u}=i;nd(t,(a,c)=>Cr(a,(l,p,d)=>sd(l,p,d,c),{type:"sample",samples:c,baseUrl:r,prebake:o,tag:u}),r)},wa=[];async function sd(t,r,i,o,u){let{s:a,freq:c,unit:l,nudge:p=0,cut:d,loop:f,clip:g=void 0,n:A=0,note:P,speed:E=1,loopBegin:F=0,begin:S=0,loopEnd:N=1,end:L=1,duration:K}=r;if(E===0)return;f=a.startsWith("wt_")?1:r.loop;const _=It();let[x,R,T,G]=Vn([r.attack,r.decay,r.sustain,r.release]);const H=t+p,W=await Jm(a,A,P,E,c,o,u);let J=as(W.detune,r,t);if(_.currentTime>t){Ke(`[sampler] still loading sound "${a}:${A}"`,"highlight");return}if(!W){Ke(`[sampler] could not load "${a}:${A}"`,"error");return}W.playbackRate.value=Math.abs(E)*W.playbackRate.value,l==="c"&&(W.playbackRate.value=W.playbackRate.value*W.buffer.duration*1);const X=S*W.buffer.duration;f&&(W.loop=!0,W.loopStart=F*W.buffer.duration-X,W.loopEnd=N*W.buffer.duration-X),W.start(H,X);const Z=_.createGain(),$=W.connect(Z);if(g==null&&f==null&&r.release==null){const xt=W.buffer.duration/W.playbackRate.value;K=(L-S)*xt}let gt=t+K;Rn($.gain,x,R,T,G,0,1,t,gt,"linear"),us(W.detune,r,t,gt);const ot=_.createGain();$.connect(ot),W.onended=function(){W.disconnect(),J?.stop(),$.disconnect(),ot.disconnect(),i()};let dt=gt+G+.01;W.stop(dt);const ht={node:ot,bufferSource:W,stop:(xt,me)=>{}};if(d!==void 0){const xt=wa[d];xt&&(xt.node.gain.setValueAtTime(1,H),xt.node.gain.linearRampToValueAtTime(0,H+.01)),wa[d]=ht}return ht}const cs=Bb();function Cr(t,r,i={}){cs.setKey(t,{onTrigger:r,data:i})}function _i(t){return cs.get()[t]}const od={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,delay:0,delayfeedback:.5,delaytime:.25,orbit:1,i:1,velocity:1,fft:8};let mu=new Map(Object.entries(od));function du(t,r){mu.set(t,r)}function Kt(t){return mu.get(t)}function Zb(t){Object.keys(t).forEach(r=>{du(r,t[r])})}function ud(){mu=new Map(Object.entries(od))}function Hb(t){ud(),t==="1.0"&&du("fanchor",.5)}const Kb=()=>cs.set({});let fo;const ad=()=>(fo=new AudioContext,fo),It=()=>fo||ad();let js;function Yb(){return js||(js=It().audioWorklet.addModule(Vb)),js}async function cd(t={}){const{disableWorklets:r=!1}=t;if(!(typeof window>"u")){if(await It().resume(),r){Ke("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await Yb(),Ke("[superdough] AudioWorklets loaded")}catch(i){console.warn("could not load AudioWorklet effects",i)}Ke("[superdough] ready")}}let Os;async function ld(t){return Os||(Os=new Promise(r=>{document.addEventListener("click",async function i(){document.removeEventListener("click",i),await cd(t),r()})})),Os}let Sn={},zi,yr;function hd(){const t=It(),r=t.destination.maxChannelCount;t.destination.channelCount=r,zi=new ChannelMergerNode(t,{numberOfInputs:t.destination.channelCount}),yr=new GainNode(t),zi.connect(yr),yr.connect(t.destination)}const ls=(t,r=[0,1])=>{const i=It();zi==null&&hd();const o=new StereoPannerNode(i);t.connect(o);const u=new ChannelSplitterNode(i,{numberOfOutputs:o.channelCount});o.connect(u),r.forEach((a,c)=>{u.connect(zi,c%o.channelCount,Pr(a,0,i.destination.channelCount-1))})},$b=()=>{yr!=null&&(yr.gain.linearRampToValueAtTime(0,It().currentTime+.01),yr=null)};function Ub(t,r,i,o){if(i=Pr(i,0,.98),!Sn[t]){const u=It().createFeedbackDelay(1,r,i);u.start?.(o),ls(u,[0,1]),Sn[t]=u}return Sn[t].delayTime.value!==r&&Sn[t].delayTime.setValueAtTime(r,o),Sn[t].feedback.value!==i&&Sn[t].feedback.setValueAtTime(i,o),Sn[t]}function Jb(t,r,i=1,o=.5,u=1e3,a=2e3){const c=It(),l=c.createGain();l.gain.value=a*2,Nn(c,"lfo-processor",{frequency:i,depth:1,skew:0,phaseoffset:0,time:t,end:r,shape:1,dcoffset:-.5}).connect(l);const p=2;let d=0;const f=[];for(let g=0;g<p;g++){const A=c.createBiquadFilter();A.type="notch",A.gain.value=1,A.frequency.value=u+d,A.Q.value=2-Math.min(Math.max(o*2,0),1.9),l.connect(A.detune),d+=282,g>0&&f[g-1].connect(A),f.push(A)}return f[f.length-1]}function Qb(t){t=t??0;const r=["12db","ladder","24db"];return typeof t=="number"?r[Math.floor(Km(t,r.length))]:t}let Qe={},Ei=(t,r)=>t!==void 0&&t!==r;function tP(t,r,i,o,u,a){if(!Qe[t]){const c=It().createReverb(r,i,o,u,a);ls(c,[0,1]),Qe[t]=c}return(Ei(r,Qe[t].duration)||Ei(i,Qe[t].fade)||Ei(o,Qe[t].lp)||Ei(u,Qe[t].dim)||Qe[t].ir!==a)&&Qe[t].generate(r,i,o,u,a),Qe[t]}let Ae={},$n={};function pd(t,r=1024){if(!Ae[t]){const i=It().createAnalyser();i.fftSize=r,Ae[t]=i,$n[t]=new Float32Array(Ae[t].frequencyBinCount)}return Ae[t].fftSize!==r&&(Ae[t].fftSize=r,$n[t]=new Float32Array(Ae[t].frequencyBinCount)),Ae[t]}function fu(t="time",r=1){const i={time:()=>Ae[r]?.getFloatTimeDomainData($n[r]),frequency:()=>Ae[r]?.getFloatFrequencyData($n[r])}[t];if(!i)throw new Error(`getAnalyzerData: ${t} not supported. use one of ${Object.keys(i).join(", ")}`);return i(),$n[r]}function Gs(t,r,i){const o=kn(i);return t.connect(o),o.connect(r),o}function eP(){Sn={},Qe={},Ae={},$n={}}const hs=async(t,r,i)=>{const o=It();if(typeof t!="object")throw new Error(`expected hap.value to be an object, but got "${t}". Hint: append .note() or .s() to the end`,"error");if(t.duration=i,r=typeof r=="string"&&r.startsWith("=")?Number(r.slice(1)):o.currentTime+r,r<o.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${r.toFixed(2)}, now: ${o.currentTime.toFixed(2)})`);return}let{s:u=Kt("s"),bank:a,source:c,gain:l=Kt("gain"),postgain:p=Kt("postgain"),density:d=Kt("density"),fanchor:f=Kt("fanchor"),drive:g=.69,cutoff:A,lpenv:P,lpattack:E,lpdecay:F,lpsustain:S,lprelease:N,resonance:L=Kt("resonance"),hpenv:K,hcutoff:_,hpattack:x,hpdecay:R,hpsustain:T,hprelease:G,hresonance:H=Kt("hresonance"),bpenv:W,bandf:J,bpattack:X,bpdecay:Z,bpsustain:$,bprelease:gt,bandq:ot=Kt("bandq"),channels:dt=Kt("channels"),phaser:ht,phaserdepth:xt=Kt("phaserdepth"),phasersweep:me,phasercenter:te,coarse:Y,crush:ee,shape:ae,shapevol:ve=Kt("shapevol"),distort:wt,distortvol:$t=Kt("distortvol"),pan:Dt,vowel:Zt,delay:Me=Kt("delay"),delayfeedback:be=Kt("delayfeedback"),delaytime:Nt=Kt("delaytime"),orbit:En=Kt("orbit"),room:Tt,roomfade:Fn,roomlp:Ee,roomdim:Ge,roomsize:un,ir:an,i:cn=Kt("i"),velocity:wn=Kt("velocity"),analyze:ln,fft:ze=Kt("fft"),compressor:We,compressorRatio:Mt,compressorKnee:Ot,compressorAttack:lt,compressorRelease:Xt}=t;l=yn(l,1),dt=(Array.isArray(dt)?dt:[dt]).map(pt=>pt-1),l*=wn;let Rt=[];const jr=()=>{Rt.forEach(pt=>pt?.disconnect())};a&&u&&(u=`${a}_${u}`);let Bn;if(c)Bn=c(r,t,i);else if(_i(u)){const{onTrigger:pt}=_i(u),Gt=await pt(r,t,jr);Gt&&(Bn=Gt.node,Gt.stop(r+i))}else throw new Error(`sound ${u} not found! Is it loaded?`);if(!Bn)return;if(o.currentTime>r){Ke("[webaudio] skip hap: still loading",o.currentTime-r);return}const vt=[];vt.push(Bn),vt.push(kn(l));const hn=Qb(t.ftype);if(A!==void 0){let pt=()=>ki(o,"lowpass",A,L,E,F,S,N,P,r,r+i,f,hn,g);vt.push(pt()),hn==="24db"&&vt.push(pt())}if(_!==void 0){let pt=()=>ki(o,"highpass",_,H,x,R,T,G,K,r,r+i,f);vt.push(pt()),hn==="24db"&&vt.push(pt())}if(J!==void 0){let pt=()=>ki(o,"bandpass",J,ot,X,Z,$,gt,W,r,r+i,f);vt.push(pt()),hn==="24db"&&vt.push(pt())}if(Zt!==void 0){const pt=o.createVowelFilter(Zt);vt.push(pt)}if(Y!==void 0&&vt.push(Nn(o,"coarse-processor",{coarse:Y})),ee!==void 0&&vt.push(Nn(o,"crush-processor",{crush:ee})),ae!==void 0&&vt.push(Nn(o,"shape-processor",{shape:ae,postgain:ve})),wt!==void 0&&vt.push(Nn(o,"distort-processor",{distort:wt,postgain:$t})),We!==void 0&&vt.push(Ym(o,We,Mt,Ot,lt,Xt)),Dt!==void 0){const pt=o.createStereoPanner();pt.pan.value=2*Dt-1,vt.push(pt)}if(ht!==void 0&&xt>0){const pt=Jb(r,r+i,ht,xt,te,me);vt.push(pt)}const de=new GainNode(o,{gain:p});vt.push(de),ls(de,dt);let Vt;if(Me>0&&Nt>0&&be>0){const pt=Ub(En,Nt,be,r);Vt=Gs(de,pt,Me)}let Kn;if(Tt>0){let pt;if(an!==void 0){let Fe,fe=_i(an);Array.isArray(fe)?Fe=fe.data.samples[cn%fe.data.samples.length]:typeof fe=="object"&&(Fe=Object.values(fe.data.samples).flat()[cn%Object.values(fe.data.samples).length]),pt=await pu(Fe,o,an,0)}const Gt=tP(En,un,Fn,Ee,Ge,pt);Kn=Gs(de,Gt,Tt)}let or;if(ln){const pt=pd(ln,2**(ze+5));or=Gs(de,pt,1)}vt.slice(1).reduce((pt,Gt)=>pt.connect(Gt),vt[0]),Rt=vt.concat([Vt,Kn,or])},nP=(t,r,i,o)=>hs(r,t-i,r.duration/o);let zs={};function rP(t,r){const i=It();if(zs[t])return zs[t];const o=2*i.sampleRate,u=i.createBuffer(1,o,i.sampleRate),a=u.getChannelData(0);let c=0,l,p,d,f,g,A,P;l=p=d=f=g=A=P=0;for(let E=0;E<o;E++)if(t==="white")a[E]=Math.random()*2-1;else if(t==="brown"){let F=Math.random()*2-1;a[E]=(c+.02*F)/1.02,c=a[E]}else if(t==="pink"){let F=Math.random()*2-1;l=.99886*l+F*.0555179,p=.99332*p+F*.0750759,d=.969*d+F*.153852,f=.8665*f+F*.3104856,g=.55*g+F*.5329522,A=-.7616*A-F*.016898,a[E]=l+p+d+f+g+A+P+F*.5362,a[E]*=.11,P=F*.115926}else if(t==="crackle"){const F=r*.01;Math.random()<F?a[E]=Math.random()*2-1:a[E]=0}return t!=="crackle"&&(zs[t]=u),u}function md(t="white",r,i=.02){const o=It().createBufferSource();return o.buffer=rP(t,i),o.loop=!0,o.start(r),{node:o,stop:u=>o.stop(u)}}function iP(t,r,i){const o=md("pink",i);return{node:$m(t,o.node,r),stop:u=>o?.stop(u)}}const dd=t=>{let{note:r,freq:i}=t;return r=r||36,typeof r=="string"&&(r=os(r)),!i&&typeof r=="number"&&(i=Hm(r)),Number(i)},sP=["triangle","square","sawtooth","sine"],oP=["pink","white","brown","crackle"];function fd(){[...sP].forEach(t=>{Cr(t,(r,i,o)=>{const[u,a,c,l]=Vn([i.attack,i.decay,i.sustain,i.release],"linear",[.001,.05,.6,.01]);let p=Ad(t,r,i),{node:d,stop:f,triggerRelease:g}=p;const A=kn(.3),{duration:P}=i;d.onended=()=>{d.disconnect(),A.disconnect(),o()};const E=kn(1);let F=d.connect(A).connect(E);const S=r+P;Rn(F.gain,u,a,c,l,0,1,r,S,"linear");const N=S+l+.01;return g?.(N),f(N),{node:F,stop:L=>{}}},{type:"synth",prebake:!0})}),Cr("supersaw",(t,r,i)=>{const o=It();let{duration:u,n:a,unison:c=5,spread:l=.6,detune:p}=r;p=p??a??.18;const d=dd(r),[f,g,A,P]=Vn([r.attack,r.decay,r.sustain,r.release],"linear",[.001,.05,.6,.01]),E=t+u,F=E+P+.01,S=Pr(c,1,100);let N=S>1?Pr(l,0,1):0,L=Nn(o,"supersaw-oscillator",{frequency:d,begin:t,end:F,freqspread:p,voices:S,panspread:N},{outputChannelCount:[2]});const K=1/Math.sqrt(S);us(L.parameters.get("detune"),r,t,E);const _=as(L.parameters.get("detune"),r,t),x=lu(L.parameters.get("frequency"),r,t);let R=kn(1);return R=L.connect(R),Um(o,()=>{L.disconnect(),R.disconnect(),i(),x?.stop(),_?.stop()},t,F),Rn(R.gain,f,g,A,P,0,.3*K,t,E,"linear"),{node:R,stop:T=>{}}},{prebake:!0,type:"synth"}),[...oP].forEach(t=>{Cr(t,(r,i,o)=>{const[u,a,c,l]=Vn([i.attack,i.decay,i.sustain,i.release],"linear",[.001,.05,.6,.01]);let p,{density:d}=i;p=md(t,r,d);let{node:f,stop:g,triggerRelease:A}=p;const P=kn(.3),{duration:E}=i;f.onended=()=>{f.disconnect(),P.disconnect(),o()};const F=kn(1);let S=f.connect(P).connect(F);const N=r+E;Rn(S.gain,u,a,c,l,0,1,r,N,"linear");const L=N+l+.01;return A?.(L),g(L),{node:S,stop:K=>{}}},{type:"synth",prebake:!0})})}function gd(t,r){const i=new Float32Array(t+1),o=new Float32Array(t+1),u=It(),a=u.createOscillator(),c={sawtooth:d=>[0,-1/d],square:d=>[0,d%2===0?0:1/d],triangle:d=>[d%2===0?0:1/(d*d),0]};if(!c[r])throw new Error(`unknown wave type ${r}`);i[0]=0,o[0]=0;let l=1;for(;l<=t;){const[d,f]=c[r](l);i[l]=d,o[l]=f,l++}const p=u.createPeriodicWave(i,o);return a.setPeriodicWave(p),a}function Ad(t,r,i){let{n:o,duration:u,noise:a=0}=i,c;!o||t==="sine"?(c=It().createOscillator(),c.type=t||"triangle"):c=gd(o,t),c.frequency.value=dd(i),c.start(r);let l=as(c.detune,i,r);us(c.detune,i,r,r+u);const p=lu(c.frequency,i,r);let d;return a&&(d=iP(c,a,r)),{node:d?.node||c,stop:f=>{p.stop(f),l?.stop(f),d?.stop(f),c.stop(f)},triggerRelease:f=>{}}}function uP(t=1,r=.05,i=220,o=0,u=0,a=.1,c=0,l=1,p=0,d=0,f=0,g=0,A=0,P=0,E=0,F=0,S=0,N=1,L=0,K=0){let _=Math.PI*2,x=It().sampleRate,R=xt=>xt>0?1:-1,T=p*=500*_/x/x,G=i*=(1+r*2*Math.random()-r)*_/x,H=[],W=0,J=0,X=0,Z=1,$=0,gt=0,ot=0,dt,ht;for(o=o*x+9,L*=x,u*=x,a*=x,S*=x,d*=500*_/x**3,E*=_/x,f*=_/x,g*=x,A=A*x|0,ht=o+L+u+a+S|0;X<ht;H[X++]=ot)++gt%(F*100|0)||(ot=c?c>1?c>2?c>3?Math.sin((W%_)**3):Math.max(Math.min(Math.tan(W),1),-1):1-(2*W/_%2+2)%2:1-4*Math.abs(Math.round(W/_)-W/_):Math.sin(W),ot=(A?1-K+K*Math.sin(_*X/A):1)*R(ot)*Math.abs(ot)**l*t*1*(X<o?X/o:X<o+L?1-(X-o)/L*(1-N):X<o+L+u?N:X<ht-S?(ht-X-S)/a*N:0),ot=S?ot/2+(S>X?0:(X<ht-S?1:(ht-X)/S)*H[X-S|0]/2):ot),dt=(i+=p+=d)*Math.cos(E*J++),W+=dt-dt*P*(1-(Math.sin(X)+1)*1e9%2),Z&&++Z>g&&(i+=f,G+=f,Z=0),A&&!(++$%A)&&(i=G,p=T,Z||=1);return H}const Cd=(t,r)=>{let{s:i,note:o=36,freq:u,zrand:a=0,attack:c=0,decay:l=0,sustain:p=.8,release:d=.1,curve:f=1,slide:g=0,deltaSlide:A=0,pitchJump:P=0,pitchJumpTime:E=0,lfo:F=0,znoise:S=0,zmod:N=0,zcrush:L=0,zdelay:K=0,tremolo:_=0,duration:x=.2,zzfx:R}=t;const T=Math.max(x-c-l,0);typeof o=="string"&&(o=os(o)),!u&&typeof o=="number"&&(u=Hm(o)),i=i.replace("z_","");const G=["sine","triangle","sawtooth","tan","noise"].indexOf(i)||0;f=i==="square"?0:f;const H=uP(...R||[.25,a,u,c,T,d,G,f,g,A,P,E,F,S,N,L,K,p,l,_]),W=It(),J=W.createBuffer(1,H.length,W.sampleRate);J.getChannelData(0).set(H);const X=It().createBufferSource();return X.buffer=J,X.start(r),{node:X}};function aP(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(t=>{Cr(t,(r,i,o)=>{const{node:u}=Cd({s:t,...i},r);return u.onended=()=>{u.disconnect(),o()},{node:u,stop:()=>{}}},{type:"synth",prebake:!0})})}let Mr;async function yd(t,r){const i=`dsp-worklet-${Date.now()}`,o=`${r}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${i}', MyProcessor);
`,u=`data:text/javascript;base64,${btoa(o)}`;await t.audioWorklet.addModule(u);const a=new AudioWorkletNode(t,i);return{node:a,stop:()=>a.port.postMessage("stop")}}const Md=()=>{Mr&&(Mr?.stop(),Mr?.node?.disconnect())};typeof window<"u"&&window.addEventListener("message",t=>{t.data==="strudel-stop"?Md():t.data?.dough&&Mr?.node.port.postMessage(t.data)});const cP=async t=>{const r=It();Md(),Mr=await yd(r,t),Mr.node.connect(r.destination)};function bd(t,r,i,o,u){window.postMessage({time:u,dough:r.value,currentTime:i,duration:r.duration,cps:o})}const Ir=(t="test-canvas",r)=>{let{contextType:i="2d",pixelated:o=!1,pixelRatio:u=window.devicePixelRatio}={},a=document.querySelector("#"+t);if(!a){a=document.createElement("canvas"),a.id=t,a.width=window.innerWidth*u,a.height=window.innerHeight*u,a.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",o&&(a.style.imageRendering="pixelated"),document.body.prepend(a);let c;window.addEventListener("resize",()=>{c&&clearTimeout(c),c=setTimeout(()=>{a.width=window.innerWidth*u,a.height=window.innerHeight*u},200)})}return a.getContext(i)};let Yr={};function lP(t){Yr[t]!==void 0&&(cancelAnimationFrame(Yr[t]),delete Yr[t])}let fn={};ut.prototype.draw=function(t,r){if(typeof window>"u")return this;let{id:i=1,lookbehind:o=0,lookahead:u=0}=r,a=Math.max(mo(),0);lP(i),o=Math.abs(o),fn[i]=(fn[i]||[]).filter(d=>!d.isInFuture(a));let c=this.queryArc(a,a+u).filter(d=>d.hasOnset());fn[i]=fn[i].concat(c);let l;const p=()=>{const d=mo(),f=d+u;fn[i]=fn[i].filter(P=>P.isInNearPast(o,d));let g=Math.max(l||f,f-1/10);const A=this.queryArc(g,f).filter(P=>P.hasOnset());fn[i]=fn[i].concat(A),l=f,t(fn[i],d,f,this),Yr[i]=requestAnimationFrame(p)};return Yr[i]=requestAnimationFrame(p),this};ut.prototype.onPaint=function(){return console.warn("[draw] onPaint was not overloaded. Some drawings might not work"),this};let hP={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function Ln(){return hP}let Ba="#22222210";ut.prototype.animate=function({callback:t,sync:r=!1,smear:i=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const o=Ir();let{clientWidth:u,clientHeight:a}=o.canvas;u*=window.devicePixelRatio,a*=window.devicePixelRatio;let c=i===0?"99":Number((1-i)*100).toFixed(0);c=c.length===1?`0${c}`:c,Ba=`#200010${c}`;const l=p=>{let d;p=Math.round(p),d=this.slow(1e3).queryArc(p,p),o.fillStyle=Ba,o.fillRect(0,0,u,a),d.forEach(f=>{let{x:g,y:A,w:P,h:E,s:F,r:S,angle:N=0,fill:L="darkseagreen"}=f.value;if(P*=u,E*=a,S!==void 0&&N!==void 0){const _=N*2*Math.PI,[x,R]=[(u-P)/2,(a-E)/2];g=x+Math.cos(_)*S*x,A=R+Math.sin(_)*S*R}else g*=u-P,A*=a-E;const K={...f.value,x:g,y:A,w:P,h:E};o.fillStyle=L,F==="rect"?o.fillRect(g,A,P,E):F==="ellipse"&&(o.beginPath(),o.ellipse(g+P/2,A+E/2,P/2,E/2,0,0,2*Math.PI),o.fill()),t&&t(o,K,f)}),window.frame=requestAnimationFrame(l)};return window.frame=requestAnimationFrame(l),kt};const{x:Pd,y:Gw,w:zw,h:Ww,angle:qw,r:Xw,fill:Zw,smear:Hw}=Qo("x","y","w","h","angle","r","fill","smear");z("rescale",function(t,r){return r.mul(Pd(t).w(t).y(t).h(t))});z("moveXY",function(t,r,i){return i.add(Pd(t).y(r))});z("zoomIn",function(t,r){const i=le(1).sub(t).div(2);return r.rescale(t).move(i,i)});const zr=(t,r,i)=>t*(i-r)+r,Ia=t=>{let{value:r}=t;typeof t.value!="object"&&(r={value:r});let{note:i,n:o,freq:u,s:a}=r;if(u)return Lo(u);if(i=i??o,typeof i=="string")try{return Wn(i)}catch{return 0}return typeof i=="number"?i:a?"_"+a:r};ut.prototype.pianoroll=function(t={}){let{cycles:r=4,playhead:i=.5,overscan:o=0,hideNegative:u=!1,ctx:a=Ir(),id:c=1}=t,l=-r*i,p=r*(1-i);const d=(f,g)=>(!u||f.whole.begin>=0)&&f.isWithinTime(g+l,g+p);return this.draw((f,g)=>{Dd({...t,time:g,ctx:a,haps:f.filter(A=>d(A,g))})},{lookbehind:l-o,lookahead:p+o,id:c}),this};function Dd({time:t,haps:r,cycles:i=4,playhead:o=.5,flipTime:u=0,flipValues:a=0,hideNegative:c=!1,inactive:l=Ln().foreground,active:p=Ln().foreground,background:d="transparent",smear:f=0,playheadColor:g=Ln().foreground,minMidi:A=10,maxMidi:P=90,autorange:E=0,timeframe:F,fold:S=0,vertical:N=0,labels:L=!1,fill:K=1,fillActive:_=!1,strokeActive:x=!0,stroke:R,hideInactive:T=0,colorizeInactive:G=1,fontFamily:H,ctx:W,id:J}={}){const X=W.canvas.width,Z=W.canvas.height;let $=-i*o,gt=i*(1-o);J&&(r=r.filter(Dt=>Dt.hasTag(J))),F&&(console.warn("timeframe is deprecated! use from/to instead"),$=0,gt=F);const ot=N?Z:X,dt=N?X:Z;let ht=N?[ot,0]:[0,ot];const xt=gt-$,me=N?[0,dt]:[dt,0];let te=P-A+1,Y=dt/te,ee=[];u&&ht.reverse(),a&&me.reverse();const{min:ae,max:ve,values:wt}=r.reduce(({min:Dt,max:Zt,values:Me},be)=>{const Nt=Ia(be);return{min:Nt<Dt?Nt:Dt,max:Nt>Zt?Nt:Zt,values:Me.includes(Nt)?Me:[...Me,Nt]}},{min:1/0,max:-1/0,values:[]});E&&(A=ae,P=ve,te=P-A+1),ee=wt.sort((Dt,Zt)=>typeof Dt=="number"&&typeof Zt=="number"?Dt-Zt:typeof Dt=="number"?1:String(Dt).localeCompare(String(Zt))),Y=S?dt/ee.length:dt/te,W.fillStyle=d,W.globalAlpha=1,f||(W.clearRect(0,0,X,Z),W.fillRect(0,0,X,Z)),r.forEach(Dt=>{const Zt=Dt.whole.begin<=t&&Dt.endClipped>t;let Me=R??(x&&Zt),be=!Zt&&K||Zt&&_;if(T&&!Zt)return;let Nt=Dt.value?.color;p=Nt||p,l=G&&Nt||l,Nt=Zt?p:l,W.fillStyle=be?Nt:"transparent",W.strokeStyle=Nt;const{velocity:En=1,gain:Tt=1}=Dt.value||{};W.globalAlpha=En*Tt;const Fn=(Dt.whole.begin-(u?gt:$))/xt,Ee=zr(Fn,...ht);let Ge=zr(Dt.duration/xt,0,ot);const un=Ia(Dt),an=S?ee.indexOf(un)/ee.length:(Number(un)-A)/te,cn=zr(an,...me);let wn=0;const ln=zr(t/xt,...ht);let ze;if(N?ze=[cn+1-(a?Y:0),ot-ln+Ee+wn+1-(u?0:Ge),Y-2,Ge-2]:ze=[Ee-ln+wn+1-(u?Ge:0),cn+1-(a?0:Y),Ge-2,Y-2],Me&&W.strokeRect(...ze),be&&W.fillRect(...ze),L){const We=Dt.value.note??Dt.value.s+(Dt.value.n?`:${Dt.value.n}`:""),{label:Mt,activeLabel:Ot}=Dt.value,lt=(Zt&&Ot||Mt)??We;let Xt=N?Ge:Y*.75;W.font=`${Xt}px ${H||"monospace"}`,W.fillStyle=be?"black":Nt,W.textBaseline="top",W.fillText(lt,...ze)}}),W.globalAlpha=1;const $t=zr(-$/xt,...ht);return W.strokeStyle=g,W.beginPath(),N?(W.moveTo(0,$t),W.lineTo(dt,$t)):(W.moveTo($t,0),W.lineTo($t,dt)),W.stroke(),this}function pP(t,r={}){let[i,o]=t;i=Math.abs(i);const u=o+i,a=i/u;return{fold:1,...r,cycles:u,playhead:a}}const mP=(t={})=>(r,i,o,u)=>Dd({ctx:r,time:i,haps:o,...pP(u,t)});ut.prototype.punchcard=function(t){return this.onPaint(mP(t))};ut.prototype.wordfall=function(t){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...t})};function dP(t,r,i,o){const u=(t-90)*Math.PI/180;return[i+Math.cos(u)*r,o+Math.sin(u)*r]}const xa=(t,r,i,o,u=0)=>dP((t+u)*360,r*t,i,o);function Sa(t){let{ctx:r,from:i=0,to:o=3,margin:u=50,cx:a=100,cy:c=100,rotate:l=0,thickness:p=u/2,color:d=Ln().foreground,cap:f="round",stretch:g=1,fromOpacity:A=1,toOpacity:P=1}=t;i*=g,o*=g,l*=g,r.lineWidth=p,r.lineCap=f,r.strokeStyle=d,r.globalAlpha=A,r.beginPath();let[E,F]=xa(i,u,a,c,l);r.moveTo(E,F);const S=1/60;let N=i;for(;N<=o;){const[L,K]=xa(N,u,a,c,l);r.globalAlpha=(N-i)/(o-i)*P,r.lineTo(L,K),N+=S}r.stroke()}function fP(t){let{stretch:r=1,size:i=80,thickness:o=i/2,cap:u="butt",inset:a=3,playheadColor:c="#ffffff",playheadLength:l=.02,playheadThickness:p=o,padding:d=0,steady:f=1,activeColor:g=Ln().foreground,inactiveColor:A=Ln().gutterForeground,colorizeInactive:P=0,fade:E=!0,ctx:F,time:S,haps:N,drawTime:L,id:K}=t;K&&(N=N.filter(X=>X.hasTag(K)));const[_,x]=[F.canvas.width,F.canvas.height];F.clearRect(0,0,_*2,x*2);const[R,T]=[_/2,x/2],G={margin:i/r,cx:R,cy:T,stretch:r,cap:u,thickness:o},H={...G,thickness:p,from:a-l,to:a,color:c},[W]=L,J=f*S;N.forEach(X=>{const Z=X.whole.begin<=S&&X.endClipped>S,$=X.whole.begin-S+a,gt=X.endClipped-S+a-d,ot=X.value?.color||g,dt=P||Z?ot:A,ht=E?1-Math.abs((X.whole.begin-S)/W):1;Sa({ctx:F,...G,from:$,to:gt,rotate:J,color:dt,fromOpacity:ht,toOpacity:ht})}),Sa({ctx:F,...H,rotate:J})}ut.prototype.spiral=function(t={}){return this.onPaint((r,i,o,u)=>fP({ctx:r,time:i,haps:o,drawTime:u,...t}))};const gP=br(36),ka=(t,r,i,o)=>{o=o*Math.PI*2;const u=Math.sin(o)*i+t,a=Math.cos(o)*i+r;return[u,a]},_a=(t,r)=>.5-Math.log2(t/r)%1;function AP({haps:t,ctx:r,id:i,hapcircles:o=1,circle:u=0,edo:a=12,root:c=gP,thickness:l=3,hapRadius:p=6,mode:d="flake",margin:f=10}={}){const g=d==="polygon",A=d==="flake",P=r.canvas.width,E=r.canvas.height;r.clearRect(0,0,P,E);const F=Ln().foreground,S=Math.min(P,E)/2-l/2-p-f,N=P/2,L=E/2;i&&(t=t.filter(_=>_.hasTag(i))),r.strokeStyle=F,r.fillStyle=F,r.globalAlpha=1,r.lineWidth=l,u&&(r.beginPath(),r.arc(N,L,S,0,2*Math.PI),r.stroke()),a&&(Array.from({length:a},(_,x)=>{const R=_a(c*Math.pow(2,x/a),c),[T,G]=ka(N,L,S,R);r.beginPath(),r.arc(T,G,p,0,2*Math.PI),r.fill()}),r.stroke());let K=[];r.lineWidth=p,t.forEach(_=>{let x;try{x=Jc(_)}catch{return}const R=_a(x,c),[T,G]=ka(N,L,S,R),H=_.value.color||F;r.strokeStyle=H,r.fillStyle=H;const{velocity:W=1,gain:J=1}=_.value||{},X=W*J;r.globalAlpha=X,K.push([T,G,R,H,X]),r.beginPath(),o&&(r.moveTo(T+p,G),r.arc(T,G,p,0,2*Math.PI),r.fill()),A&&(r.moveTo(N,L),r.lineTo(T,G)),r.stroke()}),r.strokeStyle=F,r.globalAlpha=1,g&&K.length&&(K=K.sort((_,x)=>_[2]-x[2]),r.beginPath(),r.moveTo(K[0][0],K[0][1]),K.forEach(([_,x,R,T,G])=>{r.strokeStyle=T,r.globalAlpha=G,r.lineTo(_,x)}),r.lineTo(K[0][0],K[0][1]),r.stroke())}ut.prototype.pitchwheel=function(t={}){let{ctx:r=Ir(),id:i=1}=t;return this.tag(i).onPaint((o,u,a)=>AP({...t,time:u,ctx:r,haps:a.filter(c=>c.isActive(u)),id:i}))};const{Pattern:vd,logger:CP,repl:yP}=qm;Zm(CP);const Ed=t=>(t.ensureObjectValue(),t.value),Fd=(t,r,i,o)=>hs(Ed(r),t-i,r.duration/o),wd=(t,r,i,o,u)=>hs(Ed(t),u?`=${u}`:r,i);vd.prototype.webaudio=function(){return this.onTrigger(Fd)};function Bd(t={}){return t={getTime:()=>It().currentTime,defaultOutput:wd,...t},yP(t)}vd.prototype.dough=function(){return this.onTrigger(bd,1)};function Id(t,{align:r=!0,color:i="white",thickness:o=3,scale:u=.25,pos:a=.75,trigger:c=0,ctx:l=Ir(),id:p=1}={}){l.lineWidth=o,l.strokeStyle=i;let d=l.canvas;if(!t){l.beginPath();let F=a*d.height;l.moveTo(0,F),l.lineTo(d.width,F),l.stroke();return}const f=fu("time",p);l.beginPath();const g=t.frequencyBinCount;let A=r?Array.from(f).findIndex((F,S,N)=>S&&N[S-1]>-c&&F<=-c):0;A=Math.max(A,0);const P=d.width*1/g;let E=0;for(let F=A;F<g;F++){const S=f[F]+1,N=(a-u*(S-1))*d.height;F===0?l.moveTo(E,N):l.lineTo(E,N),E+=P}l.stroke()}function xd(t,{color:r="white",scale:i=.25,pos:o=.75,lean:u=.5,min:a=-150,max:c=0,ctx:l=Ir(),id:p=1}={}){if(!t){l.beginPath();let E=o*f.height;l.moveTo(0,E),l.lineTo(f.width,E),l.stroke();return}const d=fu("frequency",p),f=l.canvas;l.fillStyle=r;const g=t.frequencyBinCount,A=f.width*1/g;let P=0;for(let E=0;E<g;E++){const F=qo((d[E]-a)/(c-a),0,1)*i,S=F*f.height,N=(o-F*u)*f.height;l.fillRect(P,N,Math.max(A,1),S),P+=A}}function Sd(t=0,r="0,0,0",i=Ir()){t?(i.fillStyle=`rgba(${r},${1-t})`,i.fillRect(0,0,i.canvas.width,i.canvas.height)):i.clearRect(0,0,i.canvas.width,i.canvas.height)}ut.prototype.fscope=function(t={}){let r=t.id??1;return this.analyze(r).draw(()=>{Sd(t.smear,"0,0,0",t.ctx),Ae[r]&&xd(Ae[r],t)},{id:r})};ut.prototype.tscope=function(t={}){let r=t.id??1;return this.analyze(r).draw(i=>{t.color=i[0]?.value?.color||Ln().foreground,t.color,Sd(t.smear,"0,0,0",t.ctx),Id(Ae[r],t)},{id:r})};ut.prototype.scope=ut.prototype.tscope;const MP=Object.freeze(Object.defineProperty({__proto__:null,get analysers(){return Ae},get analysersData(){return $n},applyFM:lu,connectToDestination:ls,createFilter:ki,dough:cP,doughTrigger:bd,drawFrequencyScope:xd,drawTimeScope:Id,drywet:$m,dspWorklet:yd,gainNode:kn,getADSRValues:Vn,getAnalyserById:pd,getAnalyzerData:fu,getAudioContext:It,getCachedBuffer:Gb,getCompressor:Ym,getDefaultValue:Kt,getLoadedBuffer:Wb,getOscillator:Ad,getParamADSR:Rn,getPitchEnvelope:us,getSampleBufferSource:Jm,getSound:_i,getVibratoOscillator:as,getWorklet:Nn,getZZFX:Cd,initAudio:cd,initAudioOnFirstClick:ld,initializeAudioOutput:hd,loadBuffer:pu,logger:Ke,onTriggerSample:sd,panic:$b,processSampleMap:nd,registerSamplesPrefix:qb,registerSound:Cr,registerSynthSounds:fd,registerZZFXSounds:aP,resetDefaultValues:ud,resetGlobalEffects:eP,resetLoadedSounds:Kb,reverseBuffer:Qm,samples:id,setDefaultAudioContext:ad,setDefaultValue:du,setDefaultValues:Zb,setLogger:Zm,setVersionDefaults:Hb,soundMap:cs,superdough:hs,superdoughTrigger:nP,waveformN:gd,webAudioTimeout:Um,webaudioOutput:wd,webaudioOutputTrigger:Fd,webaudioRepl:Bd},Symbol.toStringTag,{value:"Module"}));function bP(t,r){function i(){this.constructor=t}i.prototype=r.prototype,t.prototype=new i}function er(t,r,i,o){var u=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(u,er.prototype),u.expected=r,u.found=i,u.location=o,u.name="SyntaxError",u}bP(er,Error);function Ws(t,r,i){return i=i||" ",t.length>r?t:(r-=t.length,i+=i.repeat(r),t+i.slice(0,r))}er.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var i=null,o;for(o=0;o<t.length;o++)if(t[o].source===this.location.source){i=t[o].text.split(/\r\n|\n|\r/g);break}var u=this.location.start,a=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(u):u,c=this.location.source+":"+a.line+":"+a.column;if(i){var l=this.location.end,p=Ws("",a.line.toString().length," "),d=i[u.line-1],f=u.line===l.line?l.column:d.length+1,g=f-u.column||1;r+=`
 --> `+c+`
`+p+` |
`+a.line+" | "+d+`
`+p+" | "+Ws("",u.column-1," ")+Ws("",g,"^")}else r+=`
 at `+c}return r};er.buildMessage=function(t,r){var i={literal:function(d){return'"'+u(d.text)+'"'},class:function(d){var f=d.parts.map(function(g){return Array.isArray(g)?a(g[0])+"-"+a(g[1]):a(g)});return"["+(d.inverted?"^":"")+f.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(d){return d.description}};function o(d){return d.charCodeAt(0).toString(16).toUpperCase()}function u(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+o(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+o(f)})}function a(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+o(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+o(f)})}function c(d){return i[d.type](d)}function l(d){var f=d.map(c),g,A;if(f.sort(),f.length>0){for(g=1,A=1;g<f.length;g++)f[g-1]!==f[g]&&(f[A]=f[g],A++);f.length=A}switch(f.length){case 1:return f[0];case 2:return f[0]+" or "+f[1];default:return f.slice(0,-1).join(", ")+", or "+f[f.length-1]}}function p(d){return d?'"'+u(d)+'"':"end of input"}return"Expected "+l(t)+" but "+p(r)+" found."};function kd(t,r){r=r!==void 0?r:{};var i={},o=r.grammarSource,u={start:ca},a=ca,c=".",l="-",p="+",d="0",f=",",g="|",A='"',P="'",E="#",F="^",S="_",N="[",L="]",K="{",_="}",x="%",R="<",T=">",G="@",H="!",W="(",J=")",X="/",Z="*",$="?",gt=":",ot="..",dt="struct",ht="target",xt="euclid",me="slow",te="rotL",Y="rotR",ee="fast",ae="scale",ve="//",wt="cat",$t="$",Dt="setcps",Zt="setbpm",Me="hush",be=/^[1-9]/,Nt=/^[eE]/,En=/^[0-9]/,Tt=/^[ \n\r\t\xA0]/,Fn=/^[0-9~]/,Ee=/^[^\n]/,Ge=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,un=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,an=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05EF-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,cn=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,wn=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]/,ln=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,ze=_s("number"),We=Ct(".",!1),Mt=Be([["1","9"]],!1,!1),Ot=Be(["e","E"],!1,!1),lt=Ct("-",!1),Xt=Ct("+",!1),Rt=Ct("0",!1),jr=Be([["0","9"]],!1,!1),Bn=_s("whitespace"),vt=Be([" ",`
`,"\r","	"," "],!1,!1),hn=Ct(",",!1),de=Ct("|",!1),Vt=Ct('"',!1),Kn=Ct("'",!1),or=_s('a letter, a number, "-", "#", ".", "^", "_"'),pt=Be([["0","9"],"~"],!1,!1),Gt=Ct("#",!1),Fe=Ct("^",!1),fe=Ct("_",!1),Or=Ct("[",!1),gi=Ct("]",!1),Ss=Ct("{",!1),m=Ct("}",!1),y=Ct("%",!1),C=Ct("<",!1),M=Ct(">",!1),B=Ct("@",!1),V=Ct("!",!1),O=Ct("(",!1),q=Ct(")",!1),Q=Ct("/",!1),yt=Ct("*",!1),Ht=Ct("?",!1),pn=Ct(":",!1),In=Ct("..",!1),Ai=Ct("struct",!1),Ci=Ct("target",!1),we=Ct("euclid",!1),fA=Ct("slow",!1),gA=Ct("rotL",!1),AA=Ct("rotR",!1),CA=Ct("fast",!1),yA=Ct("scale",!1),MA=Ct("//",!1),sa=Be([`
`],!0,!1),bA=Ct("cat",!1),PA=Ct("$",!1),DA=Ct("setcps",!1),vA=Ct("setbpm",!1),EA=Ct("hush",!1),FA=Be([["a","z"],"µ",["ß","ö"],["ø","ÿ"],"ā","ă","ą","ć","ĉ","ċ","č","ď","đ","ē","ĕ","ė","ę","ě","ĝ","ğ","ġ","ģ","ĥ","ħ","ĩ","ī","ĭ","į","ı","ĳ","ĵ",["ķ","ĸ"],"ĺ","ļ","ľ","ŀ","ł","ń","ņ",["ň","ŉ"],"ŋ","ō","ŏ","ő","œ","ŕ","ŗ","ř","ś","ŝ","ş","š","ţ","ť","ŧ","ũ","ū","ŭ","ů","ű","ų","ŵ","ŷ","ź","ż",["ž","ƀ"],"ƃ","ƅ","ƈ",["ƌ","ƍ"],"ƒ","ƕ",["ƙ","ƛ"],"ƞ","ơ","ƣ","ƥ","ƨ",["ƪ","ƫ"],"ƭ","ư","ƴ","ƶ",["ƹ","ƺ"],["ƽ","ƿ"],"ǆ","ǉ","ǌ","ǎ","ǐ","ǒ","ǔ","ǖ","ǘ","ǚ",["ǜ","ǝ"],"ǟ","ǡ","ǣ","ǥ","ǧ","ǩ","ǫ","ǭ",["ǯ","ǰ"],"ǳ","ǵ","ǹ","ǻ","ǽ","ǿ","ȁ","ȃ","ȅ","ȇ","ȉ","ȋ","ȍ","ȏ","ȑ","ȓ","ȕ","ȗ","ș","ț","ȝ","ȟ","ȡ","ȣ","ȥ","ȧ","ȩ","ȫ","ȭ","ȯ","ȱ",["ȳ","ȹ"],"ȼ",["ȿ","ɀ"],"ɂ","ɇ","ɉ","ɋ","ɍ",["ɏ","ʓ"],["ʕ","ʯ"],"ͱ","ͳ","ͷ",["ͻ","ͽ"],"ΐ",["ά","ώ"],["ϐ","ϑ"],["ϕ","ϗ"],"ϙ","ϛ","ϝ","ϟ","ϡ","ϣ","ϥ","ϧ","ϩ","ϫ","ϭ",["ϯ","ϳ"],"ϵ","ϸ",["ϻ","ϼ"],["а","џ"],"ѡ","ѣ","ѥ","ѧ","ѩ","ѫ","ѭ","ѯ","ѱ","ѳ","ѵ","ѷ","ѹ","ѻ","ѽ","ѿ","ҁ","ҋ","ҍ","ҏ","ґ","ғ","ҕ","җ","ҙ","қ","ҝ","ҟ","ҡ","ң","ҥ","ҧ","ҩ","ҫ","ҭ","ү","ұ","ҳ","ҵ","ҷ","ҹ","һ","ҽ","ҿ","ӂ","ӄ","ӆ","ӈ","ӊ","ӌ",["ӎ","ӏ"],"ӑ","ӓ","ӕ","ӗ","ә","ӛ","ӝ","ӟ","ӡ","ӣ","ӥ","ӧ","ө","ӫ","ӭ","ӯ","ӱ","ӳ","ӵ","ӷ","ӹ","ӻ","ӽ","ӿ","ԁ","ԃ","ԅ","ԇ","ԉ","ԋ","ԍ","ԏ","ԑ","ԓ","ԕ","ԗ","ԙ","ԛ","ԝ","ԟ","ԡ","ԣ","ԥ","ԧ","ԩ","ԫ","ԭ","ԯ",["ՠ","ֈ"],["ა","ჺ"],["ჽ","ჿ"],["ᏸ","ᏽ"],["ᲀ","ᲈ"],["ᴀ","ᴫ"],["ᵫ","ᵷ"],["ᵹ","ᶚ"],"ḁ","ḃ","ḅ","ḇ","ḉ","ḋ","ḍ","ḏ","ḑ","ḓ","ḕ","ḗ","ḙ","ḛ","ḝ","ḟ","ḡ","ḣ","ḥ","ḧ","ḩ","ḫ","ḭ","ḯ","ḱ","ḳ","ḵ","ḷ","ḹ","ḻ","ḽ","ḿ","ṁ","ṃ","ṅ","ṇ","ṉ","ṋ","ṍ","ṏ","ṑ","ṓ","ṕ","ṗ","ṙ","ṛ","ṝ","ṟ","ṡ","ṣ","ṥ","ṧ","ṩ","ṫ","ṭ","ṯ","ṱ","ṳ","ṵ","ṷ","ṹ","ṻ","ṽ","ṿ","ẁ","ẃ","ẅ","ẇ","ẉ","ẋ","ẍ","ẏ","ẑ","ẓ",["ẕ","ẝ"],"ẟ","ạ","ả","ấ","ầ","ẩ","ẫ","ậ","ắ","ằ","ẳ","ẵ","ặ","ẹ","ẻ","ẽ","ế","ề","ể","ễ","ệ","ỉ","ị","ọ","ỏ","ố","ồ","ổ","ỗ","ộ","ớ","ờ","ở","ỡ","ợ","ụ","ủ","ứ","ừ","ử","ữ","ự","ỳ","ỵ","ỷ","ỹ","ỻ","ỽ",["ỿ","ἇ"],["ἐ","ἕ"],["ἠ","ἧ"],["ἰ","ἷ"],["ὀ","ὅ"],["ὐ","ὗ"],["ὠ","ὧ"],["ὰ","ώ"],["ᾀ","ᾇ"],["ᾐ","ᾗ"],["ᾠ","ᾧ"],["ᾰ","ᾴ"],["ᾶ","ᾷ"],"ι",["ῂ","ῄ"],["ῆ","ῇ"],["ῐ","ΐ"],["ῖ","ῗ"],["ῠ","ῧ"],["ῲ","ῴ"],["ῶ","ῷ"],"ℊ",["ℎ","ℏ"],"ℓ","ℯ","ℴ","ℹ",["ℼ","ℽ"],["ⅆ","ⅉ"],"ⅎ","ↄ",["ⰰ","ⱞ"],"ⱡ",["ⱥ","ⱦ"],"ⱨ","ⱪ","ⱬ","ⱱ",["ⱳ","ⱴ"],["ⱶ","ⱻ"],"ⲁ","ⲃ","ⲅ","ⲇ","ⲉ","ⲋ","ⲍ","ⲏ","ⲑ","ⲓ","ⲕ","ⲗ","ⲙ","ⲛ","ⲝ","ⲟ","ⲡ","ⲣ","ⲥ","ⲧ","ⲩ","ⲫ","ⲭ","ⲯ","ⲱ","ⲳ","ⲵ","ⲷ","ⲹ","ⲻ","ⲽ","ⲿ","ⳁ","ⳃ","ⳅ","ⳇ","ⳉ","ⳋ","ⳍ","ⳏ","ⳑ","ⳓ","ⳕ","ⳗ","ⳙ","ⳛ","ⳝ","ⳟ","ⳡ",["ⳣ","ⳤ"],"ⳬ","ⳮ","ⳳ",["ⴀ","ⴥ"],"ⴧ","ⴭ","ꙁ","ꙃ","ꙅ","ꙇ","ꙉ","ꙋ","ꙍ","ꙏ","ꙑ","ꙓ","ꙕ","ꙗ","ꙙ","ꙛ","ꙝ","ꙟ","ꙡ","ꙣ","ꙥ","ꙧ","ꙩ","ꙫ","ꙭ","ꚁ","ꚃ","ꚅ","ꚇ","ꚉ","ꚋ","ꚍ","ꚏ","ꚑ","ꚓ","ꚕ","ꚗ","ꚙ","ꚛ","ꜣ","ꜥ","ꜧ","ꜩ","ꜫ","ꜭ",["ꜯ","ꜱ"],"ꜳ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ꜿ","ꝁ","ꝃ","ꝅ","ꝇ","ꝉ","ꝋ","ꝍ","ꝏ","ꝑ","ꝓ","ꝕ","ꝗ","ꝙ","ꝛ","ꝝ","ꝟ","ꝡ","ꝣ","ꝥ","ꝧ","ꝩ","ꝫ","ꝭ","ꝯ",["ꝱ","ꝸ"],"ꝺ","ꝼ","ꝿ","ꞁ","ꞃ","ꞅ","ꞇ","ꞌ","ꞎ","ꞑ",["ꞓ","ꞕ"],"ꞗ","ꞙ","ꞛ","ꞝ","ꞟ","ꞡ","ꞣ","ꞥ","ꞧ","ꞩ","ꞯ","ꞵ","ꞷ","ꞹ","ꟺ",["ꬰ","ꭚ"],["ꭠ","ꭥ"],["ꭰ","ꮿ"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],["ａ","ｚ"]],!1,!1),wA=Be([["ʰ","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ","ʹ","ͺ","ՙ","ـ",["ۥ","ۦ"],["ߴ","ߵ"],"ߺ","ࠚ","ࠤ","ࠨ","ॱ","ๆ","ໆ","ჼ","ៗ","ᡃ","ᪧ",["ᱸ","ᱽ"],["ᴬ","ᵪ"],"ᵸ",["ᶛ","ᶿ"],"ⁱ","ⁿ",["ₐ","ₜ"],["ⱼ","ⱽ"],"ⵯ","ⸯ","々",["〱","〵"],"〻",["ゝ","ゞ"],["ー","ヾ"],"ꀕ",["ꓸ","ꓽ"],"ꘌ","ꙿ",["ꚜ","ꚝ"],["ꜗ","ꜟ"],"ꝰ","ꞈ",["ꟸ","ꟹ"],"ꧏ","ꧦ","ꩰ","ꫝ",["ꫳ","ꫴ"],["ꭜ","ꭟ"],"ｰ",["ﾞ","ﾟ"]],!1,!1),BA=Be(["ª","º","ƻ",["ǀ","ǃ"],"ʔ",["א","ת"],["ׯ","ײ"],["ؠ","ؿ"],["ف","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ࠀ","ࠕ"],["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॲ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๅ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["ᄀ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛱ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៜ",["ᠠ","ᡂ"],["ᡄ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱷ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ℵ","ℸ"],["ⴰ","ⵧ"],["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"〆","〼",["ぁ","ゖ"],"ゟ",["ァ","ヺ"],"ヿ",["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꀔ"],["ꀖ","ꒌ"],["ꓐ","ꓷ"],["ꔀ","ꘋ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],"ꙮ",["ꚠ","ꛥ"],"ꞏ","ꟷ",["ꟻ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],["ꧠ","ꧤ"],["ꧧ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩯ"],["ꩱ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫜ"],["ꫠ","ꫪ"],"ꫲ",["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꯀ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["ｦ","ｯ"],["ｱ","ﾝ"],["ﾠ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),IA=Be(["ǅ","ǈ","ǋ","ǲ",["ᾈ","ᾏ"],["ᾘ","ᾟ"],["ᾨ","ᾯ"],"ᾼ","ῌ","ῼ"],!1,!1),xA=Be([["A","Z"],["À","Ö"],["Ø","Þ"],"Ā","Ă","Ą","Ć","Ĉ","Ċ","Č","Ď","Đ","Ē","Ĕ","Ė","Ę","Ě","Ĝ","Ğ","Ġ","Ģ","Ĥ","Ħ","Ĩ","Ī","Ĭ","Į","İ","Ĳ","Ĵ","Ķ","Ĺ","Ļ","Ľ","Ŀ","Ł","Ń","Ņ","Ň","Ŋ","Ō","Ŏ","Ő","Œ","Ŕ","Ŗ","Ř","Ś","Ŝ","Ş","Š","Ţ","Ť","Ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","Ŵ","Ŷ",["Ÿ","Ź"],"Ż","Ž",["Ɓ","Ƃ"],"Ƅ",["Ɔ","Ƈ"],["Ɖ","Ƌ"],["Ǝ","Ƒ"],["Ɠ","Ɣ"],["Ɩ","Ƙ"],["Ɯ","Ɲ"],["Ɵ","Ơ"],"Ƣ","Ƥ",["Ʀ","Ƨ"],"Ʃ","Ƭ",["Ʈ","Ư"],["Ʊ","Ƴ"],"Ƶ",["Ʒ","Ƹ"],"Ƽ","Ǆ","Ǉ","Ǌ","Ǎ","Ǐ","Ǒ","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ǟ","Ǡ","Ǣ","Ǥ","Ǧ","Ǩ","Ǫ","Ǭ","Ǯ","Ǳ","Ǵ",["Ƕ","Ǹ"],"Ǻ","Ǽ","Ǿ","Ȁ","Ȃ","Ȅ","Ȇ","Ȉ","Ȋ","Ȍ","Ȏ","Ȑ","Ȓ","Ȕ","Ȗ","Ș","Ț","Ȝ","Ȟ","Ƞ","Ȣ","Ȥ","Ȧ","Ȩ","Ȫ","Ȭ","Ȯ","Ȱ","Ȳ",["Ⱥ","Ȼ"],["Ƚ","Ⱦ"],"Ɂ",["Ƀ","Ɇ"],"Ɉ","Ɋ","Ɍ","Ɏ","Ͱ","Ͳ","Ͷ","Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ώ"],["Α","Ρ"],["Σ","Ϋ"],"Ϗ",["ϒ","ϔ"],"Ϙ","Ϛ","Ϝ","Ϟ","Ϡ","Ϣ","Ϥ","Ϧ","Ϩ","Ϫ","Ϭ","Ϯ","ϴ","Ϸ",["Ϲ","Ϻ"],["Ͻ","Я"],"Ѡ","Ѣ","Ѥ","Ѧ","Ѩ","Ѫ","Ѭ","Ѯ","Ѱ","Ѳ","Ѵ","Ѷ","Ѹ","Ѻ","Ѽ","Ѿ","Ҁ","Ҋ","Ҍ","Ҏ","Ґ","Ғ","Ҕ","Җ","Ҙ","Қ","Ҝ","Ҟ","Ҡ","Ң","Ҥ","Ҧ","Ҩ","Ҫ","Ҭ","Ү","Ұ","Ҳ","Ҵ","Ҷ","Ҹ","Һ","Ҽ","Ҿ",["Ӏ","Ӂ"],"Ӄ","Ӆ","Ӈ","Ӊ","Ӌ","Ӎ","Ӑ","Ӓ","Ӕ","Ӗ","Ә","Ӛ","Ӝ","Ӟ","Ӡ","Ӣ","Ӥ","Ӧ","Ө","Ӫ","Ӭ","Ӯ","Ӱ","Ӳ","Ӵ","Ӷ","Ӹ","Ӻ","Ӽ","Ӿ","Ԁ","Ԃ","Ԅ","Ԇ","Ԉ","Ԋ","Ԍ","Ԏ","Ԑ","Ԓ","Ԕ","Ԗ","Ԙ","Ԛ","Ԝ","Ԟ","Ԡ","Ԣ","Ԥ","Ԧ","Ԩ","Ԫ","Ԭ","Ԯ",["Ա","Ֆ"],["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["Ꭰ","Ᏽ"],["Ა","Ჺ"],["Ჽ","Ჿ"],"Ḁ","Ḃ","Ḅ","Ḇ","Ḉ","Ḋ","Ḍ","Ḏ","Ḑ","Ḓ","Ḕ","Ḗ","Ḙ","Ḛ","Ḝ","Ḟ","Ḡ","Ḣ","Ḥ","Ḧ","Ḩ","Ḫ","Ḭ","Ḯ","Ḱ","Ḳ","Ḵ","Ḷ","Ḹ","Ḻ","Ḽ","Ḿ","Ṁ","Ṃ","Ṅ","Ṇ","Ṉ","Ṋ","Ṍ","Ṏ","Ṑ","Ṓ","Ṕ","Ṗ","Ṙ","Ṛ","Ṝ","Ṟ","Ṡ","Ṣ","Ṥ","Ṧ","Ṩ","Ṫ","Ṭ","Ṯ","Ṱ","Ṳ","Ṵ","Ṷ","Ṹ","Ṻ","Ṽ","Ṿ","Ẁ","Ẃ","Ẅ","Ẇ","Ẉ","Ẋ","Ẍ","Ẏ","Ẑ","Ẓ","Ẕ","ẞ","Ạ","Ả","Ấ","Ầ","Ẩ","Ẫ","Ậ","Ắ","Ằ","Ẳ","Ẵ","Ặ","Ẹ","Ẻ","Ẽ","Ế","Ề","Ể","Ễ","Ệ","Ỉ","Ị","Ọ","Ỏ","Ố","Ồ","Ổ","Ỗ","Ộ","Ớ","Ờ","Ở","Ỡ","Ợ","Ụ","Ủ","Ứ","Ừ","Ử","Ữ","Ự","Ỳ","Ỵ","Ỷ","Ỹ","Ỻ","Ỽ","Ỿ",["Ἀ","Ἇ"],["Ἐ","Ἕ"],["Ἠ","Ἧ"],["Ἰ","Ἷ"],["Ὀ","Ὅ"],"Ὑ","Ὓ","Ὕ","Ὗ",["Ὠ","Ὧ"],["Ᾰ","Ά"],["Ὲ","Ή"],["Ῐ","Ί"],["Ῠ","Ῥ"],["Ὸ","Ώ"],"ℂ","ℇ",["ℋ","ℍ"],["ℐ","ℒ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℰ","ℳ"],["ℾ","ℿ"],"ⅅ","Ↄ",["Ⰰ","Ⱞ"],"Ⱡ",["Ɫ","Ɽ"],"Ⱨ","Ⱪ","Ⱬ",["Ɑ","Ɒ"],"Ⱳ","Ⱶ",["Ȿ","Ⲁ"],"Ⲃ","Ⲅ","Ⲇ","Ⲉ","Ⲋ","Ⲍ","Ⲏ","Ⲑ","Ⲓ","Ⲕ","Ⲗ","Ⲙ","Ⲛ","Ⲝ","Ⲟ","Ⲡ","Ⲣ","Ⲥ","Ⲧ","Ⲩ","Ⲫ","Ⲭ","Ⲯ","Ⲱ","Ⲳ","Ⲵ","Ⲷ","Ⲹ","Ⲻ","Ⲽ","Ⲿ","Ⳁ","Ⳃ","Ⳅ","Ⳇ","Ⳉ","Ⳋ","Ⳍ","Ⳏ","Ⳑ","Ⳓ","Ⳕ","Ⳗ","Ⳙ","Ⳛ","Ⳝ","Ⳟ","Ⳡ","Ⳣ","Ⳬ","Ⳮ","Ⳳ","Ꙁ","Ꙃ","Ꙅ","Ꙇ","Ꙉ","Ꙋ","Ꙍ","Ꙏ","Ꙑ","Ꙓ","Ꙕ","Ꙗ","Ꙙ","Ꙛ","Ꙝ","Ꙟ","Ꙡ","Ꙣ","Ꙥ","Ꙧ","Ꙩ","Ꙫ","Ꙭ","Ꚁ","Ꚃ","Ꚅ","Ꚇ","Ꚉ","Ꚋ","Ꚍ","Ꚏ","Ꚑ","Ꚓ","Ꚕ","Ꚗ","Ꚙ","Ꚛ","Ꜣ","Ꜥ","Ꜧ","Ꜩ","Ꜫ","Ꜭ","Ꜯ","Ꜳ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ꜿ","Ꝁ","Ꝃ","Ꝅ","Ꝇ","Ꝉ","Ꝋ","Ꝍ","Ꝏ","Ꝑ","Ꝓ","Ꝕ","Ꝗ","Ꝙ","Ꝛ","Ꝝ","Ꝟ","Ꝡ","Ꝣ","Ꝥ","Ꝧ","Ꝩ","Ꝫ","Ꝭ","Ꝯ","Ꝺ","Ꝼ",["Ᵹ","Ꝿ"],"Ꞁ","Ꞃ","Ꞅ","Ꞇ","Ꞌ","Ɥ","Ꞑ","Ꞓ","Ꞗ","Ꞙ","Ꞛ","Ꞝ","Ꞟ","Ꞡ","Ꞣ","Ꞥ","Ꞧ","Ꞩ",["Ɦ","Ɪ"],["Ʞ","Ꞵ"],"Ꞷ","Ꞹ",["Ａ","Ｚ"]],!1,!1),SA=Be([["ᛮ","ᛰ"],["Ⅰ","ↂ"],["ↅ","ↈ"],"〇",["〡","〩"],["〸","〺"],["ꛦ","ꛯ"]],!1,!1),kA=function(){return parseFloat(AC())},_A=function(h){const D=h.join("");return D==="."||D==="_"},NA=function(h){return new m2(h.join(""))},TA=function(h){return h},RA=function(h,D){return h.arguments_.stepsPerCycle=D,h},VA=function(h){return h},LA=function(h){return h.arguments_.alignment="polymeter_slowcat",h},jA=function(h){return D=>D.options_.weight=(D.options_.weight??1)+(h??2)-1},OA=function(h){return D=>{const I=(D.options_.reps??1)+(h??2)-1;D.options_.reps=I,D.options_.ops=D.options_.ops.filter(j=>j.type_!=="replicate"),D.options_.ops.push({type_:"replicate",arguments_:{amount:I}}),D.options_.weight=I}},GA=function(h,D,I){return j=>j.options_.ops.push({type_:"bjorklund",arguments_:{pulse:h,step:D,rotation:I}})},zA=function(h){return D=>D.options_.ops.push({type_:"stretch",arguments_:{amount:h,type:"slow"}})},WA=function(h){return D=>D.options_.ops.push({type_:"stretch",arguments_:{amount:h,type:"fast"}})},qA=function(h){return D=>D.options_.ops.push({type_:"degradeBy",arguments_:{amount:h,seed:Vs++}})},XA=function(h){return D=>D.options_.ops.push({type_:"tail",arguments_:{element:h}})},ZA=function(h){return D=>D.options_.ops.push({type_:"range",arguments_:{element:h}})},HA=function(h,D){const I=new f2(h,{ops:[],weight:1,reps:1});for(const j of D)j(I);return I},KA=function(h,D){return new Di(D,"fastcat",void 0,!!h)},YA=function(h){return{alignment:"stack",list:h}},$A=function(h){return{alignment:"rand",list:h,seed:Vs++}},UA=function(h){return{alignment:"feet",list:h,seed:Vs++}},JA=function(h,D){return D&&D.list.length>0?new Di([h,...D.list],D.alignment,D.seed):h},QA=function(h,D){return new Di(D?[h,...D.list]:[h],"polymeter")},tC=function(h){return h},eC=function(h){return{name:"struct",args:{mini:h}}},nC=function(h){return{name:"target",args:{name:h}}},rC=function(h,D,I){return{name:"bjorklund",args:{pulse:h,step:parseInt(D)}}},iC=function(h){return{name:"stretch",args:{amount:h}}},sC=function(h){return{name:"shift",args:{amount:"-"+h}}},oC=function(h){return{name:"shift",args:{amount:h}}},uC=function(h){return{name:"stretch",args:{amount:"1/"+h}}},aC=function(h){return{name:"scale",args:{scale:h.join("")}}},oa=function(h,D){return D},cC=function(h,D){return D.unshift(h),new Di(D,"slowcat")},lC=function(h){return h},hC=function(h,D){return new d2(h.name,h.args,D)},pC=function(h){return h},mC=function(h){return h},dC=function(h){return new Rs("setcps",{value:h})},fC=function(h){return new Rs("setcps",{value:h/120/2})},gC=function(){return new Rs("hush")},v=0,At=0,yi=[{line:1,column:1}],Je=0,ks=[],U=0,Mi;if("startRule"in r){if(!(r.startRule in u))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');a=u[r.startRule]}function AC(){return t.substring(At,v)}function ua(){return Ns(At,v)}function Ct(h,D){return{type:"literal",text:h,ignoreCase:D}}function Be(h,D,I){return{type:"class",parts:h,inverted:D,ignoreCase:I}}function CC(){return{type:"end"}}function _s(h){return{type:"other",description:h}}function aa(h){var D=yi[h],I;if(D)return D;for(I=h-1;!yi[I];)I--;for(D=yi[I],D={line:D.line,column:D.column};I<h;)t.charCodeAt(I)===10?(D.line++,D.column=1):D.column++,I++;return yi[h]=D,D}function Ns(h,D,I){var j=aa(h),at=aa(D),Lt={source:o,start:{offset:h,line:j.line,column:j.column},end:{offset:D,line:at.line,column:at.column}};return Lt}function et(h){v<Je||(v>Je&&(Je=v,ks=[]),ks.push(h))}function yC(h,D,I){return new er(er.buildMessage(h,D),h,D,I)}function ca(){var h;return h=s2(),h}function mn(){var h,D;return U++,h=v,la(),D=bi(),D!==i?(vC(),DC(),At=h,h=kA()):(v=h,h=i),U--,h===i&&U===0&&et(ze),h}function MC(){var h;return t.charCodeAt(v)===46?(h=c,v++):(h=i,U===0&&et(We)),h}function bC(){var h;return be.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(Mt)),h}function PC(){var h;return Nt.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(Ot)),h}function DC(){var h,D,I,j,at;if(h=v,D=PC(),D!==i){if(I=la(),I===i&&(I=EC()),I===i&&(I=null),j=[],at=ur(),at!==i)for(;at!==i;)j.push(at),at=ur();else j=i;j!==i?(D=[D,I,j],h=D):(v=h,h=i)}else v=h,h=i;return h}function vC(){var h,D,I,j;if(h=v,D=MC(),D!==i){if(I=[],j=ur(),j!==i)for(;j!==i;)I.push(j),j=ur();else I=i;I!==i?(D=[D,I],h=D):(v=h,h=i)}else v=h,h=i;return h}function bi(){var h,D,I,j;if(h=FC(),h===i)if(h=v,D=bC(),D!==i){for(I=[],j=ur();j!==i;)I.push(j),j=ur();D=[D,I],h=D}else v=h,h=i;return h}function la(){var h;return t.charCodeAt(v)===45?(h=l,v++):(h=i,U===0&&et(lt)),h}function EC(){var h;return t.charCodeAt(v)===43?(h=p,v++):(h=i,U===0&&et(Xt)),h}function FC(){var h;return t.charCodeAt(v)===48?(h=d,v++):(h=i,U===0&&et(Rt)),h}function ur(){var h;return En.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(jr)),h}function mt(){var h,D;for(U++,h=[],Tt.test(t.charAt(v))?(D=t.charAt(v),v++):(D=i,U===0&&et(vt));D!==i;)h.push(D),Tt.test(t.charAt(v))?(D=t.charAt(v),v++):(D=i,U===0&&et(vt));return U--,D=i,U===0&&et(Bn),h}function ar(){var h,D,I,j;return h=v,D=mt(),t.charCodeAt(v)===44?(I=f,v++):(I=i,U===0&&et(hn)),I!==i?(j=mt(),D=[D,I,j],h=D):(v=h,h=i),h}function ha(){var h,D,I,j;return h=v,D=mt(),t.charCodeAt(v)===124?(I=g,v++):(I=i,U===0&&et(de)),I!==i?(j=mt(),D=[D,I,j],h=D):(v=h,h=i),h}function pa(){var h,D,I,j;return h=v,D=mt(),t.charCodeAt(v)===46?(I=c,v++):(I=i,U===0&&et(We)),I!==i?(j=mt(),D=[D,I,j],h=D):(v=h,h=i),h}function cr(){var h;return t.charCodeAt(v)===34?(h=A,v++):(h=i,U===0&&et(Vt)),h===i&&(t.charCodeAt(v)===39?(h=P,v++):(h=i,U===0&&et(Kn))),h}function Pi(){var h;return U++,h=o2(),h===i&&(Fn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(pt)),h===i&&(t.charCodeAt(v)===45?(h=l,v++):(h=i,U===0&&et(lt)),h===i&&(t.charCodeAt(v)===35?(h=E,v++):(h=i,U===0&&et(Gt)),h===i&&(t.charCodeAt(v)===46?(h=c,v++):(h=i,U===0&&et(We)),h===i&&(t.charCodeAt(v)===94?(h=F,v++):(h=i,U===0&&et(Fe)),h===i&&(t.charCodeAt(v)===95?(h=S,v++):(h=i,U===0&&et(fe)))))))),U--,h===i&&U===0&&et(or),h}function ma(){var h,D,I,j;if(h=v,mt(),D=[],I=Pi(),I!==i)for(;I!==i;)D.push(I),I=Pi();else D=i;return D!==i?(I=mt(),At=v,j=_A(D),j?j=i:j=void 0,j!==i?(At=h,h=NA(D)):(v=h,h=i)):(v=h,h=i),h}function wC(){var h,D,I,j;return h=v,mt(),t.charCodeAt(v)===91?(D=N,v++):(D=i,U===0&&et(Or)),D!==i?(mt(),I=ga(),I!==i?(mt(),t.charCodeAt(v)===93?(j=L,v++):(j=i,U===0&&et(gi)),j!==i?(mt(),At=h,h=TA(I)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function BC(){var h,D,I,j,at;return h=v,mt(),t.charCodeAt(v)===123?(D=K,v++):(D=i,U===0&&et(Ss)),D!==i?(mt(),I=Aa(),I!==i?(mt(),t.charCodeAt(v)===125?(j=_,v++):(j=i,U===0&&et(m)),j!==i?(at=IC(),at===i&&(at=null),mt(),At=h,h=RA(I,at)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function IC(){var h,D,I;return h=v,t.charCodeAt(v)===37?(D=x,v++):(D=i,U===0&&et(y)),D!==i?(I=lr(),I!==i?(At=h,h=VA(I)):(v=h,h=i)):(v=h,h=i),h}function xC(){var h,D,I,j;return h=v,mt(),t.charCodeAt(v)===60?(D=R,v++):(D=i,U===0&&et(C)),D!==i?(mt(),I=Aa(),I!==i?(mt(),t.charCodeAt(v)===62?(j=T,v++):(j=i,U===0&&et(M)),j!==i?(mt(),At=h,h=LA(I)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function lr(){var h;return h=ma(),h===i&&(h=wC(),h===i&&(h=BC(),h===i&&(h=xC()))),h}function da(){var h;return h=SC(),h===i&&(h=_C(),h===i&&(h=NC(),h===i&&(h=TC(),h===i&&(h=kC(),h===i&&(h=RC(),h===i&&(h=VC(),h===i&&(h=LC()))))))),h}function SC(){var h,D,I;return h=v,mt(),t.charCodeAt(v)===64?(D=G,v++):(D=i,U===0&&et(B)),D===i&&(t.charCodeAt(v)===95?(D=S,v++):(D=i,U===0&&et(fe))),D!==i?(I=mn(),I===i&&(I=null),At=h,h=jA(I)):(v=h,h=i),h}function kC(){var h,D,I;return h=v,mt(),t.charCodeAt(v)===33?(D=H,v++):(D=i,U===0&&et(V)),D!==i?(I=mn(),I===i&&(I=null),At=h,h=OA(I)):(v=h,h=i),h}function _C(){var h,D,I,j,at,Lt,qe;return h=v,t.charCodeAt(v)===40?(D=W,v++):(D=i,U===0&&et(O)),D!==i?(mt(),I=Gr(),I!==i?(mt(),j=ar(),j!==i?(mt(),at=Gr(),at!==i?(mt(),ar(),mt(),Lt=Gr(),Lt===i&&(Lt=null),mt(),t.charCodeAt(v)===41?(qe=J,v++):(qe=i,U===0&&et(q)),qe!==i?(At=h,h=GA(I,at,Lt)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function NC(){var h,D,I;return h=v,t.charCodeAt(v)===47?(D=X,v++):(D=i,U===0&&et(Q)),D!==i?(I=lr(),I!==i?(At=h,h=zA(I)):(v=h,h=i)):(v=h,h=i),h}function TC(){var h,D,I;return h=v,t.charCodeAt(v)===42?(D=Z,v++):(D=i,U===0&&et(yt)),D!==i?(I=lr(),I!==i?(At=h,h=WA(I)):(v=h,h=i)):(v=h,h=i),h}function RC(){var h,D,I;return h=v,t.charCodeAt(v)===63?(D=$,v++):(D=i,U===0&&et(Ht)),D!==i?(I=mn(),I===i&&(I=null),At=h,h=qA(I)):(v=h,h=i),h}function VC(){var h,D,I;return h=v,t.charCodeAt(v)===58?(D=gt,v++):(D=i,U===0&&et(pn)),D!==i?(I=lr(),I!==i?(At=h,h=XA(I)):(v=h,h=i)):(v=h,h=i),h}function LC(){var h,D,I;return h=v,t.substr(v,2)===ot?(D=ot,v+=2):(D=i,U===0&&et(In)),D!==i?(I=lr(),I!==i?(At=h,h=ZA(I)):(v=h,h=i)):(v=h,h=i),h}function Gr(){var h,D,I,j;if(h=v,D=lr(),D!==i){for(I=[],j=da();j!==i;)I.push(j),j=da();At=h,h=HA(D,I)}else v=h,h=i;return h}function xn(){var h,D,I,j;if(h=v,t.charCodeAt(v)===94?(D=F,v++):(D=i,U===0&&et(Fe)),D===i&&(D=null),I=[],j=Gr(),j!==i)for(;j!==i;)I.push(j),j=Gr();else I=i;return I!==i?(At=h,h=KA(D,I)):(v=h,h=i),h}function fa(){var h,D,I,j,at;if(h=v,D=[],I=v,j=ar(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i),I!==i)for(;I!==i;)D.push(I),I=v,j=ar(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i);else D=i;return D!==i&&(At=h,D=YA(D)),h=D,h}function jC(){var h,D,I,j,at;if(h=v,D=[],I=v,j=ha(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i),I!==i)for(;I!==i;)D.push(I),I=v,j=ha(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i);else D=i;return D!==i&&(At=h,D=$A(D)),h=D,h}function OC(){var h,D,I,j,at;if(h=v,D=[],I=v,j=pa(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i),I!==i)for(;I!==i;)D.push(I),I=v,j=pa(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i);else D=i;return D!==i&&(At=h,D=UA(D)),h=D,h}function ga(){var h,D,I;return h=v,D=xn(),D!==i?(I=fa(),I===i&&(I=jC(),I===i&&(I=OC())),I===i&&(I=null),At=h,h=JA(D,I)):(v=h,h=i),h}function Aa(){var h,D,I;return h=v,D=xn(),D!==i?(I=fa(),I===i&&(I=null),At=h,h=QA(D,I)):(v=h,h=i),h}function GC(){var h,D,I,j;return h=v,mt(),D=cr(),D!==i?(mt(),I=ga(),I!==i?(mt(),j=cr(),j!==i?(At=h,h=tC(I)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function zC(){var h;return h=$C(),h===i&&(h=ZC(),h===i&&(h=YC(),h===i&&(h=qC(),h===i&&(h=XC(),h===i&&(h=WC(),h===i&&(h=KC(),h===i&&(h=HC()))))))),h}function WC(){var h,D,I;return h=v,t.substr(v,6)===dt?(D=dt,v+=6):(D=i,U===0&&et(Ai)),D!==i?(mt(),I=hr(),I!==i?(At=h,h=eC(I)):(v=h,h=i)):(v=h,h=i),h}function qC(){var h,D,I,j,at;return h=v,t.substr(v,6)===ht?(D=ht,v+=6):(D=i,U===0&&et(Ci)),D!==i?(mt(),I=cr(),I!==i?(j=ma(),j!==i?(at=cr(),at!==i?(At=h,h=nC(j)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function XC(){var h,D,I,j;return h=v,t.substr(v,6)===xt?(D=xt,v+=6):(D=i,U===0&&et(we)),D!==i?(mt(),I=bi(),I!==i?(mt(),j=bi(),j!==i?(mt(),bi(),At=h,h=rC(I,j)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function ZC(){var h,D,I;return h=v,t.substr(v,4)===me?(D=me,v+=4):(D=i,U===0&&et(fA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=iC(I)):(v=h,h=i)):(v=h,h=i),h}function HC(){var h,D,I;return h=v,t.substr(v,4)===te?(D=te,v+=4):(D=i,U===0&&et(gA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=sC(I)):(v=h,h=i)):(v=h,h=i),h}function KC(){var h,D,I;return h=v,t.substr(v,4)===Y?(D=Y,v+=4):(D=i,U===0&&et(AA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=oC(I)):(v=h,h=i)):(v=h,h=i),h}function YC(){var h,D,I;return h=v,t.substr(v,4)===ee?(D=ee,v+=4):(D=i,U===0&&et(CA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=uC(I)):(v=h,h=i)):(v=h,h=i),h}function $C(){var h,D,I,j,at;if(h=v,t.substr(v,5)===ae?(D=ae,v+=5):(D=i,U===0&&et(yA)),D!==i)if(mt(),I=cr(),I!==i){if(j=[],at=Pi(),at!==i)for(;at!==i;)j.push(at),at=Pi();else j=i;j!==i?(at=cr(),at!==i?(At=h,h=aC(j)):(v=h,h=i)):(v=h,h=i)}else v=h,h=i;else v=h,h=i;return h}function Ts(){var h,D,I,j;if(h=v,t.substr(v,2)===ve?(D=ve,v+=2):(D=i,U===0&&et(MA)),D!==i){for(I=[],Ee.test(t.charAt(v))?(j=t.charAt(v),v++):(j=i,U===0&&et(sa));j!==i;)I.push(j),Ee.test(t.charAt(v))?(j=t.charAt(v),v++):(j=i,U===0&&et(sa));D=[D,I],h=D}else v=h,h=i;return h}function UC(){var h,D,I,j,at,Lt,qe,pr;if(h=v,t.substr(v,3)===wt?(D=wt,v+=3):(D=i,U===0&&et(bA)),D!==i)if(mt(),t.charCodeAt(v)===91?(I=N,v++):(I=i,U===0&&et(Or)),I!==i)if(mt(),j=hr(),j!==i){for(at=[],Lt=v,qe=ar(),qe!==i?(pr=hr(),pr!==i?(At=Lt,Lt=oa(j,pr)):(v=Lt,Lt=i)):(v=Lt,Lt=i);Lt!==i;)at.push(Lt),Lt=v,qe=ar(),qe!==i?(pr=hr(),pr!==i?(At=Lt,Lt=oa(j,pr)):(v=Lt,Lt=i)):(v=Lt,Lt=i);Lt=mt(),t.charCodeAt(v)===93?(qe=L,v++):(qe=i,U===0&&et(gi)),qe!==i?(At=h,h=cC(j,at)):(v=h,h=i)}else v=h,h=i;else v=h,h=i;else v=h,h=i;return h}function JC(){var h;return h=UC(),h===i&&(h=GC()),h}function hr(){var h,D,I,j,at;if(h=v,D=JC(),D!==i){for(mt(),I=[],j=Ts();j!==i;)I.push(j),j=Ts();At=h,h=lC(D)}else v=h,h=i;return h===i&&(h=v,D=zC(),D!==i?(mt(),t.charCodeAt(v)===36?(I=$t,v++):(I=i,U===0&&et(PA)),I!==i?(j=mt(),at=hr(),at!==i?(At=h,h=hC(D,at)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)),h}function QC(){var h,D;return h=v,D=hr(),D!==i&&(At=h,D=pC(D)),h=D,h===i&&(h=Ts()),h}function t2(){var h;return h=QC(),h}function e2(){var h,D;return h=v,mt(),D=n2(),D===i&&(D=r2(),D===i&&(D=i2())),D!==i?(mt(),At=h,h=mC(D)):(v=h,h=i),h}function n2(){var h,D,I;return h=v,t.substr(v,6)===Dt?(D=Dt,v+=6):(D=i,U===0&&et(DA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=dC(I)):(v=h,h=i)):(v=h,h=i),h}function r2(){var h,D,I;return h=v,t.substr(v,6)===Zt?(D=Zt,v+=6):(D=i,U===0&&et(vA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=fC(I)):(v=h,h=i)):(v=h,h=i),h}function i2(){var h,D;return h=v,t.substr(v,4)===Me?(D=Me,v+=4):(D=i,U===0&&et(EA)),D!==i&&(At=h,D=gC()),h=D,h}function s2(){var h;return h=t2(),h===i&&(h=e2()),h}function o2(){var h;return h=h2(),h===i&&(h=u2(),h===i&&(h=l2(),h===i&&(h=a2(),h===i&&(h=c2(),h===i&&(h=p2()))))),h}function u2(){var h;return Ge.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(FA)),h}function a2(){var h;return un.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(wA)),h}function c2(){var h;return an.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(BA)),h}function l2(){var h;return cn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(IA)),h}function h2(){var h;return wn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(xA)),h}function p2(){var h;return ln.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,U===0&&et(SA)),h}var m2=function(h){this.type_="atom",this.source_=h,this.location_=ua()},Di=function(h,D,I,j){this.type_="pattern",this.arguments_={alignment:D,tactus:j},I!==void 0&&(this.arguments_.seed=I),this.source_=h},d2=function(h,D,I){this.type_=h,this.arguments_=D,this.source_=I},f2=function(h,D){this.type_="element",this.source_=h,this.options_=D,this.location_=ua()},Rs=function(h,D){this.type_="command",this.name_=h,this.options_=D},Vs=0;if(Mi=a(),Mi!==i&&v===t.length)return Mi;throw Mi!==i&&v<t.length&&et(CC()),yC(ks,Je<t.length?t.charAt(Je):null,Je<t.length?Ns(Je,Je+1):Ns(Je,Je))}/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var PP=2e3,st={s:1,n:0,d:1};function gn(t,r){if(isNaN(t=parseInt(t,10)))throw Ni();return t*r}function Wt(t,r){if(r===0)throw gu();var i=Object.create(_t.prototype);i.s=t<0?-1:1,t=t<0?-t:t;var o=fr(t,r);return i.n=t/o,i.d=r/o,i}function Na(t){for(var r={},i=t,o=2,u=4;u<=i;){for(;i%o===0;)i/=o,r[o]=(r[o]||0)+1;u+=1+2*o++}return i!==t?i>1&&(r[i]=(r[i]||0)+1):r[t]=(r[t]||0)+1,r}var De=function(t,r){var i=0,o=1,u=1,a=0,c=0,l=0,p=1,d=1,f=0,g=1,A=1,P=1,E=1e7,F;if(t!=null)if(r!==void 0){if(i=t,o=r,u=i*o,i%1!==0||o%1!==0)throw FP()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)i=t.n,o=t.d,"s"in t&&(i*=t.s);else if(0 in t)i=t[0],1 in t&&(o=t[1]);else throw Ni();u=i*o;break}case"number":{if(t<0&&(u=t,t=-t),t%1===0)i=t;else if(t>0){for(t>=1&&(d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=d);g<=E&&P<=E;)if(F=(f+A)/(g+P),t===F){g+P<=E?(i=f+A,o=g+P):P>g?(i=A,o=P):(i=f,o=g);break}else t>F?(f+=A,g+=P):(A+=f,P+=g),g>E?(i=A,o=P):(i=f,o=g);i*=d}else(isNaN(t)||isNaN(r))&&(o=i=NaN);break}case"string":{if(g=t.match(/\d+|./g),g===null)throw Ni();if(g[f]==="-"?(u=-1,f++):g[f]==="+"&&f++,g.length===f+1?c=gn(g[f++],u):g[f+1]==="."||g[f]==="."?(g[f]!=="."&&(a=gn(g[f++],u)),f++,(f+1===g.length||g[f+1]==="("&&g[f+3]===")"||g[f+1]==="'"&&g[f+3]==="'")&&(c=gn(g[f],u),p=Math.pow(10,g[f].length),f++),(g[f]==="("&&g[f+2]===")"||g[f]==="'"&&g[f+2]==="'")&&(l=gn(g[f+1],u),d=Math.pow(10,g[f+1].length)-1,f+=3)):g[f+1]==="/"||g[f+1]===":"?(c=gn(g[f],u),p=gn(g[f+2],1),f+=3):g[f+3]==="/"&&g[f+1]===" "&&(a=gn(g[f],u),c=gn(g[f+2],u),p=gn(g[f+4],1),f+=5),g.length<=f){o=p*d,u=i=l+o*a+d*c;break}}default:throw Ni()}if(o===0)throw gu();st.s=u<0?-1:1,st.n=Math.abs(i),st.d=Math.abs(o)};function DP(t,r,i){for(var o=1;r>0;t=t*t%i,r>>=1)r&1&&(o=o*t%i);return o}function vP(t,r){for(;r%2===0;r/=2);for(;r%5===0;r/=5);if(r===1)return 0;for(var i=10%r,o=1;i!==1;o++)if(i=i*10%r,o>PP)return 0;return o}function EP(t,r,i){for(var o=1,u=DP(10,i,r),a=0;a<300;a++){if(o===u)return a;o=o*10%r,u=u*10%r}return 0}function fr(t,r){if(!t)return r;if(!r)return t;for(;;){if(t%=r,!t)return r;if(r%=t,!r)return t}}function _t(t,r){if(De(t,r),this instanceof _t)t=fr(st.d,st.n),this.s=st.s,this.n=st.n/t,this.d=st.d/t;else return Wt(st.s*st.n,st.d)}var gu=function(){return new Error("Division by Zero")},Ni=function(){return new Error("Invalid argument")},FP=function(){return new Error("Parameters must be integer")};_t.prototype={s:1,n:0,d:1,abs:function(){return Wt(this.n,this.d)},neg:function(){return Wt(-this.s*this.n,this.d)},add:function(t,r){return De(t,r),Wt(this.s*this.n*st.d+st.s*this.d*st.n,this.d*st.d)},sub:function(t,r){return De(t,r),Wt(this.s*this.n*st.d-st.s*this.d*st.n,this.d*st.d)},mul:function(t,r){return De(t,r),Wt(this.s*st.s*this.n*st.n,this.d*st.d)},div:function(t,r){return De(t,r),Wt(this.s*st.s*this.n*st.d,this.d*st.n)},clone:function(){return Wt(this.s*this.n,this.d)},mod:function(t,r){if(isNaN(this.n)||isNaN(this.d))return new _t(NaN);if(t===void 0)return Wt(this.s*this.n%this.d,1);if(De(t,r),st.n===0&&this.d===0)throw gu();return Wt(this.s*(st.d*this.n)%(st.n*this.d),st.d*this.d)},gcd:function(t,r){return De(t,r),Wt(fr(st.n,this.n)*fr(st.d,this.d),st.d*this.d)},lcm:function(t,r){return De(t,r),st.n===0&&this.n===0?Wt(0,1):Wt(st.n*this.n,fr(st.n,this.n)*fr(st.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new _t(NaN):Wt(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new _t(NaN):Wt(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new _t(NaN):Wt(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,r){return De(t,r),Wt(this.s*Math.round(this.n*st.d/(this.d*st.n))*st.n,st.d)},inverse:function(){return Wt(this.s*this.d,this.n)},pow:function(t,r){if(De(t,r),st.d===1)return st.s<0?Wt(Math.pow(this.s*this.d,st.n),Math.pow(this.n,st.n)):Wt(Math.pow(this.s*this.n,st.n),Math.pow(this.d,st.n));if(this.s<0)return null;var i=Na(this.n),o=Na(this.d),u=1,a=1;for(var c in i)if(c!=="1"){if(c==="0"){u=0;break}if(i[c]*=st.n,i[c]%st.d===0)i[c]/=st.d;else return null;u*=Math.pow(c,i[c])}for(var c in o)if(c!=="1"){if(o[c]*=st.n,o[c]%st.d===0)o[c]/=st.d;else return null;a*=Math.pow(c,o[c])}return st.s<0?Wt(a,u):Wt(u,a)},equals:function(t,r){return De(t,r),this.s*this.n*st.d===st.s*st.n*this.d},compare:function(t,r){De(t,r);var i=this.s*this.n*st.d-st.s*st.n*this.d;return(0<i)-(i<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var r=this.abs(),i=r.toContinued(),o=1;o<i.length;o++){for(var u=Wt(i[o-1],1),a=o-2;a>=0;a--)u=u.inverse().add(i[a]);if(Math.abs(u.sub(r).valueOf())<t)return u.mul(this.s)}return this},divisible:function(t,r){return De(t,r),!(!(st.n*this.d)||this.n*st.d%(st.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,i="",o=this.n,u=this.d;return this.s<0&&(i+="-"),u===1?i+=o:(t&&(r=Math.floor(o/u))>0&&(i+=r,i+=" ",o%=u),i+=o,i+="/",i+=u),i},toLatex:function(t){var r,i="",o=this.n,u=this.d;return this.s<0&&(i+="-"),u===1?i+=o:(t&&(r=Math.floor(o/u))>0&&(i+=r,o%=u),i+="\\frac{",i+=o,i+="}{",i+=u,i+="}"),i},toContinued:function(){var t,r=this.n,i=this.d,o=[];if(isNaN(r)||isNaN(i))return o;do o.push(Math.floor(r/i)),t=r%i,r=i,i=t;while(r!==1);return o},toString:function(t){var r=this.n,i=this.d;if(isNaN(r)||isNaN(i))return"NaN";t=t||15;var o=vP(r,i),u=EP(r,i,o),a=this.s<0?"-":"";if(a+=r/i|0,r%=i,r*=10,r&&(a+="."),o){for(var c=u;c--;)a+=r/i|0,r%=i,r*=10;a+="(";for(var c=o;c--;)a+=r/i|0,r%=i,r*=10;a+=")"}else for(var c=t;r&&c--;)a+=r/i|0,r%=i,r*=10;return a}};class tn{constructor(r,i){this.begin=Yn(r),this.end=Yn(i)}get spanCycles(){const r=[];var i=this.begin;const o=this.end,u=o.sam();if(i.equals(o))return[new tn(i,o)];for(;o.gt(i);){if(i.sam().equals(u)){r.push(new tn(i,this.end));break}const a=i.nextSam();r.push(new tn(i,a)),i=a}return r}get duration(){return this.end.sub(this.begin)}cycleArc(){const r=this.begin.cyclePos(),i=r.add(this.duration);return new tn(r,i)}withTime(r){return new tn(r(this.begin),r(this.end))}withEnd(r){return new tn(this.begin,r(this.end))}withCycle(r){const i=this.begin.sam(),o=i.add(r(this.begin.sub(i))),u=i.add(r(this.end.sub(i)));return new tn(o,u)}intersection(r){const i=this.begin.max(r.begin),o=this.end.min(r.end);if(!i.gt(o)&&!(i.equals(o)&&(i.equals(this.end)&&this.begin.lt(this.end)||i.equals(r.end)&&r.begin.lt(r.end))))return new tn(i,o)}intersection_e(r){const i=this.intersection(r);if(i==null)throw"TimeSpans do not intersect";return i}midpoint(){return this.begin.add(this.duration.div(Yn(2)))}equals(r){return this.begin.equals(r.begin)&&this.end.equals(r.end)}show(){return this.begin.show()+" → "+this.end.show()}}const wP=t=>t.filter(r=>r!=null);_t.prototype.sam=function(){return this.floor()};_t.prototype.nextSam=function(){return this.sam().add(1)};_t.prototype.wholeCycle=function(){return new tn(this.sam(),this.nextSam())};_t.prototype.cyclePos=function(){return this.sub(this.sam())};_t.prototype.lt=function(t){return this.compare(t)<0};_t.prototype.gt=function(t){return this.compare(t)>0};_t.prototype.lte=function(t){return this.compare(t)<=0};_t.prototype.gte=function(t){return this.compare(t)>=0};_t.prototype.eq=function(t){return this.compare(t)==0};_t.prototype.ne=function(t){return this.compare(t)!=0};_t.prototype.max=function(t){return this.gt(t)?this:t};_t.prototype.maximum=function(...t){return t=t.map(r=>new _t(r)),t.reduce((r,i)=>i.max(r),this)};_t.prototype.min=function(t){return this.lt(t)?this:t};_t.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};_t.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};_t.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};_t.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};_t.prototype.show=function(){return this.s*this.n+"/"+this.d};_t.prototype.or=function(t){return this.eq(0)?t:this};const Au=t=>_t(t),Fi=(...t)=>{if(t=wP(t),t.length!==0)return t.reduce((r,i)=>r===void 0||i===void 0?void 0:r.lcm(i),Au(1))};Au._original=_t;const Yn=Au,_d=3e-4,BP=(t,r)=>(i,o)=>{const u=t.source_[o].options_?.ops;if(u)for(const a of u)switch(a.type_){case"stretch":{const c=["fast","slow"],{type:l,amount:p}=a.arguments_;if(!c.includes(l))throw new Error(`mini: stretch: type must be one of ${c.join("|")} but got ${l}`);i=nt(i)[l](r(p));break}case"replicate":{const{amount:c}=a.arguments_;i=nt(i),i=i._repeatCycles(c)._fast(c);break}case"bjorklund":{a.arguments_.rotation?i=i.euclidRot(r(a.arguments_.pulse),r(a.arguments_.step),r(a.arguments_.rotation)):i=i.euclid(r(a.arguments_.pulse),r(a.arguments_.step));break}case"degradeBy":{i=nt(i)._degradeByWith(Ce.early(_d*a.arguments_.seed),a.arguments_.amount??.5);break}case"tail":{const c=r(a.arguments_.element);i=i.fmap(l=>p=>Array.isArray(l)?[...l,p]:[l,p]).appLeft(c);break}case"range":{const c=r(a.arguments_.element);i=nt(i);const l=(p,d,f=1)=>Array.from({length:Math.abs(d-p)/f+1},(g,A)=>p<d?p+A*f:p-A*f);i=((p,d)=>p.squeezeBind(f=>d.bind(g=>Le(...l(f,g)))))(i,c);break}default:console.warn(`operator "${a.type_}" not implemented`)}return i};function xr(t,r,i,o=0){i?.(t);const u=a=>xr(a,r,i,o);switch(t.type_){case"pattern":{const a=t.source_.map(d=>u(d)).map(BP(t,u)),c=t.arguments_.alignment,l=a.filter(d=>d.__tactus_source);let p;switch(c){case"stack":{p=qt(...a),l.length&&(p.tactus=Fi(...l.map(d=>Yn(d.tactus))));break}case"polymeter_slowcat":{p=qt(...a.map(d=>d._slow(d.__weight))),l.length&&(p.tactus=Fi(...l.map(d=>Yn(d.tactus))));break}case"polymeter":{const d=t.arguments_.stepsPerCycle?u(t.arguments_.stepsPerCycle).fmap(g=>tt(g)):le(tt(a.length>0?a[0].__weight:1)),f=a.map(g=>g.fast(d.fmap(A=>A.div(g.__weight))));p=qt(...f);break}case"rand":{p=uu(Ce.early(_d*t.arguments_.seed).segment(1),a),l.length&&(p.tactus=Fi(...l.map(d=>Yn(d.tactus))));break}case"feet":{p=Le(...a);break}default:{if(t.source_.some(d=>!!d.options_?.weight)){const d=t.source_.reduce((f,g)=>f.add(g.options_?.weight||tt(1)),tt(0));p=Jo(...t.source_.map((f,g)=>[f.options_?.weight||tt(1),a[g]])),p.__weight=d,p.tactus=d,l.length&&(p.tactus=p.tactus.mul(Fi(...l.map(f=>Yn(f.tactus)))))}else p=Re(...a),p.tactus=a.length;t.arguments_.tactus&&(p.__tactus_source=!0)}}return l.length&&(p.__tactus_source=!0),p}case"element":return u(t.source_);case"atom":{if(t.source_==="~"||t.source_==="-")return kt;if(!t.location_)return console.warn("no location for",t),t.source_;const a=isNaN(Number(t.source_))?t.source_:Number(t.source_);if(o===-1)return le(a);const[c,l]=Cu(r,t,o);return le(a).withLoc(c,l)}case"stretch":return u(t.source_).slow(u(t.arguments_.amount));default:return console.warn(`node type "${t.type_}" not implemented -> returning silence`),kt}}const Cu=(t,r,i=0)=>{const{start:o,end:u}=r.location_,a=t?.split("").slice(o.offset,u.offset).join(""),[c=0,l=0]=a?a.split(r.source_).map(p=>p.split("").filter(d=>d===" ").length):[];return[o.offset+c+i,u.offset-l+i]},si=(t,r=0,i=t)=>{try{return kd(t)}catch(o){const u=[o.location.start.offset+r,o.location.end.offset+r],a=i.slice(0,u[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${a}: ${o.message}`)}},Nd=(t,r,i)=>{const o=si(t,r,i);let u=[];return xr(o,t,a=>{a.type_==="atom"&&u.push(a)},-1),u},yu=(t,r=0,i)=>Nd(t,r,i).map(o=>Cu(t,o,r)),Mu=(...t)=>{const r=t.map(i=>{const o=`"${i}"`,u=si(o);return xr(u,o)});return Re(...r)},IP=(t,r)=>{const i=`"${t}"`,o=si(i);return xr(o,i,null,r)},xP=t=>{const r=si(t);return xr(r,t)};function SP(t){return typeof t=="string"?Mu(t):nt(t)}function Td(){al(Mu)}const kP=Object.freeze(Object.defineProperty({__proto__:null,SyntaxError:er,getLeafLocation:Cu,getLeafLocations:yu,getLeaves:Nd,h:xP,m:IP,mini:Mu,mini2ast:si,miniAllStrings:Td,minify:SP,parse:kd,patternifyAST:xr},Symbol.toStringTag,{value:"Module"}));var _P=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Rd=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],NP="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",Vd="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",qs={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Xs="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",TP={5:Xs,"5module":Xs+" export import",6:Xs+" const class extends export import super"},RP=/^in(stanceof)?$/,VP=new RegExp("["+Vd+"]"),LP=new RegExp("["+Vd+NP+"]");function Ao(t,r){for(var i=65536,o=0;o<r.length;o+=2){if(i+=r[o],i>t)return!1;if(i+=r[o+1],i>=t)return!0}return!1}function Mn(t,r){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&VP.test(String.fromCharCode(t)):r===!1?!1:Ao(t,Rd)}function Dr(t,r){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&LP.test(String.fromCharCode(t)):r===!1?!1:Ao(t,Rd)||Ao(t,_P)}var Et=function(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function Ie(t,r){return new Et(t,{beforeExpr:!0,binop:r})}var xe={beforeExpr:!0},ge={startsExpr:!0},bu={};function Pt(t,r){return r===void 0&&(r={}),r.keyword=t,bu[t]=new Et(t,r)}var b={num:new Et("num",ge),regexp:new Et("regexp",ge),string:new Et("string",ge),name:new Et("name",ge),privateId:new Et("privateId",ge),eof:new Et("eof"),bracketL:new Et("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Et("]"),braceL:new Et("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Et("}"),parenL:new Et("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Et(")"),comma:new Et(",",xe),semi:new Et(";",xe),colon:new Et(":",xe),dot:new Et("."),question:new Et("?",xe),questionDot:new Et("?."),arrow:new Et("=>",xe),template:new Et("template"),invalidTemplate:new Et("invalidTemplate"),ellipsis:new Et("...",xe),backQuote:new Et("`",ge),dollarBraceL:new Et("${",{beforeExpr:!0,startsExpr:!0}),eq:new Et("=",{beforeExpr:!0,isAssign:!0}),assign:new Et("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Et("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Et("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Ie("||",1),logicalAND:Ie("&&",2),bitwiseOR:Ie("|",3),bitwiseXOR:Ie("^",4),bitwiseAND:Ie("&",5),equality:Ie("==/!=/===/!==",6),relational:Ie("</>/<=/>=",7),bitShift:Ie("<</>>/>>>",8),plusMin:new Et("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Ie("%",10),star:Ie("*",10),slash:Ie("/",10),starstar:new Et("**",{beforeExpr:!0}),coalesce:Ie("??",1),_break:Pt("break"),_case:Pt("case",xe),_catch:Pt("catch"),_continue:Pt("continue"),_debugger:Pt("debugger"),_default:Pt("default",xe),_do:Pt("do",{isLoop:!0,beforeExpr:!0}),_else:Pt("else",xe),_finally:Pt("finally"),_for:Pt("for",{isLoop:!0}),_function:Pt("function",ge),_if:Pt("if"),_return:Pt("return",xe),_switch:Pt("switch"),_throw:Pt("throw",xe),_try:Pt("try"),_var:Pt("var"),_const:Pt("const"),_while:Pt("while",{isLoop:!0}),_with:Pt("with"),_new:Pt("new",{beforeExpr:!0,startsExpr:!0}),_this:Pt("this",ge),_super:Pt("super",ge),_class:Pt("class",ge),_extends:Pt("extends",xe),_export:Pt("export"),_import:Pt("import",ge),_null:Pt("null",ge),_true:Pt("true",ge),_false:Pt("false",ge),_in:Pt("in",{beforeExpr:!0,binop:7}),_instanceof:Pt("instanceof",{beforeExpr:!0,binop:7}),_typeof:Pt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Pt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Pt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},je=/\r\n?|\n|\u2028|\u2029/,jP=new RegExp(je.source,"g");function Sr(t){return t===10||t===13||t===8232||t===8233}function Ld(t,r,i){i===void 0&&(i=t.length);for(var o=r;o<i;o++){var u=t.charCodeAt(o);if(Sr(u))return o<i-1&&u===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}var jd=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,_e=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Od=Object.prototype,OP=Od.hasOwnProperty,GP=Od.toString,oi=Object.hasOwn||function(t,r){return OP.call(t,r)},Ta=Array.isArray||function(t){return GP.call(t)==="[object Array]"},Ra=Object.create(null);function Tn(t){return Ra[t]||(Ra[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function jn(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var zP=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ti=function(t,r){this.line=t,this.column=r};ti.prototype.offset=function(t){return new ti(this.line,this.column+t)};var ps=function(t,r,i){this.start=r,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function Gd(t,r){for(var i=1,o=0;;){var u=Ld(t,o,r);if(u<0)return new ti(i,r-o);++i,o=u}}var Co={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Va=!1;function WP(t){var r={};for(var i in Co)r[i]=t&&oi(t,i)?t[i]:Co[i];if(r.ecmaVersion==="latest"?r.ecmaVersion=1e8:r.ecmaVersion==null?(!Va&&typeof console=="object"&&console.warn&&(Va=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),r.ecmaVersion=11):r.ecmaVersion>=2015&&(r.ecmaVersion-=2009),r.allowReserved==null&&(r.allowReserved=r.ecmaVersion<5),(!t||t.allowHashBang==null)&&(r.allowHashBang=r.ecmaVersion>=14),Ta(r.onToken)){var o=r.onToken;r.onToken=function(u){return o.push(u)}}return Ta(r.onComment)&&(r.onComment=qP(r,r.onComment)),r}function qP(t,r){return function(i,o,u,a,c,l){var p={type:i?"Block":"Line",value:o,start:u,end:a};t.locations&&(p.loc=new ps(this,c,l)),t.ranges&&(p.range=[u,a]),r.push(p)}}var ei=1,kr=2,Pu=4,zd=8,Wd=16,qd=32,Du=64,Xd=128,ui=256,vu=ei|kr|ui;function Eu(t,r){return kr|(t?Pu:0)|(r?zd:0)}var Wi=0,Fu=1,vn=2,Zd=3,Hd=4,Kd=5,Ut=function(t,r,i){this.options=t=WP(t),this.sourceFile=t.sourceFile,this.keywords=Tn(TP[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var o="";t.allowReserved!==!0&&(o=qs[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(o+=" await")),this.reservedWords=Tn(o);var u=(o?o+" ":"")+qs.strict;this.reservedWordsStrict=Tn(u),this.reservedWordsStrictBind=Tn(u+" "+qs.strictBind),this.input=String(r),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(je).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=b.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ei),this.regexpState=null,this.privateNameStack=[]},sn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ut.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};sn.inFunction.get=function(){return(this.currentVarScope().flags&kr)>0};sn.inGenerator.get=function(){return(this.currentVarScope().flags&zd)>0&&!this.currentVarScope().inClassFieldInit};sn.inAsync.get=function(){return(this.currentVarScope().flags&Pu)>0&&!this.currentVarScope().inClassFieldInit};sn.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var r=this.scopeStack[t];if(r.inClassFieldInit||r.flags&ui)return!1;if(r.flags&kr)return(r.flags&Pu)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};sn.allowSuper.get=function(){var t=this.currentThisScope(),r=t.flags,i=t.inClassFieldInit;return(r&Du)>0||i||this.options.allowSuperOutsideMethod};sn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Xd)>0};sn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};sn.allowNewDotTarget.get=function(){var t=this.currentThisScope(),r=t.flags,i=t.inClassFieldInit;return(r&(kr|ui))>0||i};sn.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ui)>0};Ut.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var i=this,o=0;o<t.length;o++)i=t[o](i);return i};Ut.parse=function(t,r){return new this(r,t).parse()};Ut.parseExpressionAt=function(t,r,i){var o=new this(i,t,r);return o.nextToken(),o.parseExpression()};Ut.tokenizer=function(t,r){return new this(r,t)};Object.defineProperties(Ut.prototype,sn);var pe=Ut.prototype,XP=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/s;pe.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){_e.lastIndex=t,t+=_e.exec(this.input)[0].length;var r=XP.exec(this.input.slice(t));if(!r)return!1;if((r[1]||r[2])==="use strict"){_e.lastIndex=t+r[0].length;var i=_e.exec(this.input),o=i.index+i[0].length,u=this.input.charAt(o);return u===";"||u==="}"||je.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(u)||u==="!"&&this.input.charAt(o+1)==="=")}t+=r[0].length,_e.lastIndex=t,t+=_e.exec(this.input)[0].length,this.input[t]===";"&&t++}};pe.eat=function(t){return this.type===t?(this.next(),!0):!1};pe.isContextual=function(t){return this.type===b.name&&this.value===t&&!this.containsEsc};pe.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};pe.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};pe.canInsertSemicolon=function(){return this.type===b.eof||this.type===b.braceR||je.test(this.input.slice(this.lastTokEnd,this.start))};pe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};pe.semicolon=function(){!this.eat(b.semi)&&!this.insertSemicolon()&&this.unexpected()};pe.afterTrailingComma=function(t,r){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),r||this.next(),!0};pe.expect=function(t){this.eat(t)||this.unexpected()};pe.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var ms=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pe.checkPatternErrors=function(t,r){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=r?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,r?"Assigning to rvalue":"Parenthesized pattern")}};pe.checkExpressionErrors=function(t,r){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!r)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};pe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};pe.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var ct=Ut.prototype;ct.parseTopLevel=function(t){var r=Object.create(null);for(t.body||(t.body=[]);this.type!==b.eof;){var i=this.parseStatement(null,!0,r);t.body.push(i)}if(this.inModule)for(var o=0,u=Object.keys(this.undefinedExports);o<u.length;o+=1){var a=u[o];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var wu={kind:"loop"},ZP={kind:"switch"};ct.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;_e.lastIndex=this.pos;var r=_e.exec(this.input),i=this.pos+r[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Mn(o,!0)){for(var u=i+1;Dr(o=this.input.charCodeAt(u),!0);)++u;if(o===92||o>55295&&o<56320)return!0;var a=this.input.slice(i,u);if(!RP.test(a))return!0}return!1};ct.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;_e.lastIndex=this.pos;var t=_e.exec(this.input),r=this.pos+t[0].length,i;return!je.test(this.input.slice(this.pos,r))&&this.input.slice(r,r+8)==="function"&&(r+8===this.input.length||!(Dr(i=this.input.charCodeAt(r+8))||i>55295&&i<56320))};ct.parseStatement=function(t,r,i){var o=this.type,u=this.startNode(),a;switch(this.isLet(t)&&(o=b._var,a="let"),o){case b._break:case b._continue:return this.parseBreakContinueStatement(u,o.keyword);case b._debugger:return this.parseDebuggerStatement(u);case b._do:return this.parseDoStatement(u);case b._for:return this.parseForStatement(u);case b._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(u,!1,!t);case b._class:return t&&this.unexpected(),this.parseClass(u,!0);case b._if:return this.parseIfStatement(u);case b._return:return this.parseReturnStatement(u);case b._switch:return this.parseSwitchStatement(u);case b._throw:return this.parseThrowStatement(u);case b._try:return this.parseTryStatement(u);case b._const:case b._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(u,a);case b._while:return this.parseWhileStatement(u);case b._with:return this.parseWithStatement(u);case b.braceL:return this.parseBlock(!0,u);case b.semi:return this.parseEmptyStatement(u);case b._export:case b._import:if(this.options.ecmaVersion>10&&o===b._import){_e.lastIndex=this.pos;var c=_e.exec(this.input),l=this.pos+c[0].length,p=this.input.charCodeAt(l);if(p===40||p===46)return this.parseExpressionStatement(u,this.parseExpression())}return this.options.allowImportExportEverywhere||(r||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===b._import?this.parseImport(u):this.parseExport(u,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(u,!0,!t);var d=this.value,f=this.parseExpression();return o===b.name&&f.type==="Identifier"&&this.eat(b.colon)?this.parseLabeledStatement(u,d,f,t):this.parseExpressionStatement(u,f)}};ct.parseBreakContinueStatement=function(t,r){var i=r==="break";this.next(),this.eat(b.semi)||this.insertSemicolon()?t.label=null:this.type!==b.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var u=this.labels[o];if((t.label==null||u.name===t.label.name)&&(u.kind!=null&&(i||u.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+r),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};ct.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};ct.parseDoStatement=function(t){return this.next(),this.labels.push(wu),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(b._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(b.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};ct.parseForStatement=function(t){this.next();var r=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(wu),this.enterScope(0),this.expect(b.parenL),this.type===b.semi)return r>-1&&this.unexpected(r),this.parseFor(t,null);var i=this.isLet();if(this.type===b._var||this.type===b._const||i){var o=this.startNode(),u=i?"let":this.value;return this.next(),this.parseVar(o,!0,u),this.finishNode(o,"VariableDeclaration"),(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===b._in?r>-1&&this.unexpected(r):t.await=r>-1),this.parseForIn(t,o)):(r>-1&&this.unexpected(r),this.parseFor(t,o))}var a=this.isContextual("let"),c=!1,l=this.containsEsc,p=new ms,d=this.start,f=r>-1?this.parseExprSubscripts(p,"await"):this.parseExpression(!0,p);return this.type===b._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(r>-1?(this.type===b._in&&this.unexpected(r),t.await=!0):c&&this.options.ecmaVersion>=8&&(f.start===d&&!l&&f.type==="Identifier"&&f.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&c&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),r>-1&&this.unexpected(r),this.parseFor(t,f))};ct.parseFunctionStatement=function(t,r,i){return this.next(),this.parseFunction(t,$r|(i?0:yo),!1,r)};ct.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(b._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};ct.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(b.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};ct.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(b.braceL),this.labels.push(ZP),this.enterScope(0);for(var r,i=!1;this.type!==b.braceR;)if(this.type===b._case||this.type===b._default){var o=this.type===b._case;r&&this.finishNode(r,"SwitchCase"),t.cases.push(r=this.startNode()),r.consequent=[],this.next(),o?r.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,r.test=null),this.expect(b.colon)}else r||this.unexpected(),r.consequent.push(this.parseStatement(null));return this.exitScope(),r&&this.finishNode(r,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};ct.parseThrowStatement=function(t){return this.next(),je.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var HP=[];ct.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),r=t.type==="Identifier";return this.enterScope(r?qd:0),this.checkLValPattern(t,r?Hd:vn),this.expect(b.parenR),t};ct.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===b._catch){var r=this.startNode();this.next(),this.eat(b.parenL)?r.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),r.param=null,this.enterScope(0)),r.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(r,"CatchClause")}return t.finalizer=this.eat(b._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};ct.parseVarStatement=function(t,r,i){return this.next(),this.parseVar(t,!1,r,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};ct.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(wu),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};ct.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};ct.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};ct.parseLabeledStatement=function(t,r,i,o){for(var u=0,a=this.labels;u<a.length;u+=1){var c=a[u];c.name===r&&this.raise(i.start,"Label '"+r+"' is already declared")}for(var l=this.type.isLoop?"loop":this.type===b._switch?"switch":null,p=this.labels.length-1;p>=0;p--){var d=this.labels[p];if(d.statementStart===t.start)d.statementStart=this.start,d.kind=l;else break}return this.labels.push({name:r,kind:l,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};ct.parseExpressionStatement=function(t,r){return t.expression=r,this.semicolon(),this.finishNode(t,"ExpressionStatement")};ct.parseBlock=function(t,r,i){for(t===void 0&&(t=!0),r===void 0&&(r=this.startNode()),r.body=[],this.expect(b.braceL),t&&this.enterScope(0);this.type!==b.braceR;){var o=this.parseStatement(null);r.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(r,"BlockStatement")};ct.parseFor=function(t,r){return t.init=r,this.expect(b.semi),t.test=this.type===b.semi?null:this.parseExpression(),this.expect(b.semi),t.update=this.type===b.parenR?null:this.parseExpression(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};ct.parseForIn=function(t,r){var i=this.type===b._in;return this.next(),r.type==="VariableDeclaration"&&r.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||r.kind!=="var"||r.declarations[0].id.type!=="Identifier")&&this.raise(r.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=r,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};ct.parseVar=function(t,r,i,o){for(t.declarations=[],t.kind=i;;){var u=this.startNode();if(this.parseVarId(u,i),this.eat(b.eq)?u.init=this.parseMaybeAssign(r):!o&&i==="const"&&!(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&u.id.type!=="Identifier"&&!(r&&(this.type===b._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):u.init=null,t.declarations.push(this.finishNode(u,"VariableDeclarator")),!this.eat(b.comma))break}return t};ct.parseVarId=function(t,r){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,r==="var"?Fu:vn,!1)};var $r=1,yo=2,Yd=4;ct.parseFunction=function(t,r,i,o,u){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===b.star&&r&yo&&this.unexpected(),t.generator=this.eat(b.star)),this.options.ecmaVersion>=8&&(t.async=!!o),r&$r&&(t.id=r&Yd&&this.type!==b.name?null:this.parseIdent(),t.id&&!(r&yo)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Fu:vn:Zd));var a=this.yieldPos,c=this.awaitPos,l=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Eu(t.async,t.generator)),r&$r||(t.id=this.type===b.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,u),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=l,this.finishNode(t,r&$r?"FunctionDeclaration":"FunctionExpression")};ct.parseFunctionParams=function(t){this.expect(b.parenL),t.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ct.parseClass=function(t,r){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,r),this.parseClassSuper(t);var o=this.enterClassBody(),u=this.startNode(),a=!1;for(u.body=[],this.expect(b.braceL);this.type!==b.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(u.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&KP(o,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(u,"ClassBody"),this.exitClassBody(),this.finishNode(t,r?"ClassDeclaration":"ClassExpression")};ct.parseClassElement=function(t){if(this.eat(b.semi))return null;var r=this.options.ecmaVersion,i=this.startNode(),o="",u=!1,a=!1,c="method",l=!1;if(this.eatContextual("static")){if(r>=13&&this.eat(b.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===b.star?l=!0:o="static"}if(i.static=l,!o&&r>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===b.star)&&!this.canInsertSemicolon()?a=!0:o="async"),!o&&(r>=9||!a)&&this.eat(b.star)&&(u=!0),!o&&!a&&!u){var p=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=p:o=p)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),r<13||this.type===b.parenL||c!=="method"||u||a){var d=!i.static&&qi(i,"constructor"),f=d&&t;d&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=d?"constructor":c,this.parseClassMethod(i,u,a,f)}else this.parseClassField(i);return i};ct.isClassElementNameStart=function(){return this.type===b.name||this.type===b.privateId||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword};ct.parseClassElementName=function(t){this.type===b.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};ct.parseClassMethod=function(t,r,i,o){var u=t.key;t.kind==="constructor"?(r&&this.raise(u.start,"Constructor can't be a generator"),i&&this.raise(u.start,"Constructor can't be an async method")):t.static&&qi(t,"prototype")&&this.raise(u.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(r,i,o);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};ct.parseClassField=function(t){if(qi(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&qi(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(b.eq)){var r=this.currentThisScope(),i=r.inClassFieldInit;r.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),r.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};ct.parseClassStaticBlock=function(t){t.body=[];var r=this.labels;for(this.labels=[],this.enterScope(ui|Du);this.type!==b.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=r,this.finishNode(t,"StaticBlock")};ct.parseClassId=function(t,r){this.type===b.name?(t.id=this.parseIdent(),r&&this.checkLValSimple(t.id,vn,!1)):(r===!0&&this.unexpected(),t.id=null)};ct.parseClassSuper=function(t){t.superClass=this.eat(b._extends)?this.parseExprSubscripts(null,!1):null};ct.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};ct.exitClassBody=function(){var t=this.privateNameStack.pop(),r=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var o=this.privateNameStack.length,u=o===0?null:this.privateNameStack[o-1],a=0;a<i.length;++a){var c=i[a];oi(r,c.name)||(u?u.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function KP(t,r){var i=r.key.name,o=t[i],u="true";return r.type==="MethodDefinition"&&(r.kind==="get"||r.kind==="set")&&(u=(r.static?"s":"i")+r.kind),o==="iget"&&u==="iset"||o==="iset"&&u==="iget"||o==="sget"&&u==="sset"||o==="sset"&&u==="sget"?(t[i]="true",!1):o?!0:(t[i]=u,!1)}function qi(t,r){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===r||o.type==="Literal"&&o.value===r)}ct.parseExportAllDeclaration=function(t,r){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(r,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};ct.parseExport=function(t,r){if(this.next(),this.eat(b.star))return this.parseExportAllDeclaration(t,r);if(this.eat(b._default))return this.checkExport(r,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(r,t.declaration.declarations):this.checkExport(r,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(r),this.eatContextual("from"))this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var u=o[i];this.checkUnreserved(u.local),this.checkLocalExport(u.local),u.local.type==="Literal"&&this.raise(u.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};ct.parseExportDeclaration=function(t){return this.parseStatement(null)};ct.parseExportDefaultDeclaration=function(){var t;if(this.type===b._function||(t=this.isAsyncFunction())){var r=this.startNode();return this.next(),t&&this.next(),this.parseFunction(r,$r|Yd,!1,t)}else if(this.type===b._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};ct.checkExport=function(t,r,i){t&&(typeof r!="string"&&(r=r.type==="Identifier"?r.name:r.value),oi(t,r)&&this.raiseRecoverable(i,"Duplicate export '"+r+"'"),t[r]=!0)};ct.checkPatternExport=function(t,r){var i=r.type;if(i==="Identifier")this.checkExport(t,r,r.start);else if(i==="ObjectPattern")for(var o=0,u=r.properties;o<u.length;o+=1){var a=u[o];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,l=r.elements;c<l.length;c+=1){var p=l[c];p&&this.checkPatternExport(t,p)}else i==="Property"?this.checkPatternExport(t,r.value):i==="AssignmentPattern"?this.checkPatternExport(t,r.left):i==="RestElement"&&this.checkPatternExport(t,r.argument)};ct.checkVariableExport=function(t,r){if(t)for(var i=0,o=r;i<o.length;i+=1){var u=o[i];this.checkPatternExport(t,u.id)}};ct.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ct.parseExportSpecifier=function(t){var r=this.startNode();return r.local=this.parseModuleExportName(),r.exported=this.eatContextual("as")?this.parseModuleExportName():r.local,this.checkExport(t,r.exported,r.exported.start),this.finishNode(r,"ExportSpecifier")};ct.parseExportSpecifiers=function(t){var r=[],i=!0;for(this.expect(b.braceL);!this.eat(b.braceR);){if(i)i=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;r.push(this.parseExportSpecifier(t))}return r};ct.parseImport=function(t){return this.next(),this.type===b.string?(t.specifiers=HP,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===b.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};ct.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,vn),this.finishNode(t,"ImportSpecifier")};ct.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,vn),this.finishNode(t,"ImportDefaultSpecifier")};ct.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,vn),this.finishNode(t,"ImportNamespaceSpecifier")};ct.parseImportSpecifiers=function(){var t=[],r=!0;if(this.type===b.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(b.comma)))return t;if(this.type===b.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(b.braceL);!this.eat(b.braceR);){if(r)r=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;t.push(this.parseImportSpecifier())}return t};ct.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===b.string){var t=this.parseLiteral(this.value);return zP.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};ct.adaptDirectivePrologue=function(t){for(var r=0;r<t.length&&this.isDirectiveCandidate(t[r]);++r)t[r].directive=t[r].expression.raw.slice(1,-1)};ct.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Oe=Ut.prototype;Oe.toAssignable=function(t,r,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,u=t.properties;o<u.length;o+=1){var a=u[o];this.toAssignable(a,r),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,r);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,r);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,r),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,r);break;case"ParenthesizedExpression":this.toAssignable(t.expression,r,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!r)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Oe.toAssignableList=function(t,r){for(var i=t.length,o=0;o<i;o++){var u=t[o];u&&this.toAssignable(u,r)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&r&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};Oe.parseSpread=function(t){var r=this.startNode();return this.next(),r.argument=this.parseMaybeAssign(!1,t),this.finishNode(r,"SpreadElement")};Oe.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==b.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Oe.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case b.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(b.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case b.braceL:return this.parseObj(!0)}return this.parseIdent()};Oe.parseBindingList=function(t,r,i,o){for(var u=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(b.comma),r&&this.type===b.comma)u.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===b.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),u.push(c),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else u.push(this.parseAssignableListItem(o))}return u};Oe.parseAssignableListItem=function(t){var r=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(r),r};Oe.parseBindingListItem=function(t){return t};Oe.parseMaybeDefault=function(t,r,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(b.eq))return i;var o=this.startNodeAt(t,r);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Oe.checkLValSimple=function(t,r,i){r===void 0&&(r=Wi);var o=r!==Wi;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(r===vn&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(oi(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),r!==Kd&&this.declareName(t.name,r,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,r,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Oe.checkLValPattern=function(t,r,i){switch(r===void 0&&(r=Wi),t.type){case"ObjectPattern":for(var o=0,u=t.properties;o<u.length;o+=1){var a=u[o];this.checkLValInnerPattern(a,r,i)}break;case"ArrayPattern":for(var c=0,l=t.elements;c<l.length;c+=1){var p=l[c];p&&this.checkLValInnerPattern(p,r,i)}break;default:this.checkLValSimple(t,r,i)}};Oe.checkLValInnerPattern=function(t,r,i){switch(r===void 0&&(r=Wi),t.type){case"Property":this.checkLValInnerPattern(t.value,r,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,r,i);break;case"RestElement":this.checkLValPattern(t.argument,r,i);break;default:this.checkLValPattern(t,r,i)}};var Xe=function(t,r,i,o,u){this.token=t,this.isExpr=!!r,this.preserveSpace=!!i,this.override=o,this.generator=!!u},jt={b_stat:new Xe("{",!1),b_expr:new Xe("{",!0),b_tmpl:new Xe("${",!1),p_stat:new Xe("(",!1),p_expr:new Xe("(",!0),q_tmpl:new Xe("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Xe("function",!1),f_expr:new Xe("function",!0),f_expr_gen:new Xe("function",!0,!1,null,!0),f_gen:new Xe("function",!1,!1,null,!0)},_r=Ut.prototype;_r.initialContext=function(){return[jt.b_stat]};_r.curContext=function(){return this.context[this.context.length-1]};_r.braceIsBlock=function(t){var r=this.curContext();return r===jt.f_expr||r===jt.f_stat?!0:t===b.colon&&(r===jt.b_stat||r===jt.b_expr)?!r.isExpr:t===b._return||t===b.name&&this.exprAllowed?je.test(this.input.slice(this.lastTokEnd,this.start)):t===b._else||t===b.semi||t===b.eof||t===b.parenR||t===b.arrow?!0:t===b.braceL?r===jt.b_stat:t===b._var||t===b._const||t===b.name?!1:!this.exprAllowed};_r.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var r=this.context[t];if(r.token==="function")return r.generator}return!1};_r.updateContext=function(t){var r,i=this.type;i.keyword&&t===b.dot?this.exprAllowed=!1:(r=i.updateContext)?r.call(this,t):this.exprAllowed=i.beforeExpr};_r.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};b.parenR.updateContext=b.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===jt.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};b.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?jt.b_stat:jt.b_expr),this.exprAllowed=!0};b.dollarBraceL.updateContext=function(){this.context.push(jt.b_tmpl),this.exprAllowed=!0};b.parenL.updateContext=function(t){var r=t===b._if||t===b._for||t===b._with||t===b._while;this.context.push(r?jt.p_stat:jt.p_expr),this.exprAllowed=!0};b.incDec.updateContext=function(){};b._function.updateContext=b._class.updateContext=function(t){t.beforeExpr&&t!==b._else&&!(t===b.semi&&this.curContext()!==jt.p_stat)&&!(t===b._return&&je.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===b.colon||t===b.braceL)&&this.curContext()===jt.b_stat)?this.context.push(jt.f_expr):this.context.push(jt.f_stat),this.exprAllowed=!1};b.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};b.backQuote.updateContext=function(){this.curContext()===jt.q_tmpl?this.context.pop():this.context.push(jt.q_tmpl),this.exprAllowed=!1};b.star.updateContext=function(t){if(t===b._function){var r=this.context.length-1;this.context[r]===jt.f_expr?this.context[r]=jt.f_expr_gen:this.context[r]=jt.f_gen}this.exprAllowed=!0};b.name.updateContext=function(t){var r=!1;this.options.ecmaVersion>=6&&t!==b.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(r=!0),this.exprAllowed=r};var ft=Ut.prototype;ft.checkPropClash=function(t,r,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,u;switch(o.type){case"Identifier":u=o.name;break;case"Literal":u=String(o.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){u==="__proto__"&&a==="init"&&(r.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),r.proto=!0);return}u="$"+u;var c=r[u];if(c){var l;a==="init"?l=this.strict&&c.init||c.get||c.set:l=c.init||c[a],l&&this.raiseRecoverable(o.start,"Redefinition of property")}else c=r[u]={init:!1,get:!1,set:!1};c[a]=!0}};ft.parseExpression=function(t,r){var i=this.start,o=this.startLoc,u=this.parseMaybeAssign(t,r);if(this.type===b.comma){var a=this.startNodeAt(i,o);for(a.expressions=[u];this.eat(b.comma);)a.expressions.push(this.parseMaybeAssign(t,r));return this.finishNode(a,"SequenceExpression")}return u};ft.parseMaybeAssign=function(t,r,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,u=-1,a=-1,c=-1;r?(u=r.parenthesizedAssign,a=r.trailingComma,c=r.doubleProto,r.parenthesizedAssign=r.trailingComma=-1):(r=new ms,o=!0);var l=this.start,p=this.startLoc;(this.type===b.parenL||this.type===b.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var d=this.parseMaybeConditional(t,r);if(i&&(d=i.call(this,d,l,p)),this.type.isAssign){var f=this.startNodeAt(l,p);return f.operator=this.value,this.type===b.eq&&(d=this.toAssignable(d,!1,r)),o||(r.parenthesizedAssign=r.trailingComma=r.doubleProto=-1),r.shorthandAssign>=d.start&&(r.shorthandAssign=-1),this.type===b.eq?this.checkLValPattern(d):this.checkLValSimple(d),f.left=d,this.next(),f.right=this.parseMaybeAssign(t),c>-1&&(r.doubleProto=c),this.finishNode(f,"AssignmentExpression")}else o&&this.checkExpressionErrors(r,!0);return u>-1&&(r.parenthesizedAssign=u),a>-1&&(r.trailingComma=a),d};ft.parseMaybeConditional=function(t,r){var i=this.start,o=this.startLoc,u=this.parseExprOps(t,r);if(this.checkExpressionErrors(r))return u;if(this.eat(b.question)){var a=this.startNodeAt(i,o);return a.test=u,a.consequent=this.parseMaybeAssign(),this.expect(b.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return u};ft.parseExprOps=function(t,r){var i=this.start,o=this.startLoc,u=this.parseMaybeUnary(r,!1,!1,t);return this.checkExpressionErrors(r)||u.start===i&&u.type==="ArrowFunctionExpression"?u:this.parseExprOp(u,i,o,-1,t)};ft.parseExprOp=function(t,r,i,o,u){var a=this.type.binop;if(a!=null&&(!u||this.type!==b._in)&&a>o){var c=this.type===b.logicalOR||this.type===b.logicalAND,l=this.type===b.coalesce;l&&(a=b.logicalAND.binop);var p=this.value;this.next();var d=this.start,f=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,u),d,f,a,u),A=this.buildBinary(r,i,t,g,p,c||l);return(c&&this.type===b.coalesce||l&&(this.type===b.logicalOR||this.type===b.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(A,r,i,o,u)}return t};ft.buildBinary=function(t,r,i,o,u,a){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,r);return c.left=i,c.operator=u,c.right=o,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};ft.parseMaybeUnary=function(t,r,i,o){var u=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(o),r=!0;else if(this.type.prefix){var l=this.startNode(),p=this.type===b.incDec;l.operator=this.value,l.prefix=!0,this.next(),l.argument=this.parseMaybeUnary(null,!0,p,o),this.checkExpressionErrors(t,!0),p?this.checkLValSimple(l.argument):this.strict&&l.operator==="delete"&&$d(l.argument)?this.raiseRecoverable(l.start,"Deleting local variable in strict mode"):l.operator==="delete"&&Mo(l.argument)?this.raiseRecoverable(l.start,"Private fields can not be deleted"):r=!0,c=this.finishNode(l,p?"UpdateExpression":"UnaryExpression")}else if(!r&&this.type===b.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==b._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var d=this.startNodeAt(u,a);d.operator=this.value,d.prefix=!1,d.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(d,"UpdateExpression")}}if(!i&&this.eat(b.starstar))if(r)this.unexpected(this.lastTokStart);else return this.buildBinary(u,a,c,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return c};function $d(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&$d(t.expression)}function Mo(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&Mo(t.expression)||t.type==="ParenthesizedExpression"&&Mo(t.expression)}ft.parseExprSubscripts=function(t,r){var i=this.start,o=this.startLoc,u=this.parseExprAtom(t,r);if(u.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return u;var a=this.parseSubscripts(u,i,o,!1,r);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};ft.parseSubscripts=function(t,r,i,o,u){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var l=this.parseSubscript(t,r,i,o,a,c,u);if(l.optional&&(c=!0),l===t||l.type==="ArrowFunctionExpression"){if(c){var p=this.startNodeAt(r,i);p.expression=l,l=this.finishNode(p,"ChainExpression")}return l}t=l}};ft.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(b.arrow)};ft.parseSubscriptAsyncArrow=function(t,r,i,o){return this.parseArrowExpression(this.startNodeAt(t,r),i,!0,o)};ft.parseSubscript=function(t,r,i,o,u,a,c){var l=this.options.ecmaVersion>=11,p=l&&this.eat(b.questionDot);o&&p&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var d=this.eat(b.bracketL);if(d||p&&this.type!==b.parenL&&this.type!==b.backQuote||this.eat(b.dot)){var f=this.startNodeAt(r,i);f.object=t,d?(f.property=this.parseExpression(),this.expect(b.bracketR)):this.type===b.privateId&&t.type!=="Super"?f.property=this.parsePrivateIdent():f.property=this.parseIdent(this.options.allowReserved!=="never"),f.computed=!!d,l&&(f.optional=p),t=this.finishNode(f,"MemberExpression")}else if(!o&&this.eat(b.parenL)){var g=new ms,A=this.yieldPos,P=this.awaitPos,E=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var F=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1,g);if(u&&!p&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=A,this.awaitPos=P,this.awaitIdentPos=E,this.parseSubscriptAsyncArrow(r,i,F,c);this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=P||this.awaitPos,this.awaitIdentPos=E||this.awaitIdentPos;var S=this.startNodeAt(r,i);S.callee=t,S.arguments=F,l&&(S.optional=p),t=this.finishNode(S,"CallExpression")}else if(this.type===b.backQuote){(p||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var N=this.startNodeAt(r,i);N.tag=t,N.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(N,"TaggedTemplateExpression")}return t};ft.parseExprAtom=function(t,r,i){this.type===b.slash&&this.readRegexp();var o,u=this.potentialArrowAt===this.start;switch(this.type){case b._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===b.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==b.dot&&this.type!==b.bracketL&&this.type!==b.parenL&&this.unexpected(),this.finishNode(o,"Super");case b._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case b.name:var a=this.start,c=this.startLoc,l=this.containsEsc,p=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&p.name==="async"&&!this.canInsertSemicolon()&&this.eat(b._function))return this.overrideContext(jt.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,r);if(u&&!this.canInsertSemicolon()){if(this.eat(b.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[p],!1,r);if(this.options.ecmaVersion>=8&&p.name==="async"&&this.type===b.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return p=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(b.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[p],!0,r)}return p;case b.regexp:var d=this.value;return o=this.parseLiteral(d.value),o.regex={pattern:d.pattern,flags:d.flags},o;case b.num:case b.string:return this.parseLiteral(this.value);case b._null:case b._true:case b._false:return o=this.startNode(),o.value=this.type===b._null?null:this.type===b._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case b.parenL:var f=this.start,g=this.parseParenAndDistinguishExpression(u,r);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=f),t.parenthesizedBind<0&&(t.parenthesizedBind=f)),g;case b.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(b.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case b.braceL:return this.overrideContext(jt.b_expr),this.parseObj(!1,t);case b._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case b._class:return this.parseClass(this.startNode(),!1);case b._new:return this.parseNew();case b.backQuote:return this.parseTemplate();case b._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};ft.parseExprAtomDefault=function(){this.unexpected()};ft.parseExprImport=function(t){var r=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===b.parenL&&!t)return this.parseDynamicImport(r);if(this.type===b.dot){var i=this.startNodeAt(r.start,r.loc&&r.loc.start);return i.name="import",r.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(r)}else this.unexpected()};ft.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(b.parenR)){var r=this.start;this.eat(b.comma)&&this.eat(b.parenR)?this.raiseRecoverable(r,"Trailing comma is not allowed in import()"):this.unexpected(r)}return this.finishNode(t,"ImportExpression")};ft.parseImportMeta=function(t){this.next();var r=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),r&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};ft.parseLiteral=function(t){var r=this.startNode();return r.value=t,r.raw=this.input.slice(this.start,this.end),r.raw.charCodeAt(r.raw.length-1)===110&&(r.bigint=r.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(r,"Literal")};ft.parseParenExpression=function(){this.expect(b.parenL);var t=this.parseExpression();return this.expect(b.parenR),t};ft.shouldParseArrow=function(t){return!this.canInsertSemicolon()};ft.parseParenAndDistinguishExpression=function(t,r){var i=this.start,o=this.startLoc,u,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,l=this.startLoc,p=[],d=!0,f=!1,g=new ms,A=this.yieldPos,P=this.awaitPos,E;for(this.yieldPos=0,this.awaitPos=0;this.type!==b.parenR;)if(d?d=!1:this.expect(b.comma),a&&this.afterTrailingComma(b.parenR,!0)){f=!0;break}else if(this.type===b.ellipsis){E=this.start,p.push(this.parseParenItem(this.parseRestBinding())),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else p.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var F=this.lastTokEnd,S=this.lastTokEndLoc;if(this.expect(b.parenR),t&&this.shouldParseArrow(p)&&this.eat(b.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=A,this.awaitPos=P,this.parseParenArrowList(i,o,p,r);(!p.length||f)&&this.unexpected(this.lastTokStart),E&&this.unexpected(E),this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=P||this.awaitPos,p.length>1?(u=this.startNodeAt(c,l),u.expressions=p,this.finishNodeAt(u,"SequenceExpression",F,S)):u=p[0]}else u=this.parseParenExpression();if(this.options.preserveParens){var N=this.startNodeAt(i,o);return N.expression=u,this.finishNode(N,"ParenthesizedExpression")}else return u};ft.parseParenItem=function(t){return t};ft.parseParenArrowList=function(t,r,i,o){return this.parseArrowExpression(this.startNodeAt(t,r),i,!1,o)};var YP=[];ft.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===b.dot){var r=this.startNodeAt(t.start,t.loc&&t.loc.start);r.name="new",t.meta=this.finishNode(r,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,u=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,u,!0,!1),this.eat(b.parenL)?t.arguments=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1):t.arguments=YP,this.finishNode(t,"NewExpression")};ft.parseTemplateElement=function(t){var r=t.isTagged,i=this.startNode();return this.type===b.invalidTemplate?(r||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===b.backQuote,this.finishNode(i,"TemplateElement")};ft.parseTemplate=function(t){t===void 0&&(t={});var r=t.isTagged;r===void 0&&(r=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:r});for(i.quasis=[o];!o.tail;)this.type===b.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(b.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(b.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:r}));return this.next(),this.finishNode(i,"TemplateLiteral")};ft.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===b.name||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===b.star)&&!je.test(this.input.slice(this.lastTokEnd,this.start))};ft.parseObj=function(t,r){var i=this.startNode(),o=!0,u={};for(i.properties=[],this.next();!this.eat(b.braceR);){if(o)o=!1;else if(this.expect(b.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(b.braceR))break;var a=this.parseProperty(t,r);t||this.checkPropClash(a,u,r),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};ft.parseProperty=function(t,r){var i=this.startNode(),o,u,a,c;if(this.options.ecmaVersion>=9&&this.eat(b.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,r),this.type===b.comma&&r&&r.trailingComma<0&&(r.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||r)&&(a=this.start,c=this.startLoc),t||(o=this.eat(b.star)));var l=this.containsEsc;return this.parsePropertyName(i),!t&&!l&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(u=!0,o=this.options.ecmaVersion>=9&&this.eat(b.star),this.parsePropertyName(i)):u=!1,this.parsePropertyValue(i,t,o,u,a,c,r,l),this.finishNode(i,"Property")};ft.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var r=t.kind==="get"?0:1;if(t.value.params.length!==r){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};ft.parsePropertyValue=function(t,r,i,o,u,a,c,l){(i||o)&&this.type===b.colon&&this.unexpected(),this.eat(b.colon)?(t.value=r?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===b.parenL?(r&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!r&&!l&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==b.comma&&this.type!==b.braceR&&this.type!==b.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=u),t.kind="init",r?t.value=this.parseMaybeDefault(u,a,this.copyNode(t.key)):this.type===b.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(u,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};ft.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(b.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(b.bracketR),t.key;t.computed=!1}return t.key=this.type===b.num||this.type===b.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};ft.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};ft.parseMethod=function(t,r,i){var o=this.startNode(),u=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Eu(r,o.generator)|Du|(i?Xd:0)),this.expect(b.parenL),o.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=u,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(o,"FunctionExpression")};ft.parseArrowExpression=function(t,r,i,o){var u=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(Eu(i,!1)|Wd),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(r,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=u,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};ft.parseFunctionBody=function(t,r,i,o){var u=r&&this.type!==b.braceL,a=this.strict,c=!1;if(u)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||l)&&(c=this.strictDirective(this.end),c&&l&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var p=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!r&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Kd),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=p}this.exitScope()};ft.isSimpleParamList=function(t){for(var r=0,i=t;r<i.length;r+=1){var o=i[r];if(o.type!=="Identifier")return!1}return!0};ft.checkParams=function(t,r){for(var i=Object.create(null),o=0,u=t.params;o<u.length;o+=1){var a=u[o];this.checkLValInnerPattern(a,Fu,r?null:i)}};ft.parseExprList=function(t,r,i,o){for(var u=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(b.comma),r&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===b.comma?c=null:this.type===b.ellipsis?(c=this.parseSpread(o),o&&this.type===b.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):c=this.parseMaybeAssign(!1,o),u.push(c)}return u};ft.checkUnreserved=function(t){var r=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(r,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(r,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(r,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(r,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(r,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(r,i).indexOf("\\")!==-1)){var u=this.strict?this.reservedWordsStrict:this.reservedWords;u.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(r,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(r,"The keyword '"+o+"' is reserved"))}};ft.parseIdent=function(t){var r=this.parseIdentNode();return this.next(!!t),this.finishNode(r,"Identifier"),t||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r};ft.parseIdentNode=function(){var t=this.startNode();return this.type===b.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=b.name):this.unexpected(),t};ft.parsePrivateIdent=function(){var t=this.startNode();return this.type===b.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};ft.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var r=this.startNode();return this.next(),this.type===b.semi||this.canInsertSemicolon()||this.type!==b.star&&!this.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(b.star),r.argument=this.parseMaybeAssign(t)),this.finishNode(r,"YieldExpression")};ft.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var r=this.startNode();return this.next(),r.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(r,"AwaitExpression")};var Xi=Ut.prototype;Xi.raise=function(t,r){var i=Gd(this.input,t);r+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(r);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};Xi.raiseRecoverable=Xi.raise;Xi.curPosition=function(){if(this.options.locations)return new ti(this.curLine,this.pos-this.lineStart)};var qn=Ut.prototype,$P=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};qn.enterScope=function(t){this.scopeStack.push(new $P(t))};qn.exitScope=function(){this.scopeStack.pop()};qn.treatFunctionsAsVarInScope=function(t){return t.flags&kr||!this.inModule&&t.flags&ei};qn.declareName=function(t,r,i){var o=!1;if(r===vn){var u=this.currentScope();o=u.lexical.indexOf(t)>-1||u.functions.indexOf(t)>-1||u.var.indexOf(t)>-1,u.lexical.push(t),this.inModule&&u.flags&ei&&delete this.undefinedExports[t]}else if(r===Hd){var a=this.currentScope();a.lexical.push(t)}else if(r===Zd){var c=this.currentScope();this.treatFunctionsAsVar?o=c.lexical.indexOf(t)>-1:o=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var l=this.scopeStack.length-1;l>=0;--l){var p=this.scopeStack[l];if(p.lexical.indexOf(t)>-1&&!(p.flags&qd&&p.lexical[0]===t)||!this.treatFunctionsAsVarInScope(p)&&p.functions.indexOf(t)>-1){o=!0;break}if(p.var.push(t),this.inModule&&p.flags&ei&&delete this.undefinedExports[t],p.flags&vu)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};qn.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};qn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};qn.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var r=this.scopeStack[t];if(r.flags&vu)return r}};qn.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var r=this.scopeStack[t];if(r.flags&vu&&!(r.flags&Wd))return r}};var ds=function(t,r,i){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new ps(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},ai=Ut.prototype;ai.startNode=function(){return new ds(this,this.start,this.startLoc)};ai.startNodeAt=function(t,r){return new ds(this,t,r)};function Ud(t,r,i,o){return t.type=r,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}ai.finishNode=function(t,r){return Ud.call(this,t,r,this.lastTokEnd,this.lastTokEndLoc)};ai.finishNodeAt=function(t,r,i,o){return Ud.call(this,t,r,i,o)};ai.copyNode=function(t){var r=new ds(this,t.start,this.startLoc);for(var i in t)r[i]=t[i];return r};var Jd="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Qd=Jd+" Extended_Pictographic",tf=Qd,ef=tf+" EBase EComp EMod EPres ExtPict",nf=ef,UP=nf,JP={9:Jd,10:Qd,11:tf,12:ef,13:nf,14:UP},QP="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",tD={9:"",10:"",11:"",12:"",13:"",14:QP},La="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",rf="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",sf=rf+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",of=sf+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",uf=of+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",af=uf+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",eD=af+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",nD={9:rf,10:sf,11:of,12:uf,13:af,14:eD},cf={};function rD(t){var r=cf[t]={binary:Tn(JP[t]+" "+La),binaryOfStrings:Tn(tD[t]),nonBinary:{General_Category:Tn(La),Script:Tn(nD[t])}};r.nonBinary.Script_Extensions=r.nonBinary.Script,r.nonBinary.gc=r.nonBinary.General_Category,r.nonBinary.sc=r.nonBinary.Script,r.nonBinary.scx=r.nonBinary.Script_Extensions}for(var Zs=0,ja=[9,10,11,12,13,14];Zs<ja.length;Zs+=1){var iD=ja[Zs];rD(iD)}var rt=Ut.prototype,Zi=function(t,r){this.parent=t,this.base=r||this};Zi.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var i=t;i;i=i.parent)if(r.base===i.base&&r!==i)return!0;return!1};Zi.prototype.sibling=function(){return new Zi(this.parent,this.base)};var on=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=cf[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};on.prototype.reset=function(t,r,i){var o=i.indexOf("v")!==-1,u=i.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=i,o&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=u&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=u&&this.parser.options.ecmaVersion>=9)};on.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};on.prototype.at=function(t,r){r===void 0&&(r=!1);var i=this.source,o=i.length;if(t>=o)return-1;var u=i.charCodeAt(t);if(!(r||this.switchU)||u<=55295||u>=57344||t+1>=o)return u;var a=i.charCodeAt(t+1);return a>=56320&&a<=57343?(u<<10)+a-56613888:u};on.prototype.nextIndex=function(t,r){r===void 0&&(r=!1);var i=this.source,o=i.length;if(t>=o)return o;var u=i.charCodeAt(t),a;return!(r||this.switchU)||u<=55295||u>=57344||t+1>=o||(a=i.charCodeAt(t+1))<56320||a>57343?t+1:t+2};on.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};on.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};on.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};on.prototype.eat=function(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};on.prototype.eatChars=function(t,r){r===void 0&&(r=!1);for(var i=this.pos,o=0,u=t;o<u.length;o+=1){var a=u[o],c=this.at(i,r);if(c===-1||c!==a)return!1;i=this.nextIndex(i,r)}return this.pos=i,!0};rt.validateRegExpFlags=function(t){for(var r=t.validFlags,i=t.flags,o=!1,u=!1,a=0;a<i.length;a++){var c=i.charAt(a);r.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(o=!0),c==="v"&&(u=!0)}this.options.ecmaVersion>=15&&o&&u&&this.raise(t.start,"Invalid regular expression flag")};function sD(t){for(var r in t)return!0;return!1}rt.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&sD(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};rt.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var r=0,i=t.backReferenceNames;r<i.length;r+=1){var o=i[r];t.groupNames[o]||t.raise("Invalid named capture referenced")}};rt.regexp_disjunction=function(t){var r=this.options.ecmaVersion>=16;for(r&&(t.branchID=new Zi(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)r&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);r&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};rt.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};rt.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};rt.regexp_eatAssertion=function(t){var r=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=r}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=r,!1};rt.regexp_eatQuantifier=function(t,r){return r===void 0&&(r=!1),this.regexp_eatQuantifierPrefix(t,r)?(t.eat(63),!0):!1};rt.regexp_eatQuantifierPrefix=function(t,r){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,r)};rt.regexp_eatBracedQuantifier=function(t,r){var i=t.pos;if(t.eat(123)){var o=0,u=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(u=t.lastIntValue),t.eat(125)))return u!==-1&&u<o&&!r&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!r&&t.raise("Incomplete quantifier"),t.pos=i}return!1};rt.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};rt.regexp_eatReverseSolidusAtomEscape=function(t){var r=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=r}return!1};rt.regexp_eatUncapturingGroup=function(t){var r=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=r}return!1};rt.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};rt.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};rt.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};rt.regexp_eatSyntaxCharacter=function(t){var r=t.current();return lf(r)?(t.lastIntValue=r,t.advance(),!0):!1};function lf(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}rt.regexp_eatPatternCharacters=function(t){for(var r=t.pos,i=0;(i=t.current())!==-1&&!lf(i);)t.advance();return t.pos!==r};rt.regexp_eatExtendedPatternCharacter=function(t){var r=t.current();return r!==-1&&r!==36&&!(r>=40&&r<=43)&&r!==46&&r!==63&&r!==91&&r!==94&&r!==124?(t.advance(),!0):!1};rt.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var r=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(r)for(var o=0,u=i;o<u.length;o+=1){var a=u[o];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");r?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};rt.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};rt.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=jn(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=jn(t.lastIntValue);return!0}return!1};rt.regexp_eatRegExpIdentifierStart=function(t){var r=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),oD(o)?(t.lastIntValue=o,!0):(t.pos=r,!1)};function oD(t){return Mn(t,!0)||t===36||t===95}rt.regexp_eatRegExpIdentifierPart=function(t){var r=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),uD(o)?(t.lastIntValue=o,!0):(t.pos=r,!1)};function uD(t){return Dr(t,!0)||t===36||t===95||t===8204||t===8205}rt.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};rt.regexp_eatBackReference=function(t){var r=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=r}return!1};rt.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};rt.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};rt.regexp_eatCControlLetter=function(t){var r=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=r}return!1};rt.regexp_eatZero=function(t){return t.current()===48&&!fs(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};rt.regexp_eatControlEscape=function(t){var r=t.current();return r===116?(t.lastIntValue=9,t.advance(),!0):r===110?(t.lastIntValue=10,t.advance(),!0):r===118?(t.lastIntValue=11,t.advance(),!0):r===102?(t.lastIntValue=12,t.advance(),!0):r===114?(t.lastIntValue=13,t.advance(),!0):!1};rt.regexp_eatControlLetter=function(t){var r=t.current();return hf(r)?(t.lastIntValue=r%32,t.advance(),!0):!1};function hf(t){return t>=65&&t<=90||t>=97&&t<=122}rt.regexp_eatRegExpUnicodeEscapeSequence=function(t,r){r===void 0&&(r=!1);var i=t.pos,o=r||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var u=t.lastIntValue;if(o&&u>=55296&&u<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(u-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=u}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&aD(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function aD(t){return t>=0&&t<=1114111}rt.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var r=t.current();return r!==99&&(!t.switchN||r!==107)?(t.lastIntValue=r,t.advance(),!0):!1};rt.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var r=t.current();if(r>=49&&r<=57){do t.lastIntValue=10*t.lastIntValue+(r-48),t.advance();while((r=t.current())>=48&&r<=57);return!0}return!1};var pf=0,bn=1,Ne=2;rt.regexp_eatCharacterClassEscape=function(t){var r=t.current();if(cD(r))return t.lastIntValue=-1,t.advance(),bn;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=r===80)||r===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===Ne&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return pf};function cD(t){return t===100||t===68||t===115||t===83||t===119||t===87}rt.regexp_eatUnicodePropertyValueExpression=function(t){var r=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),bn}}if(t.pos=r,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var u=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,u)}return pf};rt.regexp_validateUnicodePropertyNameAndValue=function(t,r,i){oi(t.unicodeProperties.nonBinary,r)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[r].test(i)||t.raise("Invalid property value")};rt.regexp_validateUnicodePropertyNameOrValue=function(t,r){if(t.unicodeProperties.binary.test(r))return bn;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(r))return Ne;t.raise("Invalid property name")};rt.regexp_eatUnicodePropertyName=function(t){var r=0;for(t.lastStringValue="";mf(r=t.current());)t.lastStringValue+=jn(r),t.advance();return t.lastStringValue!==""};function mf(t){return hf(t)||t===95}rt.regexp_eatUnicodePropertyValue=function(t){var r=0;for(t.lastStringValue="";lD(r=t.current());)t.lastStringValue+=jn(r),t.advance();return t.lastStringValue!==""};function lD(t){return mf(t)||fs(t)}rt.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};rt.regexp_eatCharacterClass=function(t){if(t.eat(91)){var r=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),r&&i===Ne&&t.raise("Negated character class may contain strings"),!0}return!1};rt.regexp_classContents=function(t){return t.current()===93?bn:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),bn)};rt.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var r=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(r===-1||i===-1)&&t.raise("Invalid character class"),r!==-1&&i!==-1&&r>i&&t.raise("Range out of order in character class")}}};rt.regexp_eatClassAtom=function(t){var r=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||gf(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=r}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};rt.regexp_eatClassEscape=function(t){var r=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=r}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};rt.regexp_classSetExpression=function(t){var r=bn,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===Ne&&(r=Ne);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==Ne&&(r=bn);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return r;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return r}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return r;i===Ne&&(r=Ne)}};rt.regexp_eatClassSetRange=function(t){var r=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=r}return!1};rt.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?bn:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};rt.regexp_eatNestedClass=function(t){var r=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===Ne&&t.raise("Negated character class may contain strings"),o;t.pos=r}if(t.eat(92)){var u=this.regexp_eatCharacterClassEscape(t);if(u)return u;t.pos=r}return null};rt.regexp_eatClassStringDisjunction=function(t){var r=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=r}return null};rt.regexp_classStringDisjunctionContents=function(t){for(var r=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Ne&&(r=Ne);return r};rt.regexp_classString=function(t){for(var r=0;this.regexp_eatClassSetCharacter(t);)r++;return r===1?bn:Ne};rt.regexp_eatClassSetCharacter=function(t){var r=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=r,!1);var i=t.current();return i<0||i===t.lookahead()&&hD(i)||pD(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function hD(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function pD(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}rt.regexp_eatClassSetReservedPunctuator=function(t){var r=t.current();return mD(r)?(t.lastIntValue=r,t.advance(),!0):!1};function mD(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}rt.regexp_eatClassControlLetter=function(t){var r=t.current();return fs(r)||r===95?(t.lastIntValue=r%32,t.advance(),!0):!1};rt.regexp_eatHexEscapeSequence=function(t){var r=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=r}return!1};rt.regexp_eatDecimalDigits=function(t){var r=t.pos,i=0;for(t.lastIntValue=0;fs(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==r};function fs(t){return t>=48&&t<=57}rt.regexp_eatHexDigits=function(t){var r=t.pos,i=0;for(t.lastIntValue=0;df(i=t.current());)t.lastIntValue=16*t.lastIntValue+ff(i),t.advance();return t.pos!==r};function df(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function ff(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}rt.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var r=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;r<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=r*64+i*8+t.lastIntValue:t.lastIntValue=r*8+i}else t.lastIntValue=r;return!0}return!1};rt.regexp_eatOctalDigit=function(t){var r=t.current();return gf(r)?(t.lastIntValue=r-48,t.advance(),!0):(t.lastIntValue=0,!1)};function gf(t){return t>=48&&t<=55}rt.regexp_eatFixedHexDigits=function(t,r){var i=t.pos;t.lastIntValue=0;for(var o=0;o<r;++o){var u=t.current();if(!df(u))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+ff(u),t.advance()}return!0};var Bu=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new ps(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},bt=Ut.prototype;bt.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Bu(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};bt.getToken=function(){return this.next(),new Bu(this)};typeof Symbol<"u"&&(bt[Symbol.iterator]=function(){var t=this;return{next:function(){var r=t.getToken();return{done:r.type===b.eof,value:r}}}});bt.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(b.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};bt.readToken=function(t){return Mn(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};bt.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var r=this.input.charCodeAt(this.pos+1);return r<=56319||r>=57344?t:(t<<10)+r-56613888};bt.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),r=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,u=r;(o=Ld(this.input,u,this.pos))>-1;)++this.curLine,u=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,i),r,this.pos,t,this.curPosition())};bt.skipLineComment=function(t){for(var r=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Sr(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(r+t,this.pos),r,this.pos,i,this.curPosition())};bt.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(t>8&&t<14||t>=5760&&jd.test(String.fromCharCode(t)))++this.pos;else break t}}};bt.finishToken=function(t,r){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=r,this.updateContext(i)};bt.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var r=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&r===46?(this.pos+=3,this.finishToken(b.ellipsis)):(++this.pos,this.finishToken(b.dot))};bt.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(b.assign,2):this.finishOp(b.slash,1)};bt.readToken_mult_modulo_exp=function(t){var r=this.input.charCodeAt(this.pos+1),i=1,o=t===42?b.star:b.modulo;return this.options.ecmaVersion>=7&&t===42&&r===42&&(++i,o=b.starstar,r=this.input.charCodeAt(this.pos+2)),r===61?this.finishOp(b.assign,i+1):this.finishOp(o,i)};bt.readToken_pipe_amp=function(t){var r=this.input.charCodeAt(this.pos+1);if(r===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(b.assign,3)}return this.finishOp(t===124?b.logicalOR:b.logicalAND,2)}return r===61?this.finishOp(b.assign,2):this.finishOp(t===124?b.bitwiseOR:b.bitwiseAND,1)};bt.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(b.assign,2):this.finishOp(b.bitwiseXOR,1)};bt.readToken_plus_min=function(t){var r=this.input.charCodeAt(this.pos+1);return r===t?r===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||je.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(b.incDec,2):r===61?this.finishOp(b.assign,2):this.finishOp(b.plusMin,1)};bt.readToken_lt_gt=function(t){var r=this.input.charCodeAt(this.pos+1),i=1;return r===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(b.assign,i+1):this.finishOp(b.bitShift,i)):r===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(r===61&&(i=2),this.finishOp(b.relational,i))};bt.readToken_eq_excl=function(t){var r=this.input.charCodeAt(this.pos+1);return r===61?this.finishOp(b.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&r===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(b.arrow)):this.finishOp(t===61?b.eq:b.prefix,1)};bt.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var r=this.input.charCodeAt(this.pos+1);if(r===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(b.questionDot,2)}if(r===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(b.assign,3)}return this.finishOp(b.coalesce,2)}}return this.finishOp(b.question,1)};bt.readToken_numberSign=function(){var t=this.options.ecmaVersion,r=35;if(t>=13&&(++this.pos,r=this.fullCharCodeAtPos(),Mn(r,!0)||r===92))return this.finishToken(b.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+jn(r)+"'")};bt.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(b.parenL);case 41:return++this.pos,this.finishToken(b.parenR);case 59:return++this.pos,this.finishToken(b.semi);case 44:return++this.pos,this.finishToken(b.comma);case 91:return++this.pos,this.finishToken(b.bracketL);case 93:return++this.pos,this.finishToken(b.bracketR);case 123:return++this.pos,this.finishToken(b.braceL);case 125:return++this.pos,this.finishToken(b.braceR);case 58:return++this.pos,this.finishToken(b.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(b.backQuote);case 48:var r=this.input.charCodeAt(this.pos+1);if(r===120||r===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(r===111||r===79)return this.readRadixNumber(8);if(r===98||r===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(b.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+jn(t)+"'")};bt.finishOp=function(t,r){var i=this.input.slice(this.pos,this.pos+r);return this.pos+=r,this.finishToken(t,i)};bt.readRegexp=function(){for(var t,r,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(je.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")r=!0;else if(o==="]"&&r)r=!1;else if(o==="/"&&!r)break;t=o==="\\"}++this.pos}var u=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var l=this.regexpState||(this.regexpState=new on(this));l.reset(i,u,c),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var p=null;try{p=new RegExp(u,c)}catch{}return this.finishToken(b.regexp,{pattern:u,flags:c,value:p})};bt.readInt=function(t,r,i){for(var o=this.options.ecmaVersion>=12&&r===void 0,u=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,l=0,p=0,d=r??1/0;p<d;++p,++this.pos){var f=this.input.charCodeAt(this.pos),g=void 0;if(o&&f===95){u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),l===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),p===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),l=f;continue}if(f>=97?g=f-97+10:f>=65?g=f-65+10:f>=48&&f<=57?g=f-48:g=1/0,g>=t)break;l=f,c=c*t+g}return o&&l===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||r!=null&&this.pos-a!==r?null:c};function dD(t,r){return r?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function Af(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}bt.readRadixNumber=function(t){var r=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Af(this.input.slice(r,this.pos)),++this.pos):Mn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,i)};bt.readNumber=function(t){var r=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(r,"Invalid number");var i=this.pos-r>=2&&this.input.charCodeAt(r)===48;i&&this.strict&&this.raise(r,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var u=Af(this.input.slice(r,this.pos));return++this.pos,Mn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,u)}i&&/[89]/.test(this.input.slice(r,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(r,"Invalid number")),Mn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=dD(this.input.slice(r,this.pos),i);return this.finishToken(b.num,a)};bt.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),r;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;r=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,r>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else r=this.readHexChar(4);return r};bt.readString=function(t){for(var r="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(r+=this.input.slice(i,this.pos),r+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Sr(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return r+=this.input.slice(i,this.pos++),this.finishToken(b.string,r)};var Cf={};bt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Cf)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};bt.invalidStringToken=function(t,r){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Cf;this.raise(t,r)};bt.readTmplToken=function(){for(var t="",r=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===b.template||this.type===b.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(b.dollarBraceL)):(++this.pos,this.finishToken(b.backQuote)):(t+=this.input.slice(r,this.pos),this.finishToken(b.template,t));if(i===92)t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!0),r=this.pos;else if(Sr(i)){switch(t+=this.input.slice(r,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),r=this.pos}else++this.pos}};bt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};bt.readEscapedChar=function(t){var r=this.input.charCodeAt(++this.pos);switch(++this.pos,r){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return jn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(r>=48&&r<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],u=parseInt(o,8);return u>255&&(o=o.slice(0,-1),u=parseInt(o,8)),this.pos+=o.length-1,r=this.input.charCodeAt(this.pos),(o!=="0"||r===56||r===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(u)}return Sr(r)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(r)}};bt.readHexChar=function(t){var r=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(r,"Bad character escape sequence"),i};bt.readWord1=function(){this.containsEsc=!1;for(var t="",r=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var u=this.fullCharCodeAtPos();if(Dr(u,o))this.pos+=u<=65535?1:2;else if(u===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(r?Mn:Dr)(c,o)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=jn(c),i=this.pos}else break;r=!1}return t+this.input.slice(i,this.pos)};bt.readWord=function(){var t=this.readWord1(),r=b.name;return this.keywords.test(t)&&(r=bu[t]),this.finishToken(r,t)};var fD="8.12.0";Ut.acorn={Parser:Ut,version:fD,defaultOptions:Co,Position:ti,SourceLocation:ps,getLineInfo:Gd,Node:ds,TokenType:Et,tokTypes:b,keywordTypes:bu,TokContext:Xe,tokContexts:jt,isIdentifierChar:Dr,isIdentifierStart:Mn,Token:Bu,isNewLine:Sr,lineBreak:je,lineBreakG:jP,nonASCIIwhitespace:jd};function gD(t,r){return Ut.parse(t,r)}var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function AD(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var i=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var u=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:function(){return t[o]}})}),i}var Mf={},bf={};(function(t){(function r(i){var o,u,a,c,l,p;function d(x){var R={},T,G;for(T in x)x.hasOwnProperty(T)&&(G=x[T],typeof G=="object"&&G!==null?R[T]=d(G):R[T]=G);return R}function f(x,R){var T,G,H,W;for(G=x.length,H=0;G;)T=G>>>1,W=H+T,R(x[W])?G=T:(H=W+1,G-=T+1);return H}o={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},a={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},c={},l={},p={},u={Break:c,Skip:l,Remove:p};function g(x,R){this.parent=x,this.key=R}g.prototype.replace=function(x){this.parent[this.key]=x},g.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function A(x,R,T,G){this.node=x,this.path=R,this.wrap=T,this.ref=G}function P(){}P.prototype.path=function(){var x,R,T,G,H,W;function J(X,Z){if(Array.isArray(Z))for(T=0,G=Z.length;T<G;++T)X.push(Z[T]);else X.push(Z)}if(!this.__current.path)return null;for(H=[],x=2,R=this.__leavelist.length;x<R;++x)W=this.__leavelist[x],J(H,W.path);return J(H,this.__current.path),H},P.prototype.type=function(){var x=this.current();return x.type||this.__current.wrap},P.prototype.parents=function(){var x,R,T;for(T=[],x=1,R=this.__leavelist.length;x<R;++x)T.push(this.__leavelist[x].node);return T},P.prototype.current=function(){return this.__current.node},P.prototype.__execute=function(x,R){var T,G;return G=void 0,T=this.__current,this.__current=R,this.__state=null,x&&(G=x.call(this,R.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=T,G},P.prototype.notify=function(x){this.__state=x},P.prototype.skip=function(){this.notify(l)},P.prototype.break=function(){this.notify(c)},P.prototype.remove=function(){this.notify(p)},P.prototype.__initialize=function(x,R){this.visitor=R,this.root=x,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,R.fallback==="iteration"?this.__fallback=Object.keys:typeof R.fallback=="function"&&(this.__fallback=R.fallback),this.__keys=a,R.keys&&(this.__keys=Object.assign(Object.create(this.__keys),R.keys))};function E(x){return x==null?!1:typeof x=="object"&&typeof x.type=="string"}function F(x,R){return(x===o.ObjectExpression||x===o.ObjectPattern)&&R==="properties"}function S(x,R){for(var T=x.length-1;T>=0;--T)if(x[T].node===R)return!0;return!1}P.prototype.traverse=function(x,R){var T,G,H,W,J,X,Z,$,gt,ot,dt,ht;for(this.__initialize(x,R),ht={},T=this.__worklist,G=this.__leavelist,T.push(new A(x,null,null,null)),G.push(new A(null,null,null,null));T.length;){if(H=T.pop(),H===ht){if(H=G.pop(),X=this.__execute(R.leave,H),this.__state===c||X===c)return;continue}if(H.node){if(X=this.__execute(R.enter,H),this.__state===c||X===c)return;if(T.push(ht),G.push(H),this.__state===l||X===l)continue;if(W=H.node,J=W.type||H.wrap,ot=this.__keys[J],!ot)if(this.__fallback)ot=this.__fallback(W);else throw new Error("Unknown node type "+J+".");for($=ot.length;($-=1)>=0;)if(Z=ot[$],dt=W[Z],!!dt){if(Array.isArray(dt)){for(gt=dt.length;(gt-=1)>=0;)if(dt[gt]&&!S(G,dt[gt])){if(F(J,ot[$]))H=new A(dt[gt],[Z,gt],"Property",null);else if(E(dt[gt]))H=new A(dt[gt],[Z,gt],null,null);else continue;T.push(H)}}else if(E(dt)){if(S(G,dt))continue;T.push(new A(dt,Z,null,null))}}}}},P.prototype.replace=function(x,R){var T,G,H,W,J,X,Z,$,gt,ot,dt,ht,xt;function me(te){var Y,ee,ae,ve;if(te.ref.remove()){for(ee=te.ref.key,ve=te.ref.parent,Y=T.length;Y--;)if(ae=T[Y],ae.ref&&ae.ref.parent===ve){if(ae.ref.key<ee)break;--ae.ref.key}}}for(this.__initialize(x,R),dt={},T=this.__worklist,G=this.__leavelist,ht={root:x},X=new A(x,null,null,new g(ht,"root")),T.push(X),G.push(X);T.length;){if(X=T.pop(),X===dt){if(X=G.pop(),J=this.__execute(R.leave,X),J!==void 0&&J!==c&&J!==l&&J!==p&&X.ref.replace(J),(this.__state===p||J===p)&&me(X),this.__state===c||J===c)return ht.root;continue}if(J=this.__execute(R.enter,X),J!==void 0&&J!==c&&J!==l&&J!==p&&(X.ref.replace(J),X.node=J),(this.__state===p||J===p)&&(me(X),X.node=null),this.__state===c||J===c)return ht.root;if(H=X.node,!!H&&(T.push(dt),G.push(X),!(this.__state===l||J===l))){if(W=H.type||X.wrap,gt=this.__keys[W],!gt)if(this.__fallback)gt=this.__fallback(H);else throw new Error("Unknown node type "+W+".");for(Z=gt.length;(Z-=1)>=0;)if(xt=gt[Z],ot=H[xt],!!ot)if(Array.isArray(ot)){for($=ot.length;($-=1)>=0;)if(ot[$]){if(F(W,gt[Z]))X=new A(ot[$],[xt,$],"Property",new g(ot,$));else if(E(ot[$]))X=new A(ot[$],[xt,$],null,new g(ot,$));else continue;T.push(X)}}else E(ot)&&T.push(new A(ot,xt,null,new g(H,xt)))}}return ht.root};function N(x,R){var T=new P;return T.traverse(x,R)}function L(x,R){var T=new P;return T.replace(x,R)}function K(x,R){var T;return T=f(R,function(G){return G.range[0]>x.range[0]}),x.extendedRange=[x.range[0],x.range[1]],T!==R.length&&(x.extendedRange[1]=R[T].range[0]),T-=1,T>=0&&(x.extendedRange[0]=R[T].range[1]),x}function _(x,R,T){var G=[],H,W,J,X;if(!x.range)throw new Error("attachComments needs range information");if(!T.length){if(R.length){for(J=0,W=R.length;J<W;J+=1)H=d(R[J]),H.extendedRange=[0,x.range[0]],G.push(H);x.leadingComments=G}return x}for(J=0,W=R.length;J<W;J+=1)G.push(K(d(R[J]),T));return X=0,N(x,{enter:function(Z){for(var $;X<G.length&&($=G[X],!($.extendedRange[1]>Z.range[0]));)$.extendedRange[1]===Z.range[0]?(Z.leadingComments||(Z.leadingComments=[]),Z.leadingComments.push($),G.splice(X,1)):X+=1;if(X===G.length)return u.Break;if(G[X].extendedRange[0]>Z.range[1])return u.Skip}}),X=0,N(x,{leave:function(Z){for(var $;X<G.length&&($=G[X],!(Z.range[1]<$.extendedRange[0]));)Z.range[1]===$.extendedRange[0]?(Z.trailingComments||(Z.trailingComments=[]),Z.trailingComments.push($),G.splice(X,1)):X+=1;if(X===G.length)return u.Break;if(G[X].extendedRange[0]>Z.range[1])return u.Skip}}),x}return i.Syntax=o,i.traverse=N,i.replace=L,i.attachComments=_,i.VisitorKeys=a,i.VisitorOption=u,i.Controller=P,i.cloneEnvironment=function(){return r({})},i})(t)})(bf);var Ti={},Pf={exports:{}};(function(){function t(c){if(c==null)return!1;switch(c.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function r(c){if(c==null)return!1;switch(c.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function i(c){if(c==null)return!1;switch(c.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function o(c){return i(c)||c!=null&&c.type==="FunctionDeclaration"}function u(c){switch(c.type){case"IfStatement":return c.alternate!=null?c.alternate:c.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return c.body}return null}function a(c){var l;if(c.type!=="IfStatement"||c.alternate==null)return!1;l=c.consequent;do{if(l.type==="IfStatement"&&l.alternate==null)return!0;l=u(l)}while(l);return!1}Pf.exports={isExpression:t,isStatement:i,isIterationStatement:r,isSourceElement:o,isProblematicIfStatement:a,trailingStatement:u}})();var CD=Pf.exports,Df={exports:{}};(function(){var t,r,i,o,u,a;r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function c(S){return 48<=S&&S<=57}function l(S){return 48<=S&&S<=57||97<=S&&S<=102||65<=S&&S<=70}function p(S){return S>=48&&S<=55}i=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function d(S){return S===32||S===9||S===11||S===12||S===160||S>=5760&&i.indexOf(S)>=0}function f(S){return S===10||S===13||S===8232||S===8233}function g(S){if(S<=65535)return String.fromCharCode(S);var N=String.fromCharCode(Math.floor((S-65536)/1024)+55296),L=String.fromCharCode((S-65536)%1024+56320);return N+L}for(o=new Array(128),a=0;a<128;++a)o[a]=a>=97&&a<=122||a>=65&&a<=90||a===36||a===95;for(u=new Array(128),a=0;a<128;++a)u[a]=a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===36||a===95;function A(S){return S<128?o[S]:r.NonAsciiIdentifierStart.test(g(S))}function P(S){return S<128?u[S]:r.NonAsciiIdentifierPart.test(g(S))}function E(S){return S<128?o[S]:t.NonAsciiIdentifierStart.test(g(S))}function F(S){return S<128?u[S]:t.NonAsciiIdentifierPart.test(g(S))}Df.exports={isDecimalDigit:c,isHexDigit:l,isOctalDigit:p,isWhiteSpace:d,isLineTerminator:f,isIdentifierStartES5:A,isIdentifierPartES5:P,isIdentifierStartES6:E,isIdentifierPartES6:F}})();var vf=Df.exports,Ef={exports:{}};(function(){var t=vf;function r(A){switch(A){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function i(A,P){return!P&&A==="yield"?!1:o(A,P)}function o(A,P){if(P&&r(A))return!0;switch(A.length){case 2:return A==="if"||A==="in"||A==="do";case 3:return A==="var"||A==="for"||A==="new"||A==="try";case 4:return A==="this"||A==="else"||A==="case"||A==="void"||A==="with"||A==="enum";case 5:return A==="while"||A==="break"||A==="catch"||A==="throw"||A==="const"||A==="yield"||A==="class"||A==="super";case 6:return A==="return"||A==="typeof"||A==="delete"||A==="switch"||A==="export"||A==="import";case 7:return A==="default"||A==="finally"||A==="extends";case 8:return A==="function"||A==="continue"||A==="debugger";case 10:return A==="instanceof";default:return!1}}function u(A,P){return A==="null"||A==="true"||A==="false"||i(A,P)}function a(A,P){return A==="null"||A==="true"||A==="false"||o(A,P)}function c(A){return A==="eval"||A==="arguments"}function l(A){var P,E,F;if(A.length===0||(F=A.charCodeAt(0),!t.isIdentifierStartES5(F)))return!1;for(P=1,E=A.length;P<E;++P)if(F=A.charCodeAt(P),!t.isIdentifierPartES5(F))return!1;return!0}function p(A,P){return(A-55296)*1024+(P-56320)+65536}function d(A){var P,E,F,S,N;if(A.length===0)return!1;for(N=t.isIdentifierStartES6,P=0,E=A.length;P<E;++P){if(F=A.charCodeAt(P),55296<=F&&F<=56319){if(++P,P>=E||(S=A.charCodeAt(P),!(56320<=S&&S<=57343)))return!1;F=p(F,S)}if(!N(F))return!1;N=t.isIdentifierPartES6}return!0}function f(A,P){return l(A)&&!u(A,P)}function g(A,P){return d(A)&&!a(A,P)}Ef.exports={isKeywordES5:i,isKeywordES6:o,isReservedWordES5:u,isReservedWordES6:a,isRestrictedWord:c,isIdentifierNameES5:l,isIdentifierNameES6:d,isIdentifierES5:f,isIdentifierES6:g}})();var yD=Ef.exports;(function(){Ti.ast=CD,Ti.code=vf,Ti.keyword=yD})();var wi={},Hs={},Bi={},Ii={},Oa;function MD(){if(Oa)return Ii;Oa=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Ii.encode=function(r){if(0<=r&&r<t.length)return t[r];throw new TypeError("Must be between 0 and 63: "+r)},Ii.decode=function(r){var i=65,o=90,u=97,a=122,c=48,l=57,p=43,d=47,f=26,g=52;return i<=r&&r<=o?r-i:u<=r&&r<=a?r-u+f:c<=r&&r<=l?r-c+g:r==p?62:r==d?63:-1},Ii}var Ga;function Ff(){if(Ga)return Bi;Ga=1;var t=MD(),r=5,i=1<<r,o=i-1,u=i;function a(l){return l<0?(-l<<1)+1:(l<<1)+0}function c(l){var p=(l&1)===1,d=l>>1;return p?-d:d}return Bi.encode=function(l){var p="",d,f=a(l);do d=f&o,f>>>=r,f>0&&(d|=u),p+=t.encode(d);while(f>0);return p},Bi.decode=function(l,p,d){var f=l.length,g=0,A=0,P,E;do{if(p>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(E=t.decode(l.charCodeAt(p++)),E===-1)throw new Error("Invalid base64 digit: "+l.charAt(p-1));P=!!(E&u),E&=o,g=g+(E<<A),A+=r}while(P);d.value=c(g),d.rest=p},Bi}var za={},Wa;function ci(){return Wa||(Wa=1,function(t){function r(_,x,R){if(x in _)return _[x];if(arguments.length===3)return R;throw new Error('"'+x+'" is a required argument.')}t.getArg=r;var i=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,o=/^data:.+\,.+$/;function u(_){var x=_.match(i);return x?{scheme:x[1],auth:x[2],host:x[3],port:x[4],path:x[5]}:null}t.urlParse=u;function a(_){var x="";return _.scheme&&(x+=_.scheme+":"),x+="//",_.auth&&(x+=_.auth+"@"),_.host&&(x+=_.host),_.port&&(x+=":"+_.port),_.path&&(x+=_.path),x}t.urlGenerate=a;function c(_){var x=_,R=u(_);if(R){if(!R.path)return _;x=R.path}for(var T=t.isAbsolute(x),G=x.split(/\/+/),H,W=0,J=G.length-1;J>=0;J--)H=G[J],H==="."?G.splice(J,1):H===".."?W++:W>0&&(H===""?(G.splice(J+1,W),W=0):(G.splice(J,2),W--));return x=G.join("/"),x===""&&(x=T?"/":"."),R?(R.path=x,a(R)):x}t.normalize=c;function l(_,x){_===""&&(_="."),x===""&&(x=".");var R=u(x),T=u(_);if(T&&(_=T.path||"/"),R&&!R.scheme)return T&&(R.scheme=T.scheme),a(R);if(R||x.match(o))return x;if(T&&!T.host&&!T.path)return T.host=x,a(T);var G=x.charAt(0)==="/"?x:c(_.replace(/\/+$/,"")+"/"+x);return T?(T.path=G,a(T)):G}t.join=l,t.isAbsolute=function(_){return _.charAt(0)==="/"||i.test(_)};function p(_,x){_===""&&(_="."),_=_.replace(/\/$/,"");for(var R=0;x.indexOf(_+"/")!==0;){var T=_.lastIndexOf("/");if(T<0||(_=_.slice(0,T),_.match(/^([^\/]+:\/)?\/*$/)))return x;++R}return Array(R+1).join("../")+x.substr(_.length+1)}t.relative=p;var d=function(){var _=Object.create(null);return!("__proto__"in _)}();function f(_){return _}function g(_){return P(_)?"$"+_:_}t.toSetString=d?f:g;function A(_){return P(_)?_.slice(1):_}t.fromSetString=d?f:A;function P(_){if(!_)return!1;var x=_.length;if(x<9||_.charCodeAt(x-1)!==95||_.charCodeAt(x-2)!==95||_.charCodeAt(x-3)!==111||_.charCodeAt(x-4)!==116||_.charCodeAt(x-5)!==111||_.charCodeAt(x-6)!==114||_.charCodeAt(x-7)!==112||_.charCodeAt(x-8)!==95||_.charCodeAt(x-9)!==95)return!1;for(var R=x-10;R>=0;R--)if(_.charCodeAt(R)!==36)return!1;return!0}function E(_,x,R){var T=S(_.source,x.source);return T!==0||(T=_.originalLine-x.originalLine,T!==0)||(T=_.originalColumn-x.originalColumn,T!==0||R)||(T=_.generatedColumn-x.generatedColumn,T!==0)||(T=_.generatedLine-x.generatedLine,T!==0)?T:S(_.name,x.name)}t.compareByOriginalPositions=E;function F(_,x,R){var T=_.generatedLine-x.generatedLine;return T!==0||(T=_.generatedColumn-x.generatedColumn,T!==0||R)||(T=S(_.source,x.source),T!==0)||(T=_.originalLine-x.originalLine,T!==0)||(T=_.originalColumn-x.originalColumn,T!==0)?T:S(_.name,x.name)}t.compareByGeneratedPositionsDeflated=F;function S(_,x){return _===x?0:_===null?1:x===null?-1:_>x?1:-1}function N(_,x){var R=_.generatedLine-x.generatedLine;return R!==0||(R=_.generatedColumn-x.generatedColumn,R!==0)||(R=S(_.source,x.source),R!==0)||(R=_.originalLine-x.originalLine,R!==0)||(R=_.originalColumn-x.originalColumn,R!==0)?R:S(_.name,x.name)}t.compareByGeneratedPositionsInflated=N;function L(_){return JSON.parse(_.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=L;function K(_,x,R){if(x=x||"",_&&(_[_.length-1]!=="/"&&x[0]!=="/"&&(_+="/"),x=_+x),R){var T=u(R);if(!T)throw new Error("sourceMapURL could not be parsed");if(T.path){var G=T.path.lastIndexOf("/");G>=0&&(T.path=T.path.substring(0,G+1))}x=l(a(T),x)}return c(x)}t.computeSourceURL=K}(za)),za}var Ks={},qa;function wf(){if(qa)return Ks;qa=1;var t=ci(),r=Object.prototype.hasOwnProperty,i=typeof Map<"u";function o(){this._array=[],this._set=i?new Map:Object.create(null)}return o.fromArray=function(u,a){for(var c=new o,l=0,p=u.length;l<p;l++)c.add(u[l],a);return c},o.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},o.prototype.add=function(u,a){var c=i?u:t.toSetString(u),l=i?this.has(u):r.call(this._set,c),p=this._array.length;(!l||a)&&this._array.push(u),l||(i?this._set.set(u,p):this._set[c]=p)},o.prototype.has=function(u){if(i)return this._set.has(u);var a=t.toSetString(u);return r.call(this._set,a)},o.prototype.indexOf=function(u){if(i){var a=this._set.get(u);if(a>=0)return a}else{var c=t.toSetString(u);if(r.call(this._set,c))return this._set[c]}throw new Error('"'+u+'" is not in the set.')},o.prototype.at=function(u){if(u>=0&&u<this._array.length)return this._array[u];throw new Error("No element indexed by "+u)},o.prototype.toArray=function(){return this._array.slice()},Ks.ArraySet=o,Ks}var Ys={},Xa;function bD(){if(Xa)return Ys;Xa=1;var t=ci();function r(o,u){var a=o.generatedLine,c=u.generatedLine,l=o.generatedColumn,p=u.generatedColumn;return c>a||c==a&&p>=l||t.compareByGeneratedPositionsInflated(o,u)<=0}function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return i.prototype.unsortedForEach=function(o,u){this._array.forEach(o,u)},i.prototype.add=function(o){r(this._last,o)?(this._last=o,this._array.push(o)):(this._sorted=!1,this._array.push(o))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Ys.MappingList=i,Ys}var Za;function Bf(){if(Za)return Hs;Za=1;var t=Ff(),r=ci(),i=wf().ArraySet,o=bD().MappingList;function u(a){a||(a={}),this._file=r.getArg(a,"file",null),this._sourceRoot=r.getArg(a,"sourceRoot",null),this._skipValidation=r.getArg(a,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new o,this._sourcesContents=null}return u.prototype._version=3,u.fromSourceMap=function(a){var c=a.sourceRoot,l=new u({file:a.file,sourceRoot:c});return a.eachMapping(function(p){var d={generated:{line:p.generatedLine,column:p.generatedColumn}};p.source!=null&&(d.source=p.source,c!=null&&(d.source=r.relative(c,d.source)),d.original={line:p.originalLine,column:p.originalColumn},p.name!=null&&(d.name=p.name)),l.addMapping(d)}),a.sources.forEach(function(p){var d=p;c!==null&&(d=r.relative(c,p)),l._sources.has(d)||l._sources.add(d);var f=a.sourceContentFor(p);f!=null&&l.setSourceContent(p,f)}),l},u.prototype.addMapping=function(a){var c=r.getArg(a,"generated"),l=r.getArg(a,"original",null),p=r.getArg(a,"source",null),d=r.getArg(a,"name",null);this._skipValidation||this._validateMapping(c,l,p,d),p!=null&&(p=String(p),this._sources.has(p)||this._sources.add(p)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:c.line,generatedColumn:c.column,originalLine:l!=null&&l.line,originalColumn:l!=null&&l.column,source:p,name:d})},u.prototype.setSourceContent=function(a,c){var l=a;this._sourceRoot!=null&&(l=r.relative(this._sourceRoot,l)),c!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(l)]=c):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(l)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},u.prototype.applySourceMap=function(a,c,l){var p=c;if(c==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);p=a.file}var d=this._sourceRoot;d!=null&&(p=r.relative(d,p));var f=new i,g=new i;this._mappings.unsortedForEach(function(A){if(A.source===p&&A.originalLine!=null){var P=a.originalPositionFor({line:A.originalLine,column:A.originalColumn});P.source!=null&&(A.source=P.source,l!=null&&(A.source=r.join(l,A.source)),d!=null&&(A.source=r.relative(d,A.source)),A.originalLine=P.line,A.originalColumn=P.column,P.name!=null&&(A.name=P.name))}var E=A.source;E!=null&&!f.has(E)&&f.add(E);var F=A.name;F!=null&&!g.has(F)&&g.add(F)},this),this._sources=f,this._names=g,a.sources.forEach(function(A){var P=a.sourceContentFor(A);P!=null&&(l!=null&&(A=r.join(l,A)),d!=null&&(A=r.relative(d,A)),this.setSourceContent(A,P))},this)},u.prototype._validateMapping=function(a,c,l,p){if(c&&typeof c.line!="number"&&typeof c.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!c&&!l&&!p)){if(a&&"line"in a&&"column"in a&&c&&"line"in c&&"column"in c&&a.line>0&&a.column>=0&&c.line>0&&c.column>=0&&l)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:l,original:c,name:p}))}},u.prototype._serializeMappings=function(){for(var a=0,c=1,l=0,p=0,d=0,f=0,g="",A,P,E,F,S=this._mappings.toArray(),N=0,L=S.length;N<L;N++){if(P=S[N],A="",P.generatedLine!==c)for(a=0;P.generatedLine!==c;)A+=";",c++;else if(N>0){if(!r.compareByGeneratedPositionsInflated(P,S[N-1]))continue;A+=","}A+=t.encode(P.generatedColumn-a),a=P.generatedColumn,P.source!=null&&(F=this._sources.indexOf(P.source),A+=t.encode(F-f),f=F,A+=t.encode(P.originalLine-1-p),p=P.originalLine-1,A+=t.encode(P.originalColumn-l),l=P.originalColumn,P.name!=null&&(E=this._names.indexOf(P.name),A+=t.encode(E-d),d=E)),g+=A}return g},u.prototype._generateSourcesContent=function(a,c){return a.map(function(l){if(!this._sourcesContents)return null;c!=null&&(l=r.relative(c,l));var p=r.toSetString(l);return Object.prototype.hasOwnProperty.call(this._sourcesContents,p)?this._sourcesContents[p]:null},this)},u.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},u.prototype.toString=function(){return JSON.stringify(this.toJSON())},Hs.SourceMapGenerator=u,Hs}var Wr={},Ha={},Ka;function PD(){return Ka||(Ka=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function r(i,o,u,a,c,l){var p=Math.floor((o-i)/2)+i,d=c(u,a[p],!0);return d===0?p:d>0?o-p>1?r(p,o,u,a,c,l):l==t.LEAST_UPPER_BOUND?o<a.length?o:-1:p:p-i>1?r(i,p,u,a,c,l):l==t.LEAST_UPPER_BOUND?p:i<0?-1:i}t.search=function(i,o,u,a){if(o.length===0)return-1;var c=r(-1,o.length,i,o,u,a||t.GREATEST_LOWER_BOUND);if(c<0)return-1;for(;c-1>=0&&u(o[c],o[c-1],!0)===0;)--c;return c}}(Ha)),Ha}var $s={},Ya;function DD(){if(Ya)return $s;Ya=1;function t(o,u,a){var c=o[u];o[u]=o[a],o[a]=c}function r(o,u){return Math.round(o+Math.random()*(u-o))}function i(o,u,a,c){if(a<c){var l=r(a,c),p=a-1;t(o,l,c);for(var d=o[c],f=a;f<c;f++)u(o[f],d)<=0&&(p+=1,t(o,p,f));t(o,p+1,f);var g=p+1;i(o,u,a,g-1),i(o,u,g+1,c)}}return $s.quickSort=function(o,u){i(o,u,0,o.length-1)},$s}var $a;function vD(){if($a)return Wr;$a=1;var t=ci(),r=PD(),i=wf().ArraySet,o=Ff(),u=DD().quickSort;function a(d,f){var g=d;return typeof d=="string"&&(g=t.parseSourceMapInput(d)),g.sections!=null?new p(g,f):new c(g,f)}a.fromSourceMap=function(d,f){return c.fromSourceMap(d,f)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(d,f){var g=d.charAt(f);return g===";"||g===","},a.prototype._parseMappings=function(d,f){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(d,f,g){var A=f||null,P=g||a.GENERATED_ORDER,E;switch(P){case a.GENERATED_ORDER:E=this._generatedMappings;break;case a.ORIGINAL_ORDER:E=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var F=this.sourceRoot;E.map(function(S){var N=S.source===null?null:this._sources.at(S.source);return N=t.computeSourceURL(F,N,this._sourceMapURL),{source:N,generatedLine:S.generatedLine,generatedColumn:S.generatedColumn,originalLine:S.originalLine,originalColumn:S.originalColumn,name:S.name===null?null:this._names.at(S.name)}},this).forEach(d,A)},a.prototype.allGeneratedPositionsFor=function(d){var f=t.getArg(d,"line"),g={source:t.getArg(d,"source"),originalLine:f,originalColumn:t.getArg(d,"column",0)};if(g.source=this._findSourceIndex(g.source),g.source<0)return[];var A=[],P=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(P>=0){var E=this._originalMappings[P];if(d.column===void 0)for(var F=E.originalLine;E&&E.originalLine===F;)A.push({line:t.getArg(E,"generatedLine",null),column:t.getArg(E,"generatedColumn",null),lastColumn:t.getArg(E,"lastGeneratedColumn",null)}),E=this._originalMappings[++P];else for(var S=E.originalColumn;E&&E.originalLine===f&&E.originalColumn==S;)A.push({line:t.getArg(E,"generatedLine",null),column:t.getArg(E,"generatedColumn",null),lastColumn:t.getArg(E,"lastGeneratedColumn",null)}),E=this._originalMappings[++P]}return A},Wr.SourceMapConsumer=a;function c(d,f){var g=d;typeof d=="string"&&(g=t.parseSourceMapInput(d));var A=t.getArg(g,"version"),P=t.getArg(g,"sources"),E=t.getArg(g,"names",[]),F=t.getArg(g,"sourceRoot",null),S=t.getArg(g,"sourcesContent",null),N=t.getArg(g,"mappings"),L=t.getArg(g,"file",null);if(A!=this._version)throw new Error("Unsupported version: "+A);F&&(F=t.normalize(F)),P=P.map(String).map(t.normalize).map(function(K){return F&&t.isAbsolute(F)&&t.isAbsolute(K)?t.relative(F,K):K}),this._names=i.fromArray(E.map(String),!0),this._sources=i.fromArray(P,!0),this._absoluteSources=this._sources.toArray().map(function(K){return t.computeSourceURL(F,K,f)}),this.sourceRoot=F,this.sourcesContent=S,this._mappings=N,this._sourceMapURL=f,this.file=L}c.prototype=Object.create(a.prototype),c.prototype.consumer=a,c.prototype._findSourceIndex=function(d){var f=d;if(this.sourceRoot!=null&&(f=t.relative(this.sourceRoot,f)),this._sources.has(f))return this._sources.indexOf(f);var g;for(g=0;g<this._absoluteSources.length;++g)if(this._absoluteSources[g]==d)return g;return-1},c.fromSourceMap=function(d,f){var g=Object.create(c.prototype),A=g._names=i.fromArray(d._names.toArray(),!0),P=g._sources=i.fromArray(d._sources.toArray(),!0);g.sourceRoot=d._sourceRoot,g.sourcesContent=d._generateSourcesContent(g._sources.toArray(),g.sourceRoot),g.file=d._file,g._sourceMapURL=f,g._absoluteSources=g._sources.toArray().map(function(x){return t.computeSourceURL(g.sourceRoot,x,f)});for(var E=d._mappings.toArray().slice(),F=g.__generatedMappings=[],S=g.__originalMappings=[],N=0,L=E.length;N<L;N++){var K=E[N],_=new l;_.generatedLine=K.generatedLine,_.generatedColumn=K.generatedColumn,K.source&&(_.source=P.indexOf(K.source),_.originalLine=K.originalLine,_.originalColumn=K.originalColumn,K.name&&(_.name=A.indexOf(K.name)),S.push(_)),F.push(_)}return u(g.__originalMappings,t.compareByOriginalPositions),g},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}c.prototype._parseMappings=function(d,f){for(var g=1,A=0,P=0,E=0,F=0,S=0,N=d.length,L=0,K={},_={},x=[],R=[],T,G,H,W,J;L<N;)if(d.charAt(L)===";")g++,L++,A=0;else if(d.charAt(L)===",")L++;else{for(T=new l,T.generatedLine=g,W=L;W<N&&!this._charIsMappingSeparator(d,W);W++);if(G=d.slice(L,W),H=K[G],H)L+=G.length;else{for(H=[];L<W;)o.decode(d,L,_),J=_.value,L=_.rest,H.push(J);if(H.length===2)throw new Error("Found a source, but no line and column");if(H.length===3)throw new Error("Found a source and line, but no column");K[G]=H}T.generatedColumn=A+H[0],A=T.generatedColumn,H.length>1&&(T.source=F+H[1],F+=H[1],T.originalLine=P+H[2],P=T.originalLine,T.originalLine+=1,T.originalColumn=E+H[3],E=T.originalColumn,H.length>4&&(T.name=S+H[4],S+=H[4])),R.push(T),typeof T.originalLine=="number"&&x.push(T)}u(R,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=R,u(x,t.compareByOriginalPositions),this.__originalMappings=x},c.prototype._findMapping=function(d,f,g,A,P,E){if(d[g]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[g]);if(d[A]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[A]);return r.search(d,f,P,E)},c.prototype.computeColumnSpans=function(){for(var d=0;d<this._generatedMappings.length;++d){var f=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var g=this._generatedMappings[d+1];if(f.generatedLine===g.generatedLine){f.lastGeneratedColumn=g.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(d){var f={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},g=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(g>=0){var A=this._generatedMappings[g];if(A.generatedLine===f.generatedLine){var P=t.getArg(A,"source",null);P!==null&&(P=this._sources.at(P),P=t.computeSourceURL(this.sourceRoot,P,this._sourceMapURL));var E=t.getArg(A,"name",null);return E!==null&&(E=this._names.at(E)),{source:P,line:t.getArg(A,"originalLine",null),column:t.getArg(A,"originalColumn",null),name:E}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},c.prototype.sourceContentFor=function(d,f){if(!this.sourcesContent)return null;var g=this._findSourceIndex(d);if(g>=0)return this.sourcesContent[g];var A=d;this.sourceRoot!=null&&(A=t.relative(this.sourceRoot,A));var P;if(this.sourceRoot!=null&&(P=t.urlParse(this.sourceRoot))){var E=A.replace(/^file:\/\//,"");if(P.scheme=="file"&&this._sources.has(E))return this.sourcesContent[this._sources.indexOf(E)];if((!P.path||P.path=="/")&&this._sources.has("/"+A))return this.sourcesContent[this._sources.indexOf("/"+A)]}if(f)return null;throw new Error('"'+A+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(d){var f=t.getArg(d,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var g={source:f,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},A=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(A>=0){var P=this._originalMappings[A];if(P.source===g.source)return{line:t.getArg(P,"generatedLine",null),column:t.getArg(P,"generatedColumn",null),lastColumn:t.getArg(P,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Wr.BasicSourceMapConsumer=c;function p(d,f){var g=d;typeof d=="string"&&(g=t.parseSourceMapInput(d));var A=t.getArg(g,"version"),P=t.getArg(g,"sections");if(A!=this._version)throw new Error("Unsupported version: "+A);this._sources=new i,this._names=new i;var E={line:-1,column:0};this._sections=P.map(function(F){if(F.url)throw new Error("Support for url field in sections not implemented.");var S=t.getArg(F,"offset"),N=t.getArg(S,"line"),L=t.getArg(S,"column");if(N<E.line||N===E.line&&L<E.column)throw new Error("Section offsets must be ordered and non-overlapping.");return E=S,{generatedOffset:{generatedLine:N+1,generatedColumn:L+1},consumer:new a(t.getArg(F,"map"),f)}})}return p.prototype=Object.create(a.prototype),p.prototype.constructor=a,p.prototype._version=3,Object.defineProperty(p.prototype,"sources",{get:function(){for(var d=[],f=0;f<this._sections.length;f++)for(var g=0;g<this._sections[f].consumer.sources.length;g++)d.push(this._sections[f].consumer.sources[g]);return d}}),p.prototype.originalPositionFor=function(d){var f={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},g=r.search(f,this._sections,function(P,E){var F=P.generatedLine-E.generatedOffset.generatedLine;return F||P.generatedColumn-E.generatedOffset.generatedColumn}),A=this._sections[g];return A?A.consumer.originalPositionFor({line:f.generatedLine-(A.generatedOffset.generatedLine-1),column:f.generatedColumn-(A.generatedOffset.generatedLine===f.generatedLine?A.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},p.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},p.prototype.sourceContentFor=function(d,f){for(var g=0;g<this._sections.length;g++){var A=this._sections[g],P=A.consumer.sourceContentFor(d,!0);if(P)return P}if(f)return null;throw new Error('"'+d+'" is not in the SourceMap.')},p.prototype.generatedPositionFor=function(d){for(var f=0;f<this._sections.length;f++){var g=this._sections[f];if(g.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var A=g.consumer.generatedPositionFor(d);if(A){var P={line:A.line+(g.generatedOffset.generatedLine-1),column:A.column+(g.generatedOffset.generatedLine===A.line?g.generatedOffset.generatedColumn-1:0)};return P}}}return{line:null,column:null}},p.prototype._parseMappings=function(d,f){this.__generatedMappings=[],this.__originalMappings=[];for(var g=0;g<this._sections.length;g++)for(var A=this._sections[g],P=A.consumer._generatedMappings,E=0;E<P.length;E++){var F=P[E],S=A.consumer._sources.at(F.source);S=t.computeSourceURL(A.consumer.sourceRoot,S,this._sourceMapURL),this._sources.add(S),S=this._sources.indexOf(S);var N=null;F.name&&(N=A.consumer._names.at(F.name),this._names.add(N),N=this._names.indexOf(N));var L={source:S,generatedLine:F.generatedLine+(A.generatedOffset.generatedLine-1),generatedColumn:F.generatedColumn+(A.generatedOffset.generatedLine===F.generatedLine?A.generatedOffset.generatedColumn-1:0),originalLine:F.originalLine,originalColumn:F.originalColumn,name:N};this.__generatedMappings.push(L),typeof L.originalLine=="number"&&this.__originalMappings.push(L)}u(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),u(this.__originalMappings,t.compareByOriginalPositions)},Wr.IndexedSourceMapConsumer=p,Wr}var Us={},Ua;function ED(){if(Ua)return Us;Ua=1;var t=Bf().SourceMapGenerator,r=ci(),i=/(\r?\n)/,o=10,u="$$$isSourceNode$$$";function a(c,l,p,d,f){this.children=[],this.sourceContents={},this.line=c??null,this.column=l??null,this.source=p??null,this.name=f??null,this[u]=!0,d!=null&&this.add(d)}return a.fromStringWithSourceMap=function(c,l,p){var d=new a,f=c.split(i),g=0,A=function(){var N=K(),L=K()||"";return N+L;function K(){return g<f.length?f[g++]:void 0}},P=1,E=0,F=null;return l.eachMapping(function(N){if(F!==null)if(P<N.generatedLine)S(F,A()),P++,E=0;else{var L=f[g]||"",K=L.substr(0,N.generatedColumn-E);f[g]=L.substr(N.generatedColumn-E),E=N.generatedColumn,S(F,K),F=N;return}for(;P<N.generatedLine;)d.add(A()),P++;if(E<N.generatedColumn){var L=f[g]||"";d.add(L.substr(0,N.generatedColumn)),f[g]=L.substr(N.generatedColumn),E=N.generatedColumn}F=N},this),g<f.length&&(F&&S(F,A()),d.add(f.splice(g).join(""))),l.sources.forEach(function(N){var L=l.sourceContentFor(N);L!=null&&(p!=null&&(N=r.join(p,N)),d.setSourceContent(N,L))}),d;function S(N,L){if(N===null||N.source===void 0)d.add(L);else{var K=p?r.join(p,N.source):N.source;d.add(new a(N.originalLine,N.originalColumn,K,L,N.name))}}},a.prototype.add=function(c){if(Array.isArray(c))c.forEach(function(l){this.add(l)},this);else if(c[u]||typeof c=="string")c&&this.children.push(c);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);return this},a.prototype.prepend=function(c){if(Array.isArray(c))for(var l=c.length-1;l>=0;l--)this.prepend(c[l]);else if(c[u]||typeof c=="string")this.children.unshift(c);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);return this},a.prototype.walk=function(c){for(var l,p=0,d=this.children.length;p<d;p++)l=this.children[p],l[u]?l.walk(c):l!==""&&c(l,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(c){var l,p,d=this.children.length;if(d>0){for(l=[],p=0;p<d-1;p++)l.push(this.children[p]),l.push(c);l.push(this.children[p]),this.children=l}return this},a.prototype.replaceRight=function(c,l){var p=this.children[this.children.length-1];return p[u]?p.replaceRight(c,l):typeof p=="string"?this.children[this.children.length-1]=p.replace(c,l):this.children.push("".replace(c,l)),this},a.prototype.setSourceContent=function(c,l){this.sourceContents[r.toSetString(c)]=l},a.prototype.walkSourceContents=function(c){for(var l=0,p=this.children.length;l<p;l++)this.children[l][u]&&this.children[l].walkSourceContents(c);for(var d=Object.keys(this.sourceContents),l=0,p=d.length;l<p;l++)c(r.fromSetString(d[l]),this.sourceContents[d[l]])},a.prototype.toString=function(){var c="";return this.walk(function(l){c+=l}),c},a.prototype.toStringWithSourceMap=function(c){var l={code:"",line:1,column:0},p=new t(c),d=!1,f=null,g=null,A=null,P=null;return this.walk(function(E,F){l.code+=E,F.source!==null&&F.line!==null&&F.column!==null?((f!==F.source||g!==F.line||A!==F.column||P!==F.name)&&p.addMapping({source:F.source,original:{line:F.line,column:F.column},generated:{line:l.line,column:l.column},name:F.name}),f=F.source,g=F.line,A=F.column,P=F.name,d=!0):d&&(p.addMapping({generated:{line:l.line,column:l.column}}),f=null,d=!1);for(var S=0,N=E.length;S<N;S++)E.charCodeAt(S)===o?(l.line++,l.column=0,S+1===N?(f=null,d=!1):d&&p.addMapping({source:F.source,original:{line:F.line,column:F.column},generated:{line:l.line,column:l.column},name:F.name})):l.column++}),this.walkSourceContents(function(E,F){p.setSourceContent(E,F)}),{code:l.code,map:p}},Us.SourceNode=a,Us}var Ja;function FD(){return Ja||(Ja=1,wi.SourceMapGenerator=Bf().SourceMapGenerator,wi.SourceMapConsumer=vD().SourceMapConsumer,wi.SourceNode=ED().SourceNode),wi}const wD="escodegen",BD="ECMAScript code generator",ID="http://github.com/estools/escodegen",xD="escodegen.js",SD={esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},kD=["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],_D="2.1.0",ND={node:">=6.0"},TD=[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],RD={type:"git",url:"http://github.com/estools/escodegen.git"},VD={estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1"},LD={"source-map":"~0.6.1"},jD={acorn:"^8.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-mocha":"^7.0.2",minimist:"^1.2.5",optionator:"^0.9.1",semver:"^7.3.4"},OD="BSD-2-Clause",GD={test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"},zD={name:wD,description:BD,homepage:ID,main:xD,bin:SD,files:kD,version:_D,engines:ND,maintainers:TD,repository:RD,dependencies:VD,optionalDependencies:LD,devDependencies:jD,license:OD,scripts:GD};(function(t){(function(){var r,i,o,u,a,c,l,p,d,f,g,A,P,E,F,S,N,L,K,_,x,R,T,G,H,W;a=bf,c=Ti,r=a.Syntax;function J(m){return pt.Expression.hasOwnProperty(m.type)}function X(m){return pt.Statement.hasOwnProperty(m.type)}i={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},o={"??":i.Coalesce,"||":i.LogicalOR,"&&":i.LogicalAND,"|":i.BitwiseOR,"^":i.BitwiseXOR,"&":i.BitwiseAND,"==":i.Equality,"!=":i.Equality,"===":i.Equality,"!==":i.Equality,is:i.Equality,isnt:i.Equality,"<":i.Relational,">":i.Relational,"<=":i.Relational,">=":i.Relational,in:i.Relational,instanceof:i.Relational,"<<":i.BitwiseSHIFT,">>":i.BitwiseSHIFT,">>>":i.BitwiseSHIFT,"+":i.Additive,"-":i.Additive,"*":i.Multiplicative,"%":i.Multiplicative,"/":i.Multiplicative,"**":i.Exponentiation};var Z=1,$=2,gt=4,ot=8,dt=16,ht=32,xt=64,me=$|gt,te=Z|$,Y=Z|$|gt,ee=Z,ae=gt,ve=Z|gt,wt=Z,$t=Z|ht,Dt=0,Zt=Z|dt,Me=Z|ot;function be(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Nt(m,y){var C="";for(y|=0;y>0;y>>>=1,m+=m)y&1&&(C+=m);return C}function En(m){return/[\r\n]/g.test(m)}function Tt(m){var y=m.length;return y&&c.code.isLineTerminator(m.charCodeAt(y-1))}function Fn(m,y){var C;for(C in y)y.hasOwnProperty(C)&&(m[C]=y[C]);return m}function Ee(m,y){var C,M;function B(V){return typeof V=="object"&&V instanceof Object&&!(V instanceof RegExp)}for(C in y)y.hasOwnProperty(C)&&(M=y[C],B(M)?B(m[C])?Ee(m[C],M):m[C]=Ee({},M):m[C]=M);return m}function Ge(m){var y,C,M,B,V;if(m!==m)throw new Error("Numeric literal whose value is NaN");if(m<0||m===0&&1/m<0)throw new Error("Numeric literal whose value is negative");if(m===1/0)return d?"null":f?"1e400":"1e+400";if(y=""+m,!f||y.length<3)return y;for(C=y.indexOf("."),!d&&y.charCodeAt(0)===48&&C===1&&(C=0,y=y.slice(1)),M=y,y=y.replace("e+","e"),B=0,(V=M.indexOf("e"))>0&&(B=+M.slice(V+1),M=M.slice(0,V)),C>=0&&(B-=M.length-C-1,M=+(M.slice(0,C)+M.slice(C+1))+""),V=0;M.charCodeAt(M.length+V-1)===48;)--V;return V!==0&&(B-=V,M=M.slice(0,V)),B!==0&&(M+="e"+B),(M.length<y.length||g&&m>1e12&&Math.floor(m)===m&&(M="0x"+m.toString(16)).length<y.length)&&+M===m&&(y=M),y}function un(m,y){return(m&-2)===8232?(y?"u":"\\u")+(m===8232?"2028":"2029"):m===10||m===13?(y?"":"\\")+(m===10?"n":"r"):String.fromCharCode(m)}function an(m){var y,C,M,B,V,O,q,Q;if(C=m.toString(),m.source){if(y=C.match(/\/([^/]*)$/),!y)return C;for(M=y[1],C="",q=!1,Q=!1,B=0,V=m.source.length;B<V;++B)O=m.source.charCodeAt(B),Q?(C+=un(O,Q),Q=!1):(q?O===93&&(q=!1):O===47?C+="\\":O===91&&(q=!0),C+=un(O,Q),Q=O===92);return"/"+C+"/"+M}return C}function cn(m,y){var C;return m===8?"\\b":m===12?"\\f":m===9?"\\t":(C=m.toString(16).toUpperCase(),d||m>255?"\\u"+"0000".slice(C.length)+C:m===0&&!c.code.isDecimalDigit(y)?"\\0":m===11?"\\x0B":"\\x"+"00".slice(C.length)+C)}function wn(m){if(m===92)return"\\\\";if(m===10)return"\\n";if(m===13)return"\\r";if(m===8232)return"\\u2028";if(m===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function ln(m){var y,C,M,B;for(B=A==="double"?'"':"'",y=0,C=m.length;y<C;++y)if(M=m.charCodeAt(y),M===39){B='"';break}else if(M===34){B="'";break}else M===92&&++y;return B+m+B}function ze(m){var y="",C,M,B,V=0,O=0,q,Q;for(C=0,M=m.length;C<M;++C){if(B=m.charCodeAt(C),B===39)++V;else if(B===34)++O;else if(B===47&&d)y+="\\";else if(c.code.isLineTerminator(B)||B===92){y+=wn(B);continue}else if(!c.code.isIdentifierPartES5(B)&&(d&&B<32||!d&&!P&&(B<32||B>126))){y+=cn(B,m.charCodeAt(C+1));continue}y+=String.fromCharCode(B)}if(q=!(A==="double"||A==="auto"&&O<V),Q=q?"'":'"',!(q?V:O))return Q+y+Q;for(m=y,y=Q,C=0,M=m.length;C<M;++C)B=m.charCodeAt(C),(B===39&&q||B===34&&!q)&&(y+="\\"),y+=String.fromCharCode(B);return y+Q}function We(m){var y,C,M,B="";for(y=0,C=m.length;y<C;++y)M=m[y],B+=Array.isArray(M)?We(M):M;return B}function Mt(m,y){if(!R)return Array.isArray(m)?We(m):m;if(y==null){if(m instanceof u)return m;y={}}return y.loc==null?new u(null,null,R,m,y.name||null):new u(y.loc.start.line,y.loc.start.column,R===!0?y.loc.source||null:R,m,y.name||null)}function Ot(){return F||" "}function lt(m,y){var C,M,B,V;return C=Mt(m).toString(),C.length===0?[y]:(M=Mt(y).toString(),M.length===0?[m]:(B=C.charCodeAt(C.length-1),V=M.charCodeAt(0),(B===43||B===45)&&B===V||c.code.isIdentifierPartES5(B)&&c.code.isIdentifierPartES5(V)||B===47&&V===105?[m,Ot(),y]:c.code.isWhiteSpace(B)||c.code.isLineTerminator(B)||c.code.isWhiteSpace(V)||c.code.isLineTerminator(V)?[m,y]:[m,F,y]))}function Xt(m){return[l,m]}function Rt(m){var y;y=l,l+=p,m(l),l=y}function jr(m){var y;for(y=m.length-1;y>=0&&!c.code.isLineTerminator(m.charCodeAt(y));--y);return m.length-1-y}function Bn(m,y){var C,M,B,V,O,q,Q,yt;for(C=m.split(/\r\n|[\r\n]/),q=Number.MAX_VALUE,M=1,B=C.length;M<B;++M){for(V=C[M],O=0;O<V.length&&c.code.isWhiteSpace(V.charCodeAt(O));)++O;q>O&&(q=O)}for(typeof y<"u"?(Q=l,C[1][q]==="*"&&(y+=" "),l=y):(q&1&&--q,Q=l),M=1,B=C.length;M<B;++M)yt=Mt(Xt(C[M].slice(q))),C[M]=R?yt.join(""):yt;return l=Q,C.join(`
`)}function vt(m,y){if(m.type==="Line"){if(Tt(m.value))return"//"+m.value;var C="//"+m.value;return G||(C+=`
`),C}return _.format.indent.adjustMultilineComment&&/[\n\r]/.test(m.value)?Bn("/*"+m.value+"*/",y):"/*"+m.value+"*/"}function hn(m,y){var C,M,B,V,O,q,Q,yt,Ht,pn,In,Ai,Ci,we;if(m.leadingComments&&m.leadingComments.length>0){if(V=y,G){for(B=m.leadingComments[0],y=[],yt=B.extendedRange,Ht=B.range,In=T.substring(yt[0],Ht[0]),we=(In.match(/\n/g)||[]).length,we>0?(y.push(Nt(`
`,we)),y.push(Xt(vt(B)))):(y.push(In),y.push(vt(B))),pn=Ht,C=1,M=m.leadingComments.length;C<M;C++)B=m.leadingComments[C],Ht=B.range,Ai=T.substring(pn[1],Ht[0]),we=(Ai.match(/\n/g)||[]).length,y.push(Nt(`
`,we)),y.push(Xt(vt(B))),pn=Ht;Ci=T.substring(Ht[1],yt[1]),we=(Ci.match(/\n/g)||[]).length,y.push(Nt(`
`,we))}else for(B=m.leadingComments[0],y=[],L&&m.type===r.Program&&m.body.length===0&&y.push(`
`),y.push(vt(B)),Tt(Mt(y).toString())||y.push(`
`),C=1,M=m.leadingComments.length;C<M;++C)B=m.leadingComments[C],Q=[vt(B)],Tt(Mt(Q).toString())||Q.push(`
`),y.push(Xt(Q));y.push(Xt(V))}if(m.trailingComments)if(G)B=m.trailingComments[0],yt=B.extendedRange,Ht=B.range,In=T.substring(yt[0],Ht[0]),we=(In.match(/\n/g)||[]).length,we>0?(y.push(Nt(`
`,we)),y.push(Xt(vt(B)))):(y.push(In),y.push(vt(B)));else for(O=!Tt(Mt(y).toString()),q=Nt(" ",jr(Mt([l,y,p]).toString())),C=0,M=m.trailingComments.length;C<M;++C)B=m.trailingComments[C],O?(C===0?y=[y,p]:y=[y,q],y.push(vt(B,q))):y=[y,Xt(vt(B))],C!==M-1&&!Tt(Mt(y).toString())&&(y=[y,`
`]);return y}function de(m,y,C){var M,B=0;for(M=m;M<y;M++)T[M]===`
`&&B++;for(M=1;M<B;M++)C.push(E)}function Vt(m,y,C){return y<C?["(",m,")"]:m}function Kn(m){var y,C,M;for(M=m.split(/\r\n|\n/),y=1,C=M.length;y<C;y++)M[y]=E+l+M[y];return M}function or(m,y){var C,M,B;return C=m[_.verbatim],typeof C=="string"?M=Vt(Kn(C),i.Sequence,y):(M=Kn(C.content),B=C.precedence!=null?C.precedence:i.Sequence,M=Vt(M,B,y)),Mt(M,m)}function pt(){}pt.prototype.maybeBlock=function(m,y){var C,M,B=this;return M=!_.comment||!m.leadingComments,m.type===r.BlockStatement&&M?[F,this.generateStatement(m,y)]:m.type===r.EmptyStatement&&M?";":(Rt(function(){C=[E,Xt(B.generateStatement(m,y))]}),C)},pt.prototype.maybeBlockSuffix=function(m,y){var C=Tt(Mt(y).toString());return m.type===r.BlockStatement&&(!_.comment||!m.leadingComments)&&!C?[y,F]:C?[y,l]:[y,E,l]};function Gt(m){return Mt(m.name,m)}function Fe(m,y){return m.async?"async"+(y?Ot():F):""}function fe(m){var y=m.generator&&!_.moz.starlessGenerator;return y?"*"+F:""}function Or(m){var y=m.value,C="";return y.async&&(C+=Fe(y,!m.computed)),y.generator&&(C+=fe(y)?"*":""),C}pt.prototype.generatePattern=function(m,y,C){return m.type===r.Identifier?Gt(m):this.generateExpression(m,y,C)},pt.prototype.generateFunctionParams=function(m){var y,C,M,B;if(B=!1,m.type===r.ArrowFunctionExpression&&!m.rest&&(!m.defaults||m.defaults.length===0)&&m.params.length===1&&m.params[0].type===r.Identifier)M=[Fe(m,!0),Gt(m.params[0])];else{for(M=m.type===r.ArrowFunctionExpression?[Fe(m,!1)]:[],M.push("("),m.defaults&&(B=!0),y=0,C=m.params.length;y<C;++y)B&&m.defaults[y]?M.push(this.generateAssignment(m.params[y],m.defaults[y],"=",i.Assignment,Y)):M.push(this.generatePattern(m.params[y],i.Assignment,Y)),y+1<C&&M.push(","+F);m.rest&&(m.params.length&&M.push(","+F),M.push("..."),M.push(Gt(m.rest))),M.push(")")}return M},pt.prototype.generateFunctionBody=function(m){var y,C;return y=this.generateFunctionParams(m),m.type===r.ArrowFunctionExpression&&(y.push(F),y.push("=>")),m.expression?(y.push(F),C=this.generateExpression(m.body,i.Assignment,Y),C.toString().charAt(0)==="{"&&(C=["(",C,")"]),y.push(C)):y.push(this.maybeBlock(m.body,Me)),y},pt.prototype.generateIterationForStatement=function(m,y,C){var M=["for"+(y.await?Ot()+"await":"")+F+"("],B=this;return Rt(function(){y.left.type===r.VariableDeclaration?Rt(function(){M.push(y.left.kind+Ot()),M.push(B.generateStatement(y.left.declarations[0],Dt))}):M.push(B.generateExpression(y.left,i.Call,Y)),M=lt(M,m),M=[lt(M,B.generateExpression(y.right,i.Assignment,Y)),")"]}),M.push(this.maybeBlock(y.body,C)),M},pt.prototype.generatePropertyKey=function(m,y){var C=[];return y&&C.push("["),C.push(this.generateExpression(m,i.Assignment,Y)),y&&C.push("]"),C},pt.prototype.generateAssignment=function(m,y,C,M,B){return i.Assignment<M&&(B|=Z),Vt([this.generateExpression(m,i.Call,B),F+C+F,this.generateExpression(y,i.Assignment,B)],i.Assignment,M)},pt.prototype.semicolon=function(m){return!N&&m&ht?"":";"},pt.Statement={BlockStatement:function(m,y){var C,M,B=["{",E],V=this;return Rt(function(){m.body.length===0&&G&&(C=m.range,C[1]-C[0]>2&&(M=T.substring(C[0]+1,C[1]-1),M[0]===`
`&&(B=["{"]),B.push(M)));var O,q,Q,yt;for(yt=wt,y&ot&&(yt|=dt),O=0,q=m.body.length;O<q;++O)G&&(O===0&&(m.body[0].leadingComments&&(C=m.body[0].leadingComments[0].extendedRange,M=T.substring(C[0],C[1]),M[0]===`
`&&(B=["{"])),m.body[0].leadingComments||de(m.range[0],m.body[0].range[0],B)),O>0&&!m.body[O-1].trailingComments&&!m.body[O].leadingComments&&de(m.body[O-1].range[1],m.body[O].range[0],B)),O===q-1&&(yt|=ht),m.body[O].leadingComments&&G?Q=V.generateStatement(m.body[O],yt):Q=Xt(V.generateStatement(m.body[O],yt)),B.push(Q),Tt(Mt(Q).toString())||G&&O<q-1&&m.body[O+1].leadingComments||B.push(E),G&&O===q-1&&(m.body[O].trailingComments||de(m.body[O].range[1],m.range[1],B))}),B.push(Xt("}")),B},BreakStatement:function(m,y){return m.label?"break "+m.label.name+this.semicolon(y):"break"+this.semicolon(y)},ContinueStatement:function(m,y){return m.label?"continue "+m.label.name+this.semicolon(y):"continue"+this.semicolon(y)},ClassBody:function(m,y){var C=["{",E],M=this;return Rt(function(B){var V,O;for(V=0,O=m.body.length;V<O;++V)C.push(B),C.push(M.generateExpression(m.body[V],i.Sequence,Y)),V+1<O&&C.push(E)}),Tt(Mt(C).toString())||C.push(E),C.push(l),C.push("}"),C},ClassDeclaration:function(m,y){var C,M;return C=["class"],m.id&&(C=lt(C,this.generateExpression(m.id,i.Sequence,Y))),m.superClass&&(M=lt("extends",this.generateExpression(m.superClass,i.Unary,Y)),C=lt(C,M)),C.push(F),C.push(this.generateStatement(m.body,$t)),C},DirectiveStatement:function(m,y){return _.raw&&m.raw?m.raw+this.semicolon(y):ln(m.directive)+this.semicolon(y)},DoWhileStatement:function(m,y){var C=lt("do",this.maybeBlock(m.body,wt));return C=this.maybeBlockSuffix(m.body,C),lt(C,["while"+F+"(",this.generateExpression(m.test,i.Sequence,Y),")"+this.semicolon(y)])},CatchClause:function(m,y){var C,M=this;return Rt(function(){var B;m.param?(C=["catch"+F+"(",M.generateExpression(m.param,i.Sequence,Y),")"],m.guard&&(B=M.generateExpression(m.guard,i.Sequence,Y),C.splice(2,0," if ",B))):C=["catch"]}),C.push(this.maybeBlock(m.body,wt)),C},DebuggerStatement:function(m,y){return"debugger"+this.semicolon(y)},EmptyStatement:function(m,y){return";"},ExportDefaultDeclaration:function(m,y){var C=["export"],M;return M=y&ht?$t:wt,C=lt(C,"default"),X(m.declaration)?C=lt(C,this.generateStatement(m.declaration,M)):C=lt(C,this.generateExpression(m.declaration,i.Assignment,Y)+this.semicolon(y)),C},ExportNamedDeclaration:function(m,y){var C=["export"],M,B=this;return M=y&ht?$t:wt,m.declaration?lt(C,this.generateStatement(m.declaration,M)):(m.specifiers&&(m.specifiers.length===0?C=lt(C,"{"+F+"}"):m.specifiers[0].type===r.ExportBatchSpecifier?C=lt(C,this.generateExpression(m.specifiers[0],i.Sequence,Y)):(C=lt(C,"{"),Rt(function(V){var O,q;for(C.push(E),O=0,q=m.specifiers.length;O<q;++O)C.push(V),C.push(B.generateExpression(m.specifiers[O],i.Sequence,Y)),O+1<q&&C.push(","+E)}),Tt(Mt(C).toString())||C.push(E),C.push(l+"}")),m.source?C=lt(C,["from"+F,this.generateExpression(m.source,i.Sequence,Y),this.semicolon(y)]):C.push(this.semicolon(y))),C)},ExportAllDeclaration:function(m,y){return["export"+F,"*"+F,"from"+F,this.generateExpression(m.source,i.Sequence,Y),this.semicolon(y)]},ExpressionStatement:function(m,y){var C,M;function B(q){var Q;return q.slice(0,5)!=="class"?!1:(Q=q.charCodeAt(5),Q===123||c.code.isWhiteSpace(Q)||c.code.isLineTerminator(Q))}function V(q){var Q;return q.slice(0,8)!=="function"?!1:(Q=q.charCodeAt(8),Q===40||c.code.isWhiteSpace(Q)||Q===42||c.code.isLineTerminator(Q))}function O(q){var Q,yt,Ht;if(q.slice(0,5)!=="async"||!c.code.isWhiteSpace(q.charCodeAt(5)))return!1;for(yt=6,Ht=q.length;yt<Ht&&c.code.isWhiteSpace(q.charCodeAt(yt));++yt);return yt===Ht||q.slice(yt,yt+8)!=="function"?!1:(Q=q.charCodeAt(yt+8),Q===40||c.code.isWhiteSpace(Q)||Q===42||c.code.isLineTerminator(Q))}return C=[this.generateExpression(m.expression,i.Sequence,Y)],M=Mt(C).toString(),M.charCodeAt(0)===123||B(M)||V(M)||O(M)||K&&y&dt&&m.expression.type===r.Literal&&typeof m.expression.value=="string"?C=["(",C,")"+this.semicolon(y)]:C.push(this.semicolon(y)),C},ImportDeclaration:function(m,y){var C,M,B=this;return m.specifiers.length===0?["import",F,this.generateExpression(m.source,i.Sequence,Y),this.semicolon(y)]:(C=["import"],M=0,m.specifiers[M].type===r.ImportDefaultSpecifier&&(C=lt(C,[this.generateExpression(m.specifiers[M],i.Sequence,Y)]),++M),m.specifiers[M]&&(M!==0&&C.push(","),m.specifiers[M].type===r.ImportNamespaceSpecifier?C=lt(C,[F,this.generateExpression(m.specifiers[M],i.Sequence,Y)]):(C.push(F+"{"),m.specifiers.length-M===1?(C.push(F),C.push(this.generateExpression(m.specifiers[M],i.Sequence,Y)),C.push(F+"}"+F)):(Rt(function(V){var O,q;for(C.push(E),O=M,q=m.specifiers.length;O<q;++O)C.push(V),C.push(B.generateExpression(m.specifiers[O],i.Sequence,Y)),O+1<q&&C.push(","+E)}),Tt(Mt(C).toString())||C.push(E),C.push(l+"}"+F)))),C=lt(C,["from"+F,this.generateExpression(m.source,i.Sequence,Y),this.semicolon(y)]),C)},VariableDeclarator:function(m,y){var C=y&Z?Y:me;return m.init?[this.generateExpression(m.id,i.Assignment,C),F,"=",F,this.generateExpression(m.init,i.Assignment,C)]:this.generatePattern(m.id,i.Assignment,C)},VariableDeclaration:function(m,y){var C,M,B,V,O,q=this;C=[m.kind],O=y&Z?wt:Dt;function Q(){for(V=m.declarations[0],_.comment&&V.leadingComments?(C.push(`
`),C.push(Xt(q.generateStatement(V,O)))):(C.push(Ot()),C.push(q.generateStatement(V,O))),M=1,B=m.declarations.length;M<B;++M)V=m.declarations[M],_.comment&&V.leadingComments?(C.push(","+E),C.push(Xt(q.generateStatement(V,O)))):(C.push(","+F),C.push(q.generateStatement(V,O)))}return m.declarations.length>1?Rt(Q):Q(),C.push(this.semicolon(y)),C},ThrowStatement:function(m,y){return[lt("throw",this.generateExpression(m.argument,i.Sequence,Y)),this.semicolon(y)]},TryStatement:function(m,y){var C,M,B,V;if(C=["try",this.maybeBlock(m.block,wt)],C=this.maybeBlockSuffix(m.block,C),m.handlers)for(M=0,B=m.handlers.length;M<B;++M)C=lt(C,this.generateStatement(m.handlers[M],wt)),(m.finalizer||M+1!==B)&&(C=this.maybeBlockSuffix(m.handlers[M].body,C));else{for(V=m.guardedHandlers||[],M=0,B=V.length;M<B;++M)C=lt(C,this.generateStatement(V[M],wt)),(m.finalizer||M+1!==B)&&(C=this.maybeBlockSuffix(V[M].body,C));if(m.handler)if(Array.isArray(m.handler))for(M=0,B=m.handler.length;M<B;++M)C=lt(C,this.generateStatement(m.handler[M],wt)),(m.finalizer||M+1!==B)&&(C=this.maybeBlockSuffix(m.handler[M].body,C));else C=lt(C,this.generateStatement(m.handler,wt)),m.finalizer&&(C=this.maybeBlockSuffix(m.handler.body,C))}return m.finalizer&&(C=lt(C,["finally",this.maybeBlock(m.finalizer,wt)])),C},SwitchStatement:function(m,y){var C,M,B,V,O,q=this;if(Rt(function(){C=["switch"+F+"(",q.generateExpression(m.discriminant,i.Sequence,Y),")"+F+"{"+E]}),m.cases)for(O=wt,B=0,V=m.cases.length;B<V;++B)B===V-1&&(O|=ht),M=Xt(this.generateStatement(m.cases[B],O)),C.push(M),Tt(Mt(M).toString())||C.push(E);return C.push(Xt("}")),C},SwitchCase:function(m,y){var C,M,B,V,O,q=this;return Rt(function(){for(m.test?C=[lt("case",q.generateExpression(m.test,i.Sequence,Y)),":"]:C=["default:"],B=0,V=m.consequent.length,V&&m.consequent[0].type===r.BlockStatement&&(M=q.maybeBlock(m.consequent[0],wt),C.push(M),B=1),B!==V&&!Tt(Mt(C).toString())&&C.push(E),O=wt;B<V;++B)B===V-1&&y&ht&&(O|=ht),M=Xt(q.generateStatement(m.consequent[B],O)),C.push(M),B+1!==V&&!Tt(Mt(M).toString())&&C.push(E)}),C},IfStatement:function(m,y){var C,M,B,V=this;return Rt(function(){C=["if"+F+"(",V.generateExpression(m.test,i.Sequence,Y),")"]}),B=y&ht,M=wt,B&&(M|=ht),m.alternate?(C.push(this.maybeBlock(m.consequent,wt)),C=this.maybeBlockSuffix(m.consequent,C),m.alternate.type===r.IfStatement?C=lt(C,["else ",this.generateStatement(m.alternate,M)]):C=lt(C,lt("else",this.maybeBlock(m.alternate,M)))):C.push(this.maybeBlock(m.consequent,M)),C},ForStatement:function(m,y){var C,M=this;return Rt(function(){C=["for"+F+"("],m.init?m.init.type===r.VariableDeclaration?C.push(M.generateStatement(m.init,Dt)):(C.push(M.generateExpression(m.init,i.Sequence,me)),C.push(";")):C.push(";"),m.test&&(C.push(F),C.push(M.generateExpression(m.test,i.Sequence,Y))),C.push(";"),m.update&&(C.push(F),C.push(M.generateExpression(m.update,i.Sequence,Y))),C.push(")")}),C.push(this.maybeBlock(m.body,y&ht?$t:wt)),C},ForInStatement:function(m,y){return this.generateIterationForStatement("in",m,y&ht?$t:wt)},ForOfStatement:function(m,y){return this.generateIterationForStatement("of",m,y&ht?$t:wt)},LabeledStatement:function(m,y){return[m.label.name+":",this.maybeBlock(m.body,y&ht?$t:wt)]},Program:function(m,y){var C,M,B,V,O;for(V=m.body.length,C=[L&&V>0?`
`:""],O=Zt,B=0;B<V;++B)!L&&B===V-1&&(O|=ht),G&&(B===0&&(m.body[0].leadingComments||de(m.range[0],m.body[B].range[0],C)),B>0&&!m.body[B-1].trailingComments&&!m.body[B].leadingComments&&de(m.body[B-1].range[1],m.body[B].range[0],C)),M=Xt(this.generateStatement(m.body[B],O)),C.push(M),B+1<V&&!Tt(Mt(M).toString())&&(G&&m.body[B+1].leadingComments||C.push(E)),G&&B===V-1&&(m.body[B].trailingComments||de(m.body[B].range[1],m.range[1],C));return C},FunctionDeclaration:function(m,y){return[Fe(m,!0),"function",fe(m)||Ot(),m.id?Gt(m.id):"",this.generateFunctionBody(m)]},ReturnStatement:function(m,y){return m.argument?[lt("return",this.generateExpression(m.argument,i.Sequence,Y)),this.semicolon(y)]:["return"+this.semicolon(y)]},WhileStatement:function(m,y){var C,M=this;return Rt(function(){C=["while"+F+"(",M.generateExpression(m.test,i.Sequence,Y),")"]}),C.push(this.maybeBlock(m.body,y&ht?$t:wt)),C},WithStatement:function(m,y){var C,M=this;return Rt(function(){C=["with"+F+"(",M.generateExpression(m.object,i.Sequence,Y),")"]}),C.push(this.maybeBlock(m.body,y&ht?$t:wt)),C}},Fn(pt.prototype,pt.Statement),pt.Expression={SequenceExpression:function(m,y,C){var M,B,V;for(i.Sequence<y&&(C|=Z),M=[],B=0,V=m.expressions.length;B<V;++B)M.push(this.generateExpression(m.expressions[B],i.Assignment,C)),B+1<V&&M.push(","+F);return Vt(M,i.Sequence,y)},AssignmentExpression:function(m,y,C){return this.generateAssignment(m.left,m.right,m.operator,y,C)},ArrowFunctionExpression:function(m,y,C){return Vt(this.generateFunctionBody(m),i.ArrowFunction,y)},ConditionalExpression:function(m,y,C){return i.Conditional<y&&(C|=Z),Vt([this.generateExpression(m.test,i.Coalesce,C),F+"?"+F,this.generateExpression(m.consequent,i.Assignment,C),F+":"+F,this.generateExpression(m.alternate,i.Assignment,C)],i.Conditional,y)},LogicalExpression:function(m,y,C){return m.operator==="??"&&(C|=xt),this.BinaryExpression(m,y,C)},BinaryExpression:function(m,y,C){var M,B,V,O,q,Q;return O=o[m.operator],B=m.operator==="**"?i.Postfix:O,V=m.operator==="**"?O:O+1,O<y&&(C|=Z),q=this.generateExpression(m.left,B,C),Q=q.toString(),Q.charCodeAt(Q.length-1)===47&&c.code.isIdentifierPartES5(m.operator.charCodeAt(0))?M=[q,Ot(),m.operator]:M=lt(q,m.operator),q=this.generateExpression(m.right,V,C),m.operator==="/"&&q.toString().charAt(0)==="/"||m.operator.slice(-1)==="<"&&q.toString().slice(0,3)==="!--"?(M.push(Ot()),M.push(q)):M=lt(M,q),m.operator==="in"&&!(C&Z)?["(",M,")"]:(m.operator==="||"||m.operator==="&&")&&C&xt?["(",M,")"]:Vt(M,O,y)},CallExpression:function(m,y,C){var M,B,V;for(M=[this.generateExpression(m.callee,i.Call,te)],m.optional&&M.push("?."),M.push("("),B=0,V=m.arguments.length;B<V;++B)M.push(this.generateExpression(m.arguments[B],i.Assignment,Y)),B+1<V&&M.push(","+F);return M.push(")"),C&$?Vt(M,i.Call,y):["(",M,")"]},ChainExpression:function(m,y,C){i.OptionalChaining<y&&(C|=$);var M=this.generateExpression(m.expression,i.OptionalChaining,C);return Vt(M,i.OptionalChaining,y)},NewExpression:function(m,y,C){var M,B,V,O,q;if(B=m.arguments.length,q=C&gt&&!S&&B===0?ve:ee,M=lt("new",this.generateExpression(m.callee,i.New,q)),!(C&gt)||S||B>0){for(M.push("("),V=0,O=B;V<O;++V)M.push(this.generateExpression(m.arguments[V],i.Assignment,Y)),V+1<O&&M.push(","+F);M.push(")")}return Vt(M,i.New,y)},MemberExpression:function(m,y,C){var M,B;return M=[this.generateExpression(m.object,i.Call,C&$?te:ee)],m.computed?(m.optional&&M.push("?."),M.push("["),M.push(this.generateExpression(m.property,i.Sequence,C&$?Y:ve)),M.push("]")):(!m.optional&&m.object.type===r.Literal&&typeof m.object.value=="number"&&(B=Mt(M).toString(),B.indexOf(".")<0&&!/[eExX]/.test(B)&&c.code.isDecimalDigit(B.charCodeAt(B.length-1))&&!(B.length>=2&&B.charCodeAt(0)===48)&&M.push(" ")),M.push(m.optional?"?.":"."),M.push(Gt(m.property))),Vt(M,i.Member,y)},MetaProperty:function(m,y,C){var M;return M=[],M.push(typeof m.meta=="string"?m.meta:Gt(m.meta)),M.push("."),M.push(typeof m.property=="string"?m.property:Gt(m.property)),Vt(M,i.Member,y)},UnaryExpression:function(m,y,C){var M,B,V,O,q;return B=this.generateExpression(m.argument,i.Unary,Y),F===""?M=lt(m.operator,B):(M=[m.operator],m.operator.length>2?M=lt(M,B):(O=Mt(M).toString(),q=O.charCodeAt(O.length-1),V=B.toString().charCodeAt(0),((q===43||q===45)&&q===V||c.code.isIdentifierPartES5(q)&&c.code.isIdentifierPartES5(V))&&M.push(Ot()),M.push(B))),Vt(M,i.Unary,y)},YieldExpression:function(m,y,C){var M;return m.delegate?M="yield*":M="yield",m.argument&&(M=lt(M,this.generateExpression(m.argument,i.Yield,Y))),Vt(M,i.Yield,y)},AwaitExpression:function(m,y,C){var M=lt(m.all?"await*":"await",this.generateExpression(m.argument,i.Await,Y));return Vt(M,i.Await,y)},UpdateExpression:function(m,y,C){return m.prefix?Vt([m.operator,this.generateExpression(m.argument,i.Unary,Y)],i.Unary,y):Vt([this.generateExpression(m.argument,i.Postfix,Y),m.operator],i.Postfix,y)},FunctionExpression:function(m,y,C){var M=[Fe(m,!0),"function"];return m.id?(M.push(fe(m)||Ot()),M.push(Gt(m.id))):M.push(fe(m)||F),M.push(this.generateFunctionBody(m)),M},ArrayPattern:function(m,y,C){return this.ArrayExpression(m,y,C,!0)},ArrayExpression:function(m,y,C,M){var B,V,O=this;return m.elements.length?(V=M?!1:m.elements.length>1,B=["[",V?E:""],Rt(function(q){var Q,yt;for(Q=0,yt=m.elements.length;Q<yt;++Q)m.elements[Q]?(B.push(V?q:""),B.push(O.generateExpression(m.elements[Q],i.Assignment,Y))):(V&&B.push(q),Q+1===yt&&B.push(",")),Q+1<yt&&B.push(","+(V?E:F))}),V&&!Tt(Mt(B).toString())&&B.push(E),B.push(V?l:""),B.push("]"),B):"[]"},RestElement:function(m,y,C){return"..."+this.generatePattern(m.argument)},ClassExpression:function(m,y,C){var M,B;return M=["class"],m.id&&(M=lt(M,this.generateExpression(m.id,i.Sequence,Y))),m.superClass&&(B=lt("extends",this.generateExpression(m.superClass,i.Unary,Y)),M=lt(M,B)),M.push(F),M.push(this.generateStatement(m.body,$t)),M},MethodDefinition:function(m,y,C){var M,B;return m.static?M=["static"+F]:M=[],m.kind==="get"||m.kind==="set"?B=[lt(m.kind,this.generatePropertyKey(m.key,m.computed)),this.generateFunctionBody(m.value)]:B=[Or(m),this.generatePropertyKey(m.key,m.computed),this.generateFunctionBody(m.value)],lt(M,B)},Property:function(m,y,C){return m.kind==="get"||m.kind==="set"?[m.kind,Ot(),this.generatePropertyKey(m.key,m.computed),this.generateFunctionBody(m.value)]:m.shorthand?m.value.type==="AssignmentPattern"?this.AssignmentPattern(m.value,i.Sequence,Y):this.generatePropertyKey(m.key,m.computed):m.method?[Or(m),this.generatePropertyKey(m.key,m.computed),this.generateFunctionBody(m.value)]:[this.generatePropertyKey(m.key,m.computed),":"+F,this.generateExpression(m.value,i.Assignment,Y)]},ObjectExpression:function(m,y,C){var M,B,V,O=this;return m.properties.length?(M=m.properties.length>1,Rt(function(){V=O.generateExpression(m.properties[0],i.Sequence,Y)}),!M&&!En(Mt(V).toString())?["{",F,V,F,"}"]:(Rt(function(q){var Q,yt;if(B=["{",E,q,V],M)for(B.push(","+E),Q=1,yt=m.properties.length;Q<yt;++Q)B.push(q),B.push(O.generateExpression(m.properties[Q],i.Sequence,Y)),Q+1<yt&&B.push(","+E)}),Tt(Mt(B).toString())||B.push(E),B.push(l),B.push("}"),B)):"{}"},AssignmentPattern:function(m,y,C){return this.generateAssignment(m.left,m.right,"=",y,C)},ObjectPattern:function(m,y,C){var M,B,V,O,q,Q=this;if(!m.properties.length)return"{}";if(O=!1,m.properties.length===1)q=m.properties[0],q.type===r.Property&&q.value.type!==r.Identifier&&(O=!0);else for(B=0,V=m.properties.length;B<V;++B)if(q=m.properties[B],q.type===r.Property&&!q.shorthand){O=!0;break}return M=["{",O?E:""],Rt(function(yt){var Ht,pn;for(Ht=0,pn=m.properties.length;Ht<pn;++Ht)M.push(O?yt:""),M.push(Q.generateExpression(m.properties[Ht],i.Sequence,Y)),Ht+1<pn&&M.push(","+(O?E:F))}),O&&!Tt(Mt(M).toString())&&M.push(E),M.push(O?l:""),M.push("}"),M},ThisExpression:function(m,y,C){return"this"},Super:function(m,y,C){return"super"},Identifier:function(m,y,C){return Gt(m)},ImportDefaultSpecifier:function(m,y,C){return Gt(m.id||m.local)},ImportNamespaceSpecifier:function(m,y,C){var M=["*"],B=m.id||m.local;return B&&M.push(F+"as"+Ot()+Gt(B)),M},ImportSpecifier:function(m,y,C){var M=m.imported,B=[M.name],V=m.local;return V&&V.name!==M.name&&B.push(Ot()+"as"+Ot()+Gt(V)),B},ExportSpecifier:function(m,y,C){var M=m.local,B=[M.name],V=m.exported;return V&&V.name!==M.name&&B.push(Ot()+"as"+Ot()+Gt(V)),B},Literal:function(m,y,C){var M;if(m.hasOwnProperty("raw")&&x&&_.raw)try{if(M=x(m.raw).body[0].expression,M.type===r.Literal&&M.value===m.value)return m.raw}catch{}return m.regex?"/"+m.regex.pattern+"/"+m.regex.flags:typeof m.value=="bigint"?m.value.toString()+"n":m.bigint?m.bigint+"n":m.value===null?"null":typeof m.value=="string"?ze(m.value):typeof m.value=="number"?Ge(m.value):typeof m.value=="boolean"?m.value?"true":"false":an(m.value)},GeneratorExpression:function(m,y,C){return this.ComprehensionExpression(m,y,C)},ComprehensionExpression:function(m,y,C){var M,B,V,O,q=this;return M=m.type===r.GeneratorExpression?["("]:["["],_.moz.comprehensionExpressionStartsWithAssignment&&(O=this.generateExpression(m.body,i.Assignment,Y),M.push(O)),m.blocks&&Rt(function(){for(B=0,V=m.blocks.length;B<V;++B)O=q.generateExpression(m.blocks[B],i.Sequence,Y),B>0||_.moz.comprehensionExpressionStartsWithAssignment?M=lt(M,O):M.push(O)}),m.filter&&(M=lt(M,"if"+F),O=this.generateExpression(m.filter,i.Sequence,Y),M=lt(M,["(",O,")"])),_.moz.comprehensionExpressionStartsWithAssignment||(O=this.generateExpression(m.body,i.Assignment,Y),M=lt(M,O)),M.push(m.type===r.GeneratorExpression?")":"]"),M},ComprehensionBlock:function(m,y,C){var M;return m.left.type===r.VariableDeclaration?M=[m.left.kind,Ot(),this.generateStatement(m.left.declarations[0],Dt)]:M=this.generateExpression(m.left,i.Call,Y),M=lt(M,m.of?"of":"in"),M=lt(M,this.generateExpression(m.right,i.Sequence,Y)),["for"+F+"(",M,")"]},SpreadElement:function(m,y,C){return["...",this.generateExpression(m.argument,i.Assignment,Y)]},TaggedTemplateExpression:function(m,y,C){var M=te;C&$||(M=ee);var B=[this.generateExpression(m.tag,i.Call,M),this.generateExpression(m.quasi,i.Primary,ae)];return Vt(B,i.TaggedTemplate,y)},TemplateElement:function(m,y,C){return m.value.raw},TemplateLiteral:function(m,y,C){var M,B,V;for(M=["`"],B=0,V=m.quasis.length;B<V;++B)M.push(this.generateExpression(m.quasis[B],i.Primary,Y)),B+1<V&&(M.push("${"+F),M.push(this.generateExpression(m.expressions[B],i.Sequence,Y)),M.push(F+"}"));return M.push("`"),M},ModuleSpecifier:function(m,y,C){return this.Literal(m,y,C)},ImportExpression:function(m,y,C){return Vt(["import(",this.generateExpression(m.source,i.Assignment,Y),")"],i.Call,y)}},Fn(pt.prototype,pt.Expression),pt.prototype.generateExpression=function(m,y,C){var M,B;return B=m.type||r.Property,_.verbatim&&m.hasOwnProperty(_.verbatim)?or(m,y):(M=this[B](m,y,C),_.comment&&(M=hn(m,M)),Mt(M,m))},pt.prototype.generateStatement=function(m,y){var C,M;return C=this[m.type](m,y),_.comment&&(C=hn(m,C)),M=Mt(C).toString(),m.type===r.Program&&!L&&E===""&&M.charAt(M.length-1)===`
`&&(C=R?Mt(C).replaceRight(/\s+$/,""):M.replace(/\s+$/,"")),Mt(C,m)};function gi(m){var y;if(y=new pt,X(m))return y.generateStatement(m,wt);if(J(m))return y.generateExpression(m,i.Sequence,Y);throw new Error("Unknown node type: "+m.type)}function Ss(m,y){var C=be(),M,B;return y!=null?(typeof y.indent=="string"&&(C.format.indent.style=y.indent),typeof y.base=="number"&&(C.format.indent.base=y.base),y=Ee(C,y),p=y.format.indent.style,typeof y.base=="string"?l=y.base:l=Nt(p,y.format.indent.base)):(y=C,p=y.format.indent.style,l=Nt(p,y.format.indent.base)),d=y.format.json,f=y.format.renumber,g=d?!1:y.format.hexadecimal,A=d?"double":y.format.quotes,P=y.format.escapeless,E=y.format.newline,F=y.format.space,y.format.compact&&(E=F=p=l=""),S=y.format.parentheses,N=y.format.semicolons,L=y.format.safeConcatenation,K=y.directive,x=d?null:y.parse,R=y.sourceMap,T=y.sourceCode,G=y.format.preserveBlankLines&&T!==null,_=y,R&&(t.browser?u=Zr.sourceMap.SourceNode:u=FD().SourceNode),M=gi(m),R?(B=M.toStringWithSourceMap({file:y.file,sourceRoot:y.sourceMapRoot}),y.sourceContent&&B.map.setSourceContent(y.sourceMap,y.sourceContent),y.sourceMapWithCode?B:B.map.toString()):(B={code:M.toString(),map:null},y.sourceMapWithCode?B:B.code)}H={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},W=be().format,t.version=zD.version,t.generate=Ss,t.attachComments=a.attachComments,t.Precedence=Ee({},i),t.browser=!1,t.FORMAT_MINIFY=H,t.FORMAT_DEFAULTS=W})()})(Mf);const WD=yf(Mf);class qD{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:r=>this.replacement=r}}replace(r,i,o,u){r&&i&&(o!=null?r[i][o]=u:r[i]=u)}remove(r,i,o){r&&i&&(o!=null?r[i].splice(o,1):delete r[i])}}class XD extends qD{constructor(r,i){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:o=>this.replacement=o},this.enter=r,this.leave=i}visit(r,i,o,u){if(r){if(this.enter){const c=this.should_skip,l=this.should_remove,p=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,r,i,o,u),this.replacement&&(r=this.replacement,this.replace(i,o,u,r)),this.should_remove&&this.remove(i,o,u);const d=this.should_skip,f=this.should_remove;if(this.should_skip=c,this.should_remove=l,this.replacement=p,d)return r;if(f)return null}let a;for(a in r){const c=r[a];if(c&&typeof c=="object")if(Array.isArray(c)){const l=c;for(let p=0;p<l.length;p+=1){const d=l[p];Qa(d)&&(this.visit(d,r,a,p)||p--)}}else Qa(c)&&this.visit(c,r,a,null)}if(this.leave){const c=this.replacement,l=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,r,i,o,u),this.replacement&&(r=this.replacement,this.replace(i,o,u,r)),this.should_remove&&this.remove(i,o,u);const p=this.should_remove;if(this.replacement=c,this.should_remove=l,p)return null}}return r}}function Qa(t){return t!==null&&typeof t=="object"&&"type"in t&&typeof t.type=="string"}function ZD(t,{enter:r,leave:i}){return new XD(r,i).visit(t,null)}let HD=[];function KD(t,r={}){const{wrapAsync:i=!1,addReturn:o=!0,emitMiniLocations:u=!0,emitWidgets:a=!0}=r;let c=gD(t,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),l=[];const p=(A,P)=>{const E=yu(`"${A}"`,P.start,t);l=l.concat(E)};let d=[];ZD(c,{enter(A,P){if(o7(A)){const E=A.quasi.quasis[0].value.raw,F=A.quasi.start+1;if(u){const S=u7(E,F);l=l.concat(S)}return this.skip(),this.replace(a7(E,F))}if($D(A,P)){const{quasis:E}=A,{raw:F}=E[0].value;return this.skip(),u&&p(F,A),this.replace(tc(F,A))}if(YD(A)){const{value:E}=A;return this.skip(),u&&p(E,A),this.replace(tc(E,A))}if(UD(A))return a&&d.push({from:A.arguments[0].start,to:A.arguments[0].end,value:A.arguments[0].raw,min:A.arguments[1]?.value??0,max:A.arguments[2]?.value??1,step:A.arguments[3]?.value,type:"slider"}),this.replace(QD(A));if(JD(A)){const E=A.callee.property.name,F=d.filter(N=>N.type===E).length,S={to:A.end,index:F,type:E};return a&&d.push(S),this.replace(e7(A,S))}if(n7(A,P))return this.replace(r7(A));if(i7(A))return this.replace(s7(A))},leave(A,P,E,F){}});const{body:f}=c;if(!f?.[f.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(o){const{expression:A}=f[f.length-1];f[f.length-1]={type:"ReturnStatement",argument:A}}let g=WD.generate(c);return i&&(g=`(async ()=>{${g}})()`),u?{output:g,miniLocations:l,widgets:d}:{output:g}}function YD(t,r,i){return t.type!=="Literal"?!1:t.raw[0]==='"'}function $D(t,r){return t.type==="TemplateLiteral"&&r.type!=="TaggedTemplateExpression"}function tc(t,r){const{start:i}=r;return{type:"CallExpression",callee:{type:"Identifier",name:"m"},arguments:[{type:"Literal",value:t},{type:"Literal",value:i}],optional:!1}}function UD(t){return t.type==="CallExpression"&&t.callee.name==="slider"}function JD(t){return t.type==="CallExpression"&&HD.includes(t.callee.property?.name)}function QD(t){const r="slider_"+t.arguments[0].start;return t.arguments.unshift({type:"Literal",value:r,raw:r}),t.callee.name="sliderWithID",t}function t7(t){return`widget_${t.type}_${t.index}`}function e7(t,r){const i=t7(r);return t.arguments.unshift({type:"Literal",value:i,raw:i}),t}function n7(t,r){return t.type==="CallExpression"&&t.callee.name==="samples"&&r.type!=="AwaitExpression"}function r7(t){return{type:"AwaitExpression",argument:t}}function i7(t){return t.type==="LabeledStatement"}function s7(t){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:t.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:t.label.name,raw:`'${t.label.name}'`}]}}}function o7(t){return t.type==="TaggedTemplateExpression"&&t.tag.name==="tidal"}function u7(t,r){return t.split("").reduce((i,o,u)=>(o!=='"'||(!i.length||i[i.length-1].length>1?i.push([u+1]):i[i.length-1].push(u)),i),[]).map(([i,o])=>{const u=t.slice(i,o);return yu(`"${u}"`,r+i-1)}).flat()}function a7(t,r){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:t},{type:"Literal",value:r}],optional:!1}}function li(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function hi(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var If=[0,2,4,-1,1,3,5],xf=If.map(t=>Math.floor(t*7/12));function gs(t){const{step:r,alt:i,oct:o,dir:u=1}=t,a=If[r]+7*i;if(o===void 0)return[u*a];const c=o-xf[r]-4*i;return[u*a,u*c]}var c7=[3,0,4,1,5,2,6];function Iu(t){const[r,i,o]=t,u=c7[l7(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:u,alt:a,dir:o};const c=i+4*a+xf[u];return{step:u,alt:a,oct:c,dir:o}}function l7(t){const r=(t+1)%7;return r<0?7+r:r}var ec=(t,r)=>Array(Math.abs(r)+1).join(t),bo=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),h7="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",p7="(AA|A|P|M|m|d|dd)([-+]?\\d+)",m7=new RegExp("^"+h7+"|"+p7+"$");function d7(t){const r=m7.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var nc={};function Hi(t){return typeof t=="string"?nc[t]||(nc[t]=f7(t)):hi(t)?Hi(C7(t)):li(t)?Hi(t.name):bo}var rc=[0,2,4,5,7,9,11],Sf="PMMPPMM";function f7(t){const r=d7(t);if(r[0]==="")return bo;const i=+r[0],o=r[1],u=(Math.abs(i)-1)%7,a=Sf[u];if(a==="M"&&o==="P")return bo;const c=a==="M"?"majorable":"perfectable",l=""+i+o,p=i<0?-1:1,d=i===8||i===-8?i:p*(u+1),f=A7(c,o),g=Math.floor((Math.abs(i)-1)/7),A=p*(rc[u]+f+12*g),P=(p*(rc[u]+f)%12+12)%12,E=gs({step:u,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:o,step:u,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function g7(t,r){const[i,o=0]=t,u=i*7+o*12<0,a=r||u?[-i,-o,-1]:[i,o,1];return Hi(Iu(a))}function A7(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function C7(t){const{step:r,alt:i,oct:o=0,dir:u}=t;if(!u)return"";const a=r+1+7*o,c=a===0?r+1:a,l=u<0?"-":"",p=Sf[r]==="M"?"majorable":"perfectable";return l+c+y7(p,i)}function y7(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?ec("A",r):ec("d",t==="perfectable"?r:r+1)}var ic=(t,r)=>Array(Math.abs(r)+1).join(t),kf=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),sc=new Map,M7=t=>"CDEFGAB".charAt(t),As=t=>t<0?ic("b",-t):ic("#",t),xu=t=>t[0]==="b"?-t.length:t.length;function Bt(t){const r=JSON.stringify(t),i=sc.get(r);if(i)return i;const o=typeof t=="string"?v7(t):hi(t)?Bt(E7(t)):li(t)?Bt(t.name):kf;return sc.set(r,o),o}var b7=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Su(t){const r=b7.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function P7(t){return Bt(Iu(t))}var D7=(t,r)=>(t%r+r)%r,Js=[0,2,4,5,7,9,11];function v7(t){const r=Su(t);if(r[0]===""||r[3]!=="")return kf;const i=r[0],o=r[1],u=r[2],a=(i.charCodeAt(0)+3)%7,c=xu(o),l=u.length?+u:void 0,p=gs({step:a,alt:c,oct:l}),d=i+o+u,f=i+o,g=(Js[a]+c+120)%12,A=l===void 0?D7(Js[a]+c,12)-12*99:Js[a]+c+12*(l+1),P=A>=0&&A<=127?A:null,E=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:o,alt:c,chroma:g,coord:p,freq:E,height:A,letter:i,midi:P,name:d,oct:l,pc:f,step:a}}function E7(t){const{step:r,alt:i,oct:o}=t,u=M7(r);if(!u)return"";const a=u+As(i);return o||o===0?a+o:a}function he(t,r){const i=Bt(t),o=Array.isArray(r)?r:Hi(r).coord;if(i.empty||!o||o.length<2)return"";const u=i.coord,a=u.length===1?[u[0]+o[0]]:[u[0]+o[0],u[1]+o[1]];return P7(a).name}function _f(t,r){const i=t.length;return o=>{if(!r)return"";const u=o<0?(i- -o%i)%i:o%i,a=Math.floor(o/i),c=he(r,[0,a]);return he(c,t[u])}}function Nf(t,r){const i=Bt(t),o=Bt(r);if(i.empty||o.empty)return"";const u=i.coord,a=o.coord,c=a[0]-u[0],l=u.length===2&&a.length===2?a[1]-u[1]:-Math.floor(c*7/12),p=o.height===i.height&&o.midi!==null&&i.midi!==null&&i.step>o.step;return g7([c,l],p).name}var oc=(t,r)=>Array(r+1).join(t),F7=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function Tf(t){const r=F7.exec(t);return r?[r[1],r[2],r[3]]:["","",""]}function Ki(t){const[r,i,o]=Tf(t);if(i==="")return"";let u=4;for(let c=0;c<o.length;c++)u+=o.charAt(c)===","?-1:1;const a=r[0]==="_"?r.replace(/_/g,"b"):r[0]==="^"?r.replace(/\^/g,"#"):"";return i.charCodeAt(0)>96?i.toUpperCase()+a+(u+1):i+a+u}function Rf(t){const r=Bt(t);if(r.empty||!r.oct&&r.oct!==0)return"";const{letter:i,acc:o,oct:u}=r,a=o[0]==="b"?o.replace(/b/g,"_"):o.replace(/#/g,"^"),c=u>4?i.toLowerCase():i,l=u===5?"":u>4?oc("'",u-5):oc(",",4-u);return a+c+l}function w7(t,r){return Rf(he(Ki(t),r))}function B7(t,r){return Nf(Ki(t),Ki(r))}var I7={abcToScientificNotation:Ki,scientificToAbcNotation:Rf,tokenize:Tf,transpose:w7,distance:B7};function x7(t,r){const i=[];for(;r--;i[r]=r+t);return i}function S7(t,r){const i=[];for(;r--;i[r]=t-r);return i}function k7(t,r){return t<r?x7(t,r-t+1):S7(t,t-r+1)}function _7(t,r){const i=r.length,o=(t%i+i)%i;return r.slice(o,i).concat(r.slice(0,o))}function N7(t){return t.filter(r=>r===0||r)}function Vf(t){return t.map(r=>Bt(r)).filter(r=>!r.empty).sort((r,i)=>r.height-i.height).map(r=>r.name)}function T7(t){return Vf(t).filter((r,i,o)=>i===0||r!==o[i-1])}function R7(t,r=Math.random){let i,o,u=t.length;for(;u;)i=Math.floor(r()*u--),o=t[u],t[u]=t[i],t[i]=o;return t}function Lf(t){return t.length===0?[[]]:Lf(t.slice(1)).reduce((r,i)=>r.concat(t.map((o,u)=>{const a=i.slice();return a.splice(u,0,t[0]),a})),[])}const V7=Object.freeze(Object.defineProperty({__proto__:null,compact:N7,permutations:Lf,range:k7,rotate:_7,shuffle:R7,sortedNoteNames:Vf,sortedUniqNoteNames:T7},Symbol.toStringTag,{value:"Module"}));var uc=(t,r)=>Array(Math.abs(r)+1).join(t),Po=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),L7="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",j7="(AA|A|P|M|m|d|dd)([-+]?\\d+)",O7=new RegExp("^"+L7+"|"+j7+"$");function G7(t){const r=O7.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var ac={};function vr(t){return typeof t=="string"?ac[t]||(ac[t]=z7(t)):hi(t)?vr(q7(t)):li(t)?vr(t.name):Po}var cc=[0,2,4,5,7,9,11],jf="PMMPPMM";function z7(t){const r=G7(t);if(r[0]==="")return Po;const i=+r[0],o=r[1],u=(Math.abs(i)-1)%7,a=jf[u];if(a==="M"&&o==="P")return Po;const c=a==="M"?"majorable":"perfectable",l=""+i+o,p=i<0?-1:1,d=i===8||i===-8?i:p*(u+1),f=W7(c,o),g=Math.floor((Math.abs(i)-1)/7),A=p*(cc[u]+f+12*g),P=(p*(cc[u]+f)%12+12)%12,E=gs({step:u,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:o,step:u,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function W7(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function q7(t){const{step:r,alt:i,oct:o=0,dir:u}=t;if(!u)return"";const a=r+1+7*o,c=a===0?r+1:a,l=u<0?"-":"",p=jf[r]==="M"?"majorable":"perfectable";return l+c+X7(p,i)}function X7(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?uc("A",r):uc("d",t==="perfectable"?r:r+1)}function Xn(t,r,i){return function(...o){return console.warn(`${t} is deprecated. Use ${r}.`),i.apply(this,o)}}var Z7=Xn("isNamed","isNamedPitch",li);function H7(t,r){const i=[];for(;r--;i[r]=r+t);return i}function K7(t,r){const i=[];for(;r--;i[r]=t-r);return i}function Cs(t,r){return t<r?H7(t,r-t+1):K7(t,t-r+1)}function Nr(t,r){const i=r.length,o=(t%i+i)%i;return r.slice(o,i).concat(r.slice(0,o))}function ku(t){return t.filter(r=>r===0||r)}function Y7(t,r=Math.random){let i,o,u=t.length;for(;u;)i=Math.floor(r()*u--),o=t[u],t[u]=t[i],t[i]=o;return t}function Of(t){return t.length===0?[[]]:Of(t.slice(1)).reduce((r,i)=>r.concat(t.map((o,u)=>{const a=i.slice();return a.splice(u,0,t[0]),a})),[])}var $7={compact:ku,permutations:Of,range:Cs,rotate:Nr,shuffle:Y7},Pn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},_u=t=>Number(t).toString(2).padStart(12,"0"),lc=t=>parseInt(t,2),U7=/^[01]{12}$/;function Nu(t){return U7.test(t)}var J7=t=>typeof t=="number"&&t>=0&&t<=4095,Q7=t=>t&&Nu(t.chroma),hc={[Pn.chroma]:Pn};function Qt(t){const r=Nu(t)?t:J7(t)?_u(t):Array.isArray(t)?hv(t):Q7(t)?t.chroma:Pn.chroma;return hc[r]=hc[r]||lv(r)}var tv=Xn("Pcset.pcset","Pcset.get",Qt),Gf=t=>Qt(t).chroma,ev=t=>Qt(t).intervals,nv=t=>Qt(t).setNum,rv=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function iv(t){const r=[];for(let i=0;i<12;i++)t.charAt(i)==="1"&&r.push(rv[i]);return r}function sv(t){return Qt(t).intervals.map(r=>he("C",r))}function ov(){return Cs(2048,4095).map(_u)}function Tu(t,r=!0){const i=Qt(t).chroma.split("");return ku(i.map((o,u)=>{const a=Nr(u,i);return r&&a[0]==="0"?null:a.join("")}))}function uv(t,r){return Qt(t).setNum===Qt(r).setNum}function ys(t){const r=Qt(t).setNum;return i=>{const o=Qt(i).setNum;return r&&r!==o&&(o&r)===o}}function Ms(t){const r=Qt(t).setNum;return i=>{const o=Qt(i).setNum;return r&&r!==o&&(o|r)===o}}function zf(t){const r=Qt(t);return i=>{const o=Bt(i);return r&&!o.empty&&r.chroma.charAt(o.chroma)==="1"}}function av(t){const r=zf(t);return i=>i.filter(r)}var Wf={get:Qt,chroma:Gf,num:nv,intervals:ev,chromas:ov,isSupersetOf:Ms,isSubsetOf:ys,isNoteIncludedIn:zf,isEqual:uv,filter:av,modes:Tu,notes:sv,pcset:tv};function cv(t){const r=t.split("");return r.map((i,o)=>Nr(o,r).join(""))}function lv(t){const r=lc(t),i=cv(t).map(lc).filter(a=>a>=2048).sort()[0],o=_u(i),u=iv(t);return{empty:!1,name:"",setNum:r,chroma:t,normalized:o,intervals:u}}function hv(t){if(t.length===0)return Pn.chroma;let r;const i=[0,0,0,0,0,0,0,0,0,0,0,0];for(let o=0;o<t.length;o++)r=Bt(t[o]),r.empty&&(r=vr(t[o])),r.empty||(i[r.chroma]=1);return i.join("")}var pv=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],mv=pv;({...Pn});var Ru=[],Ri={};function qf(){return Ru.slice()}function dv(t,r,i){const o=gv(t),u={...Qt(t),name:i||"",quality:o,intervals:t,aliases:r};Ru.push(u),u.name&&(Ri[u.name]=u),Ri[u.setNum]=u,Ri[u.chroma]=u,u.aliases.forEach(a=>fv(u,a))}function fv(t,r){Ri[r]=t}function gv(t){const r=i=>t.indexOf(i)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}mv.forEach(([t,r,i])=>dv(t.split(" "),i.split(" "),r));Ru.sort((t,r)=>t.setNum-r.setNum);var Av=t=>{const r=t.reduce((i,o)=>{const u=Bt(o).chroma;return u!==void 0&&(i[u]=i[u]||Bt(o).name),i},{});return i=>r[i]};function Cv(t,r={}){const i=t.map(o=>Bt(o).pc).filter(o=>o);return Bt.length===0?[]:Ev(i,1,r).filter(o=>o.weight).sort((o,u)=>u.weight-o.weight).map(o=>o.name)}var bs={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Ps=t=>r=>!!(r&t),yv=Ps(bs.anyThirds),Mv=Ps(bs.perfectFifth),bv=Ps(bs.anySeventh),Pv=Ps(bs.nonPerfectFifths);function Dv(t){const r=parseInt(t.chroma,2);return yv(r)&&Mv(r)&&bv(r)}function vv(t){const r=parseInt(t,2);return Pv(r)?t:(r|16).toString(2)}function Ev(t,r,i){const o=t[0],u=Bt(o).chroma,a=Av(t),c=Tu(t,!1),l=[];return c.forEach((p,d)=>{const f=i.assumePerfectFifth&&vv(p);qf().filter(g=>i.assumePerfectFifth&&Dv(g)?g.chroma===f:g.chroma===p).forEach(g=>{const A=g.aliases[0],P=a(d);d!==u?l.push({weight:.5*r,name:`${P}${A}/${o}`}):l.push({weight:1*r,name:`${P}${A}`})})}),l}function Fv(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function wv(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var Xf=[0,2,4,-1,1,3,5],Zf=Xf.map(t=>Math.floor(t*7/12));function Bv(t){const{step:r,alt:i,oct:o,dir:u=1}=t,a=Xf[r]+7*i;if(o===void 0)return[u*a];const c=o-Zf[r]-4*i;return[u*a,u*c]}var Iv=[3,0,4,1,5,2,6];function xv(t){const[r,i,o]=t,u=Iv[Sv(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:u,alt:a,dir:o};const c=i+4*a+Zf[u];return{step:u,alt:a,oct:c,dir:o}}function Sv(t){const r=(t+1)%7;return r<0?7+r:r}function kv(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function _v(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var Hf=[0,2,4,-1,1,3,5],Kf=Hf.map(t=>Math.floor(t*7/12));function Nv(t){const{step:r,alt:i,oct:o,dir:u=1}=t,a=Hf[r]+7*i;if(o===void 0)return[u*a];const c=o-Kf[r]-4*i;return[u*a,u*c]}var Tv=[3,0,4,1,5,2,6];function Rv(t){const[r,i,o]=t,u=Tv[Vv(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:u,alt:a,dir:o};const c=i+4*a+Kf[u];return{step:u,alt:a,oct:c,dir:o}}function Vv(t){const r=(t+1)%7;return r<0?7+r:r}var pc=(t,r)=>Array(Math.abs(r)+1).join(t),Do={empty:!0,name:"",acc:""},Lv="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",jv="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Ov=new RegExp("^"+Lv+"|"+jv+"$");function Vu(t){const r=Ov.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var mc={};function oe(t){return typeof t=="string"?mc[t]||(mc[t]=Gv(t)):_v(t)?oe(Wv(t)):kv(t)?oe(t.name):Do}var dc=[0,2,4,5,7,9,11],Yf="PMMPPMM";function Gv(t){const r=Vu(t);if(r[0]==="")return Do;const i=+r[0],o=r[1],u=(Math.abs(i)-1)%7,a=Yf[u];if(a==="M"&&o==="P")return Do;const c=a==="M"?"majorable":"perfectable",l=""+i+o,p=i<0?-1:1,d=i===8||i===-8?i:p*(u+1),f=zv(c,o),g=Math.floor((Math.abs(i)-1)/7),A=p*(dc[u]+f+12*g),P=(p*(dc[u]+f)%12+12)%12,E=Nv({step:u,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:o,step:u,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function Tr(t,r){const[i,o=0]=t,u=i*7+o*12<0,a=r||u?[-i,-o,-1]:[i,o,1];return oe(Rv(a))}function zv(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function Wv(t){const{step:r,alt:i,oct:o=0,dir:u}=t;if(!u)return"";const a=r+1+7*o,c=a===0?r+1:a,l=u<0?"-":"",p=Yf[r]==="M"?"majorable":"perfectable";return l+c+qv(p,i)}function qv(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?pc("A",r):pc("d",t==="perfectable"?r:r+1)}var fc=(t,r)=>Array(Math.abs(r)+1).join(t),$f={empty:!0,name:"",pc:"",acc:""},gc=new Map,Xv=t=>"CDEFGAB".charAt(t),Zv=t=>t<0?fc("b",-t):fc("#",t),Hv=t=>t[0]==="b"?-t.length:t.length;function On(t){const r=JSON.stringify(t),i=gc.get(r);if(i)return i;const o=typeof t=="string"?Uv(t):wv(t)?On(Jv(t)):Fv(t)?On(t.name):$f;return gc.set(r,o),o}var Kv=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Uf(t){const r=Kv.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function Yv(t){return On(xv(t))}var $v=(t,r)=>(t%r+r)%r,Qs=[0,2,4,5,7,9,11];function Uv(t){const r=Uf(t);if(r[0]===""||r[3]!=="")return $f;const i=r[0],o=r[1],u=r[2],a=(i.charCodeAt(0)+3)%7,c=Hv(o),l=u.length?+u:void 0,p=Bv({step:a,alt:c,oct:l}),d=i+o+u,f=i+o,g=(Qs[a]+c+120)%12,A=l===void 0?$v(Qs[a]+c,12)-12*99:Qs[a]+c+12*(l+1),P=A>=0&&A<=127?A:null,E=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:o,alt:c,chroma:g,coord:p,freq:E,height:A,letter:i,midi:P,name:d,oct:l,pc:f,step:a}}function Jv(t){const{step:r,alt:i,oct:o}=t,u=Xv(r);if(!u)return"";const a=u+Zv(i);return o||o===0?a+o:a}function Yi(t,r){const i=On(t),o=Array.isArray(r)?r:oe(r).coord;if(i.empty||!o||o.length<2)return"";const u=i.coord,a=u.length===1?[u[0]+o[0]]:[u[0]+o[0],u[1]+o[1]];return Yv(a).name}function Jf(t,r){const i=t.length;return o=>{if(!r)return"";const u=o<0?(i- -o%i)%i:o%i,a=Math.floor(o/i),c=Yi(r,[0,a]);return Yi(c,t[u])}}function Qv(t,r){const i=On(t),o=On(r);if(i.empty||o.empty)return"";const u=i.coord,a=o.coord,c=a[0]-u[0],l=u.length===2&&a.length===2?a[1]-u[1]:-Math.floor(c*7/12),p=o.height===i.height&&o.midi!==null&&i.midi!==null&&i.step>o.step;return Tr([c,l],p).name}function t5(t,r,i){return function(...o){return console.warn(`${t} is deprecated. Use ${r}.`),i.apply(this,o)}}var e5=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],n5=e5,r5={...Pn,name:"",quality:"Unknown",intervals:[],aliases:[]},Lu=[],Ur={};function i5(t){return Ur[t]||r5}function Qf(){return Lu.slice()}function s5(t,r,i){const o=u5(t),u={...Qt(t),name:i||"",quality:o,intervals:t,aliases:r};Lu.push(u),u.name&&(Ur[u.name]=u),Ur[u.setNum]=u,Ur[u.chroma]=u,u.aliases.forEach(a=>o5(u,a))}function o5(t,r){Ur[r]=t}function u5(t){const r=i=>t.indexOf(i)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}n5.forEach(([t,r,i])=>s5(t.split(" "),i.split(" "),r));Lu.sort((t,r)=>t.setNum-r.setNum);var a5=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],c5=a5,l5={...Pn,intervals:[],aliases:[]},Ds=[],Un={};function tg(){return Ds.map(t=>t.name)}function vs(t){return Un[t]||l5}var h5=Xn("ScaleDictionary.scaleType","ScaleType.get",vs);function Rr(){return Ds.slice()}var p5=Xn("ScaleDictionary.entries","ScaleType.all",Rr);function m5(){return Object.keys(Un)}function d5(){Ds=[],Un={}}function eg(t,r,i=[]){const o={...Qt(t),name:r,intervals:t,aliases:i};return Ds.push(o),Un[o.name]=o,Un[o.setNum]=o,Un[o.chroma]=o,o.aliases.forEach(u=>f5(o,u)),o}function f5(t,r){Un[r]=t}c5.forEach(([t,r,...i])=>eg(t.split(" "),r,i));var ng={names:tg,get:vs,all:Rr,add:eg,removeAll:d5,keys:m5,entries:p5,scaleType:h5},vo={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function ju(t){const[r,i,o,u]=Uf(t);return r===""?["",t]:r==="A"&&u==="ug"?["","aug"]:[r+i,o+u]}function sr(t){if(t==="")return vo;if(Array.isArray(t)&&t.length===2)return Vi(t[1],t[0]);{const[r,i]=ju(t),o=Vi(i,r);return o.empty?Vi(t):o}}function Vi(t,r,i){const o=i5(t),u=On(r||""),a=On(i||"");if(o.empty||r&&u.empty||i&&a.empty)return vo;const c=Qv(u.pc,a.pc),l=o.intervals.indexOf(c)+1;if(!a.empty&&!l)return vo;const p=Array.from(o.intervals);for(let A=1;A<l;A++){const P=p[0][0],E=p[0][1],F=parseInt(P,10)+7;p.push(`${F}${E}`),p.shift()}const d=u.empty?[]:p.map(A=>Yi(u,A));t=o.aliases.indexOf(t)!==-1?t:o.aliases[0];const f=`${u.empty?"":u.pc}${t}${a.empty||l<=1?"":"/"+a.pc}`,g=`${r?u.pc+" ":""}${o.name}${l>1&&i?" over "+a.pc:""}`;return{...o,name:g,symbol:f,type:o.name,root:a.name,intervals:p,rootDegree:l,tonic:u.name,notes:d}}var g5=t5("Chord.chord","Chord.get",sr);function A5(t,r){const[i,o]=ju(t);return i?Yi(i,r)+o:t}function C5(t){const r=sr(t),i=Ms(r.chroma);return Rr().filter(o=>i(o.chroma)).map(o=>o.name)}function y5(t){const r=sr(t),i=Ms(r.chroma);return Qf().filter(o=>i(o.chroma)).map(o=>r.tonic+o.aliases[0])}function M5(t){const r=sr(t),i=ys(r.chroma);return Qf().filter(o=>i(o.chroma)).map(o=>r.tonic+o.aliases[0])}function b5(t){const{intervals:r,tonic:i}=sr(t),o=Jf(r,i);return u=>u?o(u>0?u-1:u):""}function P5(t){const{intervals:r,tonic:i}=sr(t);return Jf(r,i)}var D5={getChord:Vi,get:sr,detect:Cv,chordScales:C5,extended:y5,reduced:M5,tokenize:ju,transpose:A5,degrees:b5,steps:P5,chord:g5};function Es(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}var rg=[0,2,4,5,7,9,11],ig=({step:t,alt:r})=>(rg[t]+r+120)%12,Ou=({step:t,alt:r,oct:i,dir:o=1})=>o*(rg[t]+r+12*(i===void 0?-100:i)),sg=t=>{const r=Ou(t);return t.oct!==void 0&&r>=-12&&r<=115?r+12:null};function Gu(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var og=[0,2,4,-1,1,3,5],ug=og.map(t=>Math.floor(t*7/12));function zu(t){const{step:r,alt:i,oct:o,dir:u=1}=t,a=og[r]+7*i;if(o===void 0)return[u*a];const c=o-ug[r]-4*i;return[u*a,u*c]}var v5=[3,0,4,1,5,2,6];function Wu(t){const[r,i,o]=t,u=v5[E5(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:u,alt:a,dir:o};const c=i+4*a+ug[u];return{step:u,alt:a,oct:c,dir:o}}function E5(t){const r=(t+1)%7;return r<0?7+r:r}var Ac=(t,r)=>Array(Math.abs(r)+1).join(t),ag={empty:!0,name:"",pc:"",acc:""},Cc=new Map,qu=t=>"CDEFGAB".charAt(t),Xu=t=>t<0?Ac("b",-t):Ac("#",t),Zu=t=>t[0]==="b"?-t.length:t.length;function Gn(t){const r=JSON.stringify(t),i=Cc.get(r);if(i)return i;const o=typeof t=="string"?B5(t):Gu(t)?Gn(I5(t)):Es(t)?Gn(t.name):ag;return Cc.set(r,o),o}var F5=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Hu(t){const r=F5.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function Ku(t){return Gn(Wu(t))}var w5=(t,r)=>(t%r+r)%r,to=[0,2,4,5,7,9,11];function B5(t){const r=Hu(t);if(r[0]===""||r[3]!=="")return ag;const i=r[0],o=r[1],u=r[2],a=(i.charCodeAt(0)+3)%7,c=Zu(o),l=u.length?+u:void 0,p=zu({step:a,alt:c,oct:l}),d=i+o+u,f=i+o,g=(to[a]+c+120)%12,A=l===void 0?w5(to[a]+c,12)-12*99:to[a]+c+12*(l+1),P=A>=0&&A<=127?A:null,E=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:o,alt:c,chroma:g,coord:p,freq:E,height:A,letter:i,midi:P,name:d,oct:l,pc:f,step:a}}function I5(t){const{step:r,alt:i,oct:o}=t,u=qu(r);if(!u)return"";const a=u+Xu(i);return o||o===0?a+o:a}function $i(t,r){const i=Gn(t),o=Array.isArray(r)?r:oe(r).coord;if(i.empty||!o||o.length<2)return"";const u=i.coord,a=u.length===1?[u[0]+o[0]]:[u[0]+o[0],u[1]+o[1]];return Ku(a).name}function cg(t,r){const i=t.length;return o=>{if(!r)return"";const u=o<0?(i- -o%i)%i:o%i,a=Math.floor(o/i),c=$i(r,[0,a]);return $i(c,t[u])}}function lg(t,r){const i=Gn(t),o=Gn(r);if(i.empty||o.empty)return"";const u=i.coord,a=o.coord,c=a[0]-u[0],l=u.length===2&&a.length===2?a[1]-u[1]:-Math.floor(c*7/12),p=o.height===i.height&&o.midi!==null&&i.midi!==null&&i.step>o.step;return Tr([c,l],p).name}var hg=(t,r)=>Array(Math.abs(r)+1).join(t);function pi(t,r,i){return function(...o){return console.warn(`${t} is deprecated. Use ${r}.`),i.apply(this,o)}}var pg=pi("isNamed","isNamedPitch",Es);const mg=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:Zu,altToAcc:Xu,chroma:ig,coordToInterval:Tr,coordToNote:Ku,coordinates:zu,deprecate:pi,distance:lg,fillStr:hg,height:Ou,interval:oe,isNamed:pg,isNamedPitch:Es,isPitch:Gu,midi:sg,note:Gn,pitch:Wu,stepToLetter:qu,tokenizeInterval:Vu,tokenizeNote:Hu,tonicIntervalsTransposer:cg,transpose:$i},Symbol.toStringTag,{value:"Module"}));var x5=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],S5=x5,k5={...Pn,name:"",quality:"Unknown",intervals:[],aliases:[]},Vr=[],Jn={};function dg(t){return Jn[t]||k5}var _5=pi("ChordType.chordType","ChordType.get",dg);function N5(){return Vr.map(t=>t.name).filter(t=>t)}function T5(){return Vr.map(t=>t.aliases[0]).filter(t=>t)}function R5(){return Object.keys(Jn)}function fg(){return Vr.slice()}var V5=pi("ChordType.entries","ChordType.all",fg);function L5(){Vr=[],Jn={}}function gg(t,r,i){const o=O5(t),u={...Qt(t),name:i||"",quality:o,intervals:t,aliases:r};Vr.push(u),u.name&&(Jn[u.name]=u),Jn[u.setNum]=u,Jn[u.chroma]=u,u.aliases.forEach(a=>j5(u,a))}function j5(t,r){Jn[r]=t}function O5(t){const r=i=>t.indexOf(i)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}S5.forEach(([t,r,i])=>gg(t.split(" "),i.split(" "),r));Vr.sort((t,r)=>t.setNum-r.setNum);var Ag={names:N5,symbols:T5,get:dg,all:fg,add:gg,removeAll:L5,keys:R5,entries:V5,chordType:_5},G5=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],z5=G5,Fs=[];z5.forEach(([t,r,i])=>$5(t,r,i));var W5={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function q5(){return Fs.reduce((t,r)=>(r.names.forEach(i=>t.push(i)),t),[])}function X5(){return Fs.map(t=>t.shorthand)}var Z5=/^([^.]+)(\.*)$/;function Yu(t){const[r,i,o]=Z5.exec(t)||[],u=Fs.find(l=>l.shorthand===i||l.names.includes(i));if(!u)return W5;const a=U5(u.fraction,o.length),c=a[0]/a[1];return{...u,name:t,dots:o,value:c,fraction:a}}var H5=t=>Yu(t).value,K5=t=>Yu(t).fraction,Y5={names:q5,shorthands:X5,get:Yu,value:H5,fraction:K5};function $5(t,r,i){Fs.push({empty:!1,dots:"",name:"",value:1/t,fraction:t<1?[1/t,1]:[1,t],shorthand:r,names:i})}function U5(t,r){const i=Math.pow(2,r);let o=t[0]*i,u=t[1]*i;const a=o;for(let c=0;c<r;c++)o+=a/Math.pow(2,c+1);for(;o%2===0&&u%2===0;)o/=2,u/=2;return[o,u]}function Cg(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function yg(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var Mg=[0,2,4,-1,1,3,5],bg=Mg.map(t=>Math.floor(t*7/12));function Pg(t){const{step:r,alt:i,oct:o,dir:u=1}=t,a=Mg[r]+7*i;if(o===void 0)return[u*a];const c=o-bg[r]-4*i;return[u*a,u*c]}var J5=[3,0,4,1,5,2,6];function Q5(t){const[r,i,o]=t,u=J5[tE(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:u,alt:a,dir:o};const c=i+4*a+bg[u];return{step:u,alt:a,oct:c,dir:o}}function tE(t){const r=(t+1)%7;return r<0?7+r:r}var yc=(t,r)=>Array(Math.abs(r)+1).join(t),Eo=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),eE="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",nE="(AA|A|P|M|m|d|dd)([-+]?\\d+)",rE=new RegExp("^"+eE+"|"+nE+"$");function iE(t){const r=rE.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var Mc={};function Fo(t){return typeof t=="string"?Mc[t]||(Mc[t]=sE(t)):yg(t)?Fo(aE(t)):Cg(t)?Fo(t.name):Eo}var bc=[0,2,4,5,7,9,11],Dg="PMMPPMM";function sE(t){const r=iE(t);if(r[0]==="")return Eo;const i=+r[0],o=r[1],u=(Math.abs(i)-1)%7,a=Dg[u];if(a==="M"&&o==="P")return Eo;const c=a==="M"?"majorable":"perfectable",l=""+i+o,p=i<0?-1:1,d=i===8||i===-8?i:p*(u+1),f=uE(c,o),g=Math.floor((Math.abs(i)-1)/7),A=p*(bc[u]+f+12*g),P=(p*(bc[u]+f)%12+12)%12,E=Pg({step:u,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:o,step:u,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function oE(t,r){const[i,o=0]=t,u=i*7+o*12<0,a=r||u?[-i,-o,-1]:[i,o,1];return Fo(Q5(a))}function uE(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function aE(t){const{step:r,alt:i,oct:o=0,dir:u}=t;if(!u)return"";const a=r+1+7*o,c=a===0?r+1:a,l=u<0?"-":"",p=Dg[r]==="M"?"majorable":"perfectable";return l+c+cE(p,i)}function cE(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?yc("A",r):yc("d",t==="perfectable"?r:r+1)}var Pc=(t,r)=>Array(Math.abs(r)+1).join(t),vg=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Dc=new Map,lE=t=>"CDEFGAB".charAt(t),hE=t=>t<0?Pc("b",-t):Pc("#",t),pE=t=>t[0]==="b"?-t.length:t.length;function Ui(t){const r=JSON.stringify(t),i=Dc.get(r);if(i)return i;const o=typeof t=="string"?gE(t):yg(t)?Ui(AE(t)):Cg(t)?Ui(t.name):vg;return Dc.set(r,o),o}var mE=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function dE(t){const r=mE.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}var fE=(t,r)=>(t%r+r)%r,eo=[0,2,4,5,7,9,11];function gE(t){const r=dE(t);if(r[0]===""||r[3]!=="")return vg;const i=r[0],o=r[1],u=r[2],a=(i.charCodeAt(0)+3)%7,c=pE(o),l=u.length?+u:void 0,p=Pg({step:a,alt:c,oct:l}),d=i+o+u,f=i+o,g=(eo[a]+c+120)%12,A=l===void 0?fE(eo[a]+c,12)-12*99:eo[a]+c+12*(l+1),P=A>=0&&A<=127?A:null,E=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:o,alt:c,chroma:g,coord:p,freq:E,height:A,letter:i,midi:P,name:d,oct:l,pc:f,step:a}}function AE(t){const{step:r,alt:i,oct:o}=t,u=lE(r);if(!u)return"";const a=u+hE(i);return o||o===0?a+o:a}function CE(t,r){const i=Ui(t),o=Ui(r);if(i.empty||o.empty)return"";const u=i.coord,a=o.coord,c=a[0]-u[0],l=u.length===2&&a.length===2?a[1]-u[1]:-Math.floor(c*7/12),p=o.height===i.height&&o.midi!==null&&i.midi!==null&&i.step>o.step;return oE([c,l],p).name}function yE(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var Eg=oe,ME=t=>oe(t).name,bE=t=>oe(t).semitones,PE=t=>oe(t).q,DE=t=>oe(t).num;function vE(t){const r=oe(t);return r.empty?"":r.simple+r.q}function EE(t){const r=oe(t);if(r.empty)return"";const i=(7-r.step)%7,o=r.type==="perfectable"?-r.alt:-(r.alt+1);return oe({step:i,alt:o,oct:r.oct,dir:r.dir}).name}var FE=[1,2,2,3,3,4,5,5,6,6,7,7],wE="P m M m M P d P m M m M".split(" ");function BE(t){const r=t<0?-1:1,i=Math.abs(t),o=i%12,u=Math.floor(i/12);return r*(FE[o]+7*u)+wE[o]}var IE=CE,Fg=wg((t,r)=>[t[0]+r[0],t[1]+r[1]]),xE=t=>r=>Fg(t,r),SE=wg((t,r)=>[t[0]-r[0],t[1]-r[1]]);function kE(t,r){const i=Eg(t);if(i.empty)return"";const[o,u,a]=i.coord;return Tr([o+r,u,a]).name}var Er={names:yE,get:Eg,name:ME,num:DE,semitones:bE,quality:PE,fromSemitones:BE,distance:IE,invert:EE,simplify:vE,add:Fg,addTo:xE,substract:SE,transposeFifths:kE};function wg(t){return(r,i)=>{const o=oe(r).coord,u=oe(i).coord;if(o&&u){const a=t(o,u);return Tr(a).name}}}function Bg(t){return+t>=0&&+t<=127}function Ig(t){if(Bg(t))return+t;const r=Bt(t);return r.empty?null:r.midi}function _E(t,r=440){return Math.pow(2,(t-69)/12)*r}var NE=Math.log(2),TE=Math.log(440);function $u(t){const r=12*(Math.log(t)-TE)/NE+69;return Math.round(r*100)/100}var RE="C C# D D# E F F# G G# A A# B".split(" "),VE="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Zn(t,r={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const i=(r.sharps===!0?RE:VE)[t%12];if(r.pitchClass)return i;const o=Math.floor(t/12)-1;return i+o}function Uu(t){return t%12}function LE(t){return t.split("").reduce((r,i,o)=>(o<12&&i==="1"&&r.push(o),r),[])}function jE(t){return t.map(Uu).sort((r,i)=>r-i).filter((r,i,o)=>i===0||r!==o[i-1])}function Ju(t){return Array.isArray(t)?jE(t):LE(t)}function OE(t){const r=Ju(t);return i=>{const o=Uu(i);for(let u=0;u<12;u++){if(r.includes(o+u))return i+u;if(r.includes(o-u))return i-u}}}function xg(t,r){const i=Ju(t),o=i.length;return u=>{const a=u<0?(o- -u%o)%o:u%o,c=Math.floor(u/o);return i[a]+c*12+r}}function GE(t,r){const i=xg(t,r);return o=>{if(o!==0)return i(o>0?o-1:o)}}var zE={chroma:Uu,freqToMidi:$u,isMidi:Bg,midiToFreq:_E,midiToNoteName:Zn,pcsetNearest:OE,pcset:Ju,pcsetDegrees:GE,pcsetSteps:xg,toMidi:Ig},WE=["C","D","E","F","G","A","B"],Sg=t=>t.name,kg=t=>t.map(Bt).filter(r=>!r.empty);function qE(t){return t===void 0?WE.slice():Array.isArray(t)?kg(t).map(Sg):[]}var $e=Bt,XE=t=>$e(t).name,ZE=t=>$e(t).pc,HE=t=>$e(t).acc,KE=t=>$e(t).oct,YE=t=>$e(t).midi,$E=t=>$e(t).freq,UE=t=>$e(t).chroma;function _g(t){return Zn(t)}function JE(t){return Zn($u(t))}function QE(t){return Zn($u(t),{sharps:!0})}function t9(t){return Zn(t,{sharps:!0})}var mi=he,e9=he,Ng=t=>r=>mi(r,t),n9=Ng,Tg=t=>r=>mi(t,r),r9=Tg;function Ji(t,r){return mi(t,[r,0])}var i9=Ji;function s9(t,r){return mi(t,[0,r])}var Qu=(t,r)=>t.height-r.height,o9=(t,r)=>r.height-t.height;function Rg(t,r){return r=r||Qu,kg(t).sort(r).map(Sg)}function Vg(t){return Rg(t,Qu).filter((r,i,o)=>i===0||r!==o[i-1])}var u9=t=>{const r=$e(t);return r.empty?"":Zn(r.midi||r.chroma,{sharps:r.alt>0,pitchClass:r.midi===null})};function Lg(t,r){const i=$e(t);if(i.empty)return"";const o=$e(r||Zn(i.midi||i.chroma,{sharps:i.alt<0,pitchClass:!0}));if(o.empty||o.chroma!==i.chroma)return"";if(i.oct===void 0)return o.pc;const u=i.chroma-i.alt,a=o.chroma-o.alt,c=u>11||a<0?-1:u<0||a>11?1:0,l=i.oct+c;return o.pc+l}var zn={names:qE,get:$e,name:XE,pitchClass:ZE,accidentals:HE,octave:KE,midi:YE,ascending:Qu,descending:o9,sortedNames:Rg,sortedUniqNames:Vg,fromMidi:_g,fromMidiSharps:t9,freq:$E,fromFreq:JE,fromFreqSharps:QE,chroma:UE,transpose:mi,tr:e9,transposeBy:Ng,trBy:n9,transposeFrom:Tg,trFrom:r9,transposeFifths:Ji,transposeOctaves:s9,trFifths:i9,simplify:u9,enharmonic:Lg},jg={empty:!0,name:"",chordType:""},vc={};function Dn(t){return typeof t=="string"?vc[t]||(vc[t]=d9(t)):typeof t=="number"?Dn(ws[t]||""):hi(t)?l9(t):Z7(t)?Dn(t.name):jg}var a9=Xn("RomanNumeral.romanNumeral","RomanNumeral.get",Dn);function c9(t=!0){return(t?ws:m9).slice()}function l9(t){return Dn(As(t.alt)+ws[t.step])}var h9=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function p9(t){return h9.exec(t)||["","","",""]}var Og="I II III IV V VI VII",ws=Og.split(" "),m9=Og.toLowerCase().split(" ");function d9(t){const[r,i,o,u]=p9(t);if(!o)return jg;const a=o.toUpperCase(),c=ws.indexOf(a),l=xu(i),p=1;return{empty:!1,name:r,roman:o,interval:vr({step:c,alt:l,dir:p}).name,acc:i,chordType:u,alt:l,step:c,major:o===a,oct:0,dir:p}}var f9={names:c9,get:Dn,romanNumeral:a9},ke=Object.freeze([]),Gg={type:"major",tonic:"",alteration:0,keySignature:""},Li={tonic:"",grades:ke,intervals:ke,scale:ke,triads:ke,chords:ke,chordsHarmonicFunction:ke,chordScales:ke},g9={...Gg,...Li,type:"major",minorRelative:"",scale:ke,secondaryDominants:ke,secondaryDominantsMinorRelative:ke,substituteDominants:ke,substituteDominantsMinorRelative:ke},A9={...Gg,type:"minor",relativeMajor:"",natural:Li,harmonic:Li,melodic:Li},no=(t,r,i="")=>r.map((o,u)=>`${t[u]}${i}${o}`);function Bs(t,r,i,o,u){return a=>{const c=t.map(p=>Dn(p).interval||""),l=c.map(p=>he(a,p));return{tonic:a,grades:t,intervals:c,scale:l,triads:no(l,r),chords:no(l,i),chordsHarmonicFunction:o.slice(),chordScales:no(l,u," ")}}}var zg=(t,r)=>{const i=Bt(t),o=Bt(r);return i.empty||o.empty?0:o.coord[0]-i.coord[0]},C9=Bs("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),y9=Bs("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),M9=Bs("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),b9=Bs("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function P9(t){const r=Bt(t).pc;if(!r)return g9;const i=C9(r),o=zg("C",r),u=a=>{const c=Dn(a);return c.empty?"":he(t,c.interval)+c.chordType};return{...i,type:"major",minorRelative:he(r,"-3m"),alteration:o,keySignature:As(o),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(u),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(u),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(u),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(u)}}function D9(t){const r=Bt(t).pc;if(!r)return A9;const i=zg("C",r)-3;return{type:"minor",tonic:r,relativeMajor:he(r,"3m"),alteration:i,keySignature:As(i),natural:y9(r),harmonic:M9(r),melodic:b9(r)}}function v9(t){return typeof t=="number"?Ji("C",t):typeof t=="string"&&/^b+|#+$/.test(t)?Ji("C",xu(t)):null}var E9={majorKey:P9,majorTonicFromKeySignature:v9,minorKey:D9},Ec=(t,r)=>Array(Math.abs(r)+1).join(t),wo=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),F9="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",w9="(AA|A|P|M|m|d|dd)([-+]?\\d+)",B9=new RegExp("^"+F9+"|"+w9+"$");function I9(t){const r=B9.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var Fc={};function ni(t){return typeof t=="string"?Fc[t]||(Fc[t]=x9(t)):hi(t)?ni(_9(t)):li(t)?ni(t.name):wo}var wc=[0,2,4,5,7,9,11],Wg="PMMPPMM";function x9(t){const r=I9(t);if(r[0]==="")return wo;const i=+r[0],o=r[1],u=(Math.abs(i)-1)%7,a=Wg[u];if(a==="M"&&o==="P")return wo;const c=a==="M"?"majorable":"perfectable",l=""+i+o,p=i<0?-1:1,d=i===8||i===-8?i:p*(u+1),f=k9(c,o),g=Math.floor((Math.abs(i)-1)/7),A=p*(wc[u]+f+12*g),P=(p*(wc[u]+f)%12+12)%12,E=gs({step:u,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:o,step:u,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function S9(t,r){const[i,o=0]=t,u=i*7+o*12<0?[-i,-o,-1]:[i,o,1];return ni(Iu(u))}function k9(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function _9(t){const{step:r,alt:i,oct:o=0,dir:u}=t;if(!u)return"";const a=r+1+7*o,c=a===0?r+1:a,l=u<0?"-":"",p=Wg[r]==="M"?"majorable":"perfectable";return l+c+N9(p,i)}function N9(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?Ec("A",r):Ec("d",t==="perfectable"?r:r+1)}var T9=ni;function R9(t){const r=ni(t);return r.empty?"":r.simple+r.q}function V9(t,r){const i=T9(t);if(i.empty)return"";const[o,u,a]=i.coord;return S9([o+r,u,a]).name}var ta=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Bc={...Pn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},ea=ta.map(G9),Bo={};ea.forEach(t=>{Bo[t.name]=t,t.aliases.forEach(r=>{Bo[r]=t})});function nr(t){return typeof t=="string"?Bo[t.toLowerCase()]||Bc:t&&t.name?nr(t.name):Bc}var L9=Xn("Mode.mode","Mode.get",nr);function qg(){return ea.slice()}var j9=Xn("Mode.mode","Mode.all",qg);function O9(){return ea.map(t=>t.name)}function G9(t){const[r,i,o,u,a,c,l]=t,p=l?[l]:[],d=Number(i).toString(2);return{empty:!1,intervals:vs(u).intervals,modeNum:r,chroma:d,normalized:d,name:u,setNum:i,alt:o,triad:a,seventh:c,aliases:p}}function z9(t,r){return nr(t).intervals.map(i=>he(r,i))}function Xg(t){return(r,i)=>{const o=nr(r);if(o.empty)return[];const u=Nr(o.modeNum,t),a=o.intervals.map(c=>he(i,c));return u.map((c,l)=>a[l]+c)}}var W9=Xg(ta.map(t=>t[4])),q9=Xg(ta.map(t=>t[5]));function Zg(t,r){const i=nr(r),o=nr(t);return i.empty||o.empty?"":R9(V9("1P",o.alt-i.alt))}function X9(t,r,i){return he(i,Zg(t,r))}var Z9={get:nr,names:O9,all:qg,distance:Zg,relativeTonic:X9,notes:z9,triads:W9,seventhChords:q9,entries:j9,mode:L9};function H9(t){const[r,i,o,u]=Su(t);return r===""?ro("",t):r==="A"&&u==="ug"?ro("","aug"):ro(r+i,o+u)}function ro(t,r){const i=r.split("/");if(i.length===1)return[t,i[0],""];const[o,u,a,c]=Su(i[1]);return o!==""&&a===""&&c===""?[t,i[0],o+u]:[t,r,""]}function K9(t,r){return r.map(Dn).map(i=>he(t,vr(i))+i.chordType)}function Y9(t,r){return r.map(i=>{const[o,u]=H9(i),a=Nf(t,o);return Dn(vr(a)).name+u})}var $9={fromRomanNumerals:K9,toRomanNumerals:Y9};function Hg(t){const r=ku(t.map(i=>typeof i=="number"?i:Ig(i)));return!t.length||r.length!==t.length?[]:r.reduce((i,o)=>{const u=i[i.length-1];return i.concat(Cs(u,o).slice(1))},[r[0]])}function U9(t,r){return Hg(t).map(i=>Zn(i,r))}var J9={numeric:Hg,chromatic:U9},Q9={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Kg(t){if(typeof t!="string")return["",""];const r=t.indexOf(" "),i=Bt(t.substring(0,r));if(i.empty){const u=Bt(t);return u.empty?["",t]:[u.name,""]}const o=t.substring(i.name.length+1).toLowerCase();return[i.name,o.length?o:""]}var tF=tg;function nn(t){const r=Array.isArray(t)?t:Kg(t),i=Bt(r[0]).name,o=vs(r[1]);if(o.empty)return Q9;const u=o.name,a=i?o.intervals.map(l=>he(i,l)):[],c=i?i+" "+u:u;return{...o,name:c,type:u,tonic:i,notes:a}}var eF=Xn("Scale.scale","Scale.get",nn);function nF(t,r={}){const i=Gf(t),o=Bt(r.tonic??t[0]??""),u=o.chroma;if(u===void 0)return[];const a=i.split("");a[u]="1";const c=Nr(u,a).join(""),l=Rr().find(d=>d.chroma===c),p=[];return l&&p.push(o.name+" "+l.name),r.match==="exact"||Yg(c).forEach(d=>{p.push(o.name+" "+d)}),p}function rF(t){const r=nn(t),i=ys(r.chroma);return qf().filter(o=>i(o.chroma)).map(o=>o.aliases[0])}function Yg(t){const r=Nu(t)?t:nn(t).chroma,i=Ms(r);return Rr().filter(o=>i(o.chroma)).map(o=>o.name)}function iF(t){const r=ys(nn(t).chroma);return Rr().filter(i=>r(i.chroma)).map(i=>i.name)}function $g(t){const r=t.map(u=>Bt(u).pc).filter(u=>u),i=r[0],o=Vg(r);return Nr(o.indexOf(i),o)}function sF(t){const r=nn(t);if(r.empty)return[];const i=r.tonic?r.notes:r.intervals;return Tu(r.chroma).map((o,u)=>{const a=nn(o).name;return a?[i[u],a]:["",""]}).filter(o=>o[0])}function oF(t){const r=Array.isArray(t)?$g(t):nn(t).notes,i=r.map(o=>Bt(o).chroma);return o=>{const u=Bt(typeof o=="number"?_g(o):o),a=u.height;if(a===void 0)return;const c=a%12,l=i.indexOf(c);if(l!==-1)return Lg(u.name,r[l])}}function uF(t){const r=oF(t);return(i,o)=>{const u=Bt(i).height,a=Bt(o).height;return u===void 0||a===void 0?[]:Cs(u,a).map(r).filter(c=>c)}}function aF(t){const{intervals:r,tonic:i}=nn(t),o=_f(r,i);return u=>u?o(u>0?u-1:u):""}function cF(t){const{intervals:r,tonic:i}=nn(t);return _f(r,i)}var Fr={degrees:aF,detect:nF,extended:Yg,get:nn,modeNames:sF,names:tF,rangeOf:uF,reduced:iF,scaleChords:rF,scaleNotes:$g,steps:cF,tokenize:Kg,scale:eF},lF={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},hF=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function pF(){return hF.slice()}var mF=/^(\d*\d(?:\+\d)*)\/(\d+)$/,Ic=new Map;function dF(t){const r=JSON.stringify(t),i=Ic.get(r);if(i)return i;const o=AF(na(t));return Ic.set(r,o),o}function na(t){if(typeof t=="string"){const[a,c,l]=mF.exec(t)||[];return na([c,l])}const[r,i]=t,o=+i;if(typeof r=="number")return[r,o];const u=r.split("+").map(a=>+a);return u.length===1?[u[0],o]:[u,o]}var fF={names:pF,parse:na,get:dF},gF=t=>Math.log(t)/Math.log(2)%1===0;function AF([t,r]){const i=Array.isArray(t)?t.reduce((l,p)=>l+p,0):t,o=r;if(i===0||o===0)return lF;const u=Array.isArray(t)?`${t.join("+")}/${r}`:`${t}/${r}`,a=Array.isArray(t)?t:[],c=o===4||o===2?"simple":o===8&&i%3===0?"compound":gF(o)?"irregular":"irrational";return{empty:!1,name:u,type:c,upper:i,lower:o,additive:a}}var CF=mg,yF=Wf,MF=Ag,bF=ng;const PF=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:I7,Array:V7,Chord:D5,ChordDictionary:MF,ChordType:Ag,Collection:$7,Core:mg,DurationValue:Y5,Interval:Er,Key:E9,Midi:zE,Mode:Z9,Note:zn,PcSet:yF,Pcset:Wf,Progression:$9,Range:J9,RomanNumeral:f9,Scale:Fr,ScaleDictionary:bF,ScaleType:ng,TimeSignature:fF,Tonal:CF,accToAlt:Zu,altToAcc:Xu,chroma:ig,coordToInterval:Tr,coordToNote:Ku,coordinates:zu,deprecate:pi,distance:lg,fillStr:hg,height:Ou,interval:oe,isNamed:pg,isNamedPitch:Es,isPitch:Gu,midi:sg,note:Gn,pitch:Wu,stepToLetter:qu,tokenizeInterval:Vu,tokenizeNote:Hu,tonicIntervalsTransposer:cg,transpose:$i},Symbol.toStringTag,{value:"Module"}));var Ug={},xc={},di={};di.__esModule=!0;di.getBestVoicing=void 0;function DF(t){var r=t.chord,i=t.range,o=t.finder,u=t.picker,a=t.lastVoicing,c=o(r,i);return c.length?u(c,a):[]}di.getBestVoicing=DF;var qr={};const Jg=AD(PF);var fi={};fi.__esModule=!0;fi.tokenizeChord=void 0;function vF(t){var r=(t||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return r?r.slice(1):[]}fi.tokenizeChord=vF;var Sc;function EF(){if(Sc)return qr;Sc=1,qr.__esModule=!0,qr.voicingsInRange=void 0;var t=Jg,r=Qg(),i=fi;function o(u,a,c){a===void 0&&(a=r.lefthand),c===void 0&&(c=["D3","A4"]);var l=(0,i.tokenizeChord)(u),p=l[0],d=l[1];if(!a[d])return[];var f=a[d].map(function(A){return A.split(" ")}),g=t.Range.chromatic(c);return f.reduce(function(A,P){var E=P.map(function(L){return t.Interval.substract(L,P[0])}),F=t.Note.transpose(p,P[0]),S=g.filter(function(L){return t.Note.chroma(L)===t.Note.chroma(F)}).filter(function(L){return t.Note.midi(t.Note.transpose(L,E[E.length-1]))<=t.Note.midi(c[1])}).map(function(L){return t.Note.enharmonic(L,F)}),N=S.map(function(L){return E.map(function(K){return t.Note.transpose(L,K)})});return A.concat(N)},[])}return qr.voicingsInRange=o,qr}var kc;function Qg(){return kc||(kc=1,function(t){var r=Zr&&Zr.__assign||function(){return r=Object.assign||function(l){for(var p,d=1,f=arguments.length;d<f;d++){p=arguments[d];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(l[g]=p[g])}return l},r.apply(this,arguments)},i=Zr&&Zr.__rest||function(l,p){var d={};for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&p.indexOf(f)<0&&(d[f]=l[f]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(l);g<f.length;g++)p.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(l,f[g])&&(d[f[g]]=l[f[g]]);return d};t.__esModule=!0,t.dictionaryVoicing=t.dictionaryVoicingFinder=t.triads=t.guidetones=t.lefthand=void 0;var o=di,u=EF();t.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},t.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var a=function(l){return function(p,d){return(0,u.voicingsInRange)(p,l,d)}};t.dictionaryVoicingFinder=a;var c=function(l){var p=l.dictionary,d=l.range,f=i(l,["dictionary","range"]);return(0,o.getBestVoicing)(r(r({},f),{range:d,finder:(0,t.dictionaryVoicingFinder)(p)}))};t.dictionaryVoicing=c}(xc)),xc}var Is={};Is.__esModule=!0;Is.minTopNoteDiff=void 0;var _c=Jg;function FF(t,r){if(!r)return t[0];var i=function(o){return Math.abs(_c.Note.midi(r[r.length-1])-_c.Note.midi(o[o.length-1]))};return t.reduce(function(o,u){return i(u)<i(o)?u:o},t[0])}Is.minTopNoteDiff=FF;(function(t){t.__esModule=!0;var r=Qg(),i=Is,o=di,u=fi;t.default={tokenizeChord:u.tokenizeChord,getBestVoicing:o.getBestVoicing,dictionaryVoicing:r.dictionaryVoicing,dictionaryVoicingFinder:r.dictionaryVoicingFinder,lefthand:r.lefthand,guidetones:r.guidetones,triads:r.triads,minTopNoteDiff:i.minTopNoteDiff}})(Ug);const Nc=yf(Ug),wF=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],BF=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],IF=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],xF={b:-1,"#":1},SF=t=>{const[r,...i]=t.split("");return BF.indexOf(r.toLowerCase())+i.reduce((o,u)=>o+xF[u],0)};function kF(t){const r=(t||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return r?r.slice(1):[]}const Io=t=>t%12,tA=t=>{let r=Number(t);return isNaN(r)?Er.semitones(t):r},xo=(t,r)=>{if(typeof t=="number")return t;if(typeof t=="string")return Wn(t,r)},_F=(t,r=!1)=>{const i=Math.floor(t/12)-1;return(r?IF:wF)[t%12]+i};function NF(t,r,i=1){t=t.map(u=>typeof u=="string"?Wn(u):u);const o=Math.floor(r/t.length)*i*12;return r=Te(r,t.length),t[r]+o}function TF(t,r,i){let o=0,u=1/0;return r.forEach((a,c)=>{const l=Math.abs(a-t);(l<u||i)&&(o=c,u=l)}),o}let io={};function RF(t,r,i,o){let[u,a]=Fr.tokenize(r);const c=xo(u),l=Io(c);if(!io[a]){let{intervals:g}=Fr.get(`C ${a}`);io[a]=g.map(tA)}const p=io[a];if(!p)return null;let d=c;if(i){i=xo(i,3);const g=Io(i),A=Te(g-l,12),P=TF(A,p,o);t=t+P,d=i-A}const f=Math.floor(t/p.length)*12;return t=Te(t,p.length),p[t]+d+f}let Tc={below:t=>t.slice(-1)[0],duck:t=>t.slice(-1)[0],above:t=>t[0],root:t=>t[0]};function VF({chord:t,dictionary:r,offset:i=0,n:o,mode:u="below",anchor:a="c5",octaves:c=1}){const[l,p]=kF(t),d=SF(l);a=xo(a?.note||a,4);const f=Io(a),g=r[p].map(R=>(typeof R=="string"?R.split(" "):R).map(tA));let A,P,E=g.map((R,T)=>{const G=Tc[u](R),H=Te(f-G-d,12);return(A===void 0||H<A)&&(A=H,P=T),H});u==="root"&&(P=0);const F=Math.ceil(i/g.length)*12,S=Te(P+i,g.length),N=g[S],L=Tc[u](N),K=a-E[S]+F,_=N.map(R=>K-L+R);let x=_.map(R=>_F(R));return u==="duck"&&(x=x.filter((R,T)=>_[T]!==a)),o!==void 0?[NF(x,o,c)]:x}const LF=t=>(t<=0?-1:1)+t*7+"P";function jF(t,r){r=r.replaceAll(":"," "),t=Math.ceil(t);let{intervals:i,tonic:o,empty:u}=Fr.get(r);if(u&&rr(r)||!u&&!o)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(u)throw new Error(`invalid scale "${r}"`);o=o||"C";const{pc:a,oct:c=3}=zn.get(o),l=Math.floor(t/i.length),p=Te(t,i.length),d=Er.add(i[p],LF(l));return zn.transpose(a+c,d)}function Rc(t,r,i){let[o,u]=Fr.tokenize(t),{notes:a}=Fr.get(`${o} ${u}`);if(a=a.map(P=>zn.get(P).pc),r=Number(r),isNaN(r))throw new Error(`scale offset "${r}" not a number`);const{pc:c,oct:l=3}=zn.get(i),p=a.indexOf(c);if(p===-1)throw new Error(`note "${i}" is not in scale "${t}"`);let d=p,f=l,g=c;const A=Math.sign(r);for(;Math.abs(d-p)<Math.abs(r);){d+=A;const P=Te(d,a.length);A<0&&g[0]==="C"&&(f+=A),g=a[P],A>0&&g[0]==="C"&&(f+=A)}return g+f}const OF=z("transpose",function(t,r){return r.withHap(i=>{const o=i.value.note??i.value;if(typeof o=="number"){let c;typeof t=="number"?c=t:typeof t=="string"&&(c=Er.semitones(t)||0);const l=o+c;return typeof i.value=="object"?i.withValue(()=>({...i.value,note:l})):i.withValue(()=>l)}if(typeof o!="string"||!rr(o))return Yt(`[tonal] transpose: not a note "${o}"`,"warning"),i;const u=isNaN(Number(t))?String(t):Er.fromSemitones(t),a=zn.simplify(zn.transpose(o,u));return typeof i.value=="object"?i.withValue(()=>({...i.value,note:a})):i.withValue(()=>a)})}),GF=z("scaleTranspose",function(t,r){return r.withHap(i=>{if(!i.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof i.value=="object")return i.withValue(()=>({...i.value,note:Rc(i.context.scale,Number(t),i.value.note)}));if(typeof i.value!="string")throw new Error("can only use scaleTranspose with notes");return i.withValue(()=>Rc(i.context.scale,Number(t),i.value))})}),zF=z("scale",function(t,r){return Array.isArray(t)&&(t=t.flat().join(" ")),r.fmap(i=>{const o=typeof i=="object";let u=o?i.n:i;if(o&&delete i.n,rr(u))return le(u);let a=Number(u),c=0;if(isNaN(a)){if(u=String(u),!/^[-+]?\d+(#*|b*){1}$/.test(u))return Yt(`[tonal] invalid scale step "${u}", expected number or integer with optional # b suffixes`,"error"),kt;const l=u.indexOf("#");if(l>=0)a=Number(u.substring(0,l)),c=u.length-l;else{const p=u.indexOf("b");a=Number(u.substring(0,p)),c=p-u.length}}try{let l;o&&i.anchor?l=RF(a,t,i.anchor):l=jF(a,t),c!=0&&(l=zn.transpose(l,Er.fromSemitones(c))),i=le(o?{...i,note:l}:l)}catch(l){Yt(`[tonal] ${l.message}`,"error"),i=kt}return i}).outerJoin().withHap(i=>i.setContext({...i.context,scale:t}))},!0,!0),gr={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},Jr={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:WF,minTopNoteDiff:qF}=Nc.default||Nc,XF={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},ZF={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},HF={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},KF={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},Lr={lefthand:{dictionary:XF,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:HF,mode:"below",anchor:"a4"},guidetones:{dictionary:ZF,mode:"above",anchor:"a4"},legacy:{dictionary:KF,mode:"below",anchor:"a4"}};let eA="ireal";const nA=t=>eA=t,YF=(t,r)=>rA(t,Lr[t].dictionary,r),rA=(t,r,i=["F3","A4"])=>{Object.assign(Lr,{[t]:{dictionary:r,range:i}})},ra=(t,r,i={})=>{Object.assign(Lr,{[t]:{dictionary:r,...i}})},$F=(t,r,i)=>{const{dictionary:o,range:u}=Lr[r];return WF({chord:t,dictionary:o,range:u,picker:qF,lastVoicing:i})};let ji;const UF=z("voicings",function(t,r){return r.fmap(i=>(ji=$F(i,t,ji),qt(...ji))).outerJoin()}),JF=z("rootNotes",function(t,r){return r.fmap(i=>{const o=(i.chord||i).match(/^([a-gA-G][b#]?).*$/)[1]+t;return i.chord?{note:o}:o})}),QF=z("voicing",function(t){return t.fmap(r=>{r=typeof r=="string"?{chord:r}:r;let{dictionary:i=eA,chord:o,anchor:u,offset:a,mode:c,n:l,octaves:p,...d}=r;i=typeof i=="string"?Lr[i]:{dictionary:i,mode:"below",anchor:"c5"};try{let f=VF({...i,chord:o,anchor:u,offset:a,mode:c,n:l,octaves:p});return qt(...f).note().set(d)}catch{return Yt(`[voicing]: unknown chord "${o}"`),kt}}).outerJoin()});function Qr(t,r,i){i=Array.isArray(i)?i:[i],i.forEach(o=>{o[r]=o[t]})}Qr("^","",[gr,Jr]);Object.keys(gr).forEach(t=>{if(t.includes("-")){let r=t.replace("-","m");Qr(t,r,[Jr,gr])}if(t.includes("^")){let r=t.replace("^","M");Qr(t,r,[Jr,gr])}if(t.includes("+")){let r=t.replace("+","aug");Qr(t,r,[Jr,gr])}});ra("ireal",gr);ra("ireal-ext",Jr);function tw(){ji=void 0,nA("ireal")}const ew="@strudel/tonal",rw=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:rA,packageName:ew,registerVoicings:ra,resetVoicings:tw,rootNotes:JF,scale:zF,scaleTranspose:GF,setDefaultVoicings:nA,setVoicingRange:YF,transpose:OF,voicing:QF,voicingAlias:Qr,voicingRegistry:Lr,voicings:UF},Symbol.toStringTag,{value:"Module"}));async function iw(){const t=Gi(Gi,Promise.resolve().then(()=>qm),Promise.resolve().then(()=>kP),Promise.resolve().then(()=>rw),Promise.resolve().then(()=>MP),{hush:ow,evaluate:uw});await Promise.all([t,fd()])}let So,Qn;function iA(t={}){ld(),t.miniAllStrings!==!1&&Td();const{prebake:r,...i}=t;return Qn=Bd({...i,transpiler:KD}),So=(async()=>(await iw(),await r?.(),Qn))(),au(()=>Qn.scheduler.now()),So}window.initStrudel=iA;ut.prototype.play=function(){if(!Qn)throw new Error(".play: no repl found. Have you called initStrudel?");return So.then(()=>{Qn.setPattern(this,!0)}),this};function ow(){Qn.stop()}async function uw(t,r=!0){return Qn.evaluate(t,r)}const aw=(t,r)=>Math.floor(Math.random()*(r-t+1)+t),ye=()=>{if(!disk.isPlaying)return;const t=[];for(const i of disk.rooms)if(i&&i.generateSoundString){let o=i.generateSoundString();if(!o)continue;i.id!==disk.roomId&&disk.roomId!=="rainbowroom"?o=`${o}.gain(0.2).lpf(500).room(0.7)`:disk.roomId==="rainbowroom"?o=`${o}.gain(0.6)`:o=`${o}.gain(1)`,o=`$: ${o}`,i.isMuted&&(o=`_${o}`),t.push(o)}const r=t.join(`
`);r.length>0&&(console.log("Re-evaluating ...",r),evaluate(r))},Hn=t=>{t&&!disk.visitedRooms.includes(t)&&disk.visitedRooms.push(t),ye()};let cw=()=>{println(`The following commands are available:
    LOOK:           'look at key'
    TAKE:           'take book'
    GO:             'go north' (or just type 'n')
    USE:            'use bucket'
    PRESS:          'press play'
    TALK:           'talk to mary'
    ITEMS:          list items in the room
    CHARS:          list characters in the room
    INV:            list inventory items
    SAVE/LOAD:      save current game, or load a saved game (in memory)
    IMPORT/EXPORT:  save current game, or load a saved game (on disk)
    HELP:           this help menu
  `)};const lw=t=>{if(disk.roomId==="rainbowroom"){const r=getRoom(t);r.isMuted=!0,ye(),println(`You muted the ${t} room`)}else println("You probably need som kind of control panel to do that.")},Vc=(t="")=>{if(disk.roomId==="rainbowroom")if(t.toLowerCase()==="play")if(disk.isPlaying)println("Already playing. If you don’t hear anything, perhaps you need to find something that can generate sounds?");else{const r=disk.rooms.filter(i=>i.isActive).filter(i=>!i.isMuted).map(i=>i.color);println("You press play."),r.length===0?println("Nothing happens."):r.length===1?println(`Music start playing from the ${r[0]} room.`):println("Sweet, weird music starts playing."),disk.isPlaying=!0,ye()}else t.toLowerCase()==="stop"&&(disk.isPlaying?(console.log("Stopping"),disk.isPlaying=!1,hush()):println("Already stopped."));else useItem(t)},hw=[{inv,i:inv,inventory:inv,look,l:look,go,n,s,e,w,ne,se,sw,nw,talk,t:talk,take,get:take,items,use,chars,characters:chars,help:cw,say,save,load,restore:load,export:exportSave,import:importSave},{go:goDir,take:takeItem,get:takeItem,use:useItem,say:sayString,save:t=>save(t),load:t=>load(t),restore:t=>load(t),x:t=>lookAt([null,t]),t:t=>talkToOrAboutX("to",t),export:exportSave,import:importSave,mute:lw,press:Vc,push:Vc},{look:lookAt,take:t=>takeItem(t.join(" ")),get:t=>takeItem(t.join(" ")),use:t=>useItem(t.join(" ")),say(t){const r=t.reduce((i,o)=>i+" "+o,"");sayString(r)},talk:t=>talkToOrAboutX(t[0],t[1]),x:t=>lookAt([null,...t])}],ia={name:["Android"],roomId:"",desc:["The android looks like something from a past future. Its domed head is not shiny or smooth as you’d expect.","The shape seems more like it’s been conjured by a blacksmith than an engineer or a machine.","Beneath the wide oval screen that seemingly functions as the android’s eyes, a small square mouth opens and shuts erratically, but does not form any coherent words.","Do androids even need mouths?"].join(`
`),topics:[{option:"What’s your **name**?",keyword:"name",line:'"Look," you say. "This feels weird. Can I call you something?"',onSelected:()=>{ia.name.push("Violet"),println("YOU CAN CALL ME VIOLET:","android")},removeOnRead:!0,prereqs:[]},{option:"",keyword:"",line:"",onSelected:()=>{},removeOnRead:!0,prereqs:["name"]}],onTalk:()=>{println("You decide you should perhaps try to communicate wth the android.")},onLook:()=>{println("Look")}},Lc={intro:["Welcome to the Rainbow Room."].join(`
`),standard:["You’re standing in the middle of an octagonal room. Seven of the walls surrounding you hold a door; each door is one of the colors of the rainbow.","From left to right, you have a **Red Door** to the south west. To the west is an **Orange Door**. Next is a **Yellow Door** to the nort west. Due north is a **Green Door**, and next to it, to the north east, is a **Blue Door**. Due east is an **Indigo Door**, and to the south east is a **Violet Door**.","The eighth wall is almost completely covered by what looks like a **control panel** from some obscure fifties’ sci-fi movie: futuristic, but in an old-fashioned way.","LEDs, meters, levers, buttons and sliders – some labeled, some not – take up most of the real estate of the panel."].join(`
`)},pw=["Red","Orange","Yellow","Green","Blue","Indigo","Violet"],mw=()=>{const t=disk.rooms.filter(r=>r.isActive).map(r=>r.color);if(t.length===0)println("None of the LEDs are lit.");else if(t.length===1)println(`The ${t[0]} LED is lit.`);else{let r="";for(let i=0;i<t.length-1;i++)r+=`${t[i]}, `;println(`The ${r.slice(0,-2)} and ${t[t.length-1]} LEDs are lit.`)}},sA=()=>{const t=disk.rooms.filter(r=>r.isMuted).map(r=>r.color);if(t.length===0)println("None of the rooms seem muted.");else if(t.length===1)println(`The ${t[0]} room is muted.`);else{let r="";for(let i=0;i<t.length-1;i++)r+=`${t[i]}, `;println(`The ${r.slice(0,-2)} and ${t[t.length-1]} rooms appear to be muted.`)}},dw=pw.map(t=>{const r=disk?disk.rooms.filter(i=>i.isMuted).map(i=>i.color):[];return{name:`${t}Switch`,desc:`A ${t} switch labeled "MUTE"`,onUse:()=>{const i=getRoom(`${t.toLowerCase()}room`);r.includes(t)?(r.splice(r.indexOf(t),1),i.isMuted=!1):(r.push(t),i.isMuted=!0),disk.isPlaying||println("Nothing happens."),ye(),sA()}}}),oA={id:"rainbowroom",img:["■■■■■■■■■","■■■■■■■■■","■■■■■■■■■"].join(`
`),name:"The Rainbow Room",desc:Lc.standard,onEnter:()=>{const t=getRoom("rainbowroom");t.img="",Hn()},onLook:()=>{oA.desc=Lc.standard},items:[...dw,{name:["control panel","panel"],desc:["It’s some kind of control panel. In the center of it there are two huge buttons. One says ’**PLAY**’, the other one ’**STOP**’.","A row of LEDs run across the top of the panel. There are seven of them. Their colors correspond to the colors of the doors.","And, coincidentally, to the colors of the rainbow.",'Underneath each LED is a switch labeled "Mute".'].join(`
`),onLook:()=>{disk.isPlaying&&println("The PLAY button is pulsating slowly."),mw(),sA()}}],exits:[{dir:["Red Door","red","r","sw"],id:"redroom",block:"The red door appears to be locked. What are they keeping from you?"},{dir:["Orange Door","orange","o","w"],id:"orangeroom",block:"Something seems to be blocking this door. But what?"},{dir:["Yellow Door","yellow","y","nw"],id:"yellowroom"},{dir:["Green Door","green","g","n"],id:"greenroom"},{dir:["Blue Door","blue","b","ne"],id:"blueroom"},{dir:["Indigo Door","indigo","i","e"],id:"indigoroom",block:"No matter how hard you pull, the door won’t budge. You can’t help but wonder what might be hidden behind it."},{dir:["Violet Door","violet","v","se"],id:"violetroom"}]},jc="Red",fw=()=>"",gw={id:"redroom",img:["■■■■ ■■■■","■■■■ ■■■■","■■■■ ■■■■"].join(`
`),name:`The ${jc} Room`,desc:"This is the red room",isActive:!1,isMuted:!1,color:jc,generateSoundString:fw,onEnter:()=>{Hn("redroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","ne","x"],id:"rainbowroom"}]},Oc="Orange",Aw=()=>"",Cw={id:"orangeroom",img:["■■■■■■■■■","■■■■ ■■■■","■■■■■■■■■"].join(`
`),name:`The ${Oc} Room`,desc:"This is the orange room",isActive:!1,isMuted:!1,color:Oc,generateSoundString:Aw,onEnter:()=>{Hn("orangeroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","e","x"],id:"rainbowroom"}]},Gc="Yellow",uA=["A","B","C","D","E","F","G"];let ko="";const yw=['sound("[triangle]").fm(1.4)','layer(x=>x.s("sawtooth").vib(4),x=>x.s("square").add(note(12)))',"lpf(800).lpq(6).dec(1.5)",'vib("8:.5").gain(.8)','djf("<.5 .25 .5 .75>")','leslie("<0 .3 1 .8>")',"velocity(sine.range(.2, .3).slow(15))","slow(2)"],Mw=["intently","with determination","slowly","carefully","whistfully"],bw=["There’s a muffled mechanical rumble from the machine, like you have awakened some ancient robotic creature.","There’s a weird, metallic rumble, then the klak-klak-klak of a ratchet winding, then a loud PLONK! and a pause.","At first nothing happens. Then you hear a hollow PA-DONK! and what sounds like rusty gears spinning."],Pw=["It tumbles down a tube, bounces off a metal pin, down another tube, then balances briefly on a tiny ledge before it proceeds downward.","It rolls down a tube, takes a sudden turn as it hits a bumper, hangs in the air for a while as if being carried by a jet of air, then continues its descent.","It slides down a tube and lands on a small moving conveyor belt where it sits for a while until it’s struck lightly by a wooden mallet. This interaction causes it to continue its descent through the bowels of the contraption."];let tr,_n,He,aA;const cA=()=>{tr=[0,1,2,3,4],_n=[],He=["-","-","-","-","-"],aA=4};cA();const zc=()=>{if(Ar&&Ar.items.length<4)for(const t of uA)Ar.items.push({name:[`Cube${t}`],desc:`A cube with the letter **${t}**`,onUse:()=>{if(_n.includes(t))println("This cube is already in the contraption.");else if(length.emptySlots===0)println("None of the slots are empty. The cube falls down the funnel, bounces off the filled slots, falls through the contraption and rolls out in the bucket again.");else{let r=aw(0,4);tr.includes(r)?(println([`You drop the cube labeled "${t}" into the funnel.`,pickOne(Pw),`It finally lands in the slot numbered ${r+1}`].join(`
`)),Ar.isActive=!0,_n.push(t),tr.splice(tr.indexOf(r),1),He[r]=t,_o(),ye(),lA()):println([`You drop the cube labeled "${t}" into the funnel.`,`It really wants to land in slot ${r+1}, but the slot is occupied and the cube falls through and lands back in the bucket.`].join(`
`))}}})},Dw=()=>ko?`${ko}.${yw.join(".")}`:"",_o=()=>{ko=He.length>0?`note("${He.map(t=>`${t}${t==="-"?"":aA}`).join(" ")}")`:""},lA=()=>{if(He.length===0)println("No slots have cubes in them.");else{const t=[];for(let r=0;r<He.length;r++)He[r]!=="-"&&t.push(`In slot number ${r+1} there is a cube with the letter ${He[r]}`);println(t.join(`
`))}},Ar={id:"yellowroom",img:["■■■■■■■■■","■■■■■■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Gc} Room`,desc:["This is the yellow room. The first thing in it that catches your attention is a weird **contraption**, smack in the middle of the room.","On the floor beneath the contraption is a **bucket** filled with what looks like wooden alphabet cubes.","Behind the contraption, an befuddling network of intertwining wooden pipes extend upward, some of them almost reaching the ceiling."].join(`
`),isActive:!1,isMuted:!1,color:Gc,generateSoundString:Dw,onEnter:()=>{Hn("yellowroom")},items:[{name:["Contraption"],desc:["Apart from all the wiring, the ornamentation and the weird details, the contraption seems fairly simple.","There are five square slots behind a glass pane.","The slots are about the same size as the alphabet cubes in the bucket at the bottom of the contraption.","On top of the contraption is a large funnel. On the side of it is a **lever**."].join(`
`)},{name:["Lever"],desc:["There’s a lever affixed to the right side of the contraption.",'It makes it look like one of those old slot machines that people used to call "One-armed bandits".'].join(`
`),onUse:()=>{if(println(`You pull the lever ${pickOne(Mw)}.`),_n.length===0)println("The contraption makes a small racket, but nothing happens.");else{let t=_n.length===1?"s":"";println([pickOne(bw),`After a moment, the slots open up and ${t?`the cube labeled ${_n[0]}`:"all the cubes"} fall${t} through, tumble${t} down a tube and land${t} in the bucket.`].join(`
`)),cA(),_o(),ye()}}},{name:["Bucket","Cubes"],desc:["There are seven wooden cubes in the bucket. On each side of each cube, a letter is painted. One letter for each of the sevens cubes: A to G.","The cubes are about the same size as the square slots in the contraption.","It appears you can use them in some way."].join(`
`),onUse:()=>{if(!He.includes("-"))println("All slots are already filled, and the cubes bounce off them and tumble down the innards of the contraption, eventually ending up back in the bucket.");else{for(println("You empty the bucket in the funnel. The cubes tumble down a tube. Some of them land in a slot, others continue through the contraption and end up back in the bucket.");He.includes("-");){const t=pickOne(uA);if(!_n.includes(t)){_n.push(t);const r=pickOne(tr);tr.splice(tr.indexOf(r),1),He[r]=t}}Ar.isActive=!0,zc(),_o(),ye(),lA()}},onLook:()=>{zc()}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","se","x"],id:"rainbowroom"}]},Wc="Green",hA=["A","B","C","D","E","F","G"];let No="";const vw=["segment(4).clip(rand.range(.4,.8))","room(.35).delay(.15)","fm(sine.range(2,6).slow(8))","lpf(sine.range(600,1200).slow(6)).lpq(3)",'rarely(ply("2")).chunk(4, fast(2))'];let ie=[],Hr=3,Kr=!1,pA,xi=0;const Ew=()=>No?`${No}.${vw.join(".")}`:"",Qi=()=>{No=ie.length>0?`note("${ie.map(t=>`${t}${Hr}`).join(" ")}")`:""},mA=()=>{if(ie.length===0)println("No buttons are depressed.");else if(ie.length===1)println(`Button ${ie[0]} is depressed.`);else{let t="";for(let r=0;r<ie.length-1;r++)t+=`${ie[r]}, `;println(`Buttons ${t.slice(0,-2)} and ${ie[ie.length-1]} are depressed.`)}},Fw=()=>{pA=setInterval(()=>{const t=[];hA.forEach(r=>{Math.random()<.2&&t.push(r)}),ie=[...t],ie.length===0&&ie.push("E"),Qi(),ye()},3e3)},ww=()=>{clearInterval(pA),Kr=!1},Bw=hA.map(t=>({name:`Button${t}`,desc:`A button with the letter ${t}`,onUse:()=>{ie.includes(t)?ie.splice(ie.indexOf(t),1):ie.push(t),disk.isPlaying||println("Nothing happens."),ts.isActive=!0,Qi(),ye(),mA()}})),ts={id:"greenroom",img:["■■■■■■■■■","■■■■ ■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Wc} Room`,desc:["This is a very green room. You can’t really see the walls – they’re all covered in leaves and vines.","It’s incredibly humid in here.","In the far corner of the room, some kind of ancient stone machinery is withering away, halv covered in vegetation.","You can see **buttons** on it, and something that looks like a **lever**.","There is a **cage** on the floor."].join(`
`),isActive:!1,isMuted:!1,color:Wc,generateSoundString:Ew,onEnter:()=>{Hn("greenroom")},items:[...Bw,{name:"Buttons",desc:"There are seven buttons. Above each, a letter is chiseled. It’s the first seven letters of the alphabet.",onUse:()=>{println("You can’t use all the buttons at once. Try using one of the buttons instead. For example **ButtonA**.")},onLook:()=>{Kr?println("A very happy lizard is skipping across the buttons, engaging and disengaging them in a seemingly random pattern."):mA()}},{name:"Lever",desc:'The lever has two positions, marked "2" and "3".',onLook:()=>{println(`It’s currently in the "${Hr}" position.`)},onUse:()=>{Hr=Hr===2?3:2,println(`The lever is now in the "${Hr}" position.`),disk.isPlaying?println("This seems to have changed the octave of the notes playing. Sweet!"):println("Nothing happens."),Qi(),ye()}},{name:"Cage",desc:"There’s a small golden cage on the floor",onLook:()=>{Kr?println("The cage is empty."):println(["From inside, a lizard peers curiously at you.","The lizard is not huge, but way too big for the small cage.","The cage has a door, and it seems to be bolted, not locked."].join(`
`))},onTake:()=>{println("The cage is fastened to the stone floor with huge clasps. You won’t be able to move it. Perhaps you can use it some other way?")},onUse:()=>{xi===0?(println("Do you really want to open the cage door? The lizard will get out."),xi++):xi===1?(println("I mean, it’s your choice, and the lizard does seem pretty friendly. Are you absolutely sure?"),xi++):(println(["You wiggled the bolt a bit, and after a few tries you manage to slide it open.","You open the cage door and the lizard immediately slips out.","After looking around the room, it heads for the stone machine and starts walking proudly across the buttons."].join(`
`)),Fw(),Kr=!0,ts.isActive=!0,ts.items.push({name:"Lizard",desc:"A green lizard.",isTakeable:!0,onTake:()=>{println(["After a few attempts, and to your big surprise, you manage to catch the lizard.","The lizard looks equally surprised.","You put it in your bag."].join(`
`)),Kr=!1,ww(),Qi(),ie.length>0&&ye()},onUse:()=>{switch(disk.roomId){case"blueroom":const t=getRoom("blueroom");console.log(t),println("You put the lizard in the wheel, and it starts running immediately."),t.enableWheelTurn();const r=disk.inventory.map(i=>i.name).indexOf("Lizard");disk.inventory.splice(r,1),t.items.push({name:"Lizard",desc:"The lizard from the Green Room is now powering your jumping fountain bass machine.",isTakeable:!1,onTake:()=>{println("The lizard snaps at you with its strange beak. It does not seem willing to stop running in this wheel.")}});break;default:println("You can’t use the lizard here.")}}}))}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","s","x"],id:"rainbowroom"}]},qc="Blue",Iw=["A","B","C","D","E","F","G"];let es="";const xw=['slow(2).sound("sine")',"vib(sine.segment(16).range(0.01,0.5).range(0.1,1))","fm(3).gain(0.2).room(0.5)"];let Sw=1,Jt=[],ri=!1;const kw=()=>es?`${es}.${xw.join(".")}`:"",dA=()=>{es=Jt.length>0?`note("${Jt.map(t=>`${t}${Sw}`).join(" ")}")`:""},_w=()=>{if(Jt.length===0)println("No valves are open.");else if(Jt.length===1)println(`Valve ${Jt[0]} is open.`),ri?println(`A single stream of water shoots out of the nozzle labeled ${Jt[0]} and flies across the room. When it lands, a single bass note is played.`):println([`A single stream of water shoots out of the nozzle labeled ${Jt[0]} and lands with a splash on the floor halfway across the room.`,"Perhaps the water pressure is not enough?"].join(`
`));else{let t="";for(let r=0;r<Jt.length-1;r++)t+=`${Jt[r]}, `;println(`Valves ${t.slice(0,-2)} and ${Jt[Jt.length-1]} are open.`),ri?println("Streams of water shoot out of the nozzles and fly across the room. As each land, a single bass note is played."):println(["Streams of water shoot out of the nozzles and land with a splash on the floor halfway across the room.","Perhaps the water pressure is not enough?"].join(`
`))}},Xc=()=>{console.log("Enabling wheel turn"),ri=!0,xs.isActive=!0,dA(),ye()},Nw=()=>{console.log("Disabling wheel turn"),println(["As the wheel slows, the water pressure goes down again.","The earth-shattering bass that moments ago filled the room dies down and dissipates as if absorbed by the cracks in the floor.","You would have to turn this wheel indefinately to get a bass line going.","Or get someone to do it for you."].join(`
`)),ri=!1,es="note()",ye(),xs.isActive=!1},Tw=Iw.map(t=>({name:`Valve${t}`,desc:`A valve labeled "${t}"`,onUse:()=>{if(Jt.includes(t)?Jt.splice(Jt.indexOf(t),1):Jt.push(t),!disk.isPlaying){println("Nothing happens.");return}ri&&(xs.isActive=!0,dA(),ye()),_w()}})),xs={id:"blueroom",img:["■■■■ ■■■■","■■■■■■■■■","■■■■■■■■■"].join(`
`),name:`The ${qc} Room`,desc:["The room is dark. The only light – blue, pulsating – emanates from the translucent pipes running up and down the walls.","The pipes seem to converge in a row of seven nozzles, pointed at a slightly upwards angle.","Above the nozzles are seven **valves**, labeled A to G."].join(`
`),isActive:!1,isMuted:!1,color:qc,generateSoundString:kw,enableWheelTurn:Xc,onEnter:()=>{Hn("blueroom")},items:[...Tw,{name:"valves",onUse:()=>{println("You can’t use all the valves at the same time. Try to use **valveb** for example.")}},{name:["wheel"],desc:"",onUse:()=>{Jt.length===0?println("The water presssure rises, but nothing happens"):Jt.length===1?println([`The water pressure rises. A single jet of water shoots out from the nozzle labeled ${Jt[0]}, fly across the room and lan in its corresponding receptacle.`,"As it lands, a profound bass note shakes the room."].join(`
`)):println(["The water pressure rises. Water shoots out from the nozzles with open valves, fly across the room and lan in their respective receptacle.","As each jet of water lands, a profound bass note shakes the room."].join(`
`)),Xc(),setTimeout(Nw,5e3)}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","sw","x"],id:"rainbowroom"}]},Zc="Indigo",Rw=()=>"",Vw={id:"indigoroom",img:["■■■■ ■■■■","■■■■■■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Zc} Room`,desc:"This is the indigo room",isActive:!1,isMuted:!1,color:Zc,generateSoundString:Rw,onEnter:()=>{Hn("indigoroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","w","x"],id:"rainbowroom"}]},Hc="Violet";let Kc=!1;const Lw=()=>"",To={id:"violetroom",img:["■■■■ ■■■■","■■■■■■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Hc} Room`,desc:["You’re standing in the violet room. It’s completely bare, except for what looks like an undressed **mannequin** slumped against the back wall.",...disk&&disk.visitedRooms.filter(t=>!1).length>1?["This room seems deeper, longer than the others you visited, but the ceiling is much lower.","The silence in here is imposing, it’s almost as if the room is holding its breath.","As you start moving through the room, you notice that you’re unconsciously tiptoeing.","You approach the mannequin with trepidation, slowly as to not disturb the oppressive tranquility."]:["You don’t know how the other rooms look, but you hope they’re nothing like this one.","The ceiling seems too low compared to the length of the room, and there’s something almost imposing about the silence in here – it’s as if the room is holding its breath.","You approach the mannequin with trepidation, tiptoeing slowly as to not disturb the oppressive tranquility."],"When you’re a few feet away from the mannequin, you feel something... a presence?","No, your mind is just playing tricks on you. But still... you want to get out of this room."].join(`
`),isActive:!1,isMuted:!1,color:Hc,generateSoundString:Lw,onEnter:()=>{Hn("violetroom")},onLook:()=>{To.desc="";const t=["The violet room is long and bare. The ceiling seems too low, and it’s making you hunch forward unconsciously."];Kc?t.push("There’s an android here, staring at you. It’s creeping you out."):t.push("There’s a mannequin here, slumped against the wall. It’s creeping you out."),println(t.join(`
`))},items:[{name:"Mannequin",desc:["You lean forward to examine the mannequin. As you reach out to touch it, it startles to life with an actuator scream.","Holy fuck, this is not a mannequin. This is a real life android."].join(`
`),onLook:()=>{const t=disk.inventory.map(r=>r.name).indexOf("Mannequin");To.items.splice(t,1),Kc=!0,ia.roomId="violetroom"}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","nw","x"],id:"rainbowroom"}]};commands=hw;iA();const jw=()=>({roomId:"rainbowroom",cpm:60,isPlaying:!1,inventory:[],visitedRooms:[],rooms:[oA,gw,Cw,Ar,ts,xs,Vw,To],characters:[ia]});loadDisk(jw);document.body.className="";{document.body.className="modal";const t=document.createElement("div");t.id="modal-wrapper";const r=document.createElement("div"),i=document.createElement("button");r.innerHTML=`
<h3>Welcome to the Rainbow Room BETA</h3>
<p>This is an experiment in generative, semi-random sequencing – hidden inside an Interactive Fiction story.</p>
<p>If this is your first time, you might want to type HELP to see the commands that are available to you.</p>
<p>BEWARE - This is a work in progress and very much still in beta!</p>`,i.innerHTML="Ok, let’s go!",document.body.appendChild(t),t.appendChild(r),r.appendChild(i);const o=()=>{t.remove(),document.body.className=""};t.addEventListener("click",o),i.addEventListener("click",o)}
