(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(o){if(o.ep)return;o.ep=!0;const a=i(o);fetch(o.href,a)}})();/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var d2=2e3,it={s:1,n:0,d:1};function dn(t,r){if(isNaN(t=parseInt(t,10)))throw xi();return t*r}function zt(t,r){if(r===0)throw Nu();var i=Object.create(St.prototype);i.s=t<0?-1:1,t=t<0?-t:t;var u=pr(t,r);return i.n=t/u,i.d=r/u,i}function Ca(t){for(var r={},i=t,u=2,o=4;o<=i;){for(;i%u===0;)i/=u,r[u]=(r[u]||0)+1;o+=1+2*u++}return i!==t?i>1&&(r[i]=(r[i]||0)+1):r[t]=(r[t]||0)+1,r}var be=function(t,r){var i=0,u=1,o=1,a=0,c=0,l=0,p=1,d=1,f=0,g=1,A=1,P=1,E=1e7,F;if(t!=null)if(r!==void 0){if(i=t,u=r,o=i*u,i%1!==0||u%1!==0)throw C2()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)i=t.n,u=t.d,"s"in t&&(i*=t.s);else if(0 in t)i=t[0],1 in t&&(u=t[1]);else throw xi();o=i*u;break}case"number":{if(t<0&&(o=t,t=-t),t%1===0)i=t;else if(t>0){for(t>=1&&(d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=d);g<=E&&P<=E;)if(F=(f+A)/(g+P),t===F){g+P<=E?(i=f+A,u=g+P):P>g?(i=A,u=P):(i=f,u=g);break}else t>F?(f+=A,g+=P):(A+=f,P+=g),g>E?(i=A,u=P):(i=f,u=g);i*=d}else(isNaN(t)||isNaN(r))&&(u=i=NaN);break}case"string":{if(g=t.match(/\d+|./g),g===null)throw xi();if(g[f]==="-"?(o=-1,f++):g[f]==="+"&&f++,g.length===f+1?c=dn(g[f++],o):g[f+1]==="."||g[f]==="."?(g[f]!=="."&&(a=dn(g[f++],o)),f++,(f+1===g.length||g[f+1]==="("&&g[f+3]===")"||g[f+1]==="'"&&g[f+3]==="'")&&(c=dn(g[f],o),p=Math.pow(10,g[f].length),f++),(g[f]==="("&&g[f+2]===")"||g[f]==="'"&&g[f+2]==="'")&&(l=dn(g[f+1],o),d=Math.pow(10,g[f+1].length)-1,f+=3)):g[f+1]==="/"||g[f+1]===":"?(c=dn(g[f],o),p=dn(g[f+2],1),f+=3):g[f+3]==="/"&&g[f+1]===" "&&(a=dn(g[f],o),c=dn(g[f+2],o),p=dn(g[f+4],1),f+=5),g.length<=f){u=p*d,o=i=l+u*a+d*c;break}}default:throw xi()}if(u===0)throw Nu();it.s=o<0?-1:1,it.n=Math.abs(i),it.d=Math.abs(u)};function f2(t,r,i){for(var u=1;r>0;t=t*t%i,r>>=1)r&1&&(u=u*t%i);return u}function g2(t,r){for(;r%2===0;r/=2);for(;r%5===0;r/=5);if(r===1)return 0;for(var i=10%r,u=1;i!==1;u++)if(i=i*10%r,u>d2)return 0;return u}function A2(t,r,i){for(var u=1,o=f2(10,i,r),a=0;a<300;a++){if(u===o)return a;u=u*10%r,o=o*10%r}return 0}function pr(t,r){if(!t)return r;if(!r)return t;for(;;){if(t%=r,!t)return r;if(r%=t,!r)return t}}function St(t,r){if(be(t,r),this instanceof St)t=pr(it.d,it.n),this.s=it.s,this.n=it.n/t,this.d=it.d/t;else return zt(it.s*it.n,it.d)}var Nu=function(){return new Error("Division by Zero")},xi=function(){return new Error("Invalid argument")},C2=function(){return new Error("Parameters must be integer")};St.prototype={s:1,n:0,d:1,abs:function(){return zt(this.n,this.d)},neg:function(){return zt(-this.s*this.n,this.d)},add:function(t,r){return be(t,r),zt(this.s*this.n*it.d+it.s*this.d*it.n,this.d*it.d)},sub:function(t,r){return be(t,r),zt(this.s*this.n*it.d-it.s*this.d*it.n,this.d*it.d)},mul:function(t,r){return be(t,r),zt(this.s*it.s*this.n*it.n,this.d*it.d)},div:function(t,r){return be(t,r),zt(this.s*it.s*this.n*it.d,this.d*it.n)},clone:function(){return zt(this.s*this.n,this.d)},mod:function(t,r){if(isNaN(this.n)||isNaN(this.d))return new St(NaN);if(t===void 0)return zt(this.s*this.n%this.d,1);if(be(t,r),it.n===0&&this.d===0)throw Nu();return zt(this.s*(it.d*this.n)%(it.n*this.d),it.d*this.d)},gcd:function(t,r){return be(t,r),zt(pr(it.n,this.n)*pr(it.d,this.d),it.d*this.d)},lcm:function(t,r){return be(t,r),it.n===0&&this.n===0?zt(0,1):zt(it.n*this.n,pr(it.n,this.n)*pr(it.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new St(NaN):zt(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new St(NaN):zt(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new St(NaN):zt(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,r){return be(t,r),zt(this.s*Math.round(this.n*it.d/(this.d*it.n))*it.n,it.d)},inverse:function(){return zt(this.s*this.d,this.n)},pow:function(t,r){if(be(t,r),it.d===1)return it.s<0?zt(Math.pow(this.s*this.d,it.n),Math.pow(this.n,it.n)):zt(Math.pow(this.s*this.n,it.n),Math.pow(this.d,it.n));if(this.s<0)return null;var i=Ca(this.n),u=Ca(this.d),o=1,a=1;for(var c in i)if(c!=="1"){if(c==="0"){o=0;break}if(i[c]*=it.n,i[c]%it.d===0)i[c]/=it.d;else return null;o*=Math.pow(c,i[c])}for(var c in u)if(c!=="1"){if(u[c]*=it.n,u[c]%it.d===0)u[c]/=it.d;else return null;a*=Math.pow(c,u[c])}return it.s<0?zt(a,o):zt(o,a)},equals:function(t,r){return be(t,r),this.s*this.n*it.d===it.s*it.n*this.d},compare:function(t,r){be(t,r);var i=this.s*this.n*it.d-it.s*it.n*this.d;return(0<i)-(i<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var r=this.abs(),i=r.toContinued(),u=1;u<i.length;u++){for(var o=zt(i[u-1],1),a=u-2;a>=0;a--)o=o.inverse().add(i[a]);if(Math.abs(o.sub(r).valueOf())<t)return o.mul(this.s)}return this},divisible:function(t,r){return be(t,r),!(!(it.n*this.d)||this.n*it.d%(it.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,i="",u=this.n,o=this.d;return this.s<0&&(i+="-"),o===1?i+=u:(t&&(r=Math.floor(u/o))>0&&(i+=r,i+=" ",u%=o),i+=u,i+="/",i+=o),i},toLatex:function(t){var r,i="",u=this.n,o=this.d;return this.s<0&&(i+="-"),o===1?i+=u:(t&&(r=Math.floor(u/o))>0&&(i+=r,u%=o),i+="\\frac{",i+=u,i+="}{",i+=o,i+="}"),i},toContinued:function(){var t,r=this.n,i=this.d,u=[];if(isNaN(r)||isNaN(i))return u;do u.push(Math.floor(r/i)),t=r%i,r=i,i=t;while(r!==1);return u},toString:function(t){var r=this.n,i=this.d;if(isNaN(r)||isNaN(i))return"NaN";t=t||15;var u=g2(r,i),o=A2(r,i,u),a=this.s<0?"-":"";if(a+=r/i|0,r%=i,r*=10,r&&(a+="."),u){for(var c=o;c--;)a+=r/i|0,r%=i,r*=10;a+="(";for(var c=u;c--;)a+=r/i|0,r%=i,r*=10;a+=")"}else for(var c=t;r&&c--;)a+=r/i|0,r%=i,r*=10;return a}};const Tu="strudel.log";let y2=1e3,ya,Ma;function Yt(t,r,i={}){let u=performance.now();ya===t&&u-Ma<y2||(ya=t,Ma=u,console.log(`%c${t}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(Tu,{detail:{message:t,type:r,data:i}})))}Yt.key=Tu;const M2=t=>/^[a-gA-G][#bs]*[0-9]$/.test(t),nr=t=>/^[a-gA-G][#bsf]*[0-9]?$/.test(t),Uc=t=>{if(typeof t!="string")return[];const[r,i="",u]=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return r?[r,i,u?Number(u):void 0]:[]},b2={c:0,d:2,e:4,f:5,g:7,a:9,b:11},P2={"#":1,b:-1,s:1,f:-1},zn=(t,r=3)=>{const[i,u,o=r]=Uc(t);if(!i)throw new Error('not a note: "'+t+'"');const a=b2[i.toLowerCase()],c=u?.split("").reduce((l,p)=>l+P2[p],0)||0;return(Number(o)+1)*12+a+c},yr=t=>Math.pow(2,(t-69)/12)*440,Ru=t=>12*Math.log(t/440)/Math.LN2+69,D2=(t,r)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:i,note:u}=t;if(typeof i=="number")return Ru(i);if(typeof u=="string")return zn(u);if(typeof u=="number")return u;if(!r)throw new Error("valueToMidi: expected freq or note to be set");return r},v2=(t,r)=>(t-r)*1e3,$c=t=>yr(typeof t=="number"?t:zn(t)),E2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],F2=t=>{const r=Math.floor(t/12)-1;return E2[t%12]+r},Te=(t,r)=>(t%r+r)%r;function Jc(t,r=0){return isNaN(Number(t))?(Yt(`"${t}" is not a number, falling back to ${r}`,"warning"),r):t}const w2=(t,r)=>Te(Math.round(Jc(t??0,0)),r),B2=t=>{let{value:r,context:i}=t,u=r;if(typeof u=="object"&&!Array.isArray(u)&&(u=u.note||u.n||u.value,u===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(r)}`);if(typeof u=="number"&&i.type!=="frequency")u=yr(t.value);else if(typeof u=="number"&&i.type==="frequency")u=t.value;else if(typeof u!="string"||!nr(u))throw new Error("not a note: "+JSON.stringify(u));return u},Qc=t=>{let{value:r,context:i}=t;if(typeof r=="object")return r.freq?r.freq:$c(r.note||r.n||r.value);if(typeof r=="number"&&i.type!=="frequency")r=yr(t.value);else if(typeof r=="string"&&nr(r))r=yr(zn(t.value));else if(typeof r!="number")throw new Error("not a note or frequency: "+r);return r},tl=(t,r)=>t.slice(r).concat(t.slice(0,r)),el=(...t)=>t.reduce((r,i)=>(...u)=>r(i(...u)),r=>r),I2=(...t)=>el(...t.reverse()),Er=t=>t.filter(r=>r!=null),Cn=t=>[].concat(...t),mr=t=>t,x2=(t,r)=>t,Vu=(t,r)=>Array.from({length:r-t+1},(i,u)=>u+t);function Ft(t,r,i=t.length){const u=function o(...a){if(a.length>=i)return t.apply(this,a);{const c=function(...l){return o.apply(this,a.concat(l))};return r&&r(c,a),c}};return r&&r(u,[]),u}function Lu(t){const r=Number(t);if(!isNaN(r))return r;if(nr(t))return zn(t);throw new Error(`cannot parse as numeral: "${t}"`)}function ju(t,r){return(...i)=>t(...i.map(r))}function Se(t){return ju(t,Lu)}function nl(t){const r=Number(t);if(!isNaN(r))return r;const i={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[t];if(typeof i<"u")return i;throw new Error(`cannot parse as fractional: "${t}"`)}const S2=t=>ju(t,nl),Ou=function(t,r){return[r.slice(0,t),r.slice(t)]},Gu=(t,r,i)=>r.map((u,o)=>t(u,i[o])),rl=function(t){const r=[];for(let i=0;i<t.length-1;++i)r.push([t[i],t[i+1]]);return r},zu=(t,r,i)=>Math.min(Math.max(t,r),i),_2=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],k2=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],N2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],T2=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],R2=["I","Ro","Ha","Ni","Ho","He","To"],V2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],L2=(t,r="letters")=>{const i=(r==="solfeggio"?_2:r==="indian"?k2:r==="german"?N2:r==="byzantine"?T2:r==="japanese"?R2:V2)[t%12],u=Math.floor(t/12)-1;return i+u};function j2(t){var r={};return t.filter(function(i){return r.hasOwn(i)?!1:r[i]=!0})}function O2(t){return t.sort().filter(function(r,i,u){return!i||r!=u[i-1]})}function il(t){return t.sort((r,i)=>r.compare(i)).filter(function(r,i,u){return!i||r.ne(u[i-1])})}function sl(t){const r=new TextEncoder().encode(t);return btoa(String.fromCharCode(...r))}function ul(t){const r=new Uint8Array(atob(t).split("").map(i=>i.charCodeAt(0)));return new TextDecoder().decode(r)}function G2(t){return encodeURIComponent(sl(t))}function z2(t){return ul(decodeURIComponent(t))}function ol(t,r){return Array.isArray(t)?t.map(r):Object.fromEntries(Object.entries(t).map(([i,u],o)=>[i,r(u,i,o)]))}St.prototype.sam=function(){return this.floor()};St.prototype.nextSam=function(){return this.sam().add(1)};St.prototype.wholeCycle=function(){return new Ze(this.sam(),this.nextSam())};St.prototype.cyclePos=function(){return this.sub(this.sam())};St.prototype.lt=function(t){return this.compare(t)<0};St.prototype.gt=function(t){return this.compare(t)>0};St.prototype.lte=function(t){return this.compare(t)<=0};St.prototype.gte=function(t){return this.compare(t)>=0};St.prototype.eq=function(t){return this.compare(t)==0};St.prototype.ne=function(t){return this.compare(t)!=0};St.prototype.max=function(t){return this.gt(t)?this:t};St.prototype.maximum=function(...t){return t=t.map(r=>new St(r)),t.reduce((r,i)=>i.max(r),this)};St.prototype.min=function(t){return this.lt(t)?this:t};St.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};St.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};St.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};St.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};St.prototype.show=function(){return this.s*this.n+"/"+this.d};St.prototype.or=function(t){return this.eq(0)?t:this};const tt=t=>St(t),W2=(...t)=>{if(t=Er(t),t.length!==0)return t.reduce((r,i)=>r.gcd(i),tt(1))},ri=(...t)=>{if(t=Er(t),t.length!==0)return t.reduce((r,i)=>r===void 0||i===void 0?void 0:r.lcm(i),tt(1))};tt._original=St;let Ze=class An{constructor(r,i){this.begin=tt(r),this.end=tt(i)}get spanCycles(){const r=[];var i=this.begin;const u=this.end,o=u.sam();if(i.equals(u))return[new An(i,u)];for(;u.gt(i);){if(i.sam().equals(o)){r.push(new An(i,this.end));break}const a=i.nextSam();r.push(new An(i,a)),i=a}return r}get duration(){return this.end.sub(this.begin)}cycleArc(){const r=this.begin.cyclePos(),i=r.add(this.duration);return new An(r,i)}withTime(r){return new An(r(this.begin),r(this.end))}withEnd(r){return new An(this.begin,r(this.end))}withCycle(r){const i=this.begin.sam(),u=i.add(r(this.begin.sub(i))),o=i.add(r(this.end.sub(i)));return new An(u,o)}intersection(r){const i=this.begin.max(r.begin),u=this.end.min(r.end);if(!i.gt(u)&&!(i.equals(u)&&(i.equals(this.end)&&this.begin.lt(this.end)||i.equals(r.end)&&r.begin.lt(r.end))))return new An(i,u)}intersection_e(r){const i=this.intersection(r);if(i==null)throw"TimeSpans do not intersect";return i}midpoint(){return this.begin.add(this.duration.div(tt(2)))}equals(r){return this.begin.equals(r.begin)&&this.end.equals(r.end)}show(){return this.begin.show()+" → "+this.end.show()}},oe=class Wr{constructor(r,i,u,o={},a=!1){this.whole=r,this.part=i,this.value=u,this.context=o,this.stateful=a,a&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){let r;return typeof this.value?.duration=="number"?r=tt(this.value.duration):r=this.whole.end.sub(this.whole.begin),typeof this.value?.clip=="number"?r.mul(this.value.clip):r}get endClipped(){return this.whole.begin.add(this.duration)}isActive(r){return this.whole.begin<=r&&this.endClipped>=r}isInPast(r){return r>this.endClipped}isInNearPast(r,i){return i-r<=this.endClipped}isInFuture(r){return r<this.whole.begin}isInNearFuture(r,i){return i<this.whole.begin&&i>this.whole.begin-r}isWithinTime(r,i){return this.whole.begin<=i&&this.endClipped>=r}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(r){const i=this.whole?r(this.whole):void 0;return new Wr(i,r(this.part),this.value,this.context)}withValue(r){return new Wr(this.whole,this.part,r(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(r){return this.context.tags?.includes(r)}resolveState(r){if(this.stateful&&this.hasOnset()){console.log("stateful");const i=this.value,[u,o]=i(r);return[u,new Wr(this.whole,this.part,o,this.context,!1)]}return[r,this]}spanEquals(r){return this.whole==null&&r.whole==null||this.whole.equals(r.whole)}equals(r){return this.spanEquals(r)&&this.part.equals(r.part)&&this.value===r.value}show(r=!1){const i=typeof this.value=="object"?r?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var u="";if(this.whole==null)u="~"+this.part.show;else{var o=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(u=this.whole.begin.show()+" ⇜ "),o||(u+="("),u+=this.part.show(),o||(u+=")"),this.whole.end.equals(this.part.end)||(u+=" ⇝ "+this.whole.end.show())}return"[ "+u+" | "+i+" ]"}showWhole(r=!1){return`${this.whole==null?"~":this.whole.show()}: ${typeof this.value=="object"?r?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value}`}combineContext(r){const i=this;return{...i.context,...r.context,locations:(i.context.locations||[]).concat(r.context.locations||[])}}setContext(r){return new Wr(this.whole,this.part,this.value,r)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}},uu=class ou{constructor(r,i={}){this.span=r,this.controls=i}setSpan(r){return new ou(r,this.controls)}withSpan(r){return this.setSpan(r(this.span))}setControls(r){return new ou(this.span,r)}};function q2(t,r,i){if(r?.value!==void 0&&Object.keys(r).length===1)return Yt("[warn]: Can't do arithmetic on control pattern."),t;const u=Object.keys(t).filter(o=>Object.keys(r).includes(o));return Object.assign({},t,r,Object.fromEntries(u.map(o=>[o,i(t[o],r[o])])))}Ft((t,r)=>t*r);Ft((t,r)=>r.map(t));function al(t,r=60){let i=0,u=tt(0),o=[""],a="";for(;o[0].length<r;){const c=t.queryArc(i,i+1),l=c.filter(f=>f.hasOnset()).map(f=>f.duration),p=W2(...l),d=p.inverse();o=o.map(f=>f+"|"),a+="|";for(let f=0;f<d;f++){const[g,A]=[u,u.add(p)],P=c.filter(F=>F.whole.begin.lte(g)&&F.whole.end.gte(A)),E=P.length-o.length;E>0&&(o=o.concat(Array(E).fill(a))),o=o.map((F,S)=>{const N=P[S];if(N){const L=N.whole.begin.eq(g)?""+N.value:"-";return F+L}return F+"."}),a+=".",u=u.add(p)}i++}return o.join(`
`)}let au,Ye=!0;const X2=function(t){Ye=!!t},cl=t=>au=t;let ot=class re{constructor(r,i=void 0){this.query=r,this._Pattern=!0,this.tactus=i}get tactus(){return this.__tactus}set tactus(r){this.__tactus=r===void 0?void 0:tt(r)}setTactus(r){return this.tactus=r,this}withTactus(r){return Ye?new re(this.query,this.tactus===void 0?void 0:r(this.tactus)):this}get hasTactus(){return this.tactus!==void 0}withValue(r){const i=new re(u=>this.query(u).map(o=>o.withValue(r)));return i.tactus=this.tactus,i}fmap(r){return this.withValue(r)}appWhole(r,i){const u=this,o=function(a){const c=u.query(a),l=i.query(a),p=function(d,f){const g=d.part.intersection(f.part);if(g!=null)return new oe(r(d.whole,f.whole),g,d.value(f.value),f.combineContext(d))};return Cn(c.map(d=>Er(l.map(f=>p(d,f)))))};return new re(o)}appBoth(r){const i=this,u=function(a,c){if(!(a==null||c==null))return a.intersection_e(c)},o=i.appWhole(u,r);return Ye&&(o.tactus=ri(r.tactus,i.tactus)),o}appLeft(r){const i=this,u=function(a){const c=[];for(const l of i.query(a)){const p=r.query(a.setSpan(l.wholeOrPart()));for(const d of p){const f=l.whole,g=l.part.intersection(d.part);if(g){const A=l.value(d.value),P=d.combineContext(l),E=new oe(f,g,A,P);c.push(E)}}}return c},o=new re(u);return o.tactus=this.tactus,o}appRight(r){const i=this,u=function(a){const c=[];for(const l of r.query(a)){const p=i.query(a.setSpan(l.wholeOrPart()));for(const d of p){const f=l.whole,g=d.part.intersection(l.part);if(g){const A=d.value(l.value),P=l.combineContext(d),E=new oe(f,g,A,P);c.push(E)}}}return c},o=new re(u);return o.tactus=r.tactus,o}bindWhole(r,i){const u=this,o=function(a){const c=function(p,d){return new oe(r(p.whole,d.whole),d.part,d.value,Object.assign({},p.context,d.context,{locations:(p.context.locations||[]).concat(d.context.locations||[])}))},l=function(p){return i(p.value).query(a.setSpan(p.part)).map(d=>c(p,d))};return Cn(u.query(a).map(p=>l(p)))};return new re(o)}bind(r){const i=function(u,o){if(!(u==null||o==null))return u.intersection_e(o)};return this.bindWhole(i,r)}join(){return this.bind(mr)}outerBind(r){return this.bindWhole(i=>i,r).setTactus(this.tactus)}outerJoin(){return this.outerBind(mr)}innerBind(r){return this.bindWhole((i,u)=>u,r)}innerJoin(){return this.innerBind(mr)}resetJoin(r=!1){const i=this;return new re(u=>i.discreteOnly().query(u).map(o=>o.value.late(r?o.whole.begin:o.whole.begin.cyclePos()).query(u).map(a=>new oe(a.whole?a.whole.intersection(o.whole):void 0,a.part.intersection(o.part),a.value).setContext(o.combineContext(a))).filter(a=>a.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const r=this;function i(u){const o=r.discreteOnly().query(u);function a(c){const l=c.value._focusSpan(c.wholeOrPart()).query(u.setSpan(c.part));function p(d,f){let g;if(f.whole&&d.whole&&(g=f.whole.intersection(d.whole),!g))return;const A=f.part.intersection(d.part);if(!A)return;const P=f.combineContext(d);return new oe(g,A,f.value,P)}return l.map(d=>p(c,d))}return Cn(o.map(a)).filter(c=>c)}return new re(i)}squeezeBind(r){return this.fmap(r).squeezeJoin()}queryArc(r,i,u={}){try{return this.query(new uu(new Ze(r,i),u))}catch(o){return Yt(`[query]: ${o.message}`,"error"),[]}}splitQueries(){const r=this,i=u=>Cn(u.span.spanCycles.map(o=>r.query(u.setSpan(o))));return new re(i)}withQuerySpan(r){return new re(i=>this.query(i.withSpan(r)))}withQuerySpanMaybe(r){const i=this;return new re(u=>{const o=u.withSpan(r);return o.span?i.query(o):[]})}withQueryTime(r){return new re(i=>this.query(i.withSpan(u=>u.withTime(r))))}withHapSpan(r){return new re(i=>this.query(i).map(u=>u.withSpan(r)))}withHapTime(r){return this.withHapSpan(i=>i.withTime(r))}withHaps(r){const i=new re(u=>r(this.query(u),u));return i.tactus=this.tactus,i}withHap(r){return this.withHaps(i=>i.map(r))}setContext(r){return this.withHap(i=>i.setContext(r))}withContext(r){const i=this.withHap(u=>u.setContext(r(u.context)));return this.__pure!==void 0&&(i.__pure=this.__pure,i.__pure_loc=this.__pure_loc),i}stripContext(){return this.withHap(r=>r.setContext({}))}withLoc(r,i){const u={start:r,end:i},o=this.withContext(a=>{const c=(a.locations||[]).concat([u]);return{...a,locations:c}});return this.__pure&&(o.__pure=this.__pure,o.__pure_loc=u),o}filterHaps(r){return new re(i=>this.query(i).filter(r))}filterValues(r){return new re(i=>this.query(i).filter(u=>r(u.value))).setTactus(this.tactus)}removeUndefineds(){return this.filterValues(r=>r!=null)}onsetsOnly(){return this.filterHaps(r=>r.hasOnset())}discreteOnly(){return this.filterHaps(r=>r.whole)}defragmentHaps(){return this.discreteOnly().withHaps(r=>{const i=[];for(var u=0;u<r.length;++u){for(var o=!0,a=r[u];o;){const p=JSON.stringify(r[u].value);for(var c=!1,l=u+1;l<r.length;l++){const d=r[l];if(a.whole.equals(d.whole)){if(a.part.begin.eq(d.part.end)){if(p===JSON.stringify(d.value)){a=new oe(a.whole,new Ze(d.part.begin,a.part.end),a.value),r.splice(l,1),c=!0;break}}else if(d.part.begin.eq(a.part.end)&&p==JSON.stringify(d.value)){a=new oe(a.whole,new Ze(a.part.begin,d.part.end),a.value),r.splice(l,1),c=!0;break}}}o=c}i.push(a)}return i})}firstCycle(r=!1){var i=this;return r||(i=i.stripContext()),i.query(new uu(new Ze(tt(0),tt(1))))}get firstCycleValues(){return this.firstCycle().map(r=>r.value)}get showFirstCycle(){return this.firstCycle().map(r=>`${r.value}: ${r.whole.begin.toFraction()} - ${r.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(r=>r.sort((i,u)=>i.part.begin.sub(u.part.begin).or(i.part.end.sub(u.part.end)).or(i.whole.begin.sub(u.whole.begin).or(i.whole.end.sub(u.whole.end)))))}asNumber(){return this.fmap(Lu)}_opIn(r,i){return this.fmap(i).appLeft(nt(r))}_opOut(r,i){return this.fmap(i).appRight(nt(r))}_opMix(r,i){return this.fmap(i).appBoth(nt(r))}_opSqueeze(r,i){const u=nt(r);return this.fmap(o=>u.fmap(a=>i(o)(a))).squeezeJoin()}_opSqueezeOut(r,i){const u=this;return nt(r).fmap(o=>u.fmap(a=>i(a)(o))).squeezeJoin()}_opReset(r,i){return nt(r).fmap(u=>this.fmap(o=>i(o)(u))).resetJoin()}_opRestart(r,i){return nt(r).fmap(u=>this.fmap(o=>i(o)(u))).restartJoin()}layer(...r){return qt(...r.map(i=>i(this)))}superimpose(...r){return this.stack(...r.map(i=>i(this)))}stack(...r){return qt(this,...r)}sequence(...r){return Re(this,...r)}seq(...r){return Re(this,...r)}cat(...r){return ml(this,...r)}fastcat(...r){return Le(this,...r)}slowcat(...r){return rr(this,...r)}onTrigger(r,i=!0){return this.withHap(u=>u.setContext({...u.context,onTrigger:(...o)=>{u.context.onTrigger?.(...o),r(...o)},dominantTrigger:u.context.dominantTrigger||i}))}log(r=(u,o)=>`[hap] ${o.showWhole(!0)}`,i=(u,o)=>({hap:o})){return this.onTrigger((...u)=>{Yt(r(...u),void 0,i(...u))},!1)}logValues(r=mr){return this.log((i,u)=>r(u.value))}drawLine(){return console.log(al(this)),this}};function Z2(t,r){let i=[];return r.forEach(u=>{const o=i.findIndex(([a])=>t(u,a));o===-1?i.push([u]):i[o].push(u)}),i}const H2=(t,r)=>t.spanEquals(r);ot.prototype.collect=function(){return this.withHaps(t=>Z2(H2,t).map(r=>new oe(r[0].whole,r[0].part,r,{})))};ot.prototype.arpWith=function(t){return this.collect().fmap(r=>nt(t(r))).innerJoin().withHap(r=>new oe(r.whole,r.part,r.value.value,r.combineContext(r.value)))};ot.prototype.arp=function(t){return this.arpWith(r=>t.fmap(i=>r[i%r.length]))};function Di(t){return!Array.isArray(t)&&typeof t=="object"}function K2(t,r,i){return Di(t)||Di(r)?(Di(t)||(t={value:t}),Di(r)||(r={value:r}),q2(t,r,i)):i(t,r)}(function(){const t={set:[(i,u)=>u],keep:[i=>i],keepif:[(i,u)=>u?i:void 0],add:[Se((i,u)=>i+u)],sub:[Se((i,u)=>i-u)],mul:[Se((i,u)=>i*u)],div:[Se((i,u)=>i/u)],mod:[Se(Te)],pow:[Se(Math.pow)],band:[Se((i,u)=>i&u)],bor:[Se((i,u)=>i|u)],bxor:[Se((i,u)=>i^u)],blshift:[Se((i,u)=>i<<u)],brshift:[Se((i,u)=>i>>u)],lt:[(i,u)=>i<u],gt:[(i,u)=>i>u],lte:[(i,u)=>i<=u],gte:[(i,u)=>i>=u],eq:[(i,u)=>i==u],eqt:[(i,u)=>i===u],ne:[(i,u)=>i!=u],net:[(i,u)=>i!==u],and:[(i,u)=>i&&u],or:[(i,u)=>i||u],func:[(i,u)=>u(i)]},r=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart"];for(const[i,[u,o]]of Object.entries(t)){ot.prototype["_"+i]=function(a){return this.fmap(c=>u(c,a))},Object.defineProperty(ot.prototype,i,{get:function(){const a=this,c=(...l)=>a[i].in(...l);for(const l of r)c[l.toLowerCase()]=function(...p){var d=a;p=Re(p),o&&(d=o(d),p=o(p));var f;return i==="keepif"?(f=d["_op"+l](p,g=>A=>u(g,A)),f=f.removeUndefineds()):f=d["_op"+l](p,g=>A=>K2(g,A,u)),f};return c.squeezein=c.squeeze,c}});for(const a of r)ot.prototype[a.toLowerCase()]=function(...c){return this.set[a.toLowerCase()](c)}}ot.prototype.struct=function(...i){return this.keepif.out(...i)},ot.prototype.structAll=function(...i){return this.keep.out(...i)},ot.prototype.mask=function(...i){return this.keepif.in(...i)},ot.prototype.maskAll=function(...i){return this.keep.in(...i)},ot.prototype.reset=function(...i){return this.keepif.reset(...i)},ot.prototype.resetAll=function(...i){return this.keep.reset(...i)},ot.prototype.restart=function(...i){return this.keepif.restart(...i)},ot.prototype.restartAll=function(...i){return this.keep.restart(...i)}})();const Y2=qt,U2=qt,$2=Yu,Fr=t=>new ot(()=>[],t),_t=Fr(1),en=Fr(0);function le(t){function r(u){return u.span.spanCycles.map(o=>new oe(tt(o.begin).wholeCycle(),o,t))}const i=new ot(r,1);return i.__pure=t,i}function Wu(t){return t instanceof ot||t?._Pattern}function nt(t){return Wu(t)?t:au&&typeof t=="string"?au(t):le(t)}function qt(...t){t=t.map(u=>Array.isArray(u)?Re(...u):nt(u));const r=u=>Cn(t.map(o=>o.query(u))),i=new ot(r);return Ye&&(i.tactus=ri(...t.map(u=>u.tactus))),i}function qu(t,r){if(r=r.map(a=>Array.isArray(a)?Re(...a):nt(a)),r.length===0)return _t;if(r.length===1)return r[0];const[i,...u]=r.map(a=>a.tactus),o=Ye?i.maximum(...u):void 0;return qt(...t(o,r))}function ll(...t){return qu((r,i)=>i.map(u=>u.tactus.eq(r)?u:Ve(u,Fr(r.sub(u.tactus)))),t)}function hl(...t){return qu((r,i)=>i.map(u=>u.tactus.eq(r)?u:Ve(Fr(r.sub(u.tactus)),u)),t)}function pl(...t){return qu((r,i)=>i.map(u=>{if(u.tactus.eq(r))return u;const o=Fr(r.sub(u.tactus).div(2));return Ve(o,u,o)}),t)}function J2(t,...r){const[i,...u]=r.map(c=>c.tactus),o=i.maximum(...u),a={centre:pl,left:ll,right:hl,expand:qt,repeat:(...c)=>yl(o,...c)};return t.inhabit(a).fmap(c=>c(...r)).innerJoin().setTactus(o)}function rr(...t){if(t=t.map(u=>Array.isArray(u)?Le(...u):nt(u)),t.length==1)return t[0];const r=function(u){const o=u.span,a=Te(o.begin.sam(),t.length),c=t[a];if(!c)return[];const l=o.begin.floor().sub(o.begin.div(t.length).floor());return c.withHapTime(p=>p.add(l)).query(u.setSpan(o.withTime(p=>p.sub(l))))},i=Ye?ri(...t.map(u=>u.tactus)):void 0;return new ot(r).splitQueries().setTactus(i)}function Xu(...t){t=t.map(nt);const r=function(i){const u=Math.floor(i.span.begin)%t.length;return t[u]?.query(i)||[]};return new ot(r).splitQueries()}function ml(...t){return rr(...t)}function Q2(...t){const r=t.reduce((i,[u])=>i+u,0);return t=t.map(([i,u])=>[i,u.fast(i)]),Ve(...t).slow(r)}function Le(...t){let r=rr(...t);return t.length>1&&(r=r._fast(t.length),r.tactus=t.length),r}function Re(...t){return Le(...t)}function dl(...t){return Le(...t)}function cu(t){return Array.isArray(t)?t.length==0?[_t,0]:t.length==1?cu(t[0]):[Le(...t.map(r=>cu(r)[0])),t.length]:[nt(t),1]}const t3=Ft((t,r)=>nt(r).mask(t)),e3=Ft((t,r)=>nt(r).struct(t)),n3=Ft((t,r)=>nt(r).superimpose(...t)),r3=Ft((t,r)=>nt(r).set(t)),i3=Ft((t,r)=>nt(r).keep(t)),s3=Ft((t,r)=>nt(r).keepif(t)),u3=Ft((t,r)=>nt(r).add(t)),o3=Ft((t,r)=>nt(r).sub(t)),a3=Ft((t,r)=>nt(r).mul(t)),c3=Ft((t,r)=>nt(r).div(t)),l3=Ft((t,r)=>nt(r).mod(t)),h3=Ft((t,r)=>nt(r).pow(t)),p3=Ft((t,r)=>nt(r).band(t)),m3=Ft((t,r)=>nt(r).bor(t)),d3=Ft((t,r)=>nt(r).bxor(t)),f3=Ft((t,r)=>nt(r).blshift(t)),g3=Ft((t,r)=>nt(r).brshift(t)),A3=Ft((t,r)=>nt(r).lt(t)),C3=Ft((t,r)=>nt(r).gt(t)),y3=Ft((t,r)=>nt(r).lte(t)),M3=Ft((t,r)=>nt(r).gte(t)),b3=Ft((t,r)=>nt(r).eq(t)),P3=Ft((t,r)=>nt(r).eqt(t)),D3=Ft((t,r)=>nt(r).ne(t)),v3=Ft((t,r)=>nt(r).net(t)),E3=Ft((t,r)=>nt(r).and(t)),F3=Ft((t,r)=>nt(r).or(t)),w3=Ft((t,r)=>nt(r).func(t));function z(t,r,i=!0,u=!1,o=a=>a.innerJoin()){if(Array.isArray(t)){const l={};for(const p of t)l[p]=z(p,r,i);return l}const a=r.length;var c;return i?c=function(...l){l=l.map(nt);const p=l[l.length-1];let d;if(a===1)d=r(p);else{const f=l.slice(0,-1);if(f.every(g=>g.__pure!=null)){const g=f.map(P=>P.__pure),A=f.filter(P=>P.__pure_loc).map(P=>P.__pure_loc);d=r(...g,p),d=d.withContext(P=>{const E=(P.locations||[]).concat(A);return{...P,locations:E}})}else{const[g,...A]=f;let P=(...E)=>r(...E,p);P=Ft(P,null,a-1),d=o(A.reduce((E,F)=>E.appLeft(F),g.fmap(P)))}}return u&&(d.tactus=p.tactus),d}:c=function(...l){l=l.map(nt);const p=r(...l);return u&&(p.tactus=l[l.length-1].tactus),p},ot.prototype[t]=function(...l){if(a===2&&l.length!==1)l=[Re(...l)];else if(a!==l.length+1)throw new Error(`.${t}() expects ${a-1} inputs but got ${l.length}.`);return l=l.map(nt),c(...l,this)},a>1&&(ot.prototype["_"+t]=function(...l){return r(...l,this)}),Ft(c,null,a)}function ns(t,r,i=!0,u=!1,o=a=>a.stepJoin()){return z(t,r,i,u,o)}const B3=z("round",function(t){return t.asNumber().fmap(r=>Math.round(r))}),I3=z("floor",function(t){return t.asNumber().fmap(r=>Math.floor(r))}),x3=z("ceil",function(t){return t.asNumber().fmap(r=>Math.ceil(r))}),S3=z("toBipolar",function(t){return t.fmap(r=>r*2-1)}),_3=z("fromBipolar",function(t){return t.fmap(r=>(r+1)/2)}),k3=z("range",function(t,r,i){return i.mul(r-t).add(t)}),N3=z("rangex",function(t,r,i){return i._range(Math.log(t),Math.log(r)).fmap(Math.exp)}),T3=z("range2",function(t,r,i){return i.fromBipolar()._range(t,r)}),R3=z("ratio",t=>t.fmap(r=>Array.isArray(r)?r.slice(1).reduce((i,u)=>i/u,r[0]):r)),V3=z("compress",function(t,r,i){return t=tt(t),r=tt(r),t.gt(r)||t.gt(1)||r.gt(1)||t.lt(0)||r.lt(0)?_t:i._fastGap(tt(1).div(r.sub(t)))._late(t)}),{compressSpan:L3,compressspan:j3}=z(["compressSpan","compressspan"],function(t,r){return r._compress(t.begin,t.end)}),{fastGap:O3,fastgap:G3}=z(["fastGap","fastgap"],function(t,r){const i=function(o){const a=o.begin.sam(),c=o.begin.sub(a).mul(t).min(1),l=o.end.sub(a).mul(t).min(1);if(!(c>=1))return new Ze(a.add(c),a.add(l))},u=function(o){const a=o.part.begin,c=o.part.end,l=a.sam(),p=a.sub(l).div(t).min(1),d=c.sub(l).div(t).min(1),f=new Ze(l.add(p),l.add(d)),g=o.whole?new Ze(f.begin.sub(a.sub(o.whole.begin).div(t)),f.end.add(o.whole.end.sub(c).div(t))):void 0;return new oe(g,f,o.value,o.context)};return r.withQuerySpanMaybe(i).withHap(u).splitQueries()}),z3=z("focus",function(t,r,i){return t=tt(t),r=tt(r),i._fast(tt(1).div(r.sub(t))).late(t.cyclePos())}),{focusSpan:W3,focusspan:q3}=z(["focusSpan","focusspan"],function(t,r){return r._focus(t.begin,t.end)}),X3=z("ply",function(t,r){const i=r.fmap(u=>le(u)._fast(t)).squeezeJoin();return Ye&&(i.tactus=tt(t).mulmaybe(r.tactus)),i}),{fast:Z3,density:Rw}=z(["fast","density"],function(t,r){return t===0?_t:(t=tt(t),r.withQueryTime(i=>i.mul(t)).withHapTime(i=>i.div(t)).setTactus(r.tactus))},!0,!0),H3=z("hurry",function(t,r){return r._fast(t).mul(le({speed:t}))}),{slow:K3,sparsity:Y3}=z(["slow","sparsity"],function(t,r){return t===0?_t:r._fast(tt(1).div(t))}),U3=z("inside",function(t,r,i){return r(i._slow(t))._fast(t)}),$3=z("outside",function(t,r,i){return r(i._fast(t))._slow(t)}),J3=z("lastOf",function(t,r,i){const u=Array(t-1).fill(i);return u.push(r(i)),Xu(...u)}),{firstOf:Q3,every:ty}=z(["firstOf","every"],function(t,r,i){const u=Array(t-1).fill(i);return u.unshift(r(i)),Xu(...u)}),ey=z("apply",function(t,r){return t(r)}),ny=z("cpm",function(t,r){return r._fast(t/60/1)}),ry=z("early",function(t,r){return t=tt(t),r.withQueryTime(i=>i.add(t)).withHapTime(i=>i.sub(t))},!0,!0),fl=z("late",function(t,r){return t=tt(t),r._early(tt(0).sub(t))},!0,!0),iy=z("zoom",function(t,r,i){if(r=tt(r),t=tt(t),t.gte(r))return en;const u=r.sub(t),o=Ye?i.tactus.mulmaybe(u):void 0;return i.withQuerySpan(a=>a.withCycle(c=>c.mul(u).add(t))).withHapSpan(a=>a.withCycle(c=>c.sub(t).div(u))).splitQueries().setTactus(o)}),{zoomArc:sy,zoomarc:uy}=z(["zoomArc","zoomarc"],function(t,r){return r.zoom(t.begin,t.end)}),oy=z("linger",function(t,r){return t==0?_t:t<0?r._zoom(t.add(1),1)._slow(t):r._zoom(0,t)._slow(t)},!0,!0),ay=z("segment",function(t,r){return r.struct(le(!0)._fast(t)).setTactus(t)}),cy=z("swingBy",(t,r,i)=>i.inside(r,fl(dl(0,t/2)))),ly=z("swing",(t,r)=>r.swingBy(1/3,t)),{invert:hy,inv:py}=z(["invert","inv"],function(t){return t.fmap(r=>!r)},!0,!0),my=z("when",function(t,r,i){return t?r(i):i}),dy=z("off",function(t,r,i){return qt(i,r(i.late(t)))}),fy=z("brak",function(t){return t.when(rr(!1,!0),r=>Le(r,_t)._late(.25))}),gl=z("rev",function(t){const r=function(i){const u=i.span,o=u.begin.sam(),a=u.begin.nextSam(),c=function(l){const p=l.withTime(f=>o.add(a.sub(f))),d=p.begin;return p.begin=p.end,p.end=d,p};return t.query(i.setSpan(c(u))).map(l=>l.withSpan(c))};return new ot(r).splitQueries()},!1,!0),gy=z("pressBy",function(t,r){return r.fmap(i=>le(i).compress(t,1)).squeezeJoin()}),Ay=z("press",function(t){return t._pressBy(.5)});ot.prototype.hush=function(){return _t};const Cy=z("palindrome",function(t){return t.lastOf(2,gl)},!0,!0),{juxBy:yy,juxby:My}=z(["juxBy","juxby"],function(t,r,i){t/=2;const u=function(c,l,p){return l in c?c[l]:p},o=i.withValue(c=>Object.assign({},c,{pan:u(c,"pan",.5)-t})),a=r(i.withValue(c=>Object.assign({},c,{pan:u(c,"pan",.5)+t})));return qt(o,a).setTactus(Ye?ri(o.tactus,a.tactus):void 0)}),by=z("jux",function(t,r){return r._juxBy(1,t,r)}),{echoWith:Py,echowith:Dy,stutWith:vy,stutwith:Ey}=z(["echoWith","echowith","stutWith","stutwith"],function(t,r,i,u){return qt(...Vu(0,t-1).map(o=>i(u.late(tt(r).mul(o)),o)))}),Fy=z("echo",function(t,r,i,u){return u._echoWith(t,r,(o,a)=>o.gain(Math.pow(i,a)))}),wy=z("stut",function(t,r,i,u){return u._echoWith(t,i,(o,a)=>o.gain(Math.pow(r,a)))}),Zu=function(t,r,i=!1){return t=tt(t),rr(...Vu(0,t.sub(1)).map(u=>i?r.late(tt(u).div(t)):r.early(tt(u).div(t))))},By=z("iter",function(t,r){return Zu(t,r,!1)},!0,!0),{iterBack:Iy,iterback:xy}=z(["iterBack","iterback"],function(t,r){return Zu(t,r,!0)},!0,!0),{repeatCycles:Sy}=z("repeatCycles",function(t,r){return new ot(function(i){const u=i.span.begin.sam(),o=u.div(t).sam(),a=u.sub(o);return i=i.withSpan(c=>c.withTime(l=>l.sub(a))),r.query(i).map(c=>c.withSpan(l=>l.withTime(p=>p.add(a))))}).splitQueries()},!0,!0),Hu=function(t,r,i,u=!1,o=!1){const a=Array(t-1).fill(!1);a.unshift(!0);const c=Zu(t,Re(...a),!u);return o||(i=i.repeatCycles(t)),i.when(c,r)},{chunk:_y,slowchunk:ky,slowChunk:Ny}=z(["chunk","slowchunk","slowChunk"],function(t,r,i){return Hu(t,r,i,!1,!1)}),{chunkBack:Ty,chunkback:Ry}=z(["chunkBack","chunkback"],function(t,r,i){return Hu(t,r,i,!0)}),{fastchunk:Vy,fastChunk:Ly}=z(["fastchunk","fastChunk"],function(t,r,i){return Hu(t,r,i,!1,!0)}),jy=z("bypass",function(t,r){return t=!!parseInt(t),t?_t:r},!0,!0),Oy=z("ribbon",(t,r,i)=>i.early(t).restart(le(1).slow(r))),Gy=z("hsla",(t,r,i,u,o)=>o.color(`hsla(${t}turn,${r*100}%,${i*100}%,${u})`)),zy=z("hsl",(t,r,i,u)=>u.color(`hsl(${t}turn,${r*100}%,${i*100}%)`));ot.prototype.tag=function(t){return this.withContext(r=>({...r,tags:(r.tags||[]).concat([t])}))};ot.prototype.stepJoin=function(){const t=this,r=Ve(...lu(hu(t.queryArc(0,1)))).tactus,i=function(u){const o=t.early(u.span.begin.sam()).query(u.setSpan(new Ze(tt(0),tt(1))));return Ve(...lu(hu(o))).query(u)};return new ot(i,r)};function lu(t){const r=t.filter((a,c)=>c.hasTactus).reduce((a,c)=>a.add(c),tt(0)),i=Er(t.map((a,c)=>c.tactus)).reduce((a,c)=>a.add(c),tt(0)),u=r.eq(0)?void 0:i.div(r);function o(a,c){return c.tactus===void 0?[a.mulmaybe(u),c]:[c.tactus,c]}return t.map(a=>o(...a))}function hu(t){const r=Cn(t.map(u=>[u.part.begin,u.part.end])),i=il([tt(0),tt(1),...r]);return rl(i).map(u=>[u[1].sub(u[0]),qt(...Al(new Ze(...u),t).map(o=>o.value.withHap(a=>a.setContext(a.combineContext(o)))))])}function Al(t,r){return Er(r.map(i=>Cl(t,i)))}function Cl(t,r){const i=t.intersection(r.part);if(i!=null)return new oe(r.whole,i,r.value,r.context)}const Wy=z("steps",function(t,r){return r.tactus===void 0?r:r.tactus.eq(tt(0))?en:r.fast(tt(t).div(r.tactus))});function Ku(t,...r){const i=r.map(o=>cu(o));if(i.length==0)return _t;t==0&&(t=i[0][1]);const u=[];for(const o of i)o[1]!=0&&(t==o[1]?u.push(o[0]):u.push(o[0]._fast(tt(t).div(tt(o[1])))));return qt(...u)}function yl(t,...r){return r.length==0?_t:Array.isArray(r[0])?Ku(t,...r):Yu(...r).steps(t)}function Yu(...t){if(Array.isArray(t[0]))return Ku(0,...t);if(t=t.filter(a=>a.hasTactus),t.length==0)return _t;const r=t[0].tactus;if(r.eq(tt(0)))return en;const[i,...u]=t,o=qt(i,...u.map(a=>a._slow(a.tactus.div(r))));return o.tactus=r,o}function Ve(...t){if(t.length===0)return en;const r=c=>Array.isArray(c)?c:[c.tactus,c];if(t=t.map(r),t.find(c=>c[0]===void 0)){const c=t.map(p=>p[0]).filter(p=>p!==void 0);if(c.length===0)return Le(...t.map(p=>p[1]));if(c.length===t.length)return en;const l=c.reduce((p,d)=>p.add(d),tt(0)).div(c.length);for(let p of t)p[0]===void 0&&(p[0]=l)}if(t.length==1){const c=nt(t[0][1]);return c.tactus=t[0][0],c}const i=t.map(c=>c[0]).reduce((c,l)=>c.add(l),tt(0));let u=tt(0);const o=[];for(const[c,l]of t){if(tt(c).eq(0))continue;const p=u.add(c);o.push(nt(l)._compress(u.div(i),p.div(i))),u=p}const a=qt(...o);return a.tactus=i,a}const qy=Ve,Uu=Ve;function Xy(...t){t=t.map(o=>Array.isArray(o)?o.map(nt):[nt(o)]);const r=ri(...t.map(o=>tt(o.length)));let i=[];for(let o=0;o<r;++o)i.push(...t.map(a=>a.length==0?_t:a[o%a.length]));i=i.filter(o=>o.hasTactus&&o.tactus>0);const u=i.reduce((o,a)=>o.add(a.tactus),tt(0));return i=Ve(...i),i.tactus=u,i}const Zy=ns("s_add",function(t,r){if(!r.hasTactus||r.tactus.lte(0)||(t=tt(t),t.eq(0)))return en;const i=t<0;i&&(t=t.abs());const u=t.div(r.tactus);return u.lte(0)?en:u.gte(1)?r:i?r.zoom(tt(1).sub(u),1):r.zoom(0,u)}),Hy=ns("s_sub",function(t,r){return r.hasTactus?(t=tt(t),t.lt(0)?r.s_add(tt(0).sub(r.tactus.add(t))):r.s_add(r.tactus.sub(t))):en}),Ky=ns("s_expand",function(t,r){return r.withTactus(i=>i.mul(tt(t)))}),Yy=ns("s_contract",function(t,r){return r.withTactus(i=>i.div(tt(t)))});ot.prototype.s_taperlist=function(t,r){const i=this;if(!i.hasTactus)return[i];if(r=r-1,r===0)return[i];const u=[],o=t>0;t=tt(Math.abs(t));const a=i.tactus.sub(t.mul(tt(r))).max(tt(0));for(let c=0;c<r;++c)u.push(i.zoom(0,a.add(t.mul(tt(c))).div(i.tactus)));return u.push(i),o&&u.reverse(),u};const Uy=(t,r,i)=>i.s_taperlist(t,r),$y=z("s_taper",function(t,r,i){if(!i.hasTactus)return en;const u=i.s_taperlist(t,r),o=Ve(...u);return o.tactus=u.reduce((a,c)=>a.add(c.tactus),tt(0)),o},!0,!1,t=>t.stepJoin());ot.prototype.s_tour=function(...t){return Ve(...[].concat(...t.map((r,i)=>[...t.slice(0,t.length-i),this,...t.slice(t.length-i)]),this,...t))};const Jy=function(t,...r){return t.s_tour(...r)},Qy=z("chop",function(t,r){const i=Array.from({length:t},(o,a)=>a).map(o=>({begin:o/t,end:(o+1)/t})),u=function(o){return Re(i.map(a=>Object.assign({},o,a)))};return r.squeezeBind(u).setTactus(Ye?tt(t).mulmaybe(r.tactus):void 0)}),tM=z("striate",function(t,r){const i=Array.from({length:t},(o,a)=>a).map(o=>({begin:o/t,end:(o+1)/t})),u=rr(...i);return r.set(u)._fast(t).setTactus(Ye?tt(t).mulmaybe(r.tactus):void 0)}),Ml=function(t,r,i=.5){return r.speed(1/t*i).unit("c").slow(t)},bl=z("slice",function(t,r,i){return t.innerBind(u=>r.outerBind(o=>i.outerBind(a=>{a=a instanceof Object?a:{s:a};const c=Array.isArray(u)?u[o]:o/u,l=Array.isArray(u)?u[o+1]:(o+1)/u;return le({begin:c,end:l,_slices:u,...a})}))).setTactus(r.tactus)},!1),eM=z("splice",function(t,r,i){const u=bl(t,r,i);return new ot(o=>{const a=o.controls._cps||1;return u.query(o).map(c=>c.withValue(l=>({speed:a/l._slices/c.whole.duration*(l.speed||1),unit:"c",...l})))}).setTactus(r.tactus)},!1),{loopAt:nM,loopat:rM}=z(["loopAt","loopat"],function(t,r){return new ot(i=>Ml(t,r,i.controls._cps).query(i))}),iM=z("fit",t=>t.withHaps((r,i)=>r.map(u=>u.withValue(o=>({...o,speed:(i.controls._cps||1)/u.whole.duration,unit:"c"}))))),{loopAtCps:sM,loopatcps:uM}=z(["loopAtCps","loopatcps"],function(t,r,i){return Ml(t,i,r)}),oM=t=>le(1).withValue(()=>nt(t())).innerJoin();let ba=t=>t<.5?1:1-(t-.5)/.5,Pl=(t,r,i)=>{r=nt(r),t=nt(t),i=nt(i);let u=r.fmap(a=>({gain:ba(a)})),o=r.fmap(a=>({gain:ba(1-a)}));return qt(t.mul(u),i.mul(o))};ot.prototype.xfade=function(t,r){return Pl(this,t,r)};function rs(t){let r=Array.isArray(t);t=r?t:[t];const i=t[0],u=c=>{let l;if(typeof c=="object"&&c.value!==void 0&&(l={...c},c=c.value,delete l.value),r&&Array.isArray(c)){const p=l||{};return c.forEach((d,f)=>{f<t.length&&(p[t[f]]=d)}),p}else return l?(l[i]=c,l):{[i]:c}},o=(...c)=>Re(...c).withValue(u),a=function(...c){return c.length?this.set(o(...c)):this.fmap(u)};return ot.prototype[i]=a,o}function _(t,...r){const i=Array.isArray(t)?t[0]:t;let u={};return u[i]=rs(t),r.forEach(o=>{u[o]=u[i],ot.prototype[o]=ot.prototype[i]}),u}const{s:Dl,sound:vl}=_(["s","n","gain"],"sound"),{source:El,src:Fl}=_("source","src"),{n:wl}=_("n"),{note:Bl}=_(["note","n"]),{accelerate:Il}=_("accelerate"),{velocity:xl}=_("velocity"),{gain:Sl}=_("gain"),{postgain:_l}=_("postgain"),{amp:kl}=_("amp"),{attack:Nl,att:Tl}=_("attack","att"),{fmh:Rl}=_(["fmh","fmi"],"fmh"),{fmi:Vl,fm:Ll}=_(["fmi","fmh"],"fm"),{fmenv:jl}=_("fmenv"),{fmattack:Ol}=_("fmattack"),{fmdecay:Gl}=_("fmdecay"),{fmsustain:zl}=_("fmsustain"),{fmrelease:Wl}=_("fmrelease"),{fmvelocity:ql}=_("fmvelocity"),{bank:Xl}=_("bank"),{analyze:Zl}=_("analyze"),{fft:Hl}=_("fft"),{decay:Kl,dec:Yl}=_("decay","dec"),{sustain:Ul,sus:$l}=_("sustain","sus"),{release:Jl,rel:Ql}=_("release","rel"),{hold:th}=_("hold"),{bandf:eh,bpf:nh,bp:rh}=_(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:ih,bpq:sh}=_("bandq","bpq"),{begin:uh}=_("begin"),{end:oh}=_("end"),{loop:ah}=_("loop"),{loopBegin:ch,loopb:lh}=_("loopBegin","loopb"),{loopEnd:hh,loope:ph}=_("loopEnd","loope"),{crush:mh}=_("crush"),{coarse:dh}=_("coarse"),{drive:fh}=_("drive"),{channels:gh,ch:Ah}=_("channels","ch"),{phaserrate:Ch,phasr:yh}=_("phaserrate","phasr"),{phaser:Mh,ph:bh}=_(["phaser","phaserdepth","phasercenter","phasersweep"],"ph"),{phasersweep:Ph,phs:Dh}=_("phasersweep","phs"),{phasercenter:vh,phc:Eh}=_("phasercenter","phc"),{phaserdepth:Fh,phd:wh,phasdp:Bh}=_("phaserdepth","phd","phasdp"),{channel:Ih}=_("channel"),{cut:xh}=_("cut"),{cutoff:Sh,ctf:_h,lpf:kh,lp:Nh}=_(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:Th,lpe:Rh}=_("lpenv","lpe"),{hpenv:Vh,hpe:Lh}=_("hpenv","hpe"),{bpenv:jh,bpe:Oh}=_("bpenv","bpe"),{lpattack:Gh,lpa:zh}=_("lpattack","lpa"),{hpattack:Wh,hpa:qh}=_("hpattack","hpa"),{bpattack:Xh,bpa:Zh}=_("bpattack","bpa"),{lpdecay:Hh,lpd:Kh}=_("lpdecay","lpd"),{hpdecay:Yh,hpd:Uh}=_("hpdecay","hpd"),{bpdecay:$h,bpd:Jh}=_("bpdecay","bpd"),{lpsustain:Qh,lps:t1}=_("lpsustain","lps"),{hpsustain:e1,hps:n1}=_("hpsustain","hps"),{bpsustain:r1,bps:i1}=_("bpsustain","bps"),{lprelease:s1,lpr:u1}=_("lprelease","lpr"),{hprelease:o1,hpr:a1}=_("hprelease","hpr"),{bprelease:c1,bpr:l1}=_("bprelease","bpr"),{ftype:h1}=_("ftype"),{fanchor:p1}=_("fanchor"),{vib:m1,vibrato:d1,v:f1}=_(["vib","vibmod"],"vibrato","v"),{noise:g1}=_("noise"),{vibmod:A1,vmod:C1}=_(["vibmod","vib"],"vmod"),{hcutoff:y1,hpf:M1,hp:b1}=_(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:P1,hpq:D1}=_("hresonance","hpq"),{resonance:v1,lpq:E1}=_("resonance","lpq"),{djf:F1}=_("djf"),{delay:w1}=_(["delay","delaytime","delayfeedback"]),{delayfeedback:B1,delayfb:I1,dfb:x1}=_("delayfeedback","delayfb","dfb"),{delaytime:S1,delayt:_1,dt:k1}=_("delaytime","delayt","dt"),{lock:N1}=_("lock"),{detune:T1,det:R1}=_("detune","det"),{unison:V1}=_("unison"),{spread:L1}=_("spread"),{dry:j1}=_("dry"),{fadeTime:O1,fadeOutTime:G1}=_("fadeTime","fadeOutTime"),{fadeInTime:z1}=_("fadeInTime"),{freq:W1}=_("freq"),{pattack:q1,patt:X1}=_("pattack","patt"),{pdecay:Z1,pdec:H1}=_("pdecay","pdec"),{psustain:K1,psus:Y1}=_("psustain","psus"),{prelease:U1,prel:$1}=_("prelease","prel"),{penv:J1}=_("penv"),{pcurve:Q1}=_("pcurve"),{panchor:t0}=_("panchor"),{gate:e0,gat:n0}=_("gate","gat"),{leslie:r0}=_("leslie"),{lrate:i0}=_("lrate"),{lsize:s0}=_("lsize"),{activeLabel:u0}=_("activeLabel"),{label:o0}=_(["label","activeLabel"]),{degree:a0}=_("degree"),{mtranspose:c0}=_("mtranspose"),{ctranspose:l0}=_("ctranspose"),{harmonic:h0}=_("harmonic"),{stepsPerOctave:p0}=_("stepsPerOctave"),{octaveR:m0}=_("octaveR"),{nudge:d0}=_("nudge"),{octave:f0}=_("octave"),{orbit:g0}=_("orbit"),{overgain:A0}=_("overgain"),{overshape:C0}=_("overshape"),{pan:y0}=_("pan"),{panspan:M0}=_("panspan"),{pansplay:b0}=_("pansplay"),{panwidth:P0}=_("panwidth"),{panorient:D0}=_("panorient"),{rate:v0}=_("rate"),{slide:E0}=_("slide"),{semitone:F0}=_("semitone"),{voice:w0}=_("voice"),{chord:B0}=_("chord"),{dictionary:I0,dict:x0}=_("dictionary","dict"),{anchor:S0}=_("anchor"),{offset:_0}=_("offset"),{octaves:k0}=_("octaves"),{mode:N0}=_(["mode","anchor"]),{room:T0}=_(["room","size"]),{roomlp:R0,rlp:V0}=_("roomlp","rlp"),{roomdim:L0,rdim:j0}=_("roomdim","rdim"),{roomfade:O0,rfade:G0}=_("roomfade","rfade"),{ir:z0,iresponse:W0}=_(["ir","i"],"iresponse"),{roomsize:q0,size:X0,sz:Z0,rsize:H0}=_("roomsize","size","sz","rsize"),{shape:K0}=_(["shape","shapevol"]),{distort:Y0,dist:U0}=_(["distort","distortvol"],"dist"),{compressor:$0}=_(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:J0}=_("compressorKnee"),{compressorRatio:Q0}=_("compressorRatio"),{compressorAttack:tp}=_("compressorAttack"),{compressorRelease:ep}=_("compressorRelease"),{speed:np}=_("speed"),{unit:rp}=_("unit"),{squiz:ip}=_("squiz"),{vowel:sp}=_("vowel"),{waveloss:up}=_("waveloss"),{density:aM}=_("density"),{expression:op}=_("expression"),{sustainpedal:ap}=_("sustainpedal"),{tremolodepth:cp,tremdp:lp}=_("tremolodepth","tremdp"),{tremolorate:hp,tremr:pp}=_("tremolorate","tremr"),{fshift:mp}=_("fshift"),{fshiftnote:dp}=_("fshiftnote"),{fshiftphase:fp}=_("fshiftphase"),{triode:gp}=_("triode"),{krush:Ap}=_("krush"),{kcutoff:Cp}=_("kcutoff"),{octer:yp}=_("octer"),{octersub:Mp}=_("octersub"),{octersubsub:bp}=_("octersubsub"),{ring:Pp}=_("ring"),{ringf:Dp}=_("ringf"),{ringdf:vp}=_("ringdf"),{freeze:Ep}=_("freeze"),{xsdelay:Fp}=_("xsdelay"),{tsdelay:wp}=_("tsdelay"),{real:Bp}=_("real"),{imag:Ip}=_("imag"),{enhance:xp}=_("enhance"),{partials:Sp}=_("partials"),{comb:_p}=_("comb"),{smear:kp}=_("smear"),{scram:Np}=_("scram"),{binshift:Tp}=_("binshift"),{hbrick:Rp}=_("hbrick"),{lbrick:Vp}=_("lbrick"),{midichan:Lp}=_("midichan"),{control:jp}=_("control"),{ccn:Op}=_("ccn"),{ccv:Gp}=_("ccv"),{polyTouch:zp}=_("polyTouch"),{midibend:Wp}=_("midibend"),{miditouch:qp}=_("miditouch"),{ctlNum:Xp}=_("ctlNum"),{frameRate:Zp}=_("frameRate"),{frames:Hp}=_("frames"),{hours:Kp}=_("hours"),{midicmd:Yp}=_("midicmd"),{minutes:Up}=_("minutes"),{progNum:$p}=_("progNum"),{seconds:Jp}=_("seconds"),{songPtr:Qp}=_("songPtr"),{uid:tm}=_("uid"),{val:em}=_("val"),{cps:nm}=_("cps"),{clip:rm,legato:im}=_("clip","legato"),{duration:sm,dur:um}=_("duration","dur"),{zrand:om}=_("zrand"),{curve:am}=_("curve"),{deltaSlide:cm}=_("deltaSlide"),{pitchJump:lm}=_("pitchJump"),{pitchJumpTime:hm}=_("pitchJumpTime"),{lfo:pm,repeatTime:mm}=_("lfo","repeatTime"),{znoise:dm}=_("znoise"),{zmod:fm}=_("zmod"),{zcrush:gm}=_("zcrush"),{zdelay:Am}=_("zdelay"),{tremolo:Cm}=_("tremolo"),{zzfx:ym}=_("zzfx"),{color:Mm,colour:bm}=_(["color","colour"]);let $u=(...t)=>t.reduce((r,i)=>Object.assign(r,{[i]:rs(i)}),{});const Pm=z("adsr",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,u,o,a]=t;return r.set({attack:i,decay:u,sustain:o,release:a})}),Dm=z("ad",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,u=i]=t;return r.attack(i).decay(u)}),vm=z("ds",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,u=0]=t;return r.set({decay:i,sustain:u})}),Em=z("ar",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,u=i]=t;return r.set({attack:i,release:u})}),cM=Object.freeze(Object.defineProperty({__proto__:null,accelerate:Il,activeLabel:u0,ad:Dm,adsr:Pm,amp:kl,analyze:Zl,anchor:S0,ar:Em,att:Tl,attack:Nl,bandf:eh,bandq:ih,bank:Xl,begin:uh,binshift:Tp,bp:rh,bpa:Zh,bpattack:Xh,bpd:Jh,bpdecay:$h,bpe:Oh,bpenv:jh,bpf:nh,bpq:sh,bpr:l1,bprelease:c1,bps:i1,bpsustain:r1,ccn:Op,ccv:Gp,ch:Ah,channel:Ih,channels:gh,chord:B0,clip:rm,coarse:dh,color:Mm,colour:bm,comb:_p,compressor:$0,compressorAttack:tp,compressorKnee:J0,compressorRatio:Q0,compressorRelease:ep,control:jp,cps:nm,createParam:rs,createParams:$u,crush:mh,ctf:_h,ctlNum:Xp,ctranspose:l0,curve:am,cut:xh,cutoff:Sh,dec:Yl,decay:Kl,degree:a0,delay:w1,delayfb:I1,delayfeedback:B1,delayt:_1,delaytime:S1,deltaSlide:cm,density:aM,det:R1,detune:T1,dfb:x1,dict:x0,dictionary:I0,dist:U0,distort:Y0,djf:F1,drive:fh,dry:j1,ds:vm,dt:k1,dur:um,duration:sm,end:oh,enhance:xp,expression:op,fadeInTime:z1,fadeOutTime:G1,fadeTime:O1,fanchor:p1,fft:Hl,fm:Ll,fmattack:Ol,fmdecay:Gl,fmenv:jl,fmh:Rl,fmi:Vl,fmrelease:Wl,fmsustain:zl,fmvelocity:ql,frameRate:Zp,frames:Hp,freeze:Ep,freq:W1,fshift:mp,fshiftnote:dp,fshiftphase:fp,ftype:h1,gain:Sl,gat:n0,gate:e0,harmonic:h0,hbrick:Rp,hcutoff:y1,hold:th,hours:Kp,hp:b1,hpa:qh,hpattack:Wh,hpd:Uh,hpdecay:Yh,hpe:Lh,hpenv:Vh,hpf:M1,hpq:D1,hpr:a1,hprelease:o1,hps:n1,hpsustain:e1,hresonance:P1,imag:Ip,ir:z0,iresponse:W0,kcutoff:Cp,krush:Ap,label:o0,lbrick:Vp,legato:im,leslie:r0,lfo:pm,lock:N1,loop:ah,loopBegin:ch,loopEnd:hh,loopb:lh,loope:ph,lp:Nh,lpa:zh,lpattack:Gh,lpd:Kh,lpdecay:Hh,lpe:Rh,lpenv:Th,lpf:kh,lpq:E1,lpr:u1,lprelease:s1,lps:t1,lpsustain:Qh,lrate:i0,lsize:s0,midibend:Wp,midichan:Lp,midicmd:Yp,miditouch:qp,minutes:Up,mode:N0,mtranspose:c0,n:wl,noise:g1,note:Bl,nudge:d0,octave:f0,octaveR:m0,octaves:k0,octer:yp,octersub:Mp,octersubsub:bp,offset:_0,orbit:g0,overgain:A0,overshape:C0,pan:y0,panchor:t0,panorient:D0,panspan:M0,pansplay:b0,panwidth:P0,partials:Sp,patt:X1,pattack:q1,pcurve:Q1,pdec:H1,pdecay:Z1,penv:J1,ph:bh,phasdp:Bh,phaser:Mh,phasercenter:vh,phaserdepth:Fh,phaserrate:Ch,phasersweep:Ph,phasr:yh,phc:Eh,phd:wh,phs:Dh,pitchJump:lm,pitchJumpTime:hm,polyTouch:zp,postgain:_l,prel:$1,prelease:U1,progNum:$p,psus:Y1,psustain:K1,rate:v0,rdim:j0,real:Bp,registerControl:_,rel:Ql,release:Jl,repeatTime:mm,resonance:v1,rfade:G0,ring:Pp,ringdf:vp,ringf:Dp,rlp:V0,room:T0,roomdim:L0,roomfade:O0,roomlp:R0,roomsize:q0,rsize:H0,s:Dl,scram:Np,seconds:Jp,semitone:F0,shape:K0,size:X0,slide:E0,smear:kp,songPtr:Qp,sound:vl,source:El,speed:np,spread:L1,squiz:ip,src:Fl,stepsPerOctave:p0,sus:$l,sustain:Ul,sustainpedal:ap,sz:Z0,tremdp:lp,tremolo:Cm,tremolodepth:cp,tremolorate:hp,tremr:pp,triode:gp,tsdelay:wp,uid:tm,unison:V1,unit:rp,v:f1,val:em,velocity:xl,vib:m1,vibmod:A1,vibrato:d1,vmod:C1,voice:w0,vowel:sp,waveloss:up,xsdelay:Fp,zcrush:gm,zdelay:Am,zmod:fm,znoise:dm,zrand:om,zzfx:ym},Symbol.toStringTag,{value:"Module"})),lM=function(t,r){const[i,u]=t,[o,a]=r,[c,l]=Ou(u,o);return[[u,i-u],[Gu((p,d)=>p.concat(d),c,a),l]]},hM=function(t,r){const[i,u]=t,[o,a]=r,[c,l]=Ou(i,a);return[[i,u-i],[Gu((p,d)=>p.concat(d),o,c),l]]},Fm=function(t,r){const[i,u]=t;return Math.min(i,u)<=1?[t,r]:Fm(...i>u?lM(t,r):hM(t,r))},wm=function(t,r){const i=t<0;t=Math.abs(t);const u=r-t,o=Array(t).fill([1]),a=Array(u).fill([0]),c=Fm([t,u],[o,a]),l=Cn(c[1][0]).concat(Cn(c[1][1]));return i?l.map(p=>p===0?1:0):l},Ju=function(t,r,i){const u=wm(t,r);return i?tl(u,-i):u},pM=z("euclid",function(t,r,i){return i.struct(Ju(t,r,0))}),{euclidrot:mM,euclidRot:dM}=z(["euclidrot","euclidRot"],function(t,r,i,u){return u.struct(Ju(t,r,i))}),Bm=function(t,r,i,u){if(t<1)return _t;const o=Ju(t,r,i).join("").split("1").slice(1).map(a=>[a.length+1,!0]);return u.struct(Uu(...o))},fM=z(["euclidLegato"],function(t,r,i){return Bm(t,r,0,i)}),gM=z(["euclidLegatoRot"],function(t,r,i,u){return Bm(t,r,i,u)});function Im(t,r,i=.05,u=.1,o=.1,a=globalThis.setInterval,c=globalThis.clearInterval,l=!0){let p=0,d=0,f=10**4,g=.01;const A=N=>i=N(i);o=o||u/2;const P=()=>{const N=t(),L=N+u+o;for(d===0&&(d=N+g);d<L;)d=l?Math.round(d*f)/f:d,r(d,i,p,N),d+=i,p++};let E;const F=()=>{S(),P(),E=a(P,u*1e3)},S=()=>{E!==void 0&&c(E),E=void 0};return{setDuration:A,start:F,stop:()=>{p=0,d=0,S()},pause:()=>S(),duration:i,interval:u,getPhase:()=>d,minLatency:g}}function AM(t){return new ot(r=>[new oe(void 0,r.span,t)])}const $e=t=>{const r=i=>[new oe(void 0,i.span,t(i.span.midpoint()))];return new ot(r)},Qu=$e(t=>1-t%1),xm=Qu.toBipolar(),is=$e(t=>t%1),Sm=is.toBipolar(),to=$e(t=>Math.sin(Math.PI*2*t)),_m=to.fromBipolar(),CM=_m._early(tt(1).div(4)),yM=to._early(tt(1).div(4)),km=$e(t=>Math.floor(t*2%2)),MM=km.toBipolar(),bM=Le(Qu,is),PM=Le(xm,Sm),Nm=$e(mr);let eo=0,no=0;typeof window<"u"&&document.addEventListener("mousemove",t=>{eo=t.clientY/document.body.clientHeight,no=t.clientX/document.body.clientWidth});const DM=$e(()=>eo),vM=$e(()=>eo),EM=$e(()=>no),FM=$e(()=>no),wM=t=>{const r=t<<13^t,i=r>>17^r;return i<<5^i},BM=t=>t-Math.trunc(t),IM=t=>wM(Math.trunc(BM(t/300)*536870912)),xM=t=>t%536870912/536870912,pu=t=>Math.abs(xM(IM(t))),SM=t=>is.range(0,t).floor().segment(t),Ce=$e(pu),_M=Ce.toBipolar(),ro=t=>Ce.fmap(r=>r<t),kM=t=>nt(t).fmap(ro).innerJoin(),NM=ro(.5),Tm=t=>Ce.fmap(r=>Math.trunc(r*t)),TM=t=>nt(t).fmap(Tm).innerJoin(),rn=function(t,r,i=!0){const u=Array.isArray(t),o=Object.keys(t).length;return t=ol(t,nt),o===0?_t:r.fmap(a=>{let c=a;return u&&(c=i?Math.round(c)%o:zu(Math.round(c),0,t.length-1)),t[c]})},Rm=function(t,r){return Array.isArray(r)&&([r,t]=[t,r]),RM(t,r)},RM=z("pick",function(t,r){return rn(t,r,!1).innerJoin()}),Vm=z("pickmod",function(t,r){return rn(t,r,!0).innerJoin()}),VM=z("pickF",function(t,r,i){return i.apply(Rm(t,r))}),LM=z("pickmodF",function(t,r,i){return i.apply(Vm(t,r))}),jM=z("pickOut",function(t,r){return rn(t,r,!1).outerJoin()}),OM=z("pickmodOut",function(t,r){return rn(t,r,!0).outerJoin()}),GM=z("pickRestart",function(t,r){return rn(t,r,!1).restartJoin()}),zM=z("pickmodRestart",function(t,r){return rn(t,r,!0).restartJoin()}),WM=z("pickReset",function(t,r){return rn(t,r,!1).resetJoin()}),qM=z("pickmodReset",function(t,r){return rn(t,r,!0).resetJoin()}),{inhabit:XM,pickSqueeze:ZM}=z(["inhabit","pickSqueeze"],function(t,r){return rn(t,r,!1).squeezeJoin()}),{inhabitmod:HM,pickmodSqueeze:KM}=z(["inhabitmod","pickmodSqueeze"],function(t,r){return rn(t,r,!0).squeezeJoin()}),YM=(t,r)=>(r=r.map(nt),r.length==0?_t:t.fmap(i=>{const u=Te(Math.round(i),r.length);return r[u]}).squeezeJoin()),io=(t,r)=>(r=r.map(nt),r.length==0?_t:t.range(0,r.length).fmap(i=>{const u=Math.min(Math.max(Math.floor(i),0),r.length-1);return r[u]})),ss=(t,r)=>io(t,r).outerJoin(),so=(t,r)=>io(t,r).innerJoin(),UM=(...t)=>ss(Ce,t);ot.prototype.choose=function(...t){return ss(this,t)};ot.prototype.choose2=function(...t){return ss(this.fromBipolar(),t)};const Lm=(...t)=>so(Ce.segment(1),t),$M=Lm,jm=function(t,...r){const i=r.map(l=>nt(l[0])),u=[];let o=0;for(const l of r)o+=l[1],u.push(o);const a=o,c=function(l){const p=l*a;return i[u.findIndex(d=>d>p,u)]};return t.fmap(c)},JM=(...t)=>jm(...t).outerJoin(),QM=(...t)=>JM(Ce,...t),Om=(...t)=>jm(Ce.segment(1),...t).innerJoin(),tb=Om,Gm=t=>{const r=t.fmap(Math.floor),i=t.fmap(a=>Math.floor(a)+1),u=a=>6*a**5-15*a**4+10*a**3,o=a=>c=>l=>c+u(a)*(l-c);return t.sub(r).fmap(o).appBoth(r.fmap(pu)).appBoth(i.fmap(pu))},eb=Gm(Nm.fmap(t=>Number(t))),nb=z("degradeByWith",(t,r,i)=>i.fmap(u=>o=>u).appLeft(t.filterValues(u=>u>r))),rb=z("degradeBy",function(t,r){return r._degradeByWith(Ce,t)}),ib=z("degrade",t=>t._degradeBy(.5)),sb=z("undegradeBy",function(t,r){return r._degradeByWith(Ce.fmap(i=>1-i),t)}),ub=z("undegrade",t=>t._undegradeBy(.5)),ob=z("sometimesBy",function(t,r,i){return nt(t).fmap(u=>qt(i._degradeBy(u),r(i._undegradeBy(1-u)))).innerJoin()}),ab=z("sometimes",function(t,r){return r._sometimesBy(.5,t)}),cb=z("someCyclesBy",function(t,r,i){return nt(t).fmap(u=>qt(i._degradeByWith(Ce._segment(1),u),r(i._degradeByWith(Ce.fmap(o=>1-o)._segment(1),1-u)))).innerJoin()}),lb=z("someCycles",function(t,r){return r._someCyclesBy(.5,t)}),hb=z("often",function(t,r){return r.sometimesBy(.75,t)}),pb=z("rarely",function(t,r){return r.sometimesBy(.25,t)}),mb=z("almostNever",function(t,r){return r.sometimesBy(.1,t)}),db=z("almostAlways",function(t,r){return r.sometimesBy(.9,t)}),fb=z("never",function(t,r){return r}),gb=z("always",function(t,r){return t(r)});let Oi;try{Oi=window?.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let Pa=Oi?.getVoices();function Ab(t,r,i){Oi.cancel();const u=new SpeechSynthesisUtterance(t);u.lang=r,Pa=Oi.getVoices();const o=Pa.filter(a=>a.lang.includes(r));typeof i=="number"?u.voice=o[i%o.length]:typeof i=="string"&&(u.voice=o.find(a=>a.name===a)),speechSynthesis.speak(u)}const Cb=z("speak",function(t,r,i){return i.onTrigger((u,o)=>{Ab(o.value,t,r)})}),Gi=async(...t)=>{const r=await Promise.allSettled(t),i=r.filter(u=>u.status==="fulfilled").map(u=>u.value);return r.forEach((u,o)=>{u.status==="rejected"&&console.warn(`evalScope: module with index ${o} could not be loaded:`,u.reason)}),i.forEach(u=>{Object.entries(u).forEach(([o,a])=>{globalThis[o]=a})}),i};function yb(t,r={}){const{wrapExpression:i=!0,wrapAsync:u=!0}=r;i&&(t=`{${t}}`),u&&(t=`(async ()=>${t})()`);const o=`"use strict";return (${t})`;return Function(o)()}const zm=async(t,r)=>{let i={};if(r){const u=r(t);t=u.output,i=u}return{mode:"javascript",pattern:await yb(t,{wrapExpression:!!r}),meta:i}};function Mb(t){return new SharedWorker("/assets/clockworker-OodvW4tn.js",{name:t?.name})}class bb{constructor({onTrigger:r,onToggle:i,getTime:u}){this.started=!1,this.cps=.5,this.lastTick=0,this.getTime=u,this.time_at_last_tick_message=0,this.num_cycles_at_cps_change=0,this.onToggle=i,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker_time_dif,this.worker=new Mb,this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");let o=0;const a=20,c=10**3,l=(f,g,A)=>{const P=u()-(f+g)+A;if(this.worker_time_dif==null)this.worker_time_dif=P;else{const E=Math.round((this.worker_time_dif*o+P*1)/(o+1)*c)/c;E!=this.worker_time_dif&&(o=4),this.worker_time_dif=E}o=Math.min(o+1,a)},p=f=>{const{num_cycles_at_cps_change:g,cps:A,num_seconds_at_cps_change:P,num_seconds_since_cps_change:E,begin:F,end:S,tickdeadline:N,cycle:L}=f;this.cps=A,this.cycle=L,l(P,E,N),d(F,S,g,P),this.time_at_last_tick_message=this.getTime()},d=(f,g,A,P)=>{this.started!==!1&&this.pattern.queryArc(f,g,{_cps:this.cps}).forEach(E=>{if(E.hasOnset()){const F=(E.whole.begin-A)/this.cps+P+this.latency+this.worker_time_dif,S=E.duration/this.cps;r?.(E,0,S,this.cps,F)}})};this.channel.onmessage=f=>{if(!this.started)return;const{payload:g,type:A}=f.data;switch(A){case"tick":p(g)}}}sendMessage(r,i){this.worker.port.postMessage({type:r,payload:i,id:this.id})}now(){const r=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+r}setCps(r=1){this.sendMessage("cpschange",{cps:r})}setCycle(r){this.sendMessage("setcycle",{cycle:r})}setStarted(r){this.sendMessage("toggle",{started:r}),this.started=r,this.onToggle?.(r)}start(){Yt("[cyclist] start"),this.setStarted(!0)}stop(){this.worker_time_dif=null,Yt("[cyclist] stop"),this.setStarted(!1)}setPattern(r,i=!1){this.pattern=r,i&&!this.started&&this.start()}log(r,i,u){const o=u.filter(a=>a.hasOnset());console.log(`${r.toFixed(4)} - ${i.toFixed(4)} ${Array(o.length).fill("I").join("")}`)}}class Wm{constructor({interval:r,onTrigger:i,onToggle:u,onError:o,getTime:a,latency:c=.1,setInterval:l,clearInterval:p}){this.started=!1,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=a,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=u,this.latency=c,this.clock=Im(a,(d,f,g,A)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=d),this.num_ticks_since_cps_change++;const P=this.num_ticks_since_cps_change*f*this.cps;try{const E=this.lastEnd;this.lastBegin=E;const F=this.num_cycles_at_cps_change+P;if(this.lastEnd=F,this.lastTick=d,d<A){console.log("skip query: too late");return}this.pattern.queryArc(E,F,{_cps:this.cps}).forEach(S=>{if(S.hasOnset()){const N=(S.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+c,L=S.duration/this.cps,K=N-d;i?.(S,K,L,this.cps,N)}})}catch(E){Yt(`[cyclist] error: ${E.message}`),o?.(E)}},r,.1,.1,l,p)}now(){if(!this.started)return 0;const r=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+r*this.cps}setStarted(r){this.started=r,this.onToggle?.(r)}start(){if(this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");Yt("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){Yt("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){Yt("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}setPattern(r,i=!1){this.pattern=r,i&&!this.started&&this.start()}setCps(r=.5){this.cps!==r&&(this.cps=r,this.num_ticks_since_cps_change=0)}log(r,i,u){const o=u.filter(a=>a.hasOnset());console.log(`${r.toFixed(4)} - ${i.toFixed(4)} ${Array(o.length).fill("I").join("")}`)}}let mu;function du(){if(!mu)throw new Error("no time set! use setTime to define a time source");return mu()}function uo(t){mu=t}function Pb({defaultOutput:t,onEvalError:r,beforeEval:i,afterEval:u,getTime:o,transpiler:a,onToggle:c,editPattern:l,onUpdateState:p,sync:d=!1,setInterval:f,clearInterval:g}){const A={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},P=Z=>{Object.assign(A,Z),A.isDirty=A.code!==A.activeCode,A.error=A.evalError||A.schedulerError,p?.(A)},E={onTrigger:qm({defaultOutput:t,getTime:o}),getTime:o,onToggle:Z=>{P({started:Z}),c?.(Z)},setInterval:f,clearInterval:g},F=d&&typeof SharedWorker<"u"?new bb(E):new Wm(E);let S={},N=0,L;const K=function(){return S={},N=0,L=void 0,_t},k=(Z,U=!0)=>{Z=l?.(Z)||Z,F.setPattern(Z,U)};uo(()=>F.now());const x=()=>F.stop(),R=()=>F.start(),T=()=>F.pause(),G=()=>F.toggle(),H=Z=>F.setCps(Z),W=Z=>F.setCps(Z/60),J=function(Z){return L=Z,_t},X=()=>{ot.prototype.p=function(U){return U.startsWith("_")||U.endsWith("_")?_t:(U==="$"&&(U=`$${N}`,N++),S[U]=this,this)},ot.prototype.q=function(U){return _t};try{for(let U=1;U<10;++U)Object.defineProperty(ot.prototype,`d${U}`,{get(){return this.p(U)},configurable:!0}),Object.defineProperty(ot.prototype,`p${U}`,{get(){return this.p(U)},configurable:!0}),ot.prototype[`q${U}`]=_t}catch(U){console.warn("injectPatternMethods: error:",U)}const Z=z("cpm",function(U,gt){return gt._fast(U/60/F.cps)});return Gi({all:J,hush:K,cpm:Z,setCps:H,setcps:H,setCpm:W,setcpm:W})};return{scheduler:F,evaluate:async(Z,U=!0,gt=!0)=>{if(!Z)throw new Error("no code to evaluate");try{P({code:Z,pending:!0}),await X(),await i?.({code:Z}),gt&&K();let{pattern:ut,meta:dt}=await zm(Z,a);if(Object.keys(S).length&&(ut=qt(...Object.values(S))),L&&(ut=L(ut)),!Wu(ut)){const ht=`got "${typeof evaluated}" instead of pattern`;throw new Error(ht+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return Yt("[eval] code updated"),k(ut,U),P({miniLocations:dt?.miniLocations||[],widgets:dt?.widgets||[],activeCode:Z,pattern:ut,evalError:void 0,schedulerError:void 0,pending:!1}),u?.({code:Z,pattern:ut,meta:dt}),ut}catch(ut){Yt(`[eval] error: ${ut.message}`,"error"),console.error(ut),P({evalError:ut,pending:!1}),r?.(ut)}},start:R,stop:x,pause:T,setCps:H,setPattern:k,setCode:Z=>P({code:Z}),toggle:G,state:A}}const qm=({getTime:t,defaultOutput:r})=>async(i,u,o,a,c)=>{try{(!i.context.onTrigger||!i.context.dominantTrigger)&&await r(i,u,o,a,c),i.context.onTrigger&&await i.context.onTrigger(t()+u,i,t(),a,c)}catch(l){Yt(`[cyclist] error: ${l.message}`,"error")}},Db=function(t,r={}){const i=document.getElementById("code"),u="background-image:url("+t+");background-size:contain;";i.style=u;const{className:o}=i,a=(l,p)=>{({style:()=>i.style=u+";"+p,className:()=>i.className=p+" "+o})[l]()},c=Object.entries(r).filter(([l,p])=>typeof p=="function");Object.entries(r).filter(([l,p])=>typeof p=="string").forEach(([l,p])=>a(l,p)),c.length},vb=()=>{const t=document.getElementById("code");t&&(t.style="")};Yt("🌀 @strudel/core loaded 🌀");globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed.
Please check with "npm ls @strudel/core".`);globalThis._strudelLoaded=!0;const Xm=Object.freeze(Object.defineProperty({__proto__:null,Cyclist:Wm,Fraction:tt,Hap:oe,Pattern:ot,State:uu,TimeSpan:Ze,__chooseWith:io,_brandBy:ro,_fitslice:Al,_irand:Tm,_match:Cl,_mod:Te,_polymeterListSteps:Ku,_retime:lu,_slices:hu,accelerate:Il,activeLabel:u0,ad:Dm,add:u3,adsr:Pm,almostAlways:db,almostNever:mb,always:gb,amp:kl,analyze:Zl,anchor:S0,and:E3,apply:ey,ar:Em,arrange:Q2,att:Tl,attack:Nl,backgroundImage:Db,band:p3,bandf:eh,bandq:ih,bank:Xl,base64ToUnicode:ul,begin:uh,binshift:Tp,bjork:wm,blshift:f3,bor:m3,bp:rh,bpa:Zh,bpattack:Xh,bpd:Jh,bpdecay:$h,bpe:Oh,bpenv:jh,bpf:nh,bpq:sh,bpr:l1,bprelease:c1,bps:i1,bpsustain:r1,brak:fy,brand:NM,brandBy:kM,brshift:g3,bxor:d3,bypass:jy,calculateTactus:X2,cat:ml,ccn:Op,ccv:Gp,ceil:x3,ch:Ah,channel:Ih,channels:gh,choose:UM,chooseCycles:Lm,chooseInWith:so,chooseWith:ss,chop:Qy,chord:B0,chunk:_y,chunkBack:Ty,chunkback:Ry,clamp:zu,cleanupUi:vb,clip:rm,coarse:dh,code2hash:G2,color:Mm,colour:bm,comb:_p,compose:I2,compress:V3,compressSpan:L3,compressor:$0,compressorAttack:tp,compressorKnee:J0,compressorRatio:Q0,compressorRelease:ep,compressspan:j3,constant:x2,control:jp,controls:cM,cosine:CM,cosine2:yM,cpm:ny,cps:nm,createClock:Im,createParam:rs,createParams:$u,crush:mh,ctf:_h,ctlNum:Xp,ctranspose:l0,curry:Ft,curve:am,cut:xh,cutoff:Sh,dec:Yl,decay:Kl,degrade:ib,degradeBy:rb,degradeByWith:nb,degree:a0,delay:w1,delayfb:I1,delayfeedback:B1,delayt:_1,delaytime:S1,deltaSlide:cm,det:R1,detune:T1,dfb:x1,dict:x0,dictionary:I0,dist:U0,distort:Y0,div:c3,djf:F1,drawLine:al,drive:fh,dry:j1,ds:vm,dt:k1,dur:um,duration:sm,early:ry,echo:Fy,echoWith:Py,echowith:Dy,end:oh,enhance:xp,eq:b3,eqt:P3,euclid:pM,euclidLegato:fM,euclidLegatoRot:gM,euclidRot:dM,euclidrot:mM,evalScope:Gi,evaluate:zm,every:ty,expression:op,fadeInTime:z1,fadeOutTime:G1,fadeTime:O1,fanchor:p1,fast:Z3,fastChunk:Ly,fastGap:O3,fastcat:Le,fastchunk:Vy,fastgap:G3,fft:Hl,firstOf:Q3,fit:iM,flatten:Cn,floor:I3,fm:Ll,fmattack:Ol,fmdecay:Gl,fmenv:jl,fmh:Rl,fmi:Vl,fmrelease:Wl,fmsustain:zl,fmvelocity:ql,focus:z3,focusSpan:W3,focusspan:q3,fractionalArgs:S2,frameRate:Zp,frames:Hp,freeze:Ep,freq:W1,freqToMidi:Ru,fromBipolar:_3,fshift:mp,fshiftnote:dp,fshiftphase:fp,ftype:h1,func:w3,gain:Sl,gap:Fr,gat:n0,gate:e0,getEventOffsetMs:v2,getFreq:$c,getFrequency:Qc,getPlayableNoteValue:B2,getSoundIndex:w2,getTime:du,getTrigger:qm,gt:C3,gte:M3,harmonic:h0,hash2code:z2,hbrick:Rp,hcutoff:y1,hold:th,hours:Kp,hp:b1,hpa:qh,hpattack:Wh,hpd:Uh,hpdecay:Yh,hpe:Lh,hpenv:Vh,hpf:M1,hpq:D1,hpr:a1,hprelease:o1,hps:n1,hpsustain:e1,hresonance:P1,hsl:zy,hsla:Gy,hurry:H3,id:mr,imag:Ip,inhabit:XM,inhabitmod:HM,inside:U3,inv:py,invert:hy,ir:z0,irand:TM,iresponse:W0,isNote:nr,isNoteWithOctave:M2,isPattern:Wu,isaw:Qu,isaw2:xm,iter:By,iterBack:Iy,iterback:xy,jux:by,juxBy:yy,juxby:My,kcutoff:Cp,keep:i3,keepif:s3,krush:Ap,label:o0,lastOf:J3,late:fl,lbrick:Vp,legato:im,leslie:r0,lfo:pm,linger:oy,listRange:Vu,lock:N1,logKey:Tu,logger:Yt,loop:ah,loopAt:nM,loopAtCps:sM,loopBegin:ch,loopEnd:hh,loopat:rM,loopatcps:uM,loopb:lh,loope:ph,lp:Nh,lpa:zh,lpattack:Gh,lpd:Kh,lpdecay:Hh,lpe:Rh,lpenv:Th,lpf:kh,lpq:E1,lpr:u1,lprelease:s1,lps:t1,lpsustain:Qh,lrate:i0,lsize:s0,lt:A3,lte:y3,mapArgs:ju,mask:t3,midi2note:F2,midiToFreq:yr,midibend:Wp,midichan:Lp,midicmd:Yp,miditouch:qp,minutes:Up,mod:l3,mode:N0,mouseX:FM,mouseY:vM,mousex:EM,mousey:DM,mtranspose:c0,mul:a3,n:wl,nanFallback:Jc,ne:D3,net:v3,never:fb,noise:g1,note:Bl,noteToMidi:zn,nothing:en,nudge:d0,numeralArgs:Se,objectMap:ol,octave:f0,octaveR:m0,octaves:k0,octer:yp,octersub:Mp,octersubsub:bp,off:dy,offset:_0,often:hb,or:F3,orbit:g0,outside:$3,overgain:A0,overshape:C0,pairs:rl,palindrome:Cy,pan:y0,panchor:t0,panorient:D0,panspan:M0,pansplay:b0,panwidth:P0,parseFractional:nl,parseNumeral:Lu,partials:Sp,patt:X1,pattack:q1,pcurve:Q1,pdec:H1,pdecay:Z1,penv:J1,perlin:eb,perlinWith:Gm,ph:bh,phasdp:Bh,phaser:Mh,phasercenter:vh,phaserdepth:Fh,phaserrate:Ch,phasersweep:Ph,phasr:yh,phc:Eh,phd:wh,phs:Dh,pick:Rm,pickF:VM,pickOut:jM,pickReset:WM,pickRestart:GM,pickSqueeze:ZM,pickmod:Vm,pickmodF:LM,pickmodOut:OM,pickmodReset:qM,pickmodRestart:zM,pickmodSqueeze:KM,pipe:el,pitchJump:lm,pitchJumpTime:hm,ply:X3,pm:$2,polyTouch:zp,polyrhythm:Y2,postgain:_l,pow:h3,pr:U2,prel:$1,prelease:U1,press:Ay,pressBy:gy,progNum:$p,psus:Y1,psustain:K1,pure:le,rand:Ce,rand2:_M,randcat:$M,range:k3,range2:T3,rangex:N3,rarely:pb,rate:v0,ratio:R3,rdim:j0,real:Bp,ref:oM,register:z,registerControl:_,reify:nt,rel:Ql,release:Jl,removeUndefineds:Er,repeatCycles:Sy,repeatTime:mm,repl:Pb,resonance:v1,rev:gl,rfade:G0,ribbon:Oy,ring:Pp,ringdf:vp,ringf:Dp,rlp:V0,room:T0,roomdim:L0,roomfade:O0,roomlp:R0,roomsize:q0,rotate:tl,round:B3,rsize:H0,run:SM,s:Dl,s_add:Zy,s_alt:Xy,s_cat:Ve,s_contract:Yy,s_expand:Ky,s_polymeter:Yu,s_polymeterSteps:yl,s_sub:Hy,s_taper:$y,s_taperlist:Uy,s_tour:Jy,saw:is,saw2:Sm,scram:Np,seconds:Jp,segment:ay,semitone:F0,seq:dl,sequence:Re,set:r3,setStringParser:cl,setTime:uo,shape:K0,signal:$e,silence:_t,sine:_m,sine2:to,size:X0,slice:bl,slide:E0,slow:K3,slowChunk:Ny,slowcat:rr,slowcatPrime:Xu,slowchunk:ky,smear:kp,sol2note:L2,someCycles:lb,someCyclesBy:cb,sometimes:ab,sometimesBy:ob,songPtr:Qp,sound:vl,source:El,sparsity:Y3,speak:Cb,speed:np,splice:eM,splitAt:Ou,spread:L1,square:km,square2:MM,squeeze:YM,squiz:ip,src:Fl,stack:qt,stackBy:J2,stackCentre:pl,stackLeft:ll,stackRight:hl,steady:AM,steps:Wy,stepsPerOctave:p0,striate:tM,struct:e3,stut:wy,stutWith:vy,stutwith:Ey,sub:o3,superimpose:n3,sus:$l,sustain:Ul,sustainpedal:ap,swing:ly,swingBy:cy,sz:Z0,time:Nm,timeCat:Uu,timecat:qy,toBipolar:S3,tokenizeNote:Uc,tremdp:lp,tremolo:Cm,tremolodepth:cp,tremolorate:hp,tremr:pp,tri:bM,tri2:PM,triode:gp,tsdelay:wp,uid:tm,undegrade:ub,undegradeBy:sb,unicodeToBase64:sl,uniq:j2,uniqsort:O2,uniqsortr:il,unison:V1,unit:rp,v:f1,val:em,valueToMidi:D2,velocity:xl,vib:m1,vibmod:A1,vibrato:d1,vmod:C1,voice:w0,vowel:sp,waveloss:up,wchoose:QM,wchooseCycles:Om,when:my,wrandcat:tb,xfade:Pl,xsdelay:Fp,zcrush:gm,zdelay:Am,zipWith:Gu,zmod:fm,znoise:dm,zoom:iy,zoomArc:sy,zoomarc:uy,zrand:om,zzfx:ym},Symbol.toStringTag,{value:"Module"}));let ce=[],Eb=(t,r)=>{let i=[],u={get(){return u.lc||u.listen(()=>{})(),u.value},l:0,lc:0,listen(o,a){return u.lc=i.push(o,a||u.l)/2,()=>{let c=i.indexOf(o);~c&&(i.splice(c,2),--u.lc||u.off())}},notify(o){let a=!ce.length;for(let c=0;c<i.length;c+=2)ce.push(i[c],i[c+1],u.value,o);if(a){for(let c=0;c<ce.length;c+=4){let l;for(let p=c+1;!l&&(p+=4)<ce.length;)ce[p]<ce[c+1]&&(l=ce.push(ce[c],ce[c+1],ce[c+2],ce[c+3]));l||ce[c](ce[c+2],ce[c+3])}ce.length=0}},off(){},set(o){u.value!==o&&(u.value=o,u.notify())},subscribe(o,a){let c=u.listen(o,a);return o(u.value),c},value:t};return u},Fb=(t={})=>{let r=Eb(t);return r.setKey=function(i,u){typeof u>"u"?i in r.value&&(r.value={...r.value},delete r.value[i],r.notify(i)):r.value[i]!==u&&(r.value={...r.value,[i]:u},r.notify(i))},r};if(typeof DelayNode<"u"){class t extends DelayNode{constructor(i,u,o,a){super(i),u=Math.abs(u),this.delayTime.value=o;const c=i.createGain();c.gain.value=Math.min(Math.abs(a),.995),this.feedback=c.gain;const l=i.createGain();return l.gain.value=u,this.delayGain=l,this.connect(c),this.connect(l),c.connect(this),this.connect=p=>l.connect(p),this}start(i){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,i+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(r,i,u){return new t(this,r,i,u)}}var oo={};oo.generateReverb=function(t,r){for(var i=t.audioContext||new AudioContext,u=i.sampleRate,o=t.numChannels||2,a=t.decayTime*1.5,c=Math.round(t.decayTime*u),l=Math.round(a*u),p=Math.round((t.fadeInTime||0)*u),d=Math.pow(1/1e3,1/c),f=i.createBuffer(o,l,u),g=0;g<o;g++){for(var A=f.getChannelData(g),P=0;P<l;P++)A[P]=Ib()*Math.pow(d,P);for(var P=0;P<p;P++)A[P]*=P/p}wb(f,t.lpFreqStart||0,t.lpFreqEnd||0,t.decayTime,r)};oo.generateGraph=function(t,r,i,u,o){var a=document.createElement("canvas");a.width=r,a.height=i;var c=a.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,a.width,a.height),c.fillStyle="#fff";for(var l=r/t.length,p=i/(o-u),d=0;d<t.length;d++)c.fillRect(d*l,i-(t[d]-u)*p,1,1);return a};var wb=function(t,r,i,u,o){if(r==0){o(t);return}var a=Bb(t),c=new OfflineAudioContext(t.numberOfChannels,a[0].length,t.sampleRate),l=c.createBufferSource();l.buffer=t;var p=c.createBiquadFilter();r=Math.min(r,t.sampleRate/2),i=Math.min(i,t.sampleRate/2),p.type="lowpass",p.Q.value=1e-4,p.frequency.setValueAtTime(r,0),p.frequency.linearRampToValueAtTime(i,u),l.connect(p),p.connect(c.destination),l.start(),c.oncomplete=function(d){o(d.renderedBuffer)},c.startRendering(),window.filterNode=p},Bb=function(t){for(var r=[],i=0;i<t.numberOfChannels;i++)r[i]=t.getChannelData(i);return r},Ib=function(){return Math.random()*2-1};typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(t,r){const i=r.sampleRate*t,u=this.createBuffer(r.numberOfChannels,r.length,r.sampleRate);for(let o=0;o<r.numberOfChannels;o++){let a=r.getChannelData(o),c=u.getChannelData(o);for(let l=0;l<i;l++)c[l]=a[l]||0}return u},AudioContext.prototype.createReverb=function(t,r,i,u,o){const a=this.createConvolver();return a.generate=(c=2,l=.1,p=15e3,d=1e3,f)=>{a.duration=c,a.fade=l,a.lp=p,a.dim=d,a.ir=f,f?a.buffer=this.adjustLength(c,f):oo.generateReverb({audioContext:this,numChannels:2,decayTime:c,fadeInTime:l,lpFreqStart:p,lpFreqEnd:d},g=>{a.buffer=g})},a.generate(t,r,i,u,o),a});var Da={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class t extends GainNode{constructor(i,u){if(super(i),!Da[u])throw new Error("vowel: unknown vowel "+u);const{gains:o,qs:a,freqs:c}=Da[u],l=i.createGain();for(let p=0;p<5;p++){const d=i.createGain();d.gain.value=o[p];const f=i.createBiquadFilter();f.type="bandpass",f.Q.value=a[p],f.frequency.value=c[p],this.connect(f),f.connect(d),d.connect(l)}return l.gain.value=8,this.connect=p=>l.connect(p),this}}AudioContext.prototype.createVowelFilter=function(r){return new t(this,r)}}let Zm=t=>console.log(t);const Ke=(...t)=>Zm(...t),Hm=t=>{Zm=t},xb=t=>{if(typeof t!="string")return[];const[r,i="",u]=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return r?[r,i,u?Number(u):void 0]:[]},Sb={c:0,d:2,e:4,f:5,g:7,a:9,b:11},_b={"#":1,b:-1,s:1,f:-1},us=(t,r=3)=>{const[i,u,o=r]=xb(t);if(!i)throw new Error('not a note: "'+t+'"');const a=Sb[i.toLowerCase()],c=u?.split("").reduce((l,p)=>l+_b[p],0)||0;return(Number(o)+1)*12+a+c},Km=t=>Math.pow(2,(t-69)/12)*440,Mr=(t,r,i)=>Math.min(Math.max(t,r),i),kb=t=>12*Math.log(t/440)/Math.LN2+69,Nb=(t,r)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:i,note:u}=t;return typeof i=="number"?kb(i):typeof u=="string"?us(u):typeof u=="number"?u:r};function yn(t,r=0,i){return isNaN(Number(t))?(!i&&Ke(`"${t}" is not a number, falling back to ${r}`,"warning"),r):t}const Ym=(t,r)=>(t%r+r)%r,va=(t,r)=>Ym(Math.round(yn(t,0)),r),Tb="data:application/javascript;base64,Ly8gY29hcnNlLCBjcnVzaCwgYW5kIHNoYXBlIHByb2Nlc3NvcnMgYWRhcHRlZCBmcm9tIGRrdHIwJ3Mgd2ViZGlydDogaHR0cHM6Ly9naXRodWIuY29tL2RrdHIwL1dlYkRpcnQvYmxvYi81Y2UzZDY5ODM2MmM1NGQ2ZTFiNjhhY2M0N2ViMjk1NWFjNjJjNzkzL2Rpc3QvQXVkaW9Xb3JrbGV0cy5qcwovLyBMSUNFTlNFIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ka3RyMC9XZWJEaXJ0L2Jsb2IvbWFpbi9MSUNFTlNFCi8vIFRPRklYOiBUSElTIEZJTEUgRE9FUyBOT1QgU1VQUE9SVCBJTVBPUlRTIE9OIERFUE9MWU1FTlQKY29uc3QgY2xhbXAgPSAobnVtLCBtaW4sIG1heCkgPT4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpOwpjb25zdCBfbW9kID0gKG4sIG0pID0+ICgobiAlIG0pICsgbSkgJSBtOwoKY29uc3QgYmxvY2tTaXplID0gMTI4OwovLyBhZGp1c3Qgd2F2ZXNoYXBlIHRvIHJlbW92ZSBmcmVxdWVuY2llcyBhYm92ZSBueXF1aXN0IHRvIHByZXZlbnQgYWxpYXNpbmcKLy8gcmVmZXJlbmNlZCBmcm9tIGh0dHBzOi8vd3d3Lmt2cmF1ZGlvLmNvbS9mb3J1bS92aWV3dG9waWMucGhwP3Q9Mzc1NTE3CmZ1bmN0aW9uIHBvbHlCbGVwKHBoYXNlLCBkdCkgewogIC8vIDAgPD0gcGhhc2UgPCAxCiAgaWYgKHBoYXNlIDwgZHQpIHsKICAgIHBoYXNlIC89IGR0OwogICAgLy8gMiAqIChwaGFzZSAtIHBoYXNlXjIvMiAtIDAuNSkKICAgIHJldHVybiBwaGFzZSArIHBoYXNlIC0gcGhhc2UgKiBwaGFzZSAtIDE7CiAgfQoKICAvLyAtMSA8IHBoYXNlIDwgMAogIGVsc2UgaWYgKHBoYXNlID4gMSAtIGR0KSB7CiAgICBwaGFzZSA9IChwaGFzZSAtIDEpIC8gZHQ7CiAgICAvLyAyICogKHBoYXNlXjIvMiArIHBoYXNlICsgMC41KQogICAgcmV0dXJuIHBoYXNlICogcGhhc2UgKyBwaGFzZSArIHBoYXNlICsgMTsKICB9CgogIC8vIDAgb3RoZXJ3aXNlCiAgZWxzZSB7CiAgICByZXR1cm4gMDsKICB9Cn0KCmNvbnN0IHdhdmVzaGFwZXMgPSB7CiAgdHJpKHBoYXNlLCBza2V3ID0gMC41KSB7CiAgICBjb25zdCB4ID0gMSAtIHNrZXc7CiAgICBpZiAocGhhc2UgPj0gc2tldykgewogICAgICByZXR1cm4gMSAvIHggLSBwaGFzZSAvIHg7CiAgICB9CiAgICByZXR1cm4gcGhhc2UgLyBza2V3OwogIH0sCiAgc2luZShwaGFzZSkgewogICAgcmV0dXJuIE1hdGguc2luKE1hdGguUEkgKiAyICogcGhhc2UpICogMC41ICsgMC41OwogIH0sCiAgcmFtcChwaGFzZSkgewogICAgcmV0dXJuIHBoYXNlOwogIH0sCiAgc2F3KHBoYXNlKSB7CiAgICByZXR1cm4gMSAtIHBoYXNlOwogIH0sCgogIHNxdWFyZShwaGFzZSwgc2tldyA9IDAuNSkgewogICAgaWYgKHBoYXNlID49IHNrZXcpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICByZXR1cm4gMTsKICB9LAogIGN1c3RvbShwaGFzZSwgdmFsdWVzID0gWzAsIDFdKSB7CiAgICBjb25zdCBudW1QYXJ0cyA9IHZhbHVlcy5sZW5ndGggLSAxOwogICAgY29uc3QgY3VyclBhcnQgPSBNYXRoLmZsb29yKHBoYXNlICogbnVtUGFydHMpOwoKICAgIGNvbnN0IHBhcnRMZW5ndGggPSAxIC8gbnVtUGFydHM7CiAgICBjb25zdCBzdGFydFZhbCA9IGNsYW1wKHZhbHVlc1tjdXJyUGFydF0sIDAsIDEpOwogICAgY29uc3QgZW5kVmFsID0gY2xhbXAodmFsdWVzW2N1cnJQYXJ0ICsgMV0sIDAsIDEpOwogICAgY29uc3QgeTIgPSBlbmRWYWw7CiAgICBjb25zdCB5MSA9IHN0YXJ0VmFsOwogICAgY29uc3QgeDEgPSAwOwogICAgY29uc3QgeDIgPSBwYXJ0TGVuZ3RoOwogICAgY29uc3Qgc2xvcGUgPSAoeTIgLSB5MSkgLyAoeDIgLSB4MSk7CiAgICByZXR1cm4gc2xvcGUgKiAocGhhc2UgLSBwYXJ0TGVuZ3RoICogY3VyclBhcnQpICsgc3RhcnRWYWw7CiAgfSwKICBzYXdibGVwKHBoYXNlLCBkdCkgewogICAgY29uc3QgdiA9IDIgKiBwaGFzZSAtIDE7CiAgICByZXR1cm4gdiAtIHBvbHlCbGVwKHBoYXNlLCBkdCk7CiAgfSwKfTsKCmNvbnN0IHdhdmVTaGFwZU5hbWVzID0gT2JqZWN0LmtleXMod2F2ZXNoYXBlcyk7CmNsYXNzIExGT1Byb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsgbmFtZTogJ3RpbWUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAnZW5kJywgZGVmYXVsdFZhbHVlOiAwIH0sCiAgICAgIHsgbmFtZTogJ2ZyZXF1ZW5jeScsIGRlZmF1bHRWYWx1ZTogMC41IH0sCiAgICAgIHsgbmFtZTogJ3NrZXcnLCBkZWZhdWx0VmFsdWU6IDAuNSB9LAogICAgICB7IG5hbWU6ICdkZXB0aCcsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdwaGFzZW9mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdzaGFwZScsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdkY29mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2U7CiAgfQoKICBpbmNyZW1lbnRQaGFzZShkdCkgewogICAgdGhpcy5waGFzZSArPSBkdDsKICAgIGlmICh0aGlzLnBoYXNlID4gMS4wKSB7CiAgICAgIHRoaXMucGhhc2UgPSB0aGlzLnBoYXNlIC0gMTsKICAgIH0KICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbWV0ZXJzLmVuZFswXSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKICAgIGNvbnN0IGZyZXF1ZW5jeSA9IHBhcmFtZXRlcnNbJ2ZyZXF1ZW5jeSddWzBdOwoKICAgIGNvbnN0IHRpbWUgPSBwYXJhbWV0ZXJzWyd0aW1lJ11bMF07CiAgICBjb25zdCBkZXB0aCA9IHBhcmFtZXRlcnNbJ2RlcHRoJ11bMF07CiAgICBjb25zdCBza2V3ID0gcGFyYW1ldGVyc1snc2tldyddWzBdOwogICAgY29uc3QgcGhhc2VvZmZzZXQgPSBwYXJhbWV0ZXJzWydwaGFzZW9mZnNldCddWzBdOwoKICAgIGNvbnN0IGRjb2Zmc2V0ID0gcGFyYW1ldGVyc1snZGNvZmZzZXQnXVswXTsKICAgIGNvbnN0IHNoYXBlID0gd2F2ZVNoYXBlTmFtZXNbcGFyYW1ldGVyc1snc2hhcGUnXVswXV07CgogICAgY29uc3QgYmxvY2tTaXplID0gb3V0cHV0WzBdLmxlbmd0aCA/PyAwOwoKICAgIGlmICh0aGlzLnBoYXNlID09IG51bGwpIHsKICAgICAgdGhpcy5waGFzZSA9IF9tb2QodGltZSAqIGZyZXF1ZW5jeSArIHBoYXNlb2Zmc2V0LCAxKTsKICAgIH0KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgY29uc3QgZHQgPSBmcmVxdWVuY3kgLyBzYW1wbGVSYXRlOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG1vZHZhbCA9ICh3YXZlc2hhcGVzW3NoYXBlXSh0aGlzLnBoYXNlLCBza2V3KSArIGRjb2Zmc2V0KSAqIGRlcHRoOwogICAgICAgIG91dHB1dFtpXVtuXSA9IG1vZHZhbDsKICAgICAgfQogICAgICB0aGlzLmluY3JlbWVudFBoYXNlKGR0KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2xmby1wcm9jZXNzb3InLCBMRk9Qcm9jZXNzb3IpOwoKY2xhc3MgQ29hcnNlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjb2Fyc2UnLCBkZWZhdWx0VmFsdWU6IDEgfV07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IGNvYXJzZSA9IHBhcmFtZXRlcnMuY29hcnNlWzBdID8/IDA7CiAgICBjb2Fyc2UgPSBNYXRoLm1heCgxLCBjb2Fyc2UpOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gbiAlIGNvYXJzZSA9PT0gMCA/IGlucHV0W2ldW25dIDogb3V0cHV0W2ldW24gLSAxXTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQp9CnJlZ2lzdGVyUHJvY2Vzc29yKCdjb2Fyc2UtcHJvY2Vzc29yJywgQ29hcnNlUHJvY2Vzc29yKTsKCmNsYXNzIENydXNoUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjcnVzaCcsIGRlZmF1bHRWYWx1ZTogMCB9XTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBsZXQgY3J1c2ggPSBwYXJhbWV0ZXJzLmNydXNoWzBdID8/IDg7CiAgICBjcnVzaCA9IE1hdGgubWF4KDEsIGNydXNoKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB4ID0gTWF0aC5wb3coMiwgY3J1c2ggLSAxKTsKICAgICAgICBvdXRwdXRbaV1bbl0gPSBNYXRoLnJvdW5kKGlucHV0W2ldW25dICogeCkgLyB4OwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2NydXNoLXByb2Nlc3NvcicsIENydXNoUHJvY2Vzc29yKTsKCmNsYXNzIFNoYXBlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnc2hhcGUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAncG9zdGdhaW4nLCBkZWZhdWx0VmFsdWU6IDEgfSwKICAgIF07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IHNoYXBlID0gcGFyYW1ldGVycy5zaGFwZVswXTsKICAgIHNoYXBlID0gc2hhcGUgPCAxID8gc2hhcGUgOiAxLjAgLSA0ZS0xMDsKICAgIHNoYXBlID0gKDIuMCAqIHNoYXBlKSAvICgxLjAgLSBzaGFwZSk7CiAgICBjb25zdCBwb3N0Z2FpbiA9IE1hdGgubWF4KDAuMDAxLCBNYXRoLm1pbigxLCBwYXJhbWV0ZXJzLnBvc3RnYWluWzBdKSk7CgogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gKCgoMSArIHNoYXBlKSAqIGlucHV0W2ldW25dKSAvICgxICsgc2hhcGUgKiBNYXRoLmFicyhpbnB1dFtpXVtuXSkpKSAqIHBvc3RnYWluOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ3NoYXBlLXByb2Nlc3NvcicsIFNoYXBlUHJvY2Vzc29yKTsKCmZ1bmN0aW9uIGZhc3RfdGFuaCh4KSB7CiAgY29uc3QgeDIgPSB4ICogeDsKICByZXR1cm4gKHggKiAoMjcuMCArIHgyKSkgLyAoMjcuMCArIDkuMCAqIHgyKTsKfQpjb25zdCBfUEkgPSAzLjE0MTU5MjY1MzU5OwovL2FkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vVGhlQm91dGVpbGxhY0JlYXIvd2ViYXVkaW93b3JrbGV0LXdhc20/dGFiPU1JVC0xLW92LWZpbGUKY2xhc3MgTGFkZGVyUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZnJlcXVlbmN5JywgZGVmYXVsdFZhbHVlOiA1MDAgfSwKICAgICAgeyBuYW1lOiAncScsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdkcml2ZScsIGRlZmF1bHRWYWx1ZTogMC42OSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogICAgdGhpcy5wMCA9IFswLCAwXTsKICAgIHRoaXMucDEgPSBbMCwgMF07CiAgICB0aGlzLnAyID0gWzAsIDBdOwogICAgdGhpcy5wMyA9IFswLCAwXTsKICAgIHRoaXMucDMyID0gWzAsIDBdOwogICAgdGhpcy5wMzMgPSBbMCwgMF07CiAgICB0aGlzLnAzNCA9IFswLCAwXTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHRoaXMuc3RhcnRlZCA9IGhhc0lucHV0OwoKICAgIGNvbnN0IHJlc29uYW5jZSA9IHBhcmFtZXRlcnMucVswXTsKICAgIGNvbnN0IGRyaXZlID0gY2xhbXAoTWF0aC5leHAocGFyYW1ldGVycy5kcml2ZVswXSksIDAuMSwgMjAwMCk7CgogICAgbGV0IGN1dG9mZiA9IHBhcmFtZXRlcnMuZnJlcXVlbmN5WzBdOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICBjdXRvZmYgPSAoY3V0b2ZmICogMiAqIF9QSSkgLyBzYW1wbGVSYXRlOwogICAgY3V0b2ZmID0gY3V0b2ZmID4gMSA/IDEgOiBjdXRvZmY7CgogICAgY29uc3QgayA9IE1hdGgubWluKDgsIHJlc29uYW5jZSAqIDAuNCk7CiAgICAvLyAgICAgICAgICAgICAgIGRyaXZlIG1ha2V1cCAgKiByZXNvbmFuY2Ugdm9sdW1lIGxvc3MgbWFrZXVwCiAgICBsZXQgbWFrZXVwZ2FpbiA9ICgxIC8gZHJpdmUpICogTWF0aC5taW4oMS43NSwgMSArIGspOwoKICAgIGZvciAobGV0IG4gPSAwOyBuIDwgYmxvY2tTaXplOyBuKyspIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG91dCA9IHRoaXMucDNbaV0gKiAwLjM2MDg5MSArIHRoaXMucDMyW2ldICogMC40MTcyOSArIHRoaXMucDMzW2ldICogMC4xNzc4OTYgKyB0aGlzLnAzNFtpXSAqIDAuMDQzOTcyNTsKCiAgICAgICAgdGhpcy5wMzRbaV0gPSB0aGlzLnAzM1tpXTsKICAgICAgICB0aGlzLnAzM1tpXSA9IHRoaXMucDMyW2ldOwogICAgICAgIHRoaXMucDMyW2ldID0gdGhpcy5wM1tpXTsKCiAgICAgICAgdGhpcy5wMFtpXSArPSAoZmFzdF90YW5oKGlucHV0W2ldW25dICogZHJpdmUgLSBrICogb3V0KSAtIGZhc3RfdGFuaCh0aGlzLnAwW2ldKSkgKiBjdXRvZmY7CiAgICAgICAgdGhpcy5wMVtpXSArPSAoZmFzdF90YW5oKHRoaXMucDBbaV0pIC0gZmFzdF90YW5oKHRoaXMucDFbaV0pKSAqIGN1dG9mZjsKICAgICAgICB0aGlzLnAyW2ldICs9IChmYXN0X3RhbmgodGhpcy5wMVtpXSkgLSBmYXN0X3RhbmgodGhpcy5wMltpXSkpICogY3V0b2ZmOwogICAgICAgIHRoaXMucDNbaV0gKz0gKGZhc3RfdGFuaCh0aGlzLnAyW2ldKSAtIGZhc3RfdGFuaCh0aGlzLnAzW2ldKSkgKiBjdXRvZmY7CgogICAgICAgIG91dHB1dFtpXVtuXSA9IG91dCAqIG1ha2V1cGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignbGFkZGVyLXByb2Nlc3NvcicsIExhZGRlclByb2Nlc3Nvcik7CgpjbGFzcyBEaXN0b3J0UHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZGlzdG9ydCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdwb3N0Z2FpbicsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBjb25zdCBzaGFwZSA9IE1hdGguZXhwbTEocGFyYW1ldGVycy5kaXN0b3J0WzBdKTsKICAgIGNvbnN0IHBvc3RnYWluID0gTWF0aC5tYXgoMC4wMDEsIE1hdGgubWluKDEsIHBhcmFtZXRlcnMucG9zdGdhaW5bMF0pKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBvdXRwdXRbaV1bbl0gPSAoKCgxICsgc2hhcGUpICogaW5wdXRbaV1bbl0pIC8gKDEgKyBzaGFwZSAqIE1hdGguYWJzKGlucHV0W2ldW25dKSkpICogcG9zdGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignZGlzdG9ydC1wcm9jZXNzb3InLCBEaXN0b3J0UHJvY2Vzc29yKTsKCi8vIFNVUEVSU0FXCmZ1bmN0aW9uIGxlcnAoYSwgYiwgbikgewogIHJldHVybiBuICogKGIgLSBhKSArIGE7Cn0KCmZ1bmN0aW9uIGdldFVuaXNvbkRldHVuZSh1bmlzb24sIGRldHVuZSwgdm9pY2VJbmRleCkgewogIGlmICh1bmlzb24gPCAyKSB7CiAgICByZXR1cm4gMDsKICB9CiAgcmV0dXJuIGxlcnAoLWRldHVuZSAqIDAuNSwgZGV0dW5lICogMC41LCB2b2ljZUluZGV4IC8gKHVuaXNvbiAtIDEpKTsKfQpjbGFzcyBTdXBlclNhd09zY2lsbGF0b3JQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2UgPSBbXTsKICB9CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsKICAgICAgICBuYW1lOiAnYmVnaW4nLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMCwKICAgICAgICBtYXg6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwKICAgICAgICBtaW46IDAsCiAgICAgIH0sCgogICAgICB7CiAgICAgICAgbmFtZTogJ2VuZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1heDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXVlbmN5JywKICAgICAgICBkZWZhdWx0VmFsdWU6IDQ0MCwKICAgICAgICBtaW46IE51bWJlci5FUFNJTE9OLAogICAgICB9LAoKICAgICAgewogICAgICAgIG5hbWU6ICdwYW5zcHJlYWQnLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMC40LAogICAgICAgIG1pbjogMCwKICAgICAgICBtYXg6IDEsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXNwcmVhZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLjIsCiAgICAgICAgbWluOiAwLAogICAgICB9LAogICAgICB7CiAgICAgICAgbmFtZTogJ2RldHVuZScsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAndm9pY2VzJywKICAgICAgICBkZWZhdWx0VmFsdWU6IDUsCiAgICAgICAgbWluOiAxLAogICAgICB9LAogICAgXTsKICB9CiAgcHJvY2VzcyhpbnB1dCwgb3V0cHV0cywgcGFyYW1zKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA8PSBwYXJhbXMuYmVnaW5bMF0pIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbXMuZW5kWzBdKSB7CiAgICAgIC8vIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IHR5cGU6ICdvbmVuZGVkJyB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgbGV0IGZyZXF1ZW5jeSA9IHBhcmFtcy5mcmVxdWVuY3lbMF07CiAgICAvL2FwcGx5IGRldHVuZSBpbiBjZW50cwogICAgZnJlcXVlbmN5ID0gZnJlcXVlbmN5ICogTWF0aC5wb3coMiwgcGFyYW1zLmRldHVuZVswXSAvIDEyMDApOwoKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCB2b2ljZXMgPSBwYXJhbXMudm9pY2VzWzBdOwogICAgY29uc3QgZnJlcXNwcmVhZCA9IHBhcmFtcy5mcmVxc3ByZWFkWzBdOwogICAgY29uc3QgcGFuc3ByZWFkID0gcGFyYW1zLnBhbnNwcmVhZFswXSAqIDAuNSArIDAuNTsKICAgIGNvbnN0IGdhaW4xID0gTWF0aC5zcXJ0KDEgLSBwYW5zcHJlYWQpOwogICAgY29uc3QgZ2FpbjIgPSBNYXRoLnNxcnQocGFuc3ByZWFkKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHZvaWNlczsgbisrKSB7CiAgICAgIGNvbnN0IGlzT2RkID0gKG4gJiAxKSA9PSAxOwoKICAgICAgLy9hcHBsaWVzIHVuaXNvbiAic3ByZWFkIiBkZXR1bmUgaW4gc2VtaXRvbmVzCiAgICAgIGNvbnN0IGZyZXEgPSBmcmVxdWVuY3kgKiBNYXRoLnBvdygyLCBnZXRVbmlzb25EZXR1bmUodm9pY2VzLCBmcmVxc3ByZWFkLCBuKSAvIDEyKTsKICAgICAgbGV0IGdhaW5MID0gZ2FpbjE7CiAgICAgIGxldCBnYWluUiA9IGdhaW4yOwogICAgICAvLyBpbnZlcnQgcmlnaHQgYW5kIGxlZnQgZ2FpbgogICAgICBpZiAoaXNPZGQpIHsKICAgICAgICBnYWluTCA9IGdhaW4yOwogICAgICAgIGdhaW5SID0gZ2FpbjE7CiAgICAgIH0KICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIGNvbnN0IGR0ID0gZnJlcSAvIHNhbXBsZVJhdGU7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dFswXS5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMucGhhc2Vbbl0gPSB0aGlzLnBoYXNlW25dID8/IE1hdGgucmFuZG9tKCk7CiAgICAgICAgY29uc3QgdiA9IHdhdmVzaGFwZXMuc2F3YmxlcCh0aGlzLnBoYXNlW25dLCBkdCk7CgogICAgICAgIG91dHB1dFswXVtpXSA9IG91dHB1dFswXVtpXSArIHYgKiBnYWluTDsKICAgICAgICBvdXRwdXRbMV1baV0gPSBvdXRwdXRbMV1baV0gKyB2ICogZ2FpblI7CgogICAgICAgIHRoaXMucGhhc2Vbbl0gKz0gZHQ7CgogICAgICAgIGlmICh0aGlzLnBoYXNlW25dID4gMS4wKSB7CiAgICAgICAgICB0aGlzLnBoYXNlW25dID0gdGhpcy5waGFzZVtuXSAtIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCnJlZ2lzdGVyUHJvY2Vzc29yKCdzdXBlcnNhdy1vc2NpbGxhdG9yJywgU3VwZXJTYXdPc2NpbGxhdG9yUHJvY2Vzc29yKTsK";function _n(t){const r=It().createGain();return r.gain.value=t,r}const Ea=(t,r,i,u)=>u-i===0?0:(r-t)/(u-i);function kn(t,r,i,u){const o=new AudioWorkletNode(t,r,u);return Object.entries(i).forEach(([a,c])=>{o.parameters.get(a).value=c}),o}const Tn=(t,r,i,u,o,a,c,l,p,d="exponential")=>{r=yn(r),i=yn(i),u=yn(u),o=yn(o);const f=d==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";d==="exponential"&&(a=a===0?.001:a,c=c===0?.001:c);const g=c-a,A=c,P=a+u*g,E=p-l,F=S=>{let N;if(r>S){let L=Ea(a,A,0,r);N=S*L+(a>A?a:0)}else N=(S-r)*Ea(A,P,0,i)+A;return d==="exponential"&&(N=N||.001),N};t.setValueAtTime(a,l),r>E?t[f](F(E),p):r+i>E?(t[f](F(r),l+r),t[f](F(E),p)):(t[f](F(r),l+r),t[f](F(r+i),l+r+i),t.setValueAtTime(P,p)),t[f](a,p+o)};function Um(t,r,i,u,o,a){const c={threshold:r??-3,ratio:i??10,knee:u??10,attack:o??.005,release:a??.05};return new DynamicsCompressorNode(t,c)}const Rn=(t,r="linear",i)=>{const[u,o,a,c]=t;if(u==null&&o==null&&a==null&&c==null)return i??[.001,.001,1,.01];const l=a??(u!=null&&o==null||u==null&&o==null?1:.001);return[Math.max(u??0,.001),Math.max(o??0,.001),Math.min(l,1),Math.max(c??0,.01)]};function Si(t,r,i,u,o,a,c,l,p,d,f,g,A,P){const E="exponential",[F,S,N,L]=Rn([o,a,c,l],E,[.005,.14,0,.1]);let K,k;if(A==="ladder"?(K=kn(t,"ladder-processor",{frequency:i,q:u,drive:P}),k=K.parameters.get("frequency")):(K=t.createBiquadFilter(),K.type=r,K.Q.value=u,K.frequency.value=i,k=K.frequency),(o??a??c??l??p)!==void 0){p=yn(p,1,!0),g=yn(g,0,!0);const x=Math.abs(p),R=x*g;let T=Mr(2**-R*i,0,2e4),G=Mr(2**(x-R)*i,0,2e4);return p<0&&([T,G]=[G,T]),Tn(k,F,S,N,L,T,G,d,f,E),K}return K}let Fa=t=>t<.5?1:1-(t-.5)/.5;function $m(t,r,i=0){const u=It();if(!i)return t;let o=u.createGain(),a=u.createGain();t.connect(o),r.connect(a),o.gain.value=Fa(i),a.gain.value=Fa(1-i);let c=u.createGain();return o.connect(c),a.connect(c),c}let Rb=["linear","exponential"];function os(t,r,i,u){if(!(r.pattack??r.pdecay??r.psustain??r.prelease??r.penv))return;const o=yn(r.penv,1,!0),a=Rb[r.pcurve??0];let[c,l,p,d]=Rn([r.pattack,r.pdecay,r.psustain,r.prelease],a,[.2,.001,1,.001]),f=r.panchor??p;const g=o*100,A=0-g*f,P=g-g*f;Tn(t,c,l,p,d,A,P,i,u,a)}function as(t,r,i){const{vibmod:u=.5,vib:o}=r;let a;if(o>0){a=It().createOscillator(),a.frequency.value=o;const c=It().createGain();return c.gain.value=u*100,a.connect(c),c.connect(t),a.start(i),a}}function Jm(t,r,i,u){const o=t.createConstantSource();o.start(i),o.stop(u),o.onended=()=>{r()}}const Vb=(t,r=1,i="sine")=>{const u=It(),o=u.createOscillator();o.type=i,o.frequency.value=t,o.start();const a=new GainNode(u,{gain:r});return o.connect(a),{node:a,stop:c=>o.stop(c)}},Lb=(t,r,i,u="sine")=>{const o=t.value*r,a=o*i;return Vb(o,a,u)};function ao(t,r,i){const{fmh:u=1,fmi:o,fmenv:a="exp",fmattack:c,fmdecay:l,fmsustain:p,fmrelease:d,fmvelocity:f,fmwave:g="sine",duration:A}=r;let P,E=()=>{};if(o){const F=It().createGain(),S=Lb(t,u,o,g);if(P=S.node,E=S.stop,![c,l,p,d,f].find(N=>N!==void 0))P.connect(t);else{const[N,L,K,k]=Rn([c,l,p,d]),x=i+A;Tn(F.gain,N,L,K,k,0,1,i,x,a==="exp"?"exponential":"linear"),P.connect(F),F.connect(t)}}return{stop:E}}const co={},Ls={},jb=t=>co[t];function Ob(t,r){var i=1024;if(t<i)return t+" B";var u=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],o=-1;do t/=i,++o;while(t>=i);return t.toFixed(1)+" "+u[o]}const Qm=async(t,r,i,u,o,a,c)=>{let l=0;o!==void 0&&i!==void 0&&Ke("[sampler] hap has note and freq. ignoring note","warning");let p=Nb({freq:o,note:i},36);l=p-36;const d=It();let f,g=0;if(Array.isArray(a))g=va(r,a.length),f=a[g];else{const F=N=>us(N)-p,S=Object.keys(a).filter(N=>!N.startsWith("_")).reduce((N,L,K)=>!N||Math.abs(F(L))<Math.abs(F(N))?L:N,null);l=-F(S),g=va(r,a[S].length),f=a[S][g]}c&&(f=await c(f));let A=await lo(f,d,t,g);u<0&&(A=td(A));const P=d.createBufferSource();P.buffer=A;const E=1*Math.pow(2,l/12);return P.playbackRate.value=E,P},lo=(t,r,i,u=0)=>{const o=i?`sound "${i}:${u}"`:"sample";if(t=t.replace("#","%23"),!Ls[t]){Ke(`[sampler] load ${o}..`,"load-sample",{url:t});const a=Date.now();Ls[t]=fetch(t).then(c=>c.arrayBuffer()).then(async c=>{const l=Date.now()-a,p=Ob(c.byteLength);Ke(`[sampler] load ${o}... done! loaded ${p} in ${l}ms`,"loaded-sample",{url:t});const d=await r.decodeAudioData(c);return co[t]=d,d})}return Ls[t]};function td(t){const r=It(),i=r.createBuffer(t.numberOfChannels,t.length,r.sampleRate);for(let u=0;u<t.numberOfChannels;u++)i.copyToChannel(t.getChannelData(u).slice().reverse(),u,u);return i}const Gb=t=>co[t];function ed(t){if(t.startsWith("bubo:")){const[r,i]=t.split(":");t=`github:Bubobubobubobubo/dough-${i}`}return t}function nd(t,r=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[i,u]=t.split("github:");return u=u.endsWith("/")?u.slice(0,-1):u,u.split("/").length===2&&(u+="/main"),`https://raw.githubusercontent.com/${u}/${r}`}const rd=(t,r,i=t._base||"")=>Object.entries(t).forEach(([u,o])=>{if(typeof o=="string"&&(o=[o]),typeof o!="object")throw new Error("wrong sample map format for "+u);i=o._base||i,i=ed(i),i.startsWith("github:")&&(i=nd(i,""));const a=c=>i+c;Array.isArray(o)?o=o.map(a):o=Object.fromEntries(Object.entries(o).map(([c,l])=>[c,(typeof l=="string"?[l]:l).map(a)])),r(u,o)});let id={};function zb(t,r){id[t]=r}function Wb(t){const r=Object.entries(id).find(([i])=>t.startsWith(i));if(r)return r[1]}const sd=async(t,r=t._base||"",i={})=>{if(typeof t=="string"){const a=Wb(t);if(a)return a(t);if(t=ed(t),t.startsWith("github:")&&(t=nd(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),t.startsWith("shabda:")){let[l,p]=t.split("shabda:");t=`https://shabda.ndre.gr/${p}.json?strudel=1`}if(t.startsWith("shabda/speech")){let[l,p]=t.split("shabda/speech");p=p.startsWith("/")?p.substring(1):p;let[d,f]=p.split(":"),g="f",A="en-GB";d&&([A,g]=d.split("/")),t=`https://shabda.ndre.gr/speech/${f}.json?gender=${g}&language=${A}&strudel=1'`}if(typeof fetch!="function")return;const c=t.split("/").slice(0,-1).join("/");return typeof fetch>"u"?void 0:fetch(t).then(l=>l.json()).then(l=>sd(l,r||l._base||c,i)).catch(l=>{throw console.error(l),new Error(`error loading "${t}"`)})}const{prebake:u,tag:o}=i;rd(t,(a,c)=>gr(a,(l,p,d)=>ud(l,p,d,c),{type:"sample",samples:c,baseUrl:r,prebake:u,tag:o}),r)},wa=[];async function ud(t,r,i,u,o){let{s:a,freq:c,unit:l,nudge:p=0,cut:d,loop:f,clip:g=void 0,n:A=0,note:P,speed:E=1,loopBegin:F=0,begin:S=0,loopEnd:N=1,end:L=1,duration:K}=r;if(E===0)return;f=a.startsWith("wt_")?1:r.loop;const k=It();let[x,R,T,G]=Rn([r.attack,r.decay,r.sustain,r.release]);const H=t+p,W=await Qm(a,A,P,E,c,u,o);let J=as(W.detune,r,t);if(k.currentTime>t){Ke(`[sampler] still loading sound "${a}:${A}"`,"highlight");return}if(!W){Ke(`[sampler] could not load "${a}:${A}"`,"error");return}W.playbackRate.value=Math.abs(E)*W.playbackRate.value,l==="c"&&(W.playbackRate.value=W.playbackRate.value*W.buffer.duration*1);const X=S*W.buffer.duration;f&&(W.loop=!0,W.loopStart=F*W.buffer.duration-X,W.loopEnd=N*W.buffer.duration-X),W.start(H,X);const Z=k.createGain(),U=W.connect(Z);if(g==null&&f==null&&r.release==null){const xt=W.buffer.duration/W.playbackRate.value;K=(L-S)*xt}let gt=t+K;Tn(U.gain,x,R,T,G,0,1,t,gt,"linear"),os(W.detune,r,t,gt);const ut=k.createGain();U.connect(ut),W.onended=function(){W.disconnect(),J?.stop(),U.disconnect(),ut.disconnect(),i()};let dt=gt+G+.01;W.stop(dt);const ht={node:ut,bufferSource:W,stop:(xt,me)=>{}};if(d!==void 0){const xt=wa[d];xt&&(xt.node.gain.setValueAtTime(1,H),xt.node.gain.linearRampToValueAtTime(0,H+.01)),wa[d]=ht}return ht}const cs=Fb();function gr(t,r,i={}){cs.setKey(t,{onTrigger:r,data:i})}function _i(t){return cs.get()[t]}const od={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,delay:0,delayfeedback:.5,delaytime:.25,orbit:1,i:1,velocity:1,fft:8};let ho=new Map(Object.entries(od));function po(t,r){ho.set(t,r)}function Kt(t){return ho.get(t)}function qb(t){Object.keys(t).forEach(r=>{po(r,t[r])})}function ad(){ho=new Map(Object.entries(od))}function Xb(t){ad(),t==="1.0"&&po("fanchor",.5)}const Zb=()=>cs.set({});let fu;const cd=()=>(fu=new AudioContext,fu),It=()=>fu||cd();let js;function Hb(){return js||(js=It().audioWorklet.addModule(Tb)),js}async function ld(t={}){const{disableWorklets:r=!1}=t;if(!(typeof window>"u")){if(await It().resume(),r){Ke("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await Hb(),Ke("[superdough] AudioWorklets loaded")}catch(i){console.warn("could not load AudioWorklet effects",i)}Ke("[superdough] ready")}}let Os;async function hd(t){return Os||(Os=new Promise(r=>{document.addEventListener("click",async function i(){document.removeEventListener("click",i),await ld(t),r()})})),Os}let Sn={},zi,Ar;function pd(){const t=It(),r=t.destination.maxChannelCount;t.destination.channelCount=r,zi=new ChannelMergerNode(t,{numberOfInputs:t.destination.channelCount}),Ar=new GainNode(t),zi.connect(Ar),Ar.connect(t.destination)}const ls=(t,r=[0,1])=>{const i=It();zi==null&&pd();const u=new StereoPannerNode(i);t.connect(u);const o=new ChannelSplitterNode(i,{numberOfOutputs:u.channelCount});u.connect(o),r.forEach((a,c)=>{o.connect(zi,c%u.channelCount,Mr(a,0,i.destination.channelCount-1))})},Kb=()=>{Ar!=null&&(Ar.gain.linearRampToValueAtTime(0,It().currentTime+.01),Ar=null)};function Yb(t,r,i,u){if(i=Mr(i,0,.98),!Sn[t]){const o=It().createFeedbackDelay(1,r,i);o.start?.(u),ls(o,[0,1]),Sn[t]=o}return Sn[t].delayTime.value!==r&&Sn[t].delayTime.setValueAtTime(r,u),Sn[t].feedback.value!==i&&Sn[t].feedback.setValueAtTime(i,u),Sn[t]}function Ub(t,r,i=1,u=.5,o=1e3,a=2e3){const c=It(),l=c.createGain();l.gain.value=a*2,kn(c,"lfo-processor",{frequency:i,depth:1,skew:0,phaseoffset:0,time:t,end:r,shape:1,dcoffset:-.5}).connect(l);const p=2;let d=0;const f=[];for(let g=0;g<p;g++){const A=c.createBiquadFilter();A.type="notch",A.gain.value=1,A.frequency.value=o+d,A.Q.value=2-Math.min(Math.max(u*2,0),1.9),l.connect(A.detune),d+=282,g>0&&f[g-1].connect(A),f.push(A)}return f[f.length-1]}function $b(t){t=t??0;const r=["12db","ladder","24db"];return typeof t=="number"?r[Math.floor(Ym(t,r.length))]:t}let Qe={},vi=(t,r)=>t!==void 0&&t!==r;function Jb(t,r,i,u,o,a){if(!Qe[t]){const c=It().createReverb(r,i,u,o,a);ls(c,[0,1]),Qe[t]=c}return(vi(r,Qe[t].duration)||vi(i,Qe[t].fade)||vi(u,Qe[t].lp)||vi(o,Qe[t].dim)||Qe[t].ir!==a)&&Qe[t].generate(r,i,u,o,a),Qe[t]}let Ae={},Un={};function md(t,r=1024){if(!Ae[t]){const i=It().createAnalyser();i.fftSize=r,Ae[t]=i,Un[t]=new Float32Array(Ae[t].frequencyBinCount)}return Ae[t].fftSize!==r&&(Ae[t].fftSize=r,Un[t]=new Float32Array(Ae[t].frequencyBinCount)),Ae[t]}function mo(t="time",r=1){const i={time:()=>Ae[r]?.getFloatTimeDomainData(Un[r]),frequency:()=>Ae[r]?.getFloatFrequencyData(Un[r])}[t];if(!i)throw new Error(`getAnalyzerData: ${t} not supported. use one of ${Object.keys(i).join(", ")}`);return i(),Un[r]}function Gs(t,r,i){const u=_n(i);return t.connect(u),u.connect(r),u}function Qb(){Sn={},Qe={},Ae={},Un={}}const hs=async(t,r,i)=>{const u=It();if(typeof t!="object")throw new Error(`expected hap.value to be an object, but got "${t}". Hint: append .note() or .s() to the end`,"error");if(t.duration=i,r=typeof r=="string"&&r.startsWith("=")?Number(r.slice(1)):u.currentTime+r,r<u.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${r.toFixed(2)}, now: ${u.currentTime.toFixed(2)})`);return}let{s:o=Kt("s"),bank:a,source:c,gain:l=Kt("gain"),postgain:p=Kt("postgain"),density:d=Kt("density"),fanchor:f=Kt("fanchor"),drive:g=.69,cutoff:A,lpenv:P,lpattack:E,lpdecay:F,lpsustain:S,lprelease:N,resonance:L=Kt("resonance"),hpenv:K,hcutoff:k,hpattack:x,hpdecay:R,hpsustain:T,hprelease:G,hresonance:H=Kt("hresonance"),bpenv:W,bandf:J,bpattack:X,bpdecay:Z,bpsustain:U,bprelease:gt,bandq:ut=Kt("bandq"),channels:dt=Kt("channels"),phaser:ht,phaserdepth:xt=Kt("phaserdepth"),phasersweep:me,phasercenter:te,coarse:Y,crush:ee,shape:ae,shapevol:ve=Kt("shapevol"),distort:wt,distortvol:Ut=Kt("distortvol"),pan:Dt,vowel:Zt,delay:ye=Kt("delay"),delayfeedback:Me=Kt("delayfeedback"),delaytime:Nt=Kt("delaytime"),orbit:En=Kt("orbit"),room:Tt,roomfade:Fn,roomlp:Ee,roomdim:Ge,roomsize:on,ir:an,i:cn=Kt("i"),velocity:wn=Kt("velocity"),analyze:ln,fft:ze=Kt("fft"),compressor:We,compressorRatio:Mt,compressorKnee:Ot,compressorAttack:lt,compressorRelease:Xt}=t;l=yn(l,1),dt=(Array.isArray(dt)?dt:[dt]).map(pt=>pt-1),l*=wn;let Rt=[];const Vr=()=>{Rt.forEach(pt=>pt?.disconnect())};a&&o&&(o=`${a}_${o}`);let Bn;if(c)Bn=c(r,t,i);else if(_i(o)){const{onTrigger:pt}=_i(o),Gt=await pt(r,t,Vr);Gt&&(Bn=Gt.node,Gt.stop(r+i))}else throw new Error(`sound ${o} not found! Is it loaded?`);if(!Bn)return;if(u.currentTime>r){Ke("[webaudio] skip hap: still loading",u.currentTime-r);return}const vt=[];vt.push(Bn),vt.push(_n(l));const hn=$b(t.ftype);if(A!==void 0){let pt=()=>Si(u,"lowpass",A,L,E,F,S,N,P,r,r+i,f,hn,g);vt.push(pt()),hn==="24db"&&vt.push(pt())}if(k!==void 0){let pt=()=>Si(u,"highpass",k,H,x,R,T,G,K,r,r+i,f);vt.push(pt()),hn==="24db"&&vt.push(pt())}if(J!==void 0){let pt=()=>Si(u,"bandpass",J,ut,X,Z,U,gt,W,r,r+i,f);vt.push(pt()),hn==="24db"&&vt.push(pt())}if(Zt!==void 0){const pt=u.createVowelFilter(Zt);vt.push(pt)}if(Y!==void 0&&vt.push(kn(u,"coarse-processor",{coarse:Y})),ee!==void 0&&vt.push(kn(u,"crush-processor",{crush:ee})),ae!==void 0&&vt.push(kn(u,"shape-processor",{shape:ae,postgain:ve})),wt!==void 0&&vt.push(kn(u,"distort-processor",{distort:wt,postgain:Ut})),We!==void 0&&vt.push(Um(u,We,Mt,Ot,lt,Xt)),Dt!==void 0){const pt=u.createStereoPanner();pt.pan.value=2*Dt-1,vt.push(pt)}if(ht!==void 0&&xt>0){const pt=Ub(r,r+i,ht,xt,te,me);vt.push(pt)}const de=new GainNode(u,{gain:p});vt.push(de),ls(de,dt);let Vt;if(ye>0&&Nt>0&&Me>0){const pt=Yb(En,Nt,Me,r);Vt=Gs(de,pt,ye)}let Hn;if(Tt>0){let pt;if(an!==void 0){let Fe,fe=_i(an);Array.isArray(fe)?Fe=fe.data.samples[cn%fe.data.samples.length]:typeof fe=="object"&&(Fe=Object.values(fe.data.samples).flat()[cn%Object.values(fe.data.samples).length]),pt=await lo(Fe,u,an,0)}const Gt=Jb(En,on,Fn,Ee,Ge,pt);Hn=Gs(de,Gt,Tt)}let sr;if(ln){const pt=md(ln,2**(ze+5));sr=Gs(de,pt,1)}vt.slice(1).reduce((pt,Gt)=>pt.connect(Gt),vt[0]),Rt=vt.concat([Vt,Hn,sr])},tP=(t,r,i,u)=>hs(r,t-i,r.duration/u);let zs={};function eP(t,r){const i=It();if(zs[t])return zs[t];const u=2*i.sampleRate,o=i.createBuffer(1,u,i.sampleRate),a=o.getChannelData(0);let c=0,l,p,d,f,g,A,P;l=p=d=f=g=A=P=0;for(let E=0;E<u;E++)if(t==="white")a[E]=Math.random()*2-1;else if(t==="brown"){let F=Math.random()*2-1;a[E]=(c+.02*F)/1.02,c=a[E]}else if(t==="pink"){let F=Math.random()*2-1;l=.99886*l+F*.0555179,p=.99332*p+F*.0750759,d=.969*d+F*.153852,f=.8665*f+F*.3104856,g=.55*g+F*.5329522,A=-.7616*A-F*.016898,a[E]=l+p+d+f+g+A+P+F*.5362,a[E]*=.11,P=F*.115926}else if(t==="crackle"){const F=r*.01;Math.random()<F?a[E]=Math.random()*2-1:a[E]=0}return t!=="crackle"&&(zs[t]=o),o}function dd(t="white",r,i=.02){const u=It().createBufferSource();return u.buffer=eP(t,i),u.loop=!0,u.start(r),{node:u,stop:o=>u.stop(o)}}function nP(t,r,i){const u=dd("pink",i);return{node:$m(t,u.node,r),stop:o=>u?.stop(o)}}const fd=t=>{let{note:r,freq:i}=t;return r=r||36,typeof r=="string"&&(r=us(r)),!i&&typeof r=="number"&&(i=Km(r)),Number(i)},rP=["triangle","square","sawtooth","sine"],iP=["pink","white","brown","crackle"];function gd(){[...rP].forEach(t=>{gr(t,(r,i,u)=>{const[o,a,c,l]=Rn([i.attack,i.decay,i.sustain,i.release],"linear",[.001,.05,.6,.01]);let p=Cd(t,r,i),{node:d,stop:f,triggerRelease:g}=p;const A=_n(.3),{duration:P}=i;d.onended=()=>{d.disconnect(),A.disconnect(),u()};const E=_n(1);let F=d.connect(A).connect(E);const S=r+P;Tn(F.gain,o,a,c,l,0,1,r,S,"linear");const N=S+l+.01;return g?.(N),f(N),{node:F,stop:L=>{}}},{type:"synth",prebake:!0})}),gr("supersaw",(t,r,i)=>{const u=It();let{duration:o,n:a,unison:c=5,spread:l=.6,detune:p}=r;p=p??a??.18;const d=fd(r),[f,g,A,P]=Rn([r.attack,r.decay,r.sustain,r.release],"linear",[.001,.05,.6,.01]),E=t+o,F=E+P+.01,S=Mr(c,1,100);let N=S>1?Mr(l,0,1):0,L=kn(u,"supersaw-oscillator",{frequency:d,begin:t,end:F,freqspread:p,voices:S,panspread:N},{outputChannelCount:[2]});const K=1/Math.sqrt(S);os(L.parameters.get("detune"),r,t,E);const k=as(L.parameters.get("detune"),r,t),x=ao(L.parameters.get("frequency"),r,t);let R=_n(1);return R=L.connect(R),Jm(u,()=>{L.disconnect(),R.disconnect(),i(),x?.stop(),k?.stop()},t,F),Tn(R.gain,f,g,A,P,0,.3*K,t,E,"linear"),{node:R,stop:T=>{}}},{prebake:!0,type:"synth"}),[...iP].forEach(t=>{gr(t,(r,i,u)=>{const[o,a,c,l]=Rn([i.attack,i.decay,i.sustain,i.release],"linear",[.001,.05,.6,.01]);let p,{density:d}=i;p=dd(t,r,d);let{node:f,stop:g,triggerRelease:A}=p;const P=_n(.3),{duration:E}=i;f.onended=()=>{f.disconnect(),P.disconnect(),u()};const F=_n(1);let S=f.connect(P).connect(F);const N=r+E;Tn(S.gain,o,a,c,l,0,1,r,N,"linear");const L=N+l+.01;return A?.(L),g(L),{node:S,stop:K=>{}}},{type:"synth",prebake:!0})})}function Ad(t,r){const i=new Float32Array(t+1),u=new Float32Array(t+1),o=It(),a=o.createOscillator(),c={sawtooth:d=>[0,-1/d],square:d=>[0,d%2===0?0:1/d],triangle:d=>[d%2===0?0:1/(d*d),0]};if(!c[r])throw new Error(`unknown wave type ${r}`);i[0]=0,u[0]=0;let l=1;for(;l<=t;){const[d,f]=c[r](l);i[l]=d,u[l]=f,l++}const p=o.createPeriodicWave(i,u);return a.setPeriodicWave(p),a}function Cd(t,r,i){let{n:u,duration:o,noise:a=0}=i,c;!u||t==="sine"?(c=It().createOscillator(),c.type=t||"triangle"):c=Ad(u,t),c.frequency.value=fd(i),c.start(r);let l=as(c.detune,i,r);os(c.detune,i,r,r+o);const p=ao(c.frequency,i,r);let d;return a&&(d=nP(c,a,r)),{node:d?.node||c,stop:f=>{p.stop(f),l?.stop(f),d?.stop(f),c.stop(f)},triggerRelease:f=>{}}}function sP(t=1,r=.05,i=220,u=0,o=0,a=.1,c=0,l=1,p=0,d=0,f=0,g=0,A=0,P=0,E=0,F=0,S=0,N=1,L=0,K=0){let k=Math.PI*2,x=It().sampleRate,R=xt=>xt>0?1:-1,T=p*=500*k/x/x,G=i*=(1+r*2*Math.random()-r)*k/x,H=[],W=0,J=0,X=0,Z=1,U=0,gt=0,ut=0,dt,ht;for(u=u*x+9,L*=x,o*=x,a*=x,S*=x,d*=500*k/x**3,E*=k/x,f*=k/x,g*=x,A=A*x|0,ht=u+L+o+a+S|0;X<ht;H[X++]=ut)++gt%(F*100|0)||(ut=c?c>1?c>2?c>3?Math.sin((W%k)**3):Math.max(Math.min(Math.tan(W),1),-1):1-(2*W/k%2+2)%2:1-4*Math.abs(Math.round(W/k)-W/k):Math.sin(W),ut=(A?1-K+K*Math.sin(k*X/A):1)*R(ut)*Math.abs(ut)**l*t*1*(X<u?X/u:X<u+L?1-(X-u)/L*(1-N):X<u+L+o?N:X<ht-S?(ht-X-S)/a*N:0),ut=S?ut/2+(S>X?0:(X<ht-S?1:(ht-X)/S)*H[X-S|0]/2):ut),dt=(i+=p+=d)*Math.cos(E*J++),W+=dt-dt*P*(1-(Math.sin(X)+1)*1e9%2),Z&&++Z>g&&(i+=f,G+=f,Z=0),A&&!(++U%A)&&(i=G,p=T,Z||=1);return H}const yd=(t,r)=>{let{s:i,note:u=36,freq:o,zrand:a=0,attack:c=0,decay:l=0,sustain:p=.8,release:d=.1,curve:f=1,slide:g=0,deltaSlide:A=0,pitchJump:P=0,pitchJumpTime:E=0,lfo:F=0,znoise:S=0,zmod:N=0,zcrush:L=0,zdelay:K=0,tremolo:k=0,duration:x=.2,zzfx:R}=t;const T=Math.max(x-c-l,0);typeof u=="string"&&(u=us(u)),!o&&typeof u=="number"&&(o=Km(u)),i=i.replace("z_","");const G=["sine","triangle","sawtooth","tan","noise"].indexOf(i)||0;f=i==="square"?0:f;const H=sP(...R||[.25,a,o,c,T,d,G,f,g,A,P,E,F,S,N,L,K,p,l,k]),W=It(),J=W.createBuffer(1,H.length,W.sampleRate);J.getChannelData(0).set(H);const X=It().createBufferSource();return X.buffer=J,X.start(r),{node:X}};function uP(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(t=>{gr(t,(r,i,u)=>{const{node:o}=yd({s:t,...i},r);return o.onended=()=>{o.disconnect(),u()},{node:o,stop:()=>{}}},{type:"synth",prebake:!0})})}let Cr;async function Md(t,r){const i=`dsp-worklet-${Date.now()}`,u=`${r}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${i}', MyProcessor);
`,o=`data:text/javascript;base64,${btoa(u)}`;await t.audioWorklet.addModule(o);const a=new AudioWorkletNode(t,i);return{node:a,stop:()=>a.port.postMessage("stop")}}const bd=()=>{Cr&&(Cr?.stop(),Cr?.node?.disconnect())};typeof window<"u"&&window.addEventListener("message",t=>{t.data==="strudel-stop"?bd():t.data?.dough&&Cr?.node.port.postMessage(t.data)});const oP=async t=>{const r=It();bd(),Cr=await Md(r,t),Cr.node.connect(r.destination)};function Pd(t,r,i,u,o){window.postMessage({time:o,dough:r.value,currentTime:i,duration:r.duration,cps:u})}const wr=(t="test-canvas",r)=>{let{contextType:i="2d",pixelated:u=!1,pixelRatio:o=window.devicePixelRatio}={},a=document.querySelector("#"+t);if(!a){a=document.createElement("canvas"),a.id=t,a.width=window.innerWidth*o,a.height=window.innerHeight*o,a.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",u&&(a.style.imageRendering="pixelated"),document.body.prepend(a);let c;window.addEventListener("resize",()=>{c&&clearTimeout(c),c=setTimeout(()=>{a.width=window.innerWidth*o,a.height=window.innerHeight*o},200)})}return a.getContext(i)};let Kr={};function aP(t){Kr[t]!==void 0&&(cancelAnimationFrame(Kr[t]),delete Kr[t])}let fn={};ot.prototype.draw=function(t,r){if(typeof window>"u")return this;let{id:i=1,lookbehind:u=0,lookahead:o=0}=r,a=Math.max(du(),0);aP(i),u=Math.abs(u),fn[i]=(fn[i]||[]).filter(d=>!d.isInFuture(a));let c=this.queryArc(a,a+o).filter(d=>d.hasOnset());fn[i]=fn[i].concat(c);let l;const p=()=>{const d=du(),f=d+o;fn[i]=fn[i].filter(P=>P.isInNearPast(u,d));let g=Math.max(l||f,f-1/10);const A=this.queryArc(g,f).filter(P=>P.hasOnset());fn[i]=fn[i].concat(A),l=f,t(fn[i],d,f,this),Kr[i]=requestAnimationFrame(p)};return Kr[i]=requestAnimationFrame(p),this};ot.prototype.onPaint=function(){return console.warn("[draw] onPaint was not overloaded. Some drawings might not work"),this};let cP={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function Vn(){return cP}let Ba="#22222210";ot.prototype.animate=function({callback:t,sync:r=!1,smear:i=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const u=wr();let{clientWidth:o,clientHeight:a}=u.canvas;o*=window.devicePixelRatio,a*=window.devicePixelRatio;let c=i===0?"99":Number((1-i)*100).toFixed(0);c=c.length===1?`0${c}`:c,Ba=`#200010${c}`;const l=p=>{let d;p=Math.round(p),d=this.slow(1e3).queryArc(p,p),u.fillStyle=Ba,u.fillRect(0,0,o,a),d.forEach(f=>{let{x:g,y:A,w:P,h:E,s:F,r:S,angle:N=0,fill:L="darkseagreen"}=f.value;if(P*=o,E*=a,S!==void 0&&N!==void 0){const k=N*2*Math.PI,[x,R]=[(o-P)/2,(a-E)/2];g=x+Math.cos(k)*S*x,A=R+Math.sin(k)*S*R}else g*=o-P,A*=a-E;const K={...f.value,x:g,y:A,w:P,h:E};u.fillStyle=L,F==="rect"?u.fillRect(g,A,P,E):F==="ellipse"&&(u.beginPath(),u.ellipse(g+P/2,A+E/2,P/2,E/2,0,0,2*Math.PI),u.fill()),t&&t(u,K,f)}),window.frame=requestAnimationFrame(l)};return window.frame=requestAnimationFrame(l),_t};const{x:Dd,y:Vw,w:Lw,h:jw,angle:Ow,r:Gw,fill:zw,smear:Ww}=$u("x","y","w","h","angle","r","fill","smear");z("rescale",function(t,r){return r.mul(Dd(t).w(t).y(t).h(t))});z("moveXY",function(t,r,i){return i.add(Dd(t).y(r))});z("zoomIn",function(t,r){const i=le(1).sub(t).div(2);return r.rescale(t).move(i,i)});const Or=(t,r,i)=>t*(i-r)+r,Ia=t=>{let{value:r}=t;typeof t.value!="object"&&(r={value:r});let{note:i,n:u,freq:o,s:a}=r;if(o)return Ru(o);if(i=i??u,typeof i=="string")try{return zn(i)}catch{return 0}return typeof i=="number"?i:a?"_"+a:r};ot.prototype.pianoroll=function(t={}){let{cycles:r=4,playhead:i=.5,overscan:u=0,hideNegative:o=!1,ctx:a=wr(),id:c=1}=t,l=-r*i,p=r*(1-i);const d=(f,g)=>(!o||f.whole.begin>=0)&&f.isWithinTime(g+l,g+p);return this.draw((f,g)=>{vd({...t,time:g,ctx:a,haps:f.filter(A=>d(A,g))})},{lookbehind:l-u,lookahead:p+u,id:c}),this};function vd({time:t,haps:r,cycles:i=4,playhead:u=.5,flipTime:o=0,flipValues:a=0,hideNegative:c=!1,inactive:l=Vn().foreground,active:p=Vn().foreground,background:d="transparent",smear:f=0,playheadColor:g=Vn().foreground,minMidi:A=10,maxMidi:P=90,autorange:E=0,timeframe:F,fold:S=0,vertical:N=0,labels:L=!1,fill:K=1,fillActive:k=!1,strokeActive:x=!0,stroke:R,hideInactive:T=0,colorizeInactive:G=1,fontFamily:H,ctx:W,id:J}={}){const X=W.canvas.width,Z=W.canvas.height;let U=-i*u,gt=i*(1-u);J&&(r=r.filter(Dt=>Dt.hasTag(J))),F&&(console.warn("timeframe is deprecated! use from/to instead"),U=0,gt=F);const ut=N?Z:X,dt=N?X:Z;let ht=N?[ut,0]:[0,ut];const xt=gt-U,me=N?[0,dt]:[dt,0];let te=P-A+1,Y=dt/te,ee=[];o&&ht.reverse(),a&&me.reverse();const{min:ae,max:ve,values:wt}=r.reduce(({min:Dt,max:Zt,values:ye},Me)=>{const Nt=Ia(Me);return{min:Nt<Dt?Nt:Dt,max:Nt>Zt?Nt:Zt,values:ye.includes(Nt)?ye:[...ye,Nt]}},{min:1/0,max:-1/0,values:[]});E&&(A=ae,P=ve,te=P-A+1),ee=wt.sort((Dt,Zt)=>typeof Dt=="number"&&typeof Zt=="number"?Dt-Zt:typeof Dt=="number"?1:String(Dt).localeCompare(String(Zt))),Y=S?dt/ee.length:dt/te,W.fillStyle=d,W.globalAlpha=1,f||(W.clearRect(0,0,X,Z),W.fillRect(0,0,X,Z)),r.forEach(Dt=>{const Zt=Dt.whole.begin<=t&&Dt.endClipped>t;let ye=R??(x&&Zt),Me=!Zt&&K||Zt&&k;if(T&&!Zt)return;let Nt=Dt.value?.color;p=Nt||p,l=G&&Nt||l,Nt=Zt?p:l,W.fillStyle=Me?Nt:"transparent",W.strokeStyle=Nt;const{velocity:En=1,gain:Tt=1}=Dt.value||{};W.globalAlpha=En*Tt;const Fn=(Dt.whole.begin-(o?gt:U))/xt,Ee=Or(Fn,...ht);let Ge=Or(Dt.duration/xt,0,ut);const on=Ia(Dt),an=S?ee.indexOf(on)/ee.length:(Number(on)-A)/te,cn=Or(an,...me);let wn=0;const ln=Or(t/xt,...ht);let ze;if(N?ze=[cn+1-(a?Y:0),ut-ln+Ee+wn+1-(o?0:Ge),Y-2,Ge-2]:ze=[Ee-ln+wn+1-(o?Ge:0),cn+1-(a?0:Y),Ge-2,Y-2],ye&&W.strokeRect(...ze),Me&&W.fillRect(...ze),L){const We=Dt.value.note??Dt.value.s+(Dt.value.n?`:${Dt.value.n}`:""),{label:Mt,activeLabel:Ot}=Dt.value,lt=(Zt&&Ot||Mt)??We;let Xt=N?Ge:Y*.75;W.font=`${Xt}px ${H||"monospace"}`,W.fillStyle=Me?"black":Nt,W.textBaseline="top",W.fillText(lt,...ze)}}),W.globalAlpha=1;const Ut=Or(-U/xt,...ht);return W.strokeStyle=g,W.beginPath(),N?(W.moveTo(0,Ut),W.lineTo(dt,Ut)):(W.moveTo(Ut,0),W.lineTo(Ut,dt)),W.stroke(),this}function lP(t,r={}){let[i,u]=t;i=Math.abs(i);const o=u+i,a=i/o;return{fold:1,...r,cycles:o,playhead:a}}const hP=(t={})=>(r,i,u,o)=>vd({ctx:r,time:i,haps:u,...lP(o,t)});ot.prototype.punchcard=function(t){return this.onPaint(hP(t))};ot.prototype.wordfall=function(t){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...t})};function pP(t,r,i,u){const o=(t-90)*Math.PI/180;return[i+Math.cos(o)*r,u+Math.sin(o)*r]}const xa=(t,r,i,u,o=0)=>pP((t+o)*360,r*t,i,u);function Sa(t){let{ctx:r,from:i=0,to:u=3,margin:o=50,cx:a=100,cy:c=100,rotate:l=0,thickness:p=o/2,color:d=Vn().foreground,cap:f="round",stretch:g=1,fromOpacity:A=1,toOpacity:P=1}=t;i*=g,u*=g,l*=g,r.lineWidth=p,r.lineCap=f,r.strokeStyle=d,r.globalAlpha=A,r.beginPath();let[E,F]=xa(i,o,a,c,l);r.moveTo(E,F);const S=1/60;let N=i;for(;N<=u;){const[L,K]=xa(N,o,a,c,l);r.globalAlpha=(N-i)/(u-i)*P,r.lineTo(L,K),N+=S}r.stroke()}function mP(t){let{stretch:r=1,size:i=80,thickness:u=i/2,cap:o="butt",inset:a=3,playheadColor:c="#ffffff",playheadLength:l=.02,playheadThickness:p=u,padding:d=0,steady:f=1,activeColor:g=Vn().foreground,inactiveColor:A=Vn().gutterForeground,colorizeInactive:P=0,fade:E=!0,ctx:F,time:S,haps:N,drawTime:L,id:K}=t;K&&(N=N.filter(X=>X.hasTag(K)));const[k,x]=[F.canvas.width,F.canvas.height];F.clearRect(0,0,k*2,x*2);const[R,T]=[k/2,x/2],G={margin:i/r,cx:R,cy:T,stretch:r,cap:o,thickness:u},H={...G,thickness:p,from:a-l,to:a,color:c},[W]=L,J=f*S;N.forEach(X=>{const Z=X.whole.begin<=S&&X.endClipped>S,U=X.whole.begin-S+a,gt=X.endClipped-S+a-d,ut=X.value?.color||g,dt=P||Z?ut:A,ht=E?1-Math.abs((X.whole.begin-S)/W):1;Sa({ctx:F,...G,from:U,to:gt,rotate:J,color:dt,fromOpacity:ht,toOpacity:ht})}),Sa({ctx:F,...H,rotate:J})}ot.prototype.spiral=function(t={}){return this.onPaint((r,i,u,o)=>mP({ctx:r,time:i,haps:u,drawTime:o,...t}))};const dP=yr(36),_a=(t,r,i,u)=>{u=u*Math.PI*2;const o=Math.sin(u)*i+t,a=Math.cos(u)*i+r;return[o,a]},ka=(t,r)=>.5-Math.log2(t/r)%1;function fP({haps:t,ctx:r,id:i,hapcircles:u=1,circle:o=0,edo:a=12,root:c=dP,thickness:l=3,hapRadius:p=6,mode:d="flake",margin:f=10}={}){const g=d==="polygon",A=d==="flake",P=r.canvas.width,E=r.canvas.height;r.clearRect(0,0,P,E);const F=Vn().foreground,S=Math.min(P,E)/2-l/2-p-f,N=P/2,L=E/2;i&&(t=t.filter(k=>k.hasTag(i))),r.strokeStyle=F,r.fillStyle=F,r.globalAlpha=1,r.lineWidth=l,o&&(r.beginPath(),r.arc(N,L,S,0,2*Math.PI),r.stroke()),a&&(Array.from({length:a},(k,x)=>{const R=ka(c*Math.pow(2,x/a),c),[T,G]=_a(N,L,S,R);r.beginPath(),r.arc(T,G,p,0,2*Math.PI),r.fill()}),r.stroke());let K=[];r.lineWidth=p,t.forEach(k=>{let x;try{x=Qc(k)}catch{return}const R=ka(x,c),[T,G]=_a(N,L,S,R),H=k.value.color||F;r.strokeStyle=H,r.fillStyle=H;const{velocity:W=1,gain:J=1}=k.value||{},X=W*J;r.globalAlpha=X,K.push([T,G,R,H,X]),r.beginPath(),u&&(r.moveTo(T+p,G),r.arc(T,G,p,0,2*Math.PI),r.fill()),A&&(r.moveTo(N,L),r.lineTo(T,G)),r.stroke()}),r.strokeStyle=F,r.globalAlpha=1,g&&K.length&&(K=K.sort((k,x)=>k[2]-x[2]),r.beginPath(),r.moveTo(K[0][0],K[0][1]),K.forEach(([k,x,R,T,G])=>{r.strokeStyle=T,r.globalAlpha=G,r.lineTo(k,x)}),r.lineTo(K[0][0],K[0][1]),r.stroke())}ot.prototype.pitchwheel=function(t={}){let{ctx:r=wr(),id:i=1}=t;return this.tag(i).onPaint((u,o,a)=>fP({...t,time:o,ctx:r,haps:a.filter(c=>c.isActive(o)),id:i}))};const{Pattern:Ed,logger:gP,repl:AP}=Xm;Hm(gP);const Fd=t=>(t.ensureObjectValue(),t.value),wd=(t,r,i,u)=>hs(Fd(r),t-i,r.duration/u),Bd=(t,r,i,u,o)=>hs(Fd(t),o?`=${o}`:r,i);Ed.prototype.webaudio=function(){return this.onTrigger(wd)};function Id(t={}){return t={getTime:()=>It().currentTime,defaultOutput:Bd,...t},AP(t)}Ed.prototype.dough=function(){return this.onTrigger(Pd,1)};function xd(t,{align:r=!0,color:i="white",thickness:u=3,scale:o=.25,pos:a=.75,trigger:c=0,ctx:l=wr(),id:p=1}={}){l.lineWidth=u,l.strokeStyle=i;let d=l.canvas;if(!t){l.beginPath();let F=a*d.height;l.moveTo(0,F),l.lineTo(d.width,F),l.stroke();return}const f=mo("time",p);l.beginPath();const g=t.frequencyBinCount;let A=r?Array.from(f).findIndex((F,S,N)=>S&&N[S-1]>-c&&F<=-c):0;A=Math.max(A,0);const P=d.width*1/g;let E=0;for(let F=A;F<g;F++){const S=f[F]+1,N=(a-o*(S-1))*d.height;F===0?l.moveTo(E,N):l.lineTo(E,N),E+=P}l.stroke()}function Sd(t,{color:r="white",scale:i=.25,pos:u=.75,lean:o=.5,min:a=-150,max:c=0,ctx:l=wr(),id:p=1}={}){if(!t){l.beginPath();let E=u*f.height;l.moveTo(0,E),l.lineTo(f.width,E),l.stroke();return}const d=mo("frequency",p),f=l.canvas;l.fillStyle=r;const g=t.frequencyBinCount,A=f.width*1/g;let P=0;for(let E=0;E<g;E++){const F=zu((d[E]-a)/(c-a),0,1)*i,S=F*f.height,N=(u-F*o)*f.height;l.fillRect(P,N,Math.max(A,1),S),P+=A}}function _d(t=0,r="0,0,0",i=wr()){t?(i.fillStyle=`rgba(${r},${1-t})`,i.fillRect(0,0,i.canvas.width,i.canvas.height)):i.clearRect(0,0,i.canvas.width,i.canvas.height)}ot.prototype.fscope=function(t={}){let r=t.id??1;return this.analyze(r).draw(()=>{_d(t.smear,"0,0,0",t.ctx),Ae[r]&&Sd(Ae[r],t)},{id:r})};ot.prototype.tscope=function(t={}){let r=t.id??1;return this.analyze(r).draw(i=>{t.color=i[0]?.value?.color||Vn().foreground,t.color,_d(t.smear,"0,0,0",t.ctx),xd(Ae[r],t)},{id:r})};ot.prototype.scope=ot.prototype.tscope;const CP=Object.freeze(Object.defineProperty({__proto__:null,get analysers(){return Ae},get analysersData(){return Un},applyFM:ao,connectToDestination:ls,createFilter:Si,dough:oP,doughTrigger:Pd,drawFrequencyScope:Sd,drawTimeScope:xd,drywet:$m,dspWorklet:Md,gainNode:_n,getADSRValues:Rn,getAnalyserById:md,getAnalyzerData:mo,getAudioContext:It,getCachedBuffer:jb,getCompressor:Um,getDefaultValue:Kt,getLoadedBuffer:Gb,getOscillator:Cd,getParamADSR:Tn,getPitchEnvelope:os,getSampleBufferSource:Qm,getSound:_i,getVibratoOscillator:as,getWorklet:kn,getZZFX:yd,initAudio:ld,initAudioOnFirstClick:hd,initializeAudioOutput:pd,loadBuffer:lo,logger:Ke,onTriggerSample:ud,panic:Kb,processSampleMap:rd,registerSamplesPrefix:zb,registerSound:gr,registerSynthSounds:gd,registerZZFXSounds:uP,resetDefaultValues:ad,resetGlobalEffects:Qb,resetLoadedSounds:Zb,reverseBuffer:td,samples:sd,setDefaultAudioContext:cd,setDefaultValue:po,setDefaultValues:qb,setLogger:Hm,setVersionDefaults:Xb,soundMap:cs,superdough:hs,superdoughTrigger:tP,waveformN:Ad,webAudioTimeout:Jm,webaudioOutput:Bd,webaudioOutputTrigger:wd,webaudioRepl:Id},Symbol.toStringTag,{value:"Module"}));function yP(t,r){function i(){this.constructor=t}i.prototype=r.prototype,t.prototype=new i}function tr(t,r,i,u){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,tr.prototype),o.expected=r,o.found=i,o.location=u,o.name="SyntaxError",o}yP(tr,Error);function Ws(t,r,i){return i=i||" ",t.length>r?t:(r-=t.length,i+=i.repeat(r),t+i.slice(0,r))}tr.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var i=null,u;for(u=0;u<t.length;u++)if(t[u].source===this.location.source){i=t[u].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,a=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,c=this.location.source+":"+a.line+":"+a.column;if(i){var l=this.location.end,p=Ws("",a.line.toString().length," "),d=i[o.line-1],f=o.line===l.line?l.column:d.length+1,g=f-o.column||1;r+=`
 --> `+c+`
`+p+` |
`+a.line+" | "+d+`
`+p+" | "+Ws("",o.column-1," ")+Ws("",g,"^")}else r+=`
 at `+c}return r};tr.buildMessage=function(t,r){var i={literal:function(d){return'"'+o(d.text)+'"'},class:function(d){var f=d.parts.map(function(g){return Array.isArray(g)?a(g[0])+"-"+a(g[1]):a(g)});return"["+(d.inverted?"^":"")+f.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(d){return d.description}};function u(d){return d.charCodeAt(0).toString(16).toUpperCase()}function o(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+u(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+u(f)})}function a(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+u(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+u(f)})}function c(d){return i[d.type](d)}function l(d){var f=d.map(c),g,A;if(f.sort(),f.length>0){for(g=1,A=1;g<f.length;g++)f[g-1]!==f[g]&&(f[A]=f[g],A++);f.length=A}switch(f.length){case 1:return f[0];case 2:return f[0]+" or "+f[1];default:return f.slice(0,-1).join(", ")+", or "+f[f.length-1]}}function p(d){return d?'"'+o(d)+'"':"end of input"}return"Expected "+l(t)+" but "+p(r)+" found."};function kd(t,r){r=r!==void 0?r:{};var i={},u=r.grammarSource,o={start:ca},a=ca,c=".",l="-",p="+",d="0",f=",",g="|",A='"',P="'",E="#",F="^",S="_",N="[",L="]",K="{",k="}",x="%",R="<",T=">",G="@",H="!",W="(",J=")",X="/",Z="*",U="?",gt=":",ut="..",dt="struct",ht="target",xt="euclid",me="slow",te="rotL",Y="rotR",ee="fast",ae="scale",ve="//",wt="cat",Ut="$",Dt="setcps",Zt="setbpm",ye="hush",Me=/^[1-9]/,Nt=/^[eE]/,En=/^[0-9]/,Tt=/^[ \n\r\t\xA0]/,Fn=/^[0-9~]/,Ee=/^[^\n]/,Ge=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,on=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,an=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05EF-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,cn=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,wn=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]/,ln=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,ze=ks("number"),We=Ct(".",!1),Mt=Be([["1","9"]],!1,!1),Ot=Be(["e","E"],!1,!1),lt=Ct("-",!1),Xt=Ct("+",!1),Rt=Ct("0",!1),Vr=Be([["0","9"]],!1,!1),Bn=ks("whitespace"),vt=Be([" ",`
`,"\r","	"," "],!1,!1),hn=Ct(",",!1),de=Ct("|",!1),Vt=Ct('"',!1),Hn=Ct("'",!1),sr=ks('a letter, a number, "-", "#", ".", "^", "_"'),pt=Be([["0","9"],"~"],!1,!1),Gt=Ct("#",!1),Fe=Ct("^",!1),fe=Ct("_",!1),Lr=Ct("[",!1),fi=Ct("]",!1),Ss=Ct("{",!1),m=Ct("}",!1),y=Ct("%",!1),C=Ct("<",!1),M=Ct(">",!1),B=Ct("@",!1),V=Ct("!",!1),O=Ct("(",!1),q=Ct(")",!1),Q=Ct("/",!1),yt=Ct("*",!1),Ht=Ct("?",!1),pn=Ct(":",!1),In=Ct("..",!1),gi=Ct("struct",!1),Ai=Ct("target",!1),we=Ct("euclid",!1),mA=Ct("slow",!1),dA=Ct("rotL",!1),fA=Ct("rotR",!1),gA=Ct("fast",!1),AA=Ct("scale",!1),CA=Ct("//",!1),sa=Be([`
`],!0,!1),yA=Ct("cat",!1),MA=Ct("$",!1),bA=Ct("setcps",!1),PA=Ct("setbpm",!1),DA=Ct("hush",!1),vA=Be([["a","z"],"µ",["ß","ö"],["ø","ÿ"],"ā","ă","ą","ć","ĉ","ċ","č","ď","đ","ē","ĕ","ė","ę","ě","ĝ","ğ","ġ","ģ","ĥ","ħ","ĩ","ī","ĭ","į","ı","ĳ","ĵ",["ķ","ĸ"],"ĺ","ļ","ľ","ŀ","ł","ń","ņ",["ň","ŉ"],"ŋ","ō","ŏ","ő","œ","ŕ","ŗ","ř","ś","ŝ","ş","š","ţ","ť","ŧ","ũ","ū","ŭ","ů","ű","ų","ŵ","ŷ","ź","ż",["ž","ƀ"],"ƃ","ƅ","ƈ",["ƌ","ƍ"],"ƒ","ƕ",["ƙ","ƛ"],"ƞ","ơ","ƣ","ƥ","ƨ",["ƪ","ƫ"],"ƭ","ư","ƴ","ƶ",["ƹ","ƺ"],["ƽ","ƿ"],"ǆ","ǉ","ǌ","ǎ","ǐ","ǒ","ǔ","ǖ","ǘ","ǚ",["ǜ","ǝ"],"ǟ","ǡ","ǣ","ǥ","ǧ","ǩ","ǫ","ǭ",["ǯ","ǰ"],"ǳ","ǵ","ǹ","ǻ","ǽ","ǿ","ȁ","ȃ","ȅ","ȇ","ȉ","ȋ","ȍ","ȏ","ȑ","ȓ","ȕ","ȗ","ș","ț","ȝ","ȟ","ȡ","ȣ","ȥ","ȧ","ȩ","ȫ","ȭ","ȯ","ȱ",["ȳ","ȹ"],"ȼ",["ȿ","ɀ"],"ɂ","ɇ","ɉ","ɋ","ɍ",["ɏ","ʓ"],["ʕ","ʯ"],"ͱ","ͳ","ͷ",["ͻ","ͽ"],"ΐ",["ά","ώ"],["ϐ","ϑ"],["ϕ","ϗ"],"ϙ","ϛ","ϝ","ϟ","ϡ","ϣ","ϥ","ϧ","ϩ","ϫ","ϭ",["ϯ","ϳ"],"ϵ","ϸ",["ϻ","ϼ"],["а","џ"],"ѡ","ѣ","ѥ","ѧ","ѩ","ѫ","ѭ","ѯ","ѱ","ѳ","ѵ","ѷ","ѹ","ѻ","ѽ","ѿ","ҁ","ҋ","ҍ","ҏ","ґ","ғ","ҕ","җ","ҙ","қ","ҝ","ҟ","ҡ","ң","ҥ","ҧ","ҩ","ҫ","ҭ","ү","ұ","ҳ","ҵ","ҷ","ҹ","һ","ҽ","ҿ","ӂ","ӄ","ӆ","ӈ","ӊ","ӌ",["ӎ","ӏ"],"ӑ","ӓ","ӕ","ӗ","ә","ӛ","ӝ","ӟ","ӡ","ӣ","ӥ","ӧ","ө","ӫ","ӭ","ӯ","ӱ","ӳ","ӵ","ӷ","ӹ","ӻ","ӽ","ӿ","ԁ","ԃ","ԅ","ԇ","ԉ","ԋ","ԍ","ԏ","ԑ","ԓ","ԕ","ԗ","ԙ","ԛ","ԝ","ԟ","ԡ","ԣ","ԥ","ԧ","ԩ","ԫ","ԭ","ԯ",["ՠ","ֈ"],["ა","ჺ"],["ჽ","ჿ"],["ᏸ","ᏽ"],["ᲀ","ᲈ"],["ᴀ","ᴫ"],["ᵫ","ᵷ"],["ᵹ","ᶚ"],"ḁ","ḃ","ḅ","ḇ","ḉ","ḋ","ḍ","ḏ","ḑ","ḓ","ḕ","ḗ","ḙ","ḛ","ḝ","ḟ","ḡ","ḣ","ḥ","ḧ","ḩ","ḫ","ḭ","ḯ","ḱ","ḳ","ḵ","ḷ","ḹ","ḻ","ḽ","ḿ","ṁ","ṃ","ṅ","ṇ","ṉ","ṋ","ṍ","ṏ","ṑ","ṓ","ṕ","ṗ","ṙ","ṛ","ṝ","ṟ","ṡ","ṣ","ṥ","ṧ","ṩ","ṫ","ṭ","ṯ","ṱ","ṳ","ṵ","ṷ","ṹ","ṻ","ṽ","ṿ","ẁ","ẃ","ẅ","ẇ","ẉ","ẋ","ẍ","ẏ","ẑ","ẓ",["ẕ","ẝ"],"ẟ","ạ","ả","ấ","ầ","ẩ","ẫ","ậ","ắ","ằ","ẳ","ẵ","ặ","ẹ","ẻ","ẽ","ế","ề","ể","ễ","ệ","ỉ","ị","ọ","ỏ","ố","ồ","ổ","ỗ","ộ","ớ","ờ","ở","ỡ","ợ","ụ","ủ","ứ","ừ","ử","ữ","ự","ỳ","ỵ","ỷ","ỹ","ỻ","ỽ",["ỿ","ἇ"],["ἐ","ἕ"],["ἠ","ἧ"],["ἰ","ἷ"],["ὀ","ὅ"],["ὐ","ὗ"],["ὠ","ὧ"],["ὰ","ώ"],["ᾀ","ᾇ"],["ᾐ","ᾗ"],["ᾠ","ᾧ"],["ᾰ","ᾴ"],["ᾶ","ᾷ"],"ι",["ῂ","ῄ"],["ῆ","ῇ"],["ῐ","ΐ"],["ῖ","ῗ"],["ῠ","ῧ"],["ῲ","ῴ"],["ῶ","ῷ"],"ℊ",["ℎ","ℏ"],"ℓ","ℯ","ℴ","ℹ",["ℼ","ℽ"],["ⅆ","ⅉ"],"ⅎ","ↄ",["ⰰ","ⱞ"],"ⱡ",["ⱥ","ⱦ"],"ⱨ","ⱪ","ⱬ","ⱱ",["ⱳ","ⱴ"],["ⱶ","ⱻ"],"ⲁ","ⲃ","ⲅ","ⲇ","ⲉ","ⲋ","ⲍ","ⲏ","ⲑ","ⲓ","ⲕ","ⲗ","ⲙ","ⲛ","ⲝ","ⲟ","ⲡ","ⲣ","ⲥ","ⲧ","ⲩ","ⲫ","ⲭ","ⲯ","ⲱ","ⲳ","ⲵ","ⲷ","ⲹ","ⲻ","ⲽ","ⲿ","ⳁ","ⳃ","ⳅ","ⳇ","ⳉ","ⳋ","ⳍ","ⳏ","ⳑ","ⳓ","ⳕ","ⳗ","ⳙ","ⳛ","ⳝ","ⳟ","ⳡ",["ⳣ","ⳤ"],"ⳬ","ⳮ","ⳳ",["ⴀ","ⴥ"],"ⴧ","ⴭ","ꙁ","ꙃ","ꙅ","ꙇ","ꙉ","ꙋ","ꙍ","ꙏ","ꙑ","ꙓ","ꙕ","ꙗ","ꙙ","ꙛ","ꙝ","ꙟ","ꙡ","ꙣ","ꙥ","ꙧ","ꙩ","ꙫ","ꙭ","ꚁ","ꚃ","ꚅ","ꚇ","ꚉ","ꚋ","ꚍ","ꚏ","ꚑ","ꚓ","ꚕ","ꚗ","ꚙ","ꚛ","ꜣ","ꜥ","ꜧ","ꜩ","ꜫ","ꜭ",["ꜯ","ꜱ"],"ꜳ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ꜿ","ꝁ","ꝃ","ꝅ","ꝇ","ꝉ","ꝋ","ꝍ","ꝏ","ꝑ","ꝓ","ꝕ","ꝗ","ꝙ","ꝛ","ꝝ","ꝟ","ꝡ","ꝣ","ꝥ","ꝧ","ꝩ","ꝫ","ꝭ","ꝯ",["ꝱ","ꝸ"],"ꝺ","ꝼ","ꝿ","ꞁ","ꞃ","ꞅ","ꞇ","ꞌ","ꞎ","ꞑ",["ꞓ","ꞕ"],"ꞗ","ꞙ","ꞛ","ꞝ","ꞟ","ꞡ","ꞣ","ꞥ","ꞧ","ꞩ","ꞯ","ꞵ","ꞷ","ꞹ","ꟺ",["ꬰ","ꭚ"],["ꭠ","ꭥ"],["ꭰ","ꮿ"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],["ａ","ｚ"]],!1,!1),EA=Be([["ʰ","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ","ʹ","ͺ","ՙ","ـ",["ۥ","ۦ"],["ߴ","ߵ"],"ߺ","ࠚ","ࠤ","ࠨ","ॱ","ๆ","ໆ","ჼ","ៗ","ᡃ","ᪧ",["ᱸ","ᱽ"],["ᴬ","ᵪ"],"ᵸ",["ᶛ","ᶿ"],"ⁱ","ⁿ",["ₐ","ₜ"],["ⱼ","ⱽ"],"ⵯ","ⸯ","々",["〱","〵"],"〻",["ゝ","ゞ"],["ー","ヾ"],"ꀕ",["ꓸ","ꓽ"],"ꘌ","ꙿ",["ꚜ","ꚝ"],["ꜗ","ꜟ"],"ꝰ","ꞈ",["ꟸ","ꟹ"],"ꧏ","ꧦ","ꩰ","ꫝ",["ꫳ","ꫴ"],["ꭜ","ꭟ"],"ｰ",["ﾞ","ﾟ"]],!1,!1),FA=Be(["ª","º","ƻ",["ǀ","ǃ"],"ʔ",["א","ת"],["ׯ","ײ"],["ؠ","ؿ"],["ف","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ࠀ","ࠕ"],["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॲ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๅ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["ᄀ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛱ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៜ",["ᠠ","ᡂ"],["ᡄ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱷ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ℵ","ℸ"],["ⴰ","ⵧ"],["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"〆","〼",["ぁ","ゖ"],"ゟ",["ァ","ヺ"],"ヿ",["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꀔ"],["ꀖ","ꒌ"],["ꓐ","ꓷ"],["ꔀ","ꘋ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],"ꙮ",["ꚠ","ꛥ"],"ꞏ","ꟷ",["ꟻ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],["ꧠ","ꧤ"],["ꧧ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩯ"],["ꩱ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫜ"],["ꫠ","ꫪ"],"ꫲ",["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꯀ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["ｦ","ｯ"],["ｱ","ﾝ"],["ﾠ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),wA=Be(["ǅ","ǈ","ǋ","ǲ",["ᾈ","ᾏ"],["ᾘ","ᾟ"],["ᾨ","ᾯ"],"ᾼ","ῌ","ῼ"],!1,!1),BA=Be([["A","Z"],["À","Ö"],["Ø","Þ"],"Ā","Ă","Ą","Ć","Ĉ","Ċ","Č","Ď","Đ","Ē","Ĕ","Ė","Ę","Ě","Ĝ","Ğ","Ġ","Ģ","Ĥ","Ħ","Ĩ","Ī","Ĭ","Į","İ","Ĳ","Ĵ","Ķ","Ĺ","Ļ","Ľ","Ŀ","Ł","Ń","Ņ","Ň","Ŋ","Ō","Ŏ","Ő","Œ","Ŕ","Ŗ","Ř","Ś","Ŝ","Ş","Š","Ţ","Ť","Ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","Ŵ","Ŷ",["Ÿ","Ź"],"Ż","Ž",["Ɓ","Ƃ"],"Ƅ",["Ɔ","Ƈ"],["Ɖ","Ƌ"],["Ǝ","Ƒ"],["Ɠ","Ɣ"],["Ɩ","Ƙ"],["Ɯ","Ɲ"],["Ɵ","Ơ"],"Ƣ","Ƥ",["Ʀ","Ƨ"],"Ʃ","Ƭ",["Ʈ","Ư"],["Ʊ","Ƴ"],"Ƶ",["Ʒ","Ƹ"],"Ƽ","Ǆ","Ǉ","Ǌ","Ǎ","Ǐ","Ǒ","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ǟ","Ǡ","Ǣ","Ǥ","Ǧ","Ǩ","Ǫ","Ǭ","Ǯ","Ǳ","Ǵ",["Ƕ","Ǹ"],"Ǻ","Ǽ","Ǿ","Ȁ","Ȃ","Ȅ","Ȇ","Ȉ","Ȋ","Ȍ","Ȏ","Ȑ","Ȓ","Ȕ","Ȗ","Ș","Ț","Ȝ","Ȟ","Ƞ","Ȣ","Ȥ","Ȧ","Ȩ","Ȫ","Ȭ","Ȯ","Ȱ","Ȳ",["Ⱥ","Ȼ"],["Ƚ","Ⱦ"],"Ɂ",["Ƀ","Ɇ"],"Ɉ","Ɋ","Ɍ","Ɏ","Ͱ","Ͳ","Ͷ","Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ώ"],["Α","Ρ"],["Σ","Ϋ"],"Ϗ",["ϒ","ϔ"],"Ϙ","Ϛ","Ϝ","Ϟ","Ϡ","Ϣ","Ϥ","Ϧ","Ϩ","Ϫ","Ϭ","Ϯ","ϴ","Ϸ",["Ϲ","Ϻ"],["Ͻ","Я"],"Ѡ","Ѣ","Ѥ","Ѧ","Ѩ","Ѫ","Ѭ","Ѯ","Ѱ","Ѳ","Ѵ","Ѷ","Ѹ","Ѻ","Ѽ","Ѿ","Ҁ","Ҋ","Ҍ","Ҏ","Ґ","Ғ","Ҕ","Җ","Ҙ","Қ","Ҝ","Ҟ","Ҡ","Ң","Ҥ","Ҧ","Ҩ","Ҫ","Ҭ","Ү","Ұ","Ҳ","Ҵ","Ҷ","Ҹ","Һ","Ҽ","Ҿ",["Ӏ","Ӂ"],"Ӄ","Ӆ","Ӈ","Ӊ","Ӌ","Ӎ","Ӑ","Ӓ","Ӕ","Ӗ","Ә","Ӛ","Ӝ","Ӟ","Ӡ","Ӣ","Ӥ","Ӧ","Ө","Ӫ","Ӭ","Ӯ","Ӱ","Ӳ","Ӵ","Ӷ","Ӹ","Ӻ","Ӽ","Ӿ","Ԁ","Ԃ","Ԅ","Ԇ","Ԉ","Ԋ","Ԍ","Ԏ","Ԑ","Ԓ","Ԕ","Ԗ","Ԙ","Ԛ","Ԝ","Ԟ","Ԡ","Ԣ","Ԥ","Ԧ","Ԩ","Ԫ","Ԭ","Ԯ",["Ա","Ֆ"],["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["Ꭰ","Ᏽ"],["Ა","Ჺ"],["Ჽ","Ჿ"],"Ḁ","Ḃ","Ḅ","Ḇ","Ḉ","Ḋ","Ḍ","Ḏ","Ḑ","Ḓ","Ḕ","Ḗ","Ḙ","Ḛ","Ḝ","Ḟ","Ḡ","Ḣ","Ḥ","Ḧ","Ḩ","Ḫ","Ḭ","Ḯ","Ḱ","Ḳ","Ḵ","Ḷ","Ḹ","Ḻ","Ḽ","Ḿ","Ṁ","Ṃ","Ṅ","Ṇ","Ṉ","Ṋ","Ṍ","Ṏ","Ṑ","Ṓ","Ṕ","Ṗ","Ṙ","Ṛ","Ṝ","Ṟ","Ṡ","Ṣ","Ṥ","Ṧ","Ṩ","Ṫ","Ṭ","Ṯ","Ṱ","Ṳ","Ṵ","Ṷ","Ṹ","Ṻ","Ṽ","Ṿ","Ẁ","Ẃ","Ẅ","Ẇ","Ẉ","Ẋ","Ẍ","Ẏ","Ẑ","Ẓ","Ẕ","ẞ","Ạ","Ả","Ấ","Ầ","Ẩ","Ẫ","Ậ","Ắ","Ằ","Ẳ","Ẵ","Ặ","Ẹ","Ẻ","Ẽ","Ế","Ề","Ể","Ễ","Ệ","Ỉ","Ị","Ọ","Ỏ","Ố","Ồ","Ổ","Ỗ","Ộ","Ớ","Ờ","Ở","Ỡ","Ợ","Ụ","Ủ","Ứ","Ừ","Ử","Ữ","Ự","Ỳ","Ỵ","Ỷ","Ỹ","Ỻ","Ỽ","Ỿ",["Ἀ","Ἇ"],["Ἐ","Ἕ"],["Ἠ","Ἧ"],["Ἰ","Ἷ"],["Ὀ","Ὅ"],"Ὑ","Ὓ","Ὕ","Ὗ",["Ὠ","Ὧ"],["Ᾰ","Ά"],["Ὲ","Ή"],["Ῐ","Ί"],["Ῠ","Ῥ"],["Ὸ","Ώ"],"ℂ","ℇ",["ℋ","ℍ"],["ℐ","ℒ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℰ","ℳ"],["ℾ","ℿ"],"ⅅ","Ↄ",["Ⰰ","Ⱞ"],"Ⱡ",["Ɫ","Ɽ"],"Ⱨ","Ⱪ","Ⱬ",["Ɑ","Ɒ"],"Ⱳ","Ⱶ",["Ȿ","Ⲁ"],"Ⲃ","Ⲅ","Ⲇ","Ⲉ","Ⲋ","Ⲍ","Ⲏ","Ⲑ","Ⲓ","Ⲕ","Ⲗ","Ⲙ","Ⲛ","Ⲝ","Ⲟ","Ⲡ","Ⲣ","Ⲥ","Ⲧ","Ⲩ","Ⲫ","Ⲭ","Ⲯ","Ⲱ","Ⲳ","Ⲵ","Ⲷ","Ⲹ","Ⲻ","Ⲽ","Ⲿ","Ⳁ","Ⳃ","Ⳅ","Ⳇ","Ⳉ","Ⳋ","Ⳍ","Ⳏ","Ⳑ","Ⳓ","Ⳕ","Ⳗ","Ⳙ","Ⳛ","Ⳝ","Ⳟ","Ⳡ","Ⳣ","Ⳬ","Ⳮ","Ⳳ","Ꙁ","Ꙃ","Ꙅ","Ꙇ","Ꙉ","Ꙋ","Ꙍ","Ꙏ","Ꙑ","Ꙓ","Ꙕ","Ꙗ","Ꙙ","Ꙛ","Ꙝ","Ꙟ","Ꙡ","Ꙣ","Ꙥ","Ꙧ","Ꙩ","Ꙫ","Ꙭ","Ꚁ","Ꚃ","Ꚅ","Ꚇ","Ꚉ","Ꚋ","Ꚍ","Ꚏ","Ꚑ","Ꚓ","Ꚕ","Ꚗ","Ꚙ","Ꚛ","Ꜣ","Ꜥ","Ꜧ","Ꜩ","Ꜫ","Ꜭ","Ꜯ","Ꜳ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ꜿ","Ꝁ","Ꝃ","Ꝅ","Ꝇ","Ꝉ","Ꝋ","Ꝍ","Ꝏ","Ꝑ","Ꝓ","Ꝕ","Ꝗ","Ꝙ","Ꝛ","Ꝝ","Ꝟ","Ꝡ","Ꝣ","Ꝥ","Ꝧ","Ꝩ","Ꝫ","Ꝭ","Ꝯ","Ꝺ","Ꝼ",["Ᵹ","Ꝿ"],"Ꞁ","Ꞃ","Ꞅ","Ꞇ","Ꞌ","Ɥ","Ꞑ","Ꞓ","Ꞗ","Ꞙ","Ꞛ","Ꞝ","Ꞟ","Ꞡ","Ꞣ","Ꞥ","Ꞧ","Ꞩ",["Ɦ","Ɪ"],["Ʞ","Ꞵ"],"Ꞷ","Ꞹ",["Ａ","Ｚ"]],!1,!1),IA=Be([["ᛮ","ᛰ"],["Ⅰ","ↂ"],["ↅ","ↈ"],"〇",["〡","〩"],["〸","〺"],["ꛦ","ꛯ"]],!1,!1),xA=function(){return parseFloat(fC())},SA=function(h){const D=h.join("");return D==="."||D==="_"},_A=function(h){return new h2(h.join(""))},kA=function(h){return h},NA=function(h,D){return h.arguments_.stepsPerCycle=D,h},TA=function(h){return h},RA=function(h){return h.arguments_.alignment="polymeter_slowcat",h},VA=function(h){return D=>D.options_.weight=(D.options_.weight??1)+(h??2)-1},LA=function(h){return D=>{const I=(D.options_.reps??1)+(h??2)-1;D.options_.reps=I,D.options_.ops=D.options_.ops.filter(j=>j.type_!=="replicate"),D.options_.ops.push({type_:"replicate",arguments_:{amount:I}}),D.options_.weight=I}},jA=function(h,D,I){return j=>j.options_.ops.push({type_:"bjorklund",arguments_:{pulse:h,step:D,rotation:I}})},OA=function(h){return D=>D.options_.ops.push({type_:"stretch",arguments_:{amount:h,type:"slow"}})},GA=function(h){return D=>D.options_.ops.push({type_:"stretch",arguments_:{amount:h,type:"fast"}})},zA=function(h){return D=>D.options_.ops.push({type_:"degradeBy",arguments_:{amount:h,seed:Vs++}})},WA=function(h){return D=>D.options_.ops.push({type_:"tail",arguments_:{element:h}})},qA=function(h){return D=>D.options_.ops.push({type_:"range",arguments_:{element:h}})},XA=function(h,D){const I=new m2(h,{ops:[],weight:1,reps:1});for(const j of D)j(I);return I},ZA=function(h,D){return new Pi(D,"fastcat",void 0,!!h)},HA=function(h){return{alignment:"stack",list:h}},KA=function(h){return{alignment:"rand",list:h,seed:Vs++}},YA=function(h){return{alignment:"feet",list:h,seed:Vs++}},UA=function(h,D){return D&&D.list.length>0?new Pi([h,...D.list],D.alignment,D.seed):h},$A=function(h,D){return new Pi(D?[h,...D.list]:[h],"polymeter")},JA=function(h){return h},QA=function(h){return{name:"struct",args:{mini:h}}},tC=function(h){return{name:"target",args:{name:h}}},eC=function(h,D,I){return{name:"bjorklund",args:{pulse:h,step:parseInt(D)}}},nC=function(h){return{name:"stretch",args:{amount:h}}},rC=function(h){return{name:"shift",args:{amount:"-"+h}}},iC=function(h){return{name:"shift",args:{amount:h}}},sC=function(h){return{name:"stretch",args:{amount:"1/"+h}}},uC=function(h){return{name:"scale",args:{scale:h.join("")}}},ua=function(h,D){return D},oC=function(h,D){return D.unshift(h),new Pi(D,"slowcat")},aC=function(h){return h},cC=function(h,D){return new p2(h.name,h.args,D)},lC=function(h){return h},hC=function(h){return h},pC=function(h){return new Rs("setcps",{value:h})},mC=function(h){return new Rs("setcps",{value:h/120/2})},dC=function(){return new Rs("hush")},v=0,At=0,Ci=[{line:1,column:1}],Je=0,_s=[],$=0,yi;if("startRule"in r){if(!(r.startRule in o))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');a=o[r.startRule]}function fC(){return t.substring(At,v)}function oa(){return Ns(At,v)}function Ct(h,D){return{type:"literal",text:h,ignoreCase:D}}function Be(h,D,I){return{type:"class",parts:h,inverted:D,ignoreCase:I}}function gC(){return{type:"end"}}function ks(h){return{type:"other",description:h}}function aa(h){var D=Ci[h],I;if(D)return D;for(I=h-1;!Ci[I];)I--;for(D=Ci[I],D={line:D.line,column:D.column};I<h;)t.charCodeAt(I)===10?(D.line++,D.column=1):D.column++,I++;return Ci[h]=D,D}function Ns(h,D,I){var j=aa(h),at=aa(D),Lt={source:u,start:{offset:h,line:j.line,column:j.column},end:{offset:D,line:at.line,column:at.column}};return Lt}function et(h){v<Je||(v>Je&&(Je=v,_s=[]),_s.push(h))}function AC(h,D,I){return new tr(tr.buildMessage(h,D),h,D,I)}function ca(){var h;return h=r2(),h}function mn(){var h,D;return $++,h=v,la(),D=Mi(),D!==i?(PC(),bC(),At=h,h=xA()):(v=h,h=i),$--,h===i&&$===0&&et(ze),h}function CC(){var h;return t.charCodeAt(v)===46?(h=c,v++):(h=i,$===0&&et(We)),h}function yC(){var h;return Me.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Mt)),h}function MC(){var h;return Nt.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Ot)),h}function bC(){var h,D,I,j,at;if(h=v,D=MC(),D!==i){if(I=la(),I===i&&(I=DC()),I===i&&(I=null),j=[],at=ur(),at!==i)for(;at!==i;)j.push(at),at=ur();else j=i;j!==i?(D=[D,I,j],h=D):(v=h,h=i)}else v=h,h=i;return h}function PC(){var h,D,I,j;if(h=v,D=CC(),D!==i){if(I=[],j=ur(),j!==i)for(;j!==i;)I.push(j),j=ur();else I=i;I!==i?(D=[D,I],h=D):(v=h,h=i)}else v=h,h=i;return h}function Mi(){var h,D,I,j;if(h=vC(),h===i)if(h=v,D=yC(),D!==i){for(I=[],j=ur();j!==i;)I.push(j),j=ur();D=[D,I],h=D}else v=h,h=i;return h}function la(){var h;return t.charCodeAt(v)===45?(h=l,v++):(h=i,$===0&&et(lt)),h}function DC(){var h;return t.charCodeAt(v)===43?(h=p,v++):(h=i,$===0&&et(Xt)),h}function vC(){var h;return t.charCodeAt(v)===48?(h=d,v++):(h=i,$===0&&et(Rt)),h}function ur(){var h;return En.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Vr)),h}function mt(){var h,D;for($++,h=[],Tt.test(t.charAt(v))?(D=t.charAt(v),v++):(D=i,$===0&&et(vt));D!==i;)h.push(D),Tt.test(t.charAt(v))?(D=t.charAt(v),v++):(D=i,$===0&&et(vt));return $--,D=i,$===0&&et(Bn),h}function or(){var h,D,I,j;return h=v,D=mt(),t.charCodeAt(v)===44?(I=f,v++):(I=i,$===0&&et(hn)),I!==i?(j=mt(),D=[D,I,j],h=D):(v=h,h=i),h}function ha(){var h,D,I,j;return h=v,D=mt(),t.charCodeAt(v)===124?(I=g,v++):(I=i,$===0&&et(de)),I!==i?(j=mt(),D=[D,I,j],h=D):(v=h,h=i),h}function pa(){var h,D,I,j;return h=v,D=mt(),t.charCodeAt(v)===46?(I=c,v++):(I=i,$===0&&et(We)),I!==i?(j=mt(),D=[D,I,j],h=D):(v=h,h=i),h}function ar(){var h;return t.charCodeAt(v)===34?(h=A,v++):(h=i,$===0&&et(Vt)),h===i&&(t.charCodeAt(v)===39?(h=P,v++):(h=i,$===0&&et(Hn))),h}function bi(){var h;return $++,h=i2(),h===i&&(Fn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(pt)),h===i&&(t.charCodeAt(v)===45?(h=l,v++):(h=i,$===0&&et(lt)),h===i&&(t.charCodeAt(v)===35?(h=E,v++):(h=i,$===0&&et(Gt)),h===i&&(t.charCodeAt(v)===46?(h=c,v++):(h=i,$===0&&et(We)),h===i&&(t.charCodeAt(v)===94?(h=F,v++):(h=i,$===0&&et(Fe)),h===i&&(t.charCodeAt(v)===95?(h=S,v++):(h=i,$===0&&et(fe)))))))),$--,h===i&&$===0&&et(sr),h}function ma(){var h,D,I,j;if(h=v,mt(),D=[],I=bi(),I!==i)for(;I!==i;)D.push(I),I=bi();else D=i;return D!==i?(I=mt(),At=v,j=SA(D),j?j=i:j=void 0,j!==i?(At=h,h=_A(D)):(v=h,h=i)):(v=h,h=i),h}function EC(){var h,D,I,j;return h=v,mt(),t.charCodeAt(v)===91?(D=N,v++):(D=i,$===0&&et(Lr)),D!==i?(mt(),I=ga(),I!==i?(mt(),t.charCodeAt(v)===93?(j=L,v++):(j=i,$===0&&et(fi)),j!==i?(mt(),At=h,h=kA(I)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function FC(){var h,D,I,j,at;return h=v,mt(),t.charCodeAt(v)===123?(D=K,v++):(D=i,$===0&&et(Ss)),D!==i?(mt(),I=Aa(),I!==i?(mt(),t.charCodeAt(v)===125?(j=k,v++):(j=i,$===0&&et(m)),j!==i?(at=wC(),at===i&&(at=null),mt(),At=h,h=NA(I,at)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function wC(){var h,D,I;return h=v,t.charCodeAt(v)===37?(D=x,v++):(D=i,$===0&&et(y)),D!==i?(I=cr(),I!==i?(At=h,h=TA(I)):(v=h,h=i)):(v=h,h=i),h}function BC(){var h,D,I,j;return h=v,mt(),t.charCodeAt(v)===60?(D=R,v++):(D=i,$===0&&et(C)),D!==i?(mt(),I=Aa(),I!==i?(mt(),t.charCodeAt(v)===62?(j=T,v++):(j=i,$===0&&et(M)),j!==i?(mt(),At=h,h=RA(I)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function cr(){var h;return h=ma(),h===i&&(h=EC(),h===i&&(h=FC(),h===i&&(h=BC()))),h}function da(){var h;return h=IC(),h===i&&(h=SC(),h===i&&(h=_C(),h===i&&(h=kC(),h===i&&(h=xC(),h===i&&(h=NC(),h===i&&(h=TC(),h===i&&(h=RC()))))))),h}function IC(){var h,D,I;return h=v,mt(),t.charCodeAt(v)===64?(D=G,v++):(D=i,$===0&&et(B)),D===i&&(t.charCodeAt(v)===95?(D=S,v++):(D=i,$===0&&et(fe))),D!==i?(I=mn(),I===i&&(I=null),At=h,h=VA(I)):(v=h,h=i),h}function xC(){var h,D,I;return h=v,mt(),t.charCodeAt(v)===33?(D=H,v++):(D=i,$===0&&et(V)),D!==i?(I=mn(),I===i&&(I=null),At=h,h=LA(I)):(v=h,h=i),h}function SC(){var h,D,I,j,at,Lt,qe;return h=v,t.charCodeAt(v)===40?(D=W,v++):(D=i,$===0&&et(O)),D!==i?(mt(),I=jr(),I!==i?(mt(),j=or(),j!==i?(mt(),at=jr(),at!==i?(mt(),or(),mt(),Lt=jr(),Lt===i&&(Lt=null),mt(),t.charCodeAt(v)===41?(qe=J,v++):(qe=i,$===0&&et(q)),qe!==i?(At=h,h=jA(I,at,Lt)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function _C(){var h,D,I;return h=v,t.charCodeAt(v)===47?(D=X,v++):(D=i,$===0&&et(Q)),D!==i?(I=cr(),I!==i?(At=h,h=OA(I)):(v=h,h=i)):(v=h,h=i),h}function kC(){var h,D,I;return h=v,t.charCodeAt(v)===42?(D=Z,v++):(D=i,$===0&&et(yt)),D!==i?(I=cr(),I!==i?(At=h,h=GA(I)):(v=h,h=i)):(v=h,h=i),h}function NC(){var h,D,I;return h=v,t.charCodeAt(v)===63?(D=U,v++):(D=i,$===0&&et(Ht)),D!==i?(I=mn(),I===i&&(I=null),At=h,h=zA(I)):(v=h,h=i),h}function TC(){var h,D,I;return h=v,t.charCodeAt(v)===58?(D=gt,v++):(D=i,$===0&&et(pn)),D!==i?(I=cr(),I!==i?(At=h,h=WA(I)):(v=h,h=i)):(v=h,h=i),h}function RC(){var h,D,I;return h=v,t.substr(v,2)===ut?(D=ut,v+=2):(D=i,$===0&&et(In)),D!==i?(I=cr(),I!==i?(At=h,h=qA(I)):(v=h,h=i)):(v=h,h=i),h}function jr(){var h,D,I,j;if(h=v,D=cr(),D!==i){for(I=[],j=da();j!==i;)I.push(j),j=da();At=h,h=XA(D,I)}else v=h,h=i;return h}function xn(){var h,D,I,j;if(h=v,t.charCodeAt(v)===94?(D=F,v++):(D=i,$===0&&et(Fe)),D===i&&(D=null),I=[],j=jr(),j!==i)for(;j!==i;)I.push(j),j=jr();else I=i;return I!==i?(At=h,h=ZA(D,I)):(v=h,h=i),h}function fa(){var h,D,I,j,at;if(h=v,D=[],I=v,j=or(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i),I!==i)for(;I!==i;)D.push(I),I=v,j=or(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i);else D=i;return D!==i&&(At=h,D=HA(D)),h=D,h}function VC(){var h,D,I,j,at;if(h=v,D=[],I=v,j=ha(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i),I!==i)for(;I!==i;)D.push(I),I=v,j=ha(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i);else D=i;return D!==i&&(At=h,D=KA(D)),h=D,h}function LC(){var h,D,I,j,at;if(h=v,D=[],I=v,j=pa(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i),I!==i)for(;I!==i;)D.push(I),I=v,j=pa(),j!==i?(at=xn(),at!==i?I=at:(v=I,I=i)):(v=I,I=i);else D=i;return D!==i&&(At=h,D=YA(D)),h=D,h}function ga(){var h,D,I;return h=v,D=xn(),D!==i?(I=fa(),I===i&&(I=VC(),I===i&&(I=LC())),I===i&&(I=null),At=h,h=UA(D,I)):(v=h,h=i),h}function Aa(){var h,D,I;return h=v,D=xn(),D!==i?(I=fa(),I===i&&(I=null),At=h,h=$A(D,I)):(v=h,h=i),h}function jC(){var h,D,I,j;return h=v,mt(),D=ar(),D!==i?(mt(),I=ga(),I!==i?(mt(),j=ar(),j!==i?(At=h,h=JA(I)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function OC(){var h;return h=KC(),h===i&&(h=qC(),h===i&&(h=HC(),h===i&&(h=zC(),h===i&&(h=WC(),h===i&&(h=GC(),h===i&&(h=ZC(),h===i&&(h=XC()))))))),h}function GC(){var h,D,I;return h=v,t.substr(v,6)===dt?(D=dt,v+=6):(D=i,$===0&&et(gi)),D!==i?(mt(),I=lr(),I!==i?(At=h,h=QA(I)):(v=h,h=i)):(v=h,h=i),h}function zC(){var h,D,I,j,at;return h=v,t.substr(v,6)===ht?(D=ht,v+=6):(D=i,$===0&&et(Ai)),D!==i?(mt(),I=ar(),I!==i?(j=ma(),j!==i?(at=ar(),at!==i?(At=h,h=tC(j)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function WC(){var h,D,I,j;return h=v,t.substr(v,6)===xt?(D=xt,v+=6):(D=i,$===0&&et(we)),D!==i?(mt(),I=Mi(),I!==i?(mt(),j=Mi(),j!==i?(mt(),Mi(),At=h,h=eC(I,j)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function qC(){var h,D,I;return h=v,t.substr(v,4)===me?(D=me,v+=4):(D=i,$===0&&et(mA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=nC(I)):(v=h,h=i)):(v=h,h=i),h}function XC(){var h,D,I;return h=v,t.substr(v,4)===te?(D=te,v+=4):(D=i,$===0&&et(dA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=rC(I)):(v=h,h=i)):(v=h,h=i),h}function ZC(){var h,D,I;return h=v,t.substr(v,4)===Y?(D=Y,v+=4):(D=i,$===0&&et(fA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=iC(I)):(v=h,h=i)):(v=h,h=i),h}function HC(){var h,D,I;return h=v,t.substr(v,4)===ee?(D=ee,v+=4):(D=i,$===0&&et(gA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=sC(I)):(v=h,h=i)):(v=h,h=i),h}function KC(){var h,D,I,j,at;if(h=v,t.substr(v,5)===ae?(D=ae,v+=5):(D=i,$===0&&et(AA)),D!==i)if(mt(),I=ar(),I!==i){if(j=[],at=bi(),at!==i)for(;at!==i;)j.push(at),at=bi();else j=i;j!==i?(at=ar(),at!==i?(At=h,h=uC(j)):(v=h,h=i)):(v=h,h=i)}else v=h,h=i;else v=h,h=i;return h}function Ts(){var h,D,I,j;if(h=v,t.substr(v,2)===ve?(D=ve,v+=2):(D=i,$===0&&et(CA)),D!==i){for(I=[],Ee.test(t.charAt(v))?(j=t.charAt(v),v++):(j=i,$===0&&et(sa));j!==i;)I.push(j),Ee.test(t.charAt(v))?(j=t.charAt(v),v++):(j=i,$===0&&et(sa));D=[D,I],h=D}else v=h,h=i;return h}function YC(){var h,D,I,j,at,Lt,qe,hr;if(h=v,t.substr(v,3)===wt?(D=wt,v+=3):(D=i,$===0&&et(yA)),D!==i)if(mt(),t.charCodeAt(v)===91?(I=N,v++):(I=i,$===0&&et(Lr)),I!==i)if(mt(),j=lr(),j!==i){for(at=[],Lt=v,qe=or(),qe!==i?(hr=lr(),hr!==i?(At=Lt,Lt=ua(j,hr)):(v=Lt,Lt=i)):(v=Lt,Lt=i);Lt!==i;)at.push(Lt),Lt=v,qe=or(),qe!==i?(hr=lr(),hr!==i?(At=Lt,Lt=ua(j,hr)):(v=Lt,Lt=i)):(v=Lt,Lt=i);Lt=mt(),t.charCodeAt(v)===93?(qe=L,v++):(qe=i,$===0&&et(fi)),qe!==i?(At=h,h=oC(j,at)):(v=h,h=i)}else v=h,h=i;else v=h,h=i;else v=h,h=i;return h}function UC(){var h;return h=YC(),h===i&&(h=jC()),h}function lr(){var h,D,I,j,at;if(h=v,D=UC(),D!==i){for(mt(),I=[],j=Ts();j!==i;)I.push(j),j=Ts();At=h,h=aC(D)}else v=h,h=i;return h===i&&(h=v,D=OC(),D!==i?(mt(),t.charCodeAt(v)===36?(I=Ut,v++):(I=i,$===0&&et(MA)),I!==i?(j=mt(),at=lr(),at!==i?(At=h,h=cC(D,at)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)),h}function $C(){var h,D;return h=v,D=lr(),D!==i&&(At=h,D=lC(D)),h=D,h===i&&(h=Ts()),h}function JC(){var h;return h=$C(),h}function QC(){var h,D;return h=v,mt(),D=t2(),D===i&&(D=e2(),D===i&&(D=n2())),D!==i?(mt(),At=h,h=hC(D)):(v=h,h=i),h}function t2(){var h,D,I;return h=v,t.substr(v,6)===Dt?(D=Dt,v+=6):(D=i,$===0&&et(bA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=pC(I)):(v=h,h=i)):(v=h,h=i),h}function e2(){var h,D,I;return h=v,t.substr(v,6)===Zt?(D=Zt,v+=6):(D=i,$===0&&et(PA)),D!==i?(mt(),I=mn(),I!==i?(At=h,h=mC(I)):(v=h,h=i)):(v=h,h=i),h}function n2(){var h,D;return h=v,t.substr(v,4)===ye?(D=ye,v+=4):(D=i,$===0&&et(DA)),D!==i&&(At=h,D=dC()),h=D,h}function r2(){var h;return h=JC(),h===i&&(h=QC()),h}function i2(){var h;return h=c2(),h===i&&(h=s2(),h===i&&(h=a2(),h===i&&(h=u2(),h===i&&(h=o2(),h===i&&(h=l2()))))),h}function s2(){var h;return Ge.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(vA)),h}function u2(){var h;return on.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(EA)),h}function o2(){var h;return an.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(FA)),h}function a2(){var h;return cn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(wA)),h}function c2(){var h;return wn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(BA)),h}function l2(){var h;return ln.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(IA)),h}var h2=function(h){this.type_="atom",this.source_=h,this.location_=oa()},Pi=function(h,D,I,j){this.type_="pattern",this.arguments_={alignment:D,tactus:j},I!==void 0&&(this.arguments_.seed=I),this.source_=h},p2=function(h,D,I){this.type_=h,this.arguments_=D,this.source_=I},m2=function(h,D){this.type_="element",this.source_=h,this.options_=D,this.location_=oa()},Rs=function(h,D){this.type_="command",this.name_=h,this.options_=D},Vs=0;if(yi=a(),yi!==i&&v===t.length)return yi;throw yi!==i&&v<t.length&&et(gC()),AC(_s,Je<t.length?t.charAt(Je):null,Je<t.length?Ns(Je,Je+1):Ns(Je,Je))}/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var MP=2e3,st={s:1,n:0,d:1};function gn(t,r){if(isNaN(t=parseInt(t,10)))throw ki();return t*r}function Wt(t,r){if(r===0)throw fo();var i=Object.create(kt.prototype);i.s=t<0?-1:1,t=t<0?-t:t;var u=dr(t,r);return i.n=t/u,i.d=r/u,i}function Na(t){for(var r={},i=t,u=2,o=4;o<=i;){for(;i%u===0;)i/=u,r[u]=(r[u]||0)+1;o+=1+2*u++}return i!==t?i>1&&(r[i]=(r[i]||0)+1):r[t]=(r[t]||0)+1,r}var Pe=function(t,r){var i=0,u=1,o=1,a=0,c=0,l=0,p=1,d=1,f=0,g=1,A=1,P=1,E=1e7,F;if(t!=null)if(r!==void 0){if(i=t,u=r,o=i*u,i%1!==0||u%1!==0)throw vP()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)i=t.n,u=t.d,"s"in t&&(i*=t.s);else if(0 in t)i=t[0],1 in t&&(u=t[1]);else throw ki();o=i*u;break}case"number":{if(t<0&&(o=t,t=-t),t%1===0)i=t;else if(t>0){for(t>=1&&(d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=d);g<=E&&P<=E;)if(F=(f+A)/(g+P),t===F){g+P<=E?(i=f+A,u=g+P):P>g?(i=A,u=P):(i=f,u=g);break}else t>F?(f+=A,g+=P):(A+=f,P+=g),g>E?(i=A,u=P):(i=f,u=g);i*=d}else(isNaN(t)||isNaN(r))&&(u=i=NaN);break}case"string":{if(g=t.match(/\d+|./g),g===null)throw ki();if(g[f]==="-"?(o=-1,f++):g[f]==="+"&&f++,g.length===f+1?c=gn(g[f++],o):g[f+1]==="."||g[f]==="."?(g[f]!=="."&&(a=gn(g[f++],o)),f++,(f+1===g.length||g[f+1]==="("&&g[f+3]===")"||g[f+1]==="'"&&g[f+3]==="'")&&(c=gn(g[f],o),p=Math.pow(10,g[f].length),f++),(g[f]==="("&&g[f+2]===")"||g[f]==="'"&&g[f+2]==="'")&&(l=gn(g[f+1],o),d=Math.pow(10,g[f+1].length)-1,f+=3)):g[f+1]==="/"||g[f+1]===":"?(c=gn(g[f],o),p=gn(g[f+2],1),f+=3):g[f+3]==="/"&&g[f+1]===" "&&(a=gn(g[f],o),c=gn(g[f+2],o),p=gn(g[f+4],1),f+=5),g.length<=f){u=p*d,o=i=l+u*a+d*c;break}}default:throw ki()}if(u===0)throw fo();st.s=o<0?-1:1,st.n=Math.abs(i),st.d=Math.abs(u)};function bP(t,r,i){for(var u=1;r>0;t=t*t%i,r>>=1)r&1&&(u=u*t%i);return u}function PP(t,r){for(;r%2===0;r/=2);for(;r%5===0;r/=5);if(r===1)return 0;for(var i=10%r,u=1;i!==1;u++)if(i=i*10%r,u>MP)return 0;return u}function DP(t,r,i){for(var u=1,o=bP(10,i,r),a=0;a<300;a++){if(u===o)return a;u=u*10%r,o=o*10%r}return 0}function dr(t,r){if(!t)return r;if(!r)return t;for(;;){if(t%=r,!t)return r;if(r%=t,!r)return t}}function kt(t,r){if(Pe(t,r),this instanceof kt)t=dr(st.d,st.n),this.s=st.s,this.n=st.n/t,this.d=st.d/t;else return Wt(st.s*st.n,st.d)}var fo=function(){return new Error("Division by Zero")},ki=function(){return new Error("Invalid argument")},vP=function(){return new Error("Parameters must be integer")};kt.prototype={s:1,n:0,d:1,abs:function(){return Wt(this.n,this.d)},neg:function(){return Wt(-this.s*this.n,this.d)},add:function(t,r){return Pe(t,r),Wt(this.s*this.n*st.d+st.s*this.d*st.n,this.d*st.d)},sub:function(t,r){return Pe(t,r),Wt(this.s*this.n*st.d-st.s*this.d*st.n,this.d*st.d)},mul:function(t,r){return Pe(t,r),Wt(this.s*st.s*this.n*st.n,this.d*st.d)},div:function(t,r){return Pe(t,r),Wt(this.s*st.s*this.n*st.d,this.d*st.n)},clone:function(){return Wt(this.s*this.n,this.d)},mod:function(t,r){if(isNaN(this.n)||isNaN(this.d))return new kt(NaN);if(t===void 0)return Wt(this.s*this.n%this.d,1);if(Pe(t,r),st.n===0&&this.d===0)throw fo();return Wt(this.s*(st.d*this.n)%(st.n*this.d),st.d*this.d)},gcd:function(t,r){return Pe(t,r),Wt(dr(st.n,this.n)*dr(st.d,this.d),st.d*this.d)},lcm:function(t,r){return Pe(t,r),st.n===0&&this.n===0?Wt(0,1):Wt(st.n*this.n,dr(st.n,this.n)*dr(st.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new kt(NaN):Wt(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new kt(NaN):Wt(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new kt(NaN):Wt(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,r){return Pe(t,r),Wt(this.s*Math.round(this.n*st.d/(this.d*st.n))*st.n,st.d)},inverse:function(){return Wt(this.s*this.d,this.n)},pow:function(t,r){if(Pe(t,r),st.d===1)return st.s<0?Wt(Math.pow(this.s*this.d,st.n),Math.pow(this.n,st.n)):Wt(Math.pow(this.s*this.n,st.n),Math.pow(this.d,st.n));if(this.s<0)return null;var i=Na(this.n),u=Na(this.d),o=1,a=1;for(var c in i)if(c!=="1"){if(c==="0"){o=0;break}if(i[c]*=st.n,i[c]%st.d===0)i[c]/=st.d;else return null;o*=Math.pow(c,i[c])}for(var c in u)if(c!=="1"){if(u[c]*=st.n,u[c]%st.d===0)u[c]/=st.d;else return null;a*=Math.pow(c,u[c])}return st.s<0?Wt(a,o):Wt(o,a)},equals:function(t,r){return Pe(t,r),this.s*this.n*st.d===st.s*st.n*this.d},compare:function(t,r){Pe(t,r);var i=this.s*this.n*st.d-st.s*st.n*this.d;return(0<i)-(i<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var r=this.abs(),i=r.toContinued(),u=1;u<i.length;u++){for(var o=Wt(i[u-1],1),a=u-2;a>=0;a--)o=o.inverse().add(i[a]);if(Math.abs(o.sub(r).valueOf())<t)return o.mul(this.s)}return this},divisible:function(t,r){return Pe(t,r),!(!(st.n*this.d)||this.n*st.d%(st.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,i="",u=this.n,o=this.d;return this.s<0&&(i+="-"),o===1?i+=u:(t&&(r=Math.floor(u/o))>0&&(i+=r,i+=" ",u%=o),i+=u,i+="/",i+=o),i},toLatex:function(t){var r,i="",u=this.n,o=this.d;return this.s<0&&(i+="-"),o===1?i+=u:(t&&(r=Math.floor(u/o))>0&&(i+=r,u%=o),i+="\\frac{",i+=u,i+="}{",i+=o,i+="}"),i},toContinued:function(){var t,r=this.n,i=this.d,u=[];if(isNaN(r)||isNaN(i))return u;do u.push(Math.floor(r/i)),t=r%i,r=i,i=t;while(r!==1);return u},toString:function(t){var r=this.n,i=this.d;if(isNaN(r)||isNaN(i))return"NaN";t=t||15;var u=PP(r,i),o=DP(r,i,u),a=this.s<0?"-":"";if(a+=r/i|0,r%=i,r*=10,r&&(a+="."),u){for(var c=o;c--;)a+=r/i|0,r%=i,r*=10;a+="(";for(var c=u;c--;)a+=r/i|0,r%=i,r*=10;a+=")"}else for(var c=t;r&&c--;)a+=r/i|0,r%=i,r*=10;return a}};class tn{constructor(r,i){this.begin=Yn(r),this.end=Yn(i)}get spanCycles(){const r=[];var i=this.begin;const u=this.end,o=u.sam();if(i.equals(u))return[new tn(i,u)];for(;u.gt(i);){if(i.sam().equals(o)){r.push(new tn(i,this.end));break}const a=i.nextSam();r.push(new tn(i,a)),i=a}return r}get duration(){return this.end.sub(this.begin)}cycleArc(){const r=this.begin.cyclePos(),i=r.add(this.duration);return new tn(r,i)}withTime(r){return new tn(r(this.begin),r(this.end))}withEnd(r){return new tn(this.begin,r(this.end))}withCycle(r){const i=this.begin.sam(),u=i.add(r(this.begin.sub(i))),o=i.add(r(this.end.sub(i)));return new tn(u,o)}intersection(r){const i=this.begin.max(r.begin),u=this.end.min(r.end);if(!i.gt(u)&&!(i.equals(u)&&(i.equals(this.end)&&this.begin.lt(this.end)||i.equals(r.end)&&r.begin.lt(r.end))))return new tn(i,u)}intersection_e(r){const i=this.intersection(r);if(i==null)throw"TimeSpans do not intersect";return i}midpoint(){return this.begin.add(this.duration.div(Yn(2)))}equals(r){return this.begin.equals(r.begin)&&this.end.equals(r.end)}show(){return this.begin.show()+" → "+this.end.show()}}const EP=t=>t.filter(r=>r!=null);kt.prototype.sam=function(){return this.floor()};kt.prototype.nextSam=function(){return this.sam().add(1)};kt.prototype.wholeCycle=function(){return new tn(this.sam(),this.nextSam())};kt.prototype.cyclePos=function(){return this.sub(this.sam())};kt.prototype.lt=function(t){return this.compare(t)<0};kt.prototype.gt=function(t){return this.compare(t)>0};kt.prototype.lte=function(t){return this.compare(t)<=0};kt.prototype.gte=function(t){return this.compare(t)>=0};kt.prototype.eq=function(t){return this.compare(t)==0};kt.prototype.ne=function(t){return this.compare(t)!=0};kt.prototype.max=function(t){return this.gt(t)?this:t};kt.prototype.maximum=function(...t){return t=t.map(r=>new kt(r)),t.reduce((r,i)=>i.max(r),this)};kt.prototype.min=function(t){return this.lt(t)?this:t};kt.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};kt.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};kt.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};kt.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};kt.prototype.show=function(){return this.s*this.n+"/"+this.d};kt.prototype.or=function(t){return this.eq(0)?t:this};const Ao=t=>kt(t),Ei=(...t)=>{if(t=EP(t),t.length!==0)return t.reduce((r,i)=>r===void 0||i===void 0?void 0:r.lcm(i),Ao(1))};Ao._original=kt;const Yn=Ao,Nd=3e-4,FP=(t,r)=>(i,u)=>{const o=t.source_[u].options_?.ops;if(o)for(const a of o)switch(a.type_){case"stretch":{const c=["fast","slow"],{type:l,amount:p}=a.arguments_;if(!c.includes(l))throw new Error(`mini: stretch: type must be one of ${c.join("|")} but got ${l}`);i=nt(i)[l](r(p));break}case"replicate":{const{amount:c}=a.arguments_;i=nt(i),i=i._repeatCycles(c)._fast(c);break}case"bjorklund":{a.arguments_.rotation?i=i.euclidRot(r(a.arguments_.pulse),r(a.arguments_.step),r(a.arguments_.rotation)):i=i.euclid(r(a.arguments_.pulse),r(a.arguments_.step));break}case"degradeBy":{i=nt(i)._degradeByWith(Ce.early(Nd*a.arguments_.seed),a.arguments_.amount??.5);break}case"tail":{const c=r(a.arguments_.element);i=i.fmap(l=>p=>Array.isArray(l)?[...l,p]:[l,p]).appLeft(c);break}case"range":{const c=r(a.arguments_.element);i=nt(i);const l=(p,d,f=1)=>Array.from({length:Math.abs(d-p)/f+1},(g,A)=>p<d?p+A*f:p-A*f);i=((p,d)=>p.squeezeBind(f=>d.bind(g=>Le(...l(f,g)))))(i,c);break}default:console.warn(`operator "${a.type_}" not implemented`)}return i};function Br(t,r,i,u=0){i?.(t);const o=a=>Br(a,r,i,u);switch(t.type_){case"pattern":{const a=t.source_.map(d=>o(d)).map(FP(t,o)),c=t.arguments_.alignment,l=a.filter(d=>d.__tactus_source);let p;switch(c){case"stack":{p=qt(...a),l.length&&(p.tactus=Ei(...l.map(d=>Yn(d.tactus))));break}case"polymeter_slowcat":{p=qt(...a.map(d=>d._slow(d.__weight))),l.length&&(p.tactus=Ei(...l.map(d=>Yn(d.tactus))));break}case"polymeter":{const d=t.arguments_.stepsPerCycle?o(t.arguments_.stepsPerCycle).fmap(g=>tt(g)):le(tt(a.length>0?a[0].__weight:1)),f=a.map(g=>g.fast(d.fmap(A=>A.div(g.__weight))));p=qt(...f);break}case"rand":{p=so(Ce.early(Nd*t.arguments_.seed).segment(1),a),l.length&&(p.tactus=Ei(...l.map(d=>Yn(d.tactus))));break}case"feet":{p=Le(...a);break}default:{if(t.source_.some(d=>!!d.options_?.weight)){const d=t.source_.reduce((f,g)=>f.add(g.options_?.weight||tt(1)),tt(0));p=Uu(...t.source_.map((f,g)=>[f.options_?.weight||tt(1),a[g]])),p.__weight=d,p.tactus=d,l.length&&(p.tactus=p.tactus.mul(Ei(...l.map(f=>Yn(f.tactus)))))}else p=Re(...a),p.tactus=a.length;t.arguments_.tactus&&(p.__tactus_source=!0)}}return l.length&&(p.__tactus_source=!0),p}case"element":return o(t.source_);case"atom":{if(t.source_==="~"||t.source_==="-")return _t;if(!t.location_)return console.warn("no location for",t),t.source_;const a=isNaN(Number(t.source_))?t.source_:Number(t.source_);if(u===-1)return le(a);const[c,l]=Co(r,t,u);return le(a).withLoc(c,l)}case"stretch":return o(t.source_).slow(o(t.arguments_.amount));default:return console.warn(`node type "${t.type_}" not implemented -> returning silence`),_t}}const Co=(t,r,i=0)=>{const{start:u,end:o}=r.location_,a=t?.split("").slice(u.offset,o.offset).join(""),[c=0,l=0]=a?a.split(r.source_).map(p=>p.split("").filter(d=>d===" ").length):[];return[u.offset+c+i,o.offset-l+i]},ii=(t,r=0,i=t)=>{try{return kd(t)}catch(u){const o=[u.location.start.offset+r,u.location.end.offset+r],a=i.slice(0,o[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${a}: ${u.message}`)}},Td=(t,r,i)=>{const u=ii(t,r,i);let o=[];return Br(u,t,a=>{a.type_==="atom"&&o.push(a)},-1),o},yo=(t,r=0,i)=>Td(t,r,i).map(u=>Co(t,u,r)),Mo=(...t)=>{const r=t.map(i=>{const u=`"${i}"`,o=ii(u);return Br(o,u)});return Re(...r)},wP=(t,r)=>{const i=`"${t}"`,u=ii(i);return Br(u,i,null,r)},BP=t=>{const r=ii(t);return Br(r,t)};function IP(t){return typeof t=="string"?Mo(t):nt(t)}function Rd(){cl(Mo)}const xP=Object.freeze(Object.defineProperty({__proto__:null,SyntaxError:tr,getLeafLocation:Co,getLeafLocations:yo,getLeaves:Td,h:BP,m:wP,mini:Mo,mini2ast:ii,miniAllStrings:Rd,minify:IP,parse:kd,patternifyAST:Br},Symbol.toStringTag,{value:"Module"}));var SP=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Vd=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],_P="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",Ld="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",qs={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Xs="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",kP={5:Xs,"5module":Xs+" export import",6:Xs+" const class extends export import super"},NP=/^in(stanceof)?$/,TP=new RegExp("["+Ld+"]"),RP=new RegExp("["+Ld+_P+"]");function gu(t,r){for(var i=65536,u=0;u<r.length;u+=2){if(i+=r[u],i>t)return!1;if(i+=r[u+1],i>=t)return!0}return!1}function Mn(t,r){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&TP.test(String.fromCharCode(t)):r===!1?!1:gu(t,Vd)}function br(t,r){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&RP.test(String.fromCharCode(t)):r===!1?!1:gu(t,Vd)||gu(t,SP)}var Et=function(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function Ie(t,r){return new Et(t,{beforeExpr:!0,binop:r})}var xe={beforeExpr:!0},ge={startsExpr:!0},bo={};function Pt(t,r){return r===void 0&&(r={}),r.keyword=t,bo[t]=new Et(t,r)}var b={num:new Et("num",ge),regexp:new Et("regexp",ge),string:new Et("string",ge),name:new Et("name",ge),privateId:new Et("privateId",ge),eof:new Et("eof"),bracketL:new Et("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Et("]"),braceL:new Et("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Et("}"),parenL:new Et("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Et(")"),comma:new Et(",",xe),semi:new Et(";",xe),colon:new Et(":",xe),dot:new Et("."),question:new Et("?",xe),questionDot:new Et("?."),arrow:new Et("=>",xe),template:new Et("template"),invalidTemplate:new Et("invalidTemplate"),ellipsis:new Et("...",xe),backQuote:new Et("`",ge),dollarBraceL:new Et("${",{beforeExpr:!0,startsExpr:!0}),eq:new Et("=",{beforeExpr:!0,isAssign:!0}),assign:new Et("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Et("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Et("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Ie("||",1),logicalAND:Ie("&&",2),bitwiseOR:Ie("|",3),bitwiseXOR:Ie("^",4),bitwiseAND:Ie("&",5),equality:Ie("==/!=/===/!==",6),relational:Ie("</>/<=/>=",7),bitShift:Ie("<</>>/>>>",8),plusMin:new Et("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Ie("%",10),star:Ie("*",10),slash:Ie("/",10),starstar:new Et("**",{beforeExpr:!0}),coalesce:Ie("??",1),_break:Pt("break"),_case:Pt("case",xe),_catch:Pt("catch"),_continue:Pt("continue"),_debugger:Pt("debugger"),_default:Pt("default",xe),_do:Pt("do",{isLoop:!0,beforeExpr:!0}),_else:Pt("else",xe),_finally:Pt("finally"),_for:Pt("for",{isLoop:!0}),_function:Pt("function",ge),_if:Pt("if"),_return:Pt("return",xe),_switch:Pt("switch"),_throw:Pt("throw",xe),_try:Pt("try"),_var:Pt("var"),_const:Pt("const"),_while:Pt("while",{isLoop:!0}),_with:Pt("with"),_new:Pt("new",{beforeExpr:!0,startsExpr:!0}),_this:Pt("this",ge),_super:Pt("super",ge),_class:Pt("class",ge),_extends:Pt("extends",xe),_export:Pt("export"),_import:Pt("import",ge),_null:Pt("null",ge),_true:Pt("true",ge),_false:Pt("false",ge),_in:Pt("in",{beforeExpr:!0,binop:7}),_instanceof:Pt("instanceof",{beforeExpr:!0,binop:7}),_typeof:Pt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Pt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Pt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},je=/\r\n?|\n|\u2028|\u2029/,VP=new RegExp(je.source,"g");function Ir(t){return t===10||t===13||t===8232||t===8233}function jd(t,r,i){i===void 0&&(i=t.length);for(var u=r;u<i;u++){var o=t.charCodeAt(u);if(Ir(o))return u<i-1&&o===13&&t.charCodeAt(u+1)===10?u+2:u+1}return-1}var Od=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ke=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Gd=Object.prototype,LP=Gd.hasOwnProperty,jP=Gd.toString,si=Object.hasOwn||function(t,r){return LP.call(t,r)},Ta=Array.isArray||function(t){return jP.call(t)==="[object Array]"},Ra=Object.create(null);function Nn(t){return Ra[t]||(Ra[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function Ln(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var OP=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Qr=function(t,r){this.line=t,this.column=r};Qr.prototype.offset=function(t){return new Qr(this.line,this.column+t)};var ps=function(t,r,i){this.start=r,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function zd(t,r){for(var i=1,u=0;;){var o=jd(t,u,r);if(o<0)return new Qr(i,r-u);++i,u=o}}var Au={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Va=!1;function GP(t){var r={};for(var i in Au)r[i]=t&&si(t,i)?t[i]:Au[i];if(r.ecmaVersion==="latest"?r.ecmaVersion=1e8:r.ecmaVersion==null?(!Va&&typeof console=="object"&&console.warn&&(Va=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),r.ecmaVersion=11):r.ecmaVersion>=2015&&(r.ecmaVersion-=2009),r.allowReserved==null&&(r.allowReserved=r.ecmaVersion<5),(!t||t.allowHashBang==null)&&(r.allowHashBang=r.ecmaVersion>=14),Ta(r.onToken)){var u=r.onToken;r.onToken=function(o){return u.push(o)}}return Ta(r.onComment)&&(r.onComment=zP(r,r.onComment)),r}function zP(t,r){return function(i,u,o,a,c,l){var p={type:i?"Block":"Line",value:u,start:o,end:a};t.locations&&(p.loc=new ps(this,c,l)),t.ranges&&(p.range=[o,a]),r.push(p)}}var ti=1,xr=2,Po=4,Wd=8,qd=16,Xd=32,Do=64,Zd=128,ui=256,vo=ti|xr|ui;function Eo(t,r){return xr|(t?Po:0)|(r?Wd:0)}var Wi=0,Fo=1,vn=2,Hd=3,Kd=4,Yd=5,$t=function(t,r,i){this.options=t=GP(t),this.sourceFile=t.sourceFile,this.keywords=Nn(kP[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var u="";t.allowReserved!==!0&&(u=qs[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(u+=" await")),this.reservedWords=Nn(u);var o=(u?u+" ":"")+qs.strict;this.reservedWordsStrict=Nn(o),this.reservedWordsStrictBind=Nn(o+" "+qs.strictBind),this.input=String(r),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(je).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=b.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ti),this.regexpState=null,this.privateNameStack=[]},sn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};$t.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};sn.inFunction.get=function(){return(this.currentVarScope().flags&xr)>0};sn.inGenerator.get=function(){return(this.currentVarScope().flags&Wd)>0&&!this.currentVarScope().inClassFieldInit};sn.inAsync.get=function(){return(this.currentVarScope().flags&Po)>0&&!this.currentVarScope().inClassFieldInit};sn.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var r=this.scopeStack[t];if(r.inClassFieldInit||r.flags&ui)return!1;if(r.flags&xr)return(r.flags&Po)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};sn.allowSuper.get=function(){var t=this.currentThisScope(),r=t.flags,i=t.inClassFieldInit;return(r&Do)>0||i||this.options.allowSuperOutsideMethod};sn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Zd)>0};sn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};sn.allowNewDotTarget.get=function(){var t=this.currentThisScope(),r=t.flags,i=t.inClassFieldInit;return(r&(xr|ui))>0||i};sn.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ui)>0};$t.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var i=this,u=0;u<t.length;u++)i=t[u](i);return i};$t.parse=function(t,r){return new this(r,t).parse()};$t.parseExpressionAt=function(t,r,i){var u=new this(i,t,r);return u.nextToken(),u.parseExpression()};$t.tokenizer=function(t,r){return new this(r,t)};Object.defineProperties($t.prototype,sn);var pe=$t.prototype,WP=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/s;pe.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ke.lastIndex=t,t+=ke.exec(this.input)[0].length;var r=WP.exec(this.input.slice(t));if(!r)return!1;if((r[1]||r[2])==="use strict"){ke.lastIndex=t+r[0].length;var i=ke.exec(this.input),u=i.index+i[0].length,o=this.input.charAt(u);return o===";"||o==="}"||je.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||o==="!"&&this.input.charAt(u+1)==="=")}t+=r[0].length,ke.lastIndex=t,t+=ke.exec(this.input)[0].length,this.input[t]===";"&&t++}};pe.eat=function(t){return this.type===t?(this.next(),!0):!1};pe.isContextual=function(t){return this.type===b.name&&this.value===t&&!this.containsEsc};pe.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};pe.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};pe.canInsertSemicolon=function(){return this.type===b.eof||this.type===b.braceR||je.test(this.input.slice(this.lastTokEnd,this.start))};pe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};pe.semicolon=function(){!this.eat(b.semi)&&!this.insertSemicolon()&&this.unexpected()};pe.afterTrailingComma=function(t,r){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),r||this.next(),!0};pe.expect=function(t){this.eat(t)||this.unexpected()};pe.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var ms=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pe.checkPatternErrors=function(t,r){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=r?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,r?"Assigning to rvalue":"Parenthesized pattern")}};pe.checkExpressionErrors=function(t,r){if(!t)return!1;var i=t.shorthandAssign,u=t.doubleProto;if(!r)return i>=0||u>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),u>=0&&this.raiseRecoverable(u,"Redefinition of __proto__ property")};pe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};pe.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var ct=$t.prototype;ct.parseTopLevel=function(t){var r=Object.create(null);for(t.body||(t.body=[]);this.type!==b.eof;){var i=this.parseStatement(null,!0,r);t.body.push(i)}if(this.inModule)for(var u=0,o=Object.keys(this.undefinedExports);u<o.length;u+=1){var a=o[u];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var wo={kind:"loop"},qP={kind:"switch"};ct.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ke.lastIndex=this.pos;var r=ke.exec(this.input),i=this.pos+r[0].length,u=this.input.charCodeAt(i);if(u===91||u===92)return!0;if(t)return!1;if(u===123||u>55295&&u<56320)return!0;if(Mn(u,!0)){for(var o=i+1;br(u=this.input.charCodeAt(o),!0);)++o;if(u===92||u>55295&&u<56320)return!0;var a=this.input.slice(i,o);if(!NP.test(a))return!0}return!1};ct.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ke.lastIndex=this.pos;var t=ke.exec(this.input),r=this.pos+t[0].length,i;return!je.test(this.input.slice(this.pos,r))&&this.input.slice(r,r+8)==="function"&&(r+8===this.input.length||!(br(i=this.input.charCodeAt(r+8))||i>55295&&i<56320))};ct.parseStatement=function(t,r,i){var u=this.type,o=this.startNode(),a;switch(this.isLet(t)&&(u=b._var,a="let"),u){case b._break:case b._continue:return this.parseBreakContinueStatement(o,u.keyword);case b._debugger:return this.parseDebuggerStatement(o);case b._do:return this.parseDoStatement(o);case b._for:return this.parseForStatement(o);case b._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case b._class:return t&&this.unexpected(),this.parseClass(o,!0);case b._if:return this.parseIfStatement(o);case b._return:return this.parseReturnStatement(o);case b._switch:return this.parseSwitchStatement(o);case b._throw:return this.parseThrowStatement(o);case b._try:return this.parseTryStatement(o);case b._const:case b._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(o,a);case b._while:return this.parseWhileStatement(o);case b._with:return this.parseWithStatement(o);case b.braceL:return this.parseBlock(!0,o);case b.semi:return this.parseEmptyStatement(o);case b._export:case b._import:if(this.options.ecmaVersion>10&&u===b._import){ke.lastIndex=this.pos;var c=ke.exec(this.input),l=this.pos+c[0].length,p=this.input.charCodeAt(l);if(p===40||p===46)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(r||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),u===b._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var d=this.value,f=this.parseExpression();return u===b.name&&f.type==="Identifier"&&this.eat(b.colon)?this.parseLabeledStatement(o,d,f,t):this.parseExpressionStatement(o,f)}};ct.parseBreakContinueStatement=function(t,r){var i=r==="break";this.next(),this.eat(b.semi)||this.insertSemicolon()?t.label=null:this.type!==b.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var u=0;u<this.labels.length;++u){var o=this.labels[u];if((t.label==null||o.name===t.label.name)&&(o.kind!=null&&(i||o.kind==="loop")||t.label&&i))break}return u===this.labels.length&&this.raise(t.start,"Unsyntactic "+r),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};ct.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};ct.parseDoStatement=function(t){return this.next(),this.labels.push(wo),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(b._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(b.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};ct.parseForStatement=function(t){this.next();var r=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(wo),this.enterScope(0),this.expect(b.parenL),this.type===b.semi)return r>-1&&this.unexpected(r),this.parseFor(t,null);var i=this.isLet();if(this.type===b._var||this.type===b._const||i){var u=this.startNode(),o=i?"let":this.value;return this.next(),this.parseVar(u,!0,o),this.finishNode(u,"VariableDeclaration"),(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&u.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===b._in?r>-1&&this.unexpected(r):t.await=r>-1),this.parseForIn(t,u)):(r>-1&&this.unexpected(r),this.parseFor(t,u))}var a=this.isContextual("let"),c=!1,l=this.containsEsc,p=new ms,d=this.start,f=r>-1?this.parseExprSubscripts(p,"await"):this.parseExpression(!0,p);return this.type===b._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(r>-1?(this.type===b._in&&this.unexpected(r),t.await=!0):c&&this.options.ecmaVersion>=8&&(f.start===d&&!l&&f.type==="Identifier"&&f.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&c&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),r>-1&&this.unexpected(r),this.parseFor(t,f))};ct.parseFunctionStatement=function(t,r,i){return this.next(),this.parseFunction(t,Yr|(i?0:Cu),!1,r)};ct.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(b._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};ct.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(b.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};ct.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(b.braceL),this.labels.push(qP),this.enterScope(0);for(var r,i=!1;this.type!==b.braceR;)if(this.type===b._case||this.type===b._default){var u=this.type===b._case;r&&this.finishNode(r,"SwitchCase"),t.cases.push(r=this.startNode()),r.consequent=[],this.next(),u?r.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,r.test=null),this.expect(b.colon)}else r||this.unexpected(),r.consequent.push(this.parseStatement(null));return this.exitScope(),r&&this.finishNode(r,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};ct.parseThrowStatement=function(t){return this.next(),je.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var XP=[];ct.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),r=t.type==="Identifier";return this.enterScope(r?Xd:0),this.checkLValPattern(t,r?Kd:vn),this.expect(b.parenR),t};ct.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===b._catch){var r=this.startNode();this.next(),this.eat(b.parenL)?r.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),r.param=null,this.enterScope(0)),r.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(r,"CatchClause")}return t.finalizer=this.eat(b._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};ct.parseVarStatement=function(t,r,i){return this.next(),this.parseVar(t,!1,r,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};ct.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(wo),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};ct.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};ct.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};ct.parseLabeledStatement=function(t,r,i,u){for(var o=0,a=this.labels;o<a.length;o+=1){var c=a[o];c.name===r&&this.raise(i.start,"Label '"+r+"' is already declared")}for(var l=this.type.isLoop?"loop":this.type===b._switch?"switch":null,p=this.labels.length-1;p>=0;p--){var d=this.labels[p];if(d.statementStart===t.start)d.statementStart=this.start,d.kind=l;else break}return this.labels.push({name:r,kind:l,statementStart:this.start}),t.body=this.parseStatement(u?u.indexOf("label")===-1?u+"label":u:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};ct.parseExpressionStatement=function(t,r){return t.expression=r,this.semicolon(),this.finishNode(t,"ExpressionStatement")};ct.parseBlock=function(t,r,i){for(t===void 0&&(t=!0),r===void 0&&(r=this.startNode()),r.body=[],this.expect(b.braceL),t&&this.enterScope(0);this.type!==b.braceR;){var u=this.parseStatement(null);r.body.push(u)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(r,"BlockStatement")};ct.parseFor=function(t,r){return t.init=r,this.expect(b.semi),t.test=this.type===b.semi?null:this.parseExpression(),this.expect(b.semi),t.update=this.type===b.parenR?null:this.parseExpression(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};ct.parseForIn=function(t,r){var i=this.type===b._in;return this.next(),r.type==="VariableDeclaration"&&r.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||r.kind!=="var"||r.declarations[0].id.type!=="Identifier")&&this.raise(r.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=r,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};ct.parseVar=function(t,r,i,u){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(b.eq)?o.init=this.parseMaybeAssign(r):!u&&i==="const"&&!(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!u&&o.id.type!=="Identifier"&&!(r&&(this.type===b._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(b.comma))break}return t};ct.parseVarId=function(t,r){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,r==="var"?Fo:vn,!1)};var Yr=1,Cu=2,Ud=4;ct.parseFunction=function(t,r,i,u,o){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!u)&&(this.type===b.star&&r&Cu&&this.unexpected(),t.generator=this.eat(b.star)),this.options.ecmaVersion>=8&&(t.async=!!u),r&Yr&&(t.id=r&Ud&&this.type!==b.name?null:this.parseIdent(),t.id&&!(r&Cu)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Fo:vn:Hd));var a=this.yieldPos,c=this.awaitPos,l=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Eo(t.async,t.generator)),r&Yr||(t.id=this.type===b.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,o),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=l,this.finishNode(t,r&Yr?"FunctionDeclaration":"FunctionExpression")};ct.parseFunctionParams=function(t){this.expect(b.parenL),t.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ct.parseClass=function(t,r){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,r),this.parseClassSuper(t);var u=this.enterClassBody(),o=this.startNode(),a=!1;for(o.body=[],this.expect(b.braceL);this.type!==b.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(o.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&ZP(u,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(t,r?"ClassDeclaration":"ClassExpression")};ct.parseClassElement=function(t){if(this.eat(b.semi))return null;var r=this.options.ecmaVersion,i=this.startNode(),u="",o=!1,a=!1,c="method",l=!1;if(this.eatContextual("static")){if(r>=13&&this.eat(b.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===b.star?l=!0:u="static"}if(i.static=l,!u&&r>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===b.star)&&!this.canInsertSemicolon()?a=!0:u="async"),!u&&(r>=9||!a)&&this.eat(b.star)&&(o=!0),!u&&!a&&!o){var p=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=p:u=p)}if(u?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=u,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),r<13||this.type===b.parenL||c!=="method"||o||a){var d=!i.static&&qi(i,"constructor"),f=d&&t;d&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=d?"constructor":c,this.parseClassMethod(i,o,a,f)}else this.parseClassField(i);return i};ct.isClassElementNameStart=function(){return this.type===b.name||this.type===b.privateId||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword};ct.parseClassElementName=function(t){this.type===b.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};ct.parseClassMethod=function(t,r,i,u){var o=t.key;t.kind==="constructor"?(r&&this.raise(o.start,"Constructor can't be a generator"),i&&this.raise(o.start,"Constructor can't be an async method")):t.static&&qi(t,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(r,i,u);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};ct.parseClassField=function(t){if(qi(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&qi(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(b.eq)){var r=this.currentThisScope(),i=r.inClassFieldInit;r.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),r.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};ct.parseClassStaticBlock=function(t){t.body=[];var r=this.labels;for(this.labels=[],this.enterScope(ui|Do);this.type!==b.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=r,this.finishNode(t,"StaticBlock")};ct.parseClassId=function(t,r){this.type===b.name?(t.id=this.parseIdent(),r&&this.checkLValSimple(t.id,vn,!1)):(r===!0&&this.unexpected(),t.id=null)};ct.parseClassSuper=function(t){t.superClass=this.eat(b._extends)?this.parseExprSubscripts(null,!1):null};ct.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};ct.exitClassBody=function(){var t=this.privateNameStack.pop(),r=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var u=this.privateNameStack.length,o=u===0?null:this.privateNameStack[u-1],a=0;a<i.length;++a){var c=i[a];si(r,c.name)||(o?o.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function ZP(t,r){var i=r.key.name,u=t[i],o="true";return r.type==="MethodDefinition"&&(r.kind==="get"||r.kind==="set")&&(o=(r.static?"s":"i")+r.kind),u==="iget"&&o==="iset"||u==="iset"&&o==="iget"||u==="sget"&&o==="sset"||u==="sset"&&o==="sget"?(t[i]="true",!1):u?!0:(t[i]=o,!1)}function qi(t,r){var i=t.computed,u=t.key;return!i&&(u.type==="Identifier"&&u.name===r||u.type==="Literal"&&u.value===r)}ct.parseExportAllDeclaration=function(t,r){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(r,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};ct.parseExport=function(t,r){if(this.next(),this.eat(b.star))return this.parseExportAllDeclaration(t,r);if(this.eat(b._default))return this.checkExport(r,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(r,t.declaration.declarations):this.checkExport(r,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(r),this.eatContextual("from"))this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,u=t.specifiers;i<u.length;i+=1){var o=u[i];this.checkUnreserved(o.local),this.checkLocalExport(o.local),o.local.type==="Literal"&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};ct.parseExportDeclaration=function(t){return this.parseStatement(null)};ct.parseExportDefaultDeclaration=function(){var t;if(this.type===b._function||(t=this.isAsyncFunction())){var r=this.startNode();return this.next(),t&&this.next(),this.parseFunction(r,Yr|Ud,!1,t)}else if(this.type===b._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var u=this.parseMaybeAssign();return this.semicolon(),u}};ct.checkExport=function(t,r,i){t&&(typeof r!="string"&&(r=r.type==="Identifier"?r.name:r.value),si(t,r)&&this.raiseRecoverable(i,"Duplicate export '"+r+"'"),t[r]=!0)};ct.checkPatternExport=function(t,r){var i=r.type;if(i==="Identifier")this.checkExport(t,r,r.start);else if(i==="ObjectPattern")for(var u=0,o=r.properties;u<o.length;u+=1){var a=o[u];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,l=r.elements;c<l.length;c+=1){var p=l[c];p&&this.checkPatternExport(t,p)}else i==="Property"?this.checkPatternExport(t,r.value):i==="AssignmentPattern"?this.checkPatternExport(t,r.left):i==="RestElement"&&this.checkPatternExport(t,r.argument)};ct.checkVariableExport=function(t,r){if(t)for(var i=0,u=r;i<u.length;i+=1){var o=u[i];this.checkPatternExport(t,o.id)}};ct.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ct.parseExportSpecifier=function(t){var r=this.startNode();return r.local=this.parseModuleExportName(),r.exported=this.eatContextual("as")?this.parseModuleExportName():r.local,this.checkExport(t,r.exported,r.exported.start),this.finishNode(r,"ExportSpecifier")};ct.parseExportSpecifiers=function(t){var r=[],i=!0;for(this.expect(b.braceL);!this.eat(b.braceR);){if(i)i=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;r.push(this.parseExportSpecifier(t))}return r};ct.parseImport=function(t){return this.next(),this.type===b.string?(t.specifiers=XP,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===b.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};ct.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,vn),this.finishNode(t,"ImportSpecifier")};ct.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,vn),this.finishNode(t,"ImportDefaultSpecifier")};ct.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,vn),this.finishNode(t,"ImportNamespaceSpecifier")};ct.parseImportSpecifiers=function(){var t=[],r=!0;if(this.type===b.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(b.comma)))return t;if(this.type===b.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(b.braceL);!this.eat(b.braceR);){if(r)r=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;t.push(this.parseImportSpecifier())}return t};ct.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===b.string){var t=this.parseLiteral(this.value);return OP.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};ct.adaptDirectivePrologue=function(t){for(var r=0;r<t.length&&this.isDirectiveCandidate(t[r]);++r)t[r].directive=t[r].expression.raw.slice(1,-1)};ct.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Oe=$t.prototype;Oe.toAssignable=function(t,r,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var u=0,o=t.properties;u<o.length;u+=1){var a=o[u];this.toAssignable(a,r),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,r);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,r);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,r),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,r);break;case"ParenthesizedExpression":this.toAssignable(t.expression,r,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!r)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Oe.toAssignableList=function(t,r){for(var i=t.length,u=0;u<i;u++){var o=t[u];o&&this.toAssignable(o,r)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&r&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};Oe.parseSpread=function(t){var r=this.startNode();return this.next(),r.argument=this.parseMaybeAssign(!1,t),this.finishNode(r,"SpreadElement")};Oe.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==b.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Oe.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case b.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(b.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case b.braceL:return this.parseObj(!0)}return this.parseIdent()};Oe.parseBindingList=function(t,r,i,u){for(var o=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(b.comma),r&&this.type===b.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===b.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),o.push(c),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else o.push(this.parseAssignableListItem(u))}return o};Oe.parseAssignableListItem=function(t){var r=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(r),r};Oe.parseBindingListItem=function(t){return t};Oe.parseMaybeDefault=function(t,r,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(b.eq))return i;var u=this.startNodeAt(t,r);return u.left=i,u.right=this.parseMaybeAssign(),this.finishNode(u,"AssignmentPattern")};Oe.checkLValSimple=function(t,r,i){r===void 0&&(r=Wi);var u=r!==Wi;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(u?"Binding ":"Assigning to ")+t.name+" in strict mode"),u&&(r===vn&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(si(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),r!==Yd&&this.declareName(t.name,r,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":u&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return u&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,r,i);default:this.raise(t.start,(u?"Binding":"Assigning to")+" rvalue")}};Oe.checkLValPattern=function(t,r,i){switch(r===void 0&&(r=Wi),t.type){case"ObjectPattern":for(var u=0,o=t.properties;u<o.length;u+=1){var a=o[u];this.checkLValInnerPattern(a,r,i)}break;case"ArrayPattern":for(var c=0,l=t.elements;c<l.length;c+=1){var p=l[c];p&&this.checkLValInnerPattern(p,r,i)}break;default:this.checkLValSimple(t,r,i)}};Oe.checkLValInnerPattern=function(t,r,i){switch(r===void 0&&(r=Wi),t.type){case"Property":this.checkLValInnerPattern(t.value,r,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,r,i);break;case"RestElement":this.checkLValPattern(t.argument,r,i);break;default:this.checkLValPattern(t,r,i)}};var Xe=function(t,r,i,u,o){this.token=t,this.isExpr=!!r,this.preserveSpace=!!i,this.override=u,this.generator=!!o},jt={b_stat:new Xe("{",!1),b_expr:new Xe("{",!0),b_tmpl:new Xe("${",!1),p_stat:new Xe("(",!1),p_expr:new Xe("(",!0),q_tmpl:new Xe("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Xe("function",!1),f_expr:new Xe("function",!0),f_expr_gen:new Xe("function",!0,!1,null,!0),f_gen:new Xe("function",!1,!1,null,!0)},Sr=$t.prototype;Sr.initialContext=function(){return[jt.b_stat]};Sr.curContext=function(){return this.context[this.context.length-1]};Sr.braceIsBlock=function(t){var r=this.curContext();return r===jt.f_expr||r===jt.f_stat?!0:t===b.colon&&(r===jt.b_stat||r===jt.b_expr)?!r.isExpr:t===b._return||t===b.name&&this.exprAllowed?je.test(this.input.slice(this.lastTokEnd,this.start)):t===b._else||t===b.semi||t===b.eof||t===b.parenR||t===b.arrow?!0:t===b.braceL?r===jt.b_stat:t===b._var||t===b._const||t===b.name?!1:!this.exprAllowed};Sr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var r=this.context[t];if(r.token==="function")return r.generator}return!1};Sr.updateContext=function(t){var r,i=this.type;i.keyword&&t===b.dot?this.exprAllowed=!1:(r=i.updateContext)?r.call(this,t):this.exprAllowed=i.beforeExpr};Sr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};b.parenR.updateContext=b.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===jt.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};b.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?jt.b_stat:jt.b_expr),this.exprAllowed=!0};b.dollarBraceL.updateContext=function(){this.context.push(jt.b_tmpl),this.exprAllowed=!0};b.parenL.updateContext=function(t){var r=t===b._if||t===b._for||t===b._with||t===b._while;this.context.push(r?jt.p_stat:jt.p_expr),this.exprAllowed=!0};b.incDec.updateContext=function(){};b._function.updateContext=b._class.updateContext=function(t){t.beforeExpr&&t!==b._else&&!(t===b.semi&&this.curContext()!==jt.p_stat)&&!(t===b._return&&je.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===b.colon||t===b.braceL)&&this.curContext()===jt.b_stat)?this.context.push(jt.f_expr):this.context.push(jt.f_stat),this.exprAllowed=!1};b.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};b.backQuote.updateContext=function(){this.curContext()===jt.q_tmpl?this.context.pop():this.context.push(jt.q_tmpl),this.exprAllowed=!1};b.star.updateContext=function(t){if(t===b._function){var r=this.context.length-1;this.context[r]===jt.f_expr?this.context[r]=jt.f_expr_gen:this.context[r]=jt.f_gen}this.exprAllowed=!0};b.name.updateContext=function(t){var r=!1;this.options.ecmaVersion>=6&&t!==b.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(r=!0),this.exprAllowed=r};var ft=$t.prototype;ft.checkPropClash=function(t,r,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var u=t.key,o;switch(u.type){case"Identifier":o=u.name;break;case"Literal":o=String(u.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){o==="__proto__"&&a==="init"&&(r.proto&&(i?i.doubleProto<0&&(i.doubleProto=u.start):this.raiseRecoverable(u.start,"Redefinition of __proto__ property")),r.proto=!0);return}o="$"+o;var c=r[o];if(c){var l;a==="init"?l=this.strict&&c.init||c.get||c.set:l=c.init||c[a],l&&this.raiseRecoverable(u.start,"Redefinition of property")}else c=r[o]={init:!1,get:!1,set:!1};c[a]=!0}};ft.parseExpression=function(t,r){var i=this.start,u=this.startLoc,o=this.parseMaybeAssign(t,r);if(this.type===b.comma){var a=this.startNodeAt(i,u);for(a.expressions=[o];this.eat(b.comma);)a.expressions.push(this.parseMaybeAssign(t,r));return this.finishNode(a,"SequenceExpression")}return o};ft.parseMaybeAssign=function(t,r,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var u=!1,o=-1,a=-1,c=-1;r?(o=r.parenthesizedAssign,a=r.trailingComma,c=r.doubleProto,r.parenthesizedAssign=r.trailingComma=-1):(r=new ms,u=!0);var l=this.start,p=this.startLoc;(this.type===b.parenL||this.type===b.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var d=this.parseMaybeConditional(t,r);if(i&&(d=i.call(this,d,l,p)),this.type.isAssign){var f=this.startNodeAt(l,p);return f.operator=this.value,this.type===b.eq&&(d=this.toAssignable(d,!1,r)),u||(r.parenthesizedAssign=r.trailingComma=r.doubleProto=-1),r.shorthandAssign>=d.start&&(r.shorthandAssign=-1),this.type===b.eq?this.checkLValPattern(d):this.checkLValSimple(d),f.left=d,this.next(),f.right=this.parseMaybeAssign(t),c>-1&&(r.doubleProto=c),this.finishNode(f,"AssignmentExpression")}else u&&this.checkExpressionErrors(r,!0);return o>-1&&(r.parenthesizedAssign=o),a>-1&&(r.trailingComma=a),d};ft.parseMaybeConditional=function(t,r){var i=this.start,u=this.startLoc,o=this.parseExprOps(t,r);if(this.checkExpressionErrors(r))return o;if(this.eat(b.question)){var a=this.startNodeAt(i,u);return a.test=o,a.consequent=this.parseMaybeAssign(),this.expect(b.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return o};ft.parseExprOps=function(t,r){var i=this.start,u=this.startLoc,o=this.parseMaybeUnary(r,!1,!1,t);return this.checkExpressionErrors(r)||o.start===i&&o.type==="ArrowFunctionExpression"?o:this.parseExprOp(o,i,u,-1,t)};ft.parseExprOp=function(t,r,i,u,o){var a=this.type.binop;if(a!=null&&(!o||this.type!==b._in)&&a>u){var c=this.type===b.logicalOR||this.type===b.logicalAND,l=this.type===b.coalesce;l&&(a=b.logicalAND.binop);var p=this.value;this.next();var d=this.start,f=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),d,f,a,o),A=this.buildBinary(r,i,t,g,p,c||l);return(c&&this.type===b.coalesce||l&&(this.type===b.logicalOR||this.type===b.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(A,r,i,u,o)}return t};ft.buildBinary=function(t,r,i,u,o,a){u.type==="PrivateIdentifier"&&this.raise(u.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,r);return c.left=i,c.operator=o,c.right=u,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};ft.parseMaybeUnary=function(t,r,i,u){var o=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(u),r=!0;else if(this.type.prefix){var l=this.startNode(),p=this.type===b.incDec;l.operator=this.value,l.prefix=!0,this.next(),l.argument=this.parseMaybeUnary(null,!0,p,u),this.checkExpressionErrors(t,!0),p?this.checkLValSimple(l.argument):this.strict&&l.operator==="delete"&&$d(l.argument)?this.raiseRecoverable(l.start,"Deleting local variable in strict mode"):l.operator==="delete"&&yu(l.argument)?this.raiseRecoverable(l.start,"Private fields can not be deleted"):r=!0,c=this.finishNode(l,p?"UpdateExpression":"UnaryExpression")}else if(!r&&this.type===b.privateId)(u||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==b._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,u),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var d=this.startNodeAt(o,a);d.operator=this.value,d.prefix=!1,d.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(d,"UpdateExpression")}}if(!i&&this.eat(b.starstar))if(r)this.unexpected(this.lastTokStart);else return this.buildBinary(o,a,c,this.parseMaybeUnary(null,!1,!1,u),"**",!1);else return c};function $d(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&$d(t.expression)}function yu(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&yu(t.expression)||t.type==="ParenthesizedExpression"&&yu(t.expression)}ft.parseExprSubscripts=function(t,r){var i=this.start,u=this.startLoc,o=this.parseExprAtom(t,r);if(o.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return o;var a=this.parseSubscripts(o,i,u,!1,r);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};ft.parseSubscripts=function(t,r,i,u,o){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var l=this.parseSubscript(t,r,i,u,a,c,o);if(l.optional&&(c=!0),l===t||l.type==="ArrowFunctionExpression"){if(c){var p=this.startNodeAt(r,i);p.expression=l,l=this.finishNode(p,"ChainExpression")}return l}t=l}};ft.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(b.arrow)};ft.parseSubscriptAsyncArrow=function(t,r,i,u){return this.parseArrowExpression(this.startNodeAt(t,r),i,!0,u)};ft.parseSubscript=function(t,r,i,u,o,a,c){var l=this.options.ecmaVersion>=11,p=l&&this.eat(b.questionDot);u&&p&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var d=this.eat(b.bracketL);if(d||p&&this.type!==b.parenL&&this.type!==b.backQuote||this.eat(b.dot)){var f=this.startNodeAt(r,i);f.object=t,d?(f.property=this.parseExpression(),this.expect(b.bracketR)):this.type===b.privateId&&t.type!=="Super"?f.property=this.parsePrivateIdent():f.property=this.parseIdent(this.options.allowReserved!=="never"),f.computed=!!d,l&&(f.optional=p),t=this.finishNode(f,"MemberExpression")}else if(!u&&this.eat(b.parenL)){var g=new ms,A=this.yieldPos,P=this.awaitPos,E=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var F=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1,g);if(o&&!p&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=A,this.awaitPos=P,this.awaitIdentPos=E,this.parseSubscriptAsyncArrow(r,i,F,c);this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=P||this.awaitPos,this.awaitIdentPos=E||this.awaitIdentPos;var S=this.startNodeAt(r,i);S.callee=t,S.arguments=F,l&&(S.optional=p),t=this.finishNode(S,"CallExpression")}else if(this.type===b.backQuote){(p||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var N=this.startNodeAt(r,i);N.tag=t,N.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(N,"TaggedTemplateExpression")}return t};ft.parseExprAtom=function(t,r,i){this.type===b.slash&&this.readRegexp();var u,o=this.potentialArrowAt===this.start;switch(this.type){case b._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),u=this.startNode(),this.next(),this.type===b.parenL&&!this.allowDirectSuper&&this.raise(u.start,"super() call outside constructor of a subclass"),this.type!==b.dot&&this.type!==b.bracketL&&this.type!==b.parenL&&this.unexpected(),this.finishNode(u,"Super");case b._this:return u=this.startNode(),this.next(),this.finishNode(u,"ThisExpression");case b.name:var a=this.start,c=this.startLoc,l=this.containsEsc,p=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&p.name==="async"&&!this.canInsertSemicolon()&&this.eat(b._function))return this.overrideContext(jt.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,r);if(o&&!this.canInsertSemicolon()){if(this.eat(b.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[p],!1,r);if(this.options.ecmaVersion>=8&&p.name==="async"&&this.type===b.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return p=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(b.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[p],!0,r)}return p;case b.regexp:var d=this.value;return u=this.parseLiteral(d.value),u.regex={pattern:d.pattern,flags:d.flags},u;case b.num:case b.string:return this.parseLiteral(this.value);case b._null:case b._true:case b._false:return u=this.startNode(),u.value=this.type===b._null?null:this.type===b._true,u.raw=this.type.keyword,this.next(),this.finishNode(u,"Literal");case b.parenL:var f=this.start,g=this.parseParenAndDistinguishExpression(o,r);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=f),t.parenthesizedBind<0&&(t.parenthesizedBind=f)),g;case b.bracketL:return u=this.startNode(),this.next(),u.elements=this.parseExprList(b.bracketR,!0,!0,t),this.finishNode(u,"ArrayExpression");case b.braceL:return this.overrideContext(jt.b_expr),this.parseObj(!1,t);case b._function:return u=this.startNode(),this.next(),this.parseFunction(u,0);case b._class:return this.parseClass(this.startNode(),!1);case b._new:return this.parseNew();case b.backQuote:return this.parseTemplate();case b._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};ft.parseExprAtomDefault=function(){this.unexpected()};ft.parseExprImport=function(t){var r=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===b.parenL&&!t)return this.parseDynamicImport(r);if(this.type===b.dot){var i=this.startNodeAt(r.start,r.loc&&r.loc.start);return i.name="import",r.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(r)}else this.unexpected()};ft.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(b.parenR)){var r=this.start;this.eat(b.comma)&&this.eat(b.parenR)?this.raiseRecoverable(r,"Trailing comma is not allowed in import()"):this.unexpected(r)}return this.finishNode(t,"ImportExpression")};ft.parseImportMeta=function(t){this.next();var r=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),r&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};ft.parseLiteral=function(t){var r=this.startNode();return r.value=t,r.raw=this.input.slice(this.start,this.end),r.raw.charCodeAt(r.raw.length-1)===110&&(r.bigint=r.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(r,"Literal")};ft.parseParenExpression=function(){this.expect(b.parenL);var t=this.parseExpression();return this.expect(b.parenR),t};ft.shouldParseArrow=function(t){return!this.canInsertSemicolon()};ft.parseParenAndDistinguishExpression=function(t,r){var i=this.start,u=this.startLoc,o,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,l=this.startLoc,p=[],d=!0,f=!1,g=new ms,A=this.yieldPos,P=this.awaitPos,E;for(this.yieldPos=0,this.awaitPos=0;this.type!==b.parenR;)if(d?d=!1:this.expect(b.comma),a&&this.afterTrailingComma(b.parenR,!0)){f=!0;break}else if(this.type===b.ellipsis){E=this.start,p.push(this.parseParenItem(this.parseRestBinding())),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else p.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var F=this.lastTokEnd,S=this.lastTokEndLoc;if(this.expect(b.parenR),t&&this.shouldParseArrow(p)&&this.eat(b.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=A,this.awaitPos=P,this.parseParenArrowList(i,u,p,r);(!p.length||f)&&this.unexpected(this.lastTokStart),E&&this.unexpected(E),this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=P||this.awaitPos,p.length>1?(o=this.startNodeAt(c,l),o.expressions=p,this.finishNodeAt(o,"SequenceExpression",F,S)):o=p[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var N=this.startNodeAt(i,u);return N.expression=o,this.finishNode(N,"ParenthesizedExpression")}else return o};ft.parseParenItem=function(t){return t};ft.parseParenArrowList=function(t,r,i,u){return this.parseArrowExpression(this.startNodeAt(t,r),i,!1,u)};var HP=[];ft.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===b.dot){var r=this.startNodeAt(t.start,t.loc&&t.loc.start);r.name="new",t.meta=this.finishNode(r,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var u=this.start,o=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),u,o,!0,!1),this.eat(b.parenL)?t.arguments=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1):t.arguments=HP,this.finishNode(t,"NewExpression")};ft.parseTemplateElement=function(t){var r=t.isTagged,i=this.startNode();return this.type===b.invalidTemplate?(r||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===b.backQuote,this.finishNode(i,"TemplateElement")};ft.parseTemplate=function(t){t===void 0&&(t={});var r=t.isTagged;r===void 0&&(r=!1);var i=this.startNode();this.next(),i.expressions=[];var u=this.parseTemplateElement({isTagged:r});for(i.quasis=[u];!u.tail;)this.type===b.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(b.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(b.braceR),i.quasis.push(u=this.parseTemplateElement({isTagged:r}));return this.next(),this.finishNode(i,"TemplateLiteral")};ft.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===b.name||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===b.star)&&!je.test(this.input.slice(this.lastTokEnd,this.start))};ft.parseObj=function(t,r){var i=this.startNode(),u=!0,o={};for(i.properties=[],this.next();!this.eat(b.braceR);){if(u)u=!1;else if(this.expect(b.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(b.braceR))break;var a=this.parseProperty(t,r);t||this.checkPropClash(a,o,r),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};ft.parseProperty=function(t,r){var i=this.startNode(),u,o,a,c;if(this.options.ecmaVersion>=9&&this.eat(b.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,r),this.type===b.comma&&r&&r.trailingComma<0&&(r.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||r)&&(a=this.start,c=this.startLoc),t||(u=this.eat(b.star)));var l=this.containsEsc;return this.parsePropertyName(i),!t&&!l&&this.options.ecmaVersion>=8&&!u&&this.isAsyncProp(i)?(o=!0,u=this.options.ecmaVersion>=9&&this.eat(b.star),this.parsePropertyName(i)):o=!1,this.parsePropertyValue(i,t,u,o,a,c,r,l),this.finishNode(i,"Property")};ft.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var r=t.kind==="get"?0:1;if(t.value.params.length!==r){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};ft.parsePropertyValue=function(t,r,i,u,o,a,c,l){(i||u)&&this.type===b.colon&&this.unexpected(),this.eat(b.colon)?(t.value=r?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===b.parenL?(r&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,u)):!r&&!l&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==b.comma&&this.type!==b.braceR&&this.type!==b.eq?((i||u)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||u)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=o),t.kind="init",r?t.value=this.parseMaybeDefault(o,a,this.copyNode(t.key)):this.type===b.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(o,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};ft.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(b.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(b.bracketR),t.key;t.computed=!1}return t.key=this.type===b.num||this.type===b.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};ft.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};ft.parseMethod=function(t,r,i){var u=this.startNode(),o=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(u),this.options.ecmaVersion>=6&&(u.generator=t),this.options.ecmaVersion>=8&&(u.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Eo(r,u.generator)|Do|(i?Zd:0)),this.expect(b.parenL),u.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(u,!1,!0,!1),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(u,"FunctionExpression")};ft.parseArrowExpression=function(t,r,i,u){var o=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(Eo(i,!1)|qd),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(r,!0),this.parseFunctionBody(t,!0,!1,u),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};ft.parseFunctionBody=function(t,r,i,u){var o=r&&this.type!==b.braceL,a=this.strict,c=!1;if(o)t.body=this.parseMaybeAssign(u),t.expression=!0,this.checkParams(t,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||l)&&(c=this.strictDirective(this.end),c&&l&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var p=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!r&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Yd),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=p}this.exitScope()};ft.isSimpleParamList=function(t){for(var r=0,i=t;r<i.length;r+=1){var u=i[r];if(u.type!=="Identifier")return!1}return!0};ft.checkParams=function(t,r){for(var i=Object.create(null),u=0,o=t.params;u<o.length;u+=1){var a=o[u];this.checkLValInnerPattern(a,Fo,r?null:i)}};ft.parseExprList=function(t,r,i,u){for(var o=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(b.comma),r&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===b.comma?c=null:this.type===b.ellipsis?(c=this.parseSpread(u),u&&this.type===b.comma&&u.trailingComma<0&&(u.trailingComma=this.start)):c=this.parseMaybeAssign(!1,u),o.push(c)}return o};ft.checkUnreserved=function(t){var r=t.start,i=t.end,u=t.name;if(this.inGenerator&&u==="yield"&&this.raiseRecoverable(r,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&u==="await"&&this.raiseRecoverable(r,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&u==="arguments"&&this.raiseRecoverable(r,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(u==="arguments"||u==="await")&&this.raise(r,"Cannot use "+u+" in class static initialization block"),this.keywords.test(u)&&this.raise(r,"Unexpected keyword '"+u+"'"),!(this.options.ecmaVersion<6&&this.input.slice(r,i).indexOf("\\")!==-1)){var o=this.strict?this.reservedWordsStrict:this.reservedWords;o.test(u)&&(!this.inAsync&&u==="await"&&this.raiseRecoverable(r,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(r,"The keyword '"+u+"' is reserved"))}};ft.parseIdent=function(t){var r=this.parseIdentNode();return this.next(!!t),this.finishNode(r,"Identifier"),t||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r};ft.parseIdentNode=function(){var t=this.startNode();return this.type===b.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=b.name):this.unexpected(),t};ft.parsePrivateIdent=function(){var t=this.startNode();return this.type===b.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};ft.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var r=this.startNode();return this.next(),this.type===b.semi||this.canInsertSemicolon()||this.type!==b.star&&!this.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(b.star),r.argument=this.parseMaybeAssign(t)),this.finishNode(r,"YieldExpression")};ft.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var r=this.startNode();return this.next(),r.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(r,"AwaitExpression")};var Xi=$t.prototype;Xi.raise=function(t,r){var i=zd(this.input,t);r+=" ("+i.line+":"+i.column+")";var u=new SyntaxError(r);throw u.pos=t,u.loc=i,u.raisedAt=this.pos,u};Xi.raiseRecoverable=Xi.raise;Xi.curPosition=function(){if(this.options.locations)return new Qr(this.curLine,this.pos-this.lineStart)};var Wn=$t.prototype,KP=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Wn.enterScope=function(t){this.scopeStack.push(new KP(t))};Wn.exitScope=function(){this.scopeStack.pop()};Wn.treatFunctionsAsVarInScope=function(t){return t.flags&xr||!this.inModule&&t.flags&ti};Wn.declareName=function(t,r,i){var u=!1;if(r===vn){var o=this.currentScope();u=o.lexical.indexOf(t)>-1||o.functions.indexOf(t)>-1||o.var.indexOf(t)>-1,o.lexical.push(t),this.inModule&&o.flags&ti&&delete this.undefinedExports[t]}else if(r===Kd){var a=this.currentScope();a.lexical.push(t)}else if(r===Hd){var c=this.currentScope();this.treatFunctionsAsVar?u=c.lexical.indexOf(t)>-1:u=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var l=this.scopeStack.length-1;l>=0;--l){var p=this.scopeStack[l];if(p.lexical.indexOf(t)>-1&&!(p.flags&Xd&&p.lexical[0]===t)||!this.treatFunctionsAsVarInScope(p)&&p.functions.indexOf(t)>-1){u=!0;break}if(p.var.push(t),this.inModule&&p.flags&ti&&delete this.undefinedExports[t],p.flags&vo)break}u&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Wn.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Wn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Wn.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var r=this.scopeStack[t];if(r.flags&vo)return r}};Wn.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var r=this.scopeStack[t];if(r.flags&vo&&!(r.flags&qd))return r}};var ds=function(t,r,i){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new ps(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},oi=$t.prototype;oi.startNode=function(){return new ds(this,this.start,this.startLoc)};oi.startNodeAt=function(t,r){return new ds(this,t,r)};function Jd(t,r,i,u){return t.type=r,t.end=i,this.options.locations&&(t.loc.end=u),this.options.ranges&&(t.range[1]=i),t}oi.finishNode=function(t,r){return Jd.call(this,t,r,this.lastTokEnd,this.lastTokEndLoc)};oi.finishNodeAt=function(t,r,i,u){return Jd.call(this,t,r,i,u)};oi.copyNode=function(t){var r=new ds(this,t.start,this.startLoc);for(var i in t)r[i]=t[i];return r};var Qd="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",tf=Qd+" Extended_Pictographic",ef=tf,nf=ef+" EBase EComp EMod EPres ExtPict",rf=nf,YP=rf,UP={9:Qd,10:tf,11:ef,12:nf,13:rf,14:YP},$P="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",JP={9:"",10:"",11:"",12:"",13:"",14:$P},La="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",sf="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",uf=sf+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",of=uf+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",af=of+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",cf=af+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",QP=cf+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",tD={9:sf,10:uf,11:of,12:af,13:cf,14:QP},lf={};function eD(t){var r=lf[t]={binary:Nn(UP[t]+" "+La),binaryOfStrings:Nn(JP[t]),nonBinary:{General_Category:Nn(La),Script:Nn(tD[t])}};r.nonBinary.Script_Extensions=r.nonBinary.Script,r.nonBinary.gc=r.nonBinary.General_Category,r.nonBinary.sc=r.nonBinary.Script,r.nonBinary.scx=r.nonBinary.Script_Extensions}for(var Zs=0,ja=[9,10,11,12,13,14];Zs<ja.length;Zs+=1){var nD=ja[Zs];eD(nD)}var rt=$t.prototype,Zi=function(t,r){this.parent=t,this.base=r||this};Zi.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var i=t;i;i=i.parent)if(r.base===i.base&&r!==i)return!0;return!1};Zi.prototype.sibling=function(){return new Zi(this.parent,this.base)};var un=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=lf[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};un.prototype.reset=function(t,r,i){var u=i.indexOf("v")!==-1,o=i.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=i,u&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=o&&this.parser.options.ecmaVersion>=9)};un.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};un.prototype.at=function(t,r){r===void 0&&(r=!1);var i=this.source,u=i.length;if(t>=u)return-1;var o=i.charCodeAt(t);if(!(r||this.switchU)||o<=55295||o>=57344||t+1>=u)return o;var a=i.charCodeAt(t+1);return a>=56320&&a<=57343?(o<<10)+a-56613888:o};un.prototype.nextIndex=function(t,r){r===void 0&&(r=!1);var i=this.source,u=i.length;if(t>=u)return u;var o=i.charCodeAt(t),a;return!(r||this.switchU)||o<=55295||o>=57344||t+1>=u||(a=i.charCodeAt(t+1))<56320||a>57343?t+1:t+2};un.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};un.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};un.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};un.prototype.eat=function(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};un.prototype.eatChars=function(t,r){r===void 0&&(r=!1);for(var i=this.pos,u=0,o=t;u<o.length;u+=1){var a=o[u],c=this.at(i,r);if(c===-1||c!==a)return!1;i=this.nextIndex(i,r)}return this.pos=i,!0};rt.validateRegExpFlags=function(t){for(var r=t.validFlags,i=t.flags,u=!1,o=!1,a=0;a<i.length;a++){var c=i.charAt(a);r.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(u=!0),c==="v"&&(o=!0)}this.options.ecmaVersion>=15&&u&&o&&this.raise(t.start,"Invalid regular expression flag")};function rD(t){for(var r in t)return!0;return!1}rt.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&rD(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};rt.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var r=0,i=t.backReferenceNames;r<i.length;r+=1){var u=i[r];t.groupNames[u]||t.raise("Invalid named capture referenced")}};rt.regexp_disjunction=function(t){var r=this.options.ecmaVersion>=16;for(r&&(t.branchID=new Zi(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)r&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);r&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};rt.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};rt.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};rt.regexp_eatAssertion=function(t){var r=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=r}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=r,!1};rt.regexp_eatQuantifier=function(t,r){return r===void 0&&(r=!1),this.regexp_eatQuantifierPrefix(t,r)?(t.eat(63),!0):!1};rt.regexp_eatQuantifierPrefix=function(t,r){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,r)};rt.regexp_eatBracedQuantifier=function(t,r){var i=t.pos;if(t.eat(123)){var u=0,o=-1;if(this.regexp_eatDecimalDigits(t)&&(u=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue),t.eat(125)))return o!==-1&&o<u&&!r&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!r&&t.raise("Incomplete quantifier"),t.pos=i}return!1};rt.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};rt.regexp_eatReverseSolidusAtomEscape=function(t){var r=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=r}return!1};rt.regexp_eatUncapturingGroup=function(t){var r=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=r}return!1};rt.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};rt.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};rt.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};rt.regexp_eatSyntaxCharacter=function(t){var r=t.current();return hf(r)?(t.lastIntValue=r,t.advance(),!0):!1};function hf(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}rt.regexp_eatPatternCharacters=function(t){for(var r=t.pos,i=0;(i=t.current())!==-1&&!hf(i);)t.advance();return t.pos!==r};rt.regexp_eatExtendedPatternCharacter=function(t){var r=t.current();return r!==-1&&r!==36&&!(r>=40&&r<=43)&&r!==46&&r!==63&&r!==91&&r!==94&&r!==124?(t.advance(),!0):!1};rt.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var r=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(r)for(var u=0,o=i;u<o.length;u+=1){var a=o[u];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");r?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};rt.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};rt.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Ln(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Ln(t.lastIntValue);return!0}return!1};rt.regexp_eatRegExpIdentifierStart=function(t){var r=t.pos,i=this.options.ecmaVersion>=11,u=t.current(i);return t.advance(i),u===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(u=t.lastIntValue),iD(u)?(t.lastIntValue=u,!0):(t.pos=r,!1)};function iD(t){return Mn(t,!0)||t===36||t===95}rt.regexp_eatRegExpIdentifierPart=function(t){var r=t.pos,i=this.options.ecmaVersion>=11,u=t.current(i);return t.advance(i),u===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(u=t.lastIntValue),sD(u)?(t.lastIntValue=u,!0):(t.pos=r,!1)};function sD(t){return br(t,!0)||t===36||t===95||t===8204||t===8205}rt.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};rt.regexp_eatBackReference=function(t){var r=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=r}return!1};rt.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};rt.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};rt.regexp_eatCControlLetter=function(t){var r=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=r}return!1};rt.regexp_eatZero=function(t){return t.current()===48&&!fs(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};rt.regexp_eatControlEscape=function(t){var r=t.current();return r===116?(t.lastIntValue=9,t.advance(),!0):r===110?(t.lastIntValue=10,t.advance(),!0):r===118?(t.lastIntValue=11,t.advance(),!0):r===102?(t.lastIntValue=12,t.advance(),!0):r===114?(t.lastIntValue=13,t.advance(),!0):!1};rt.regexp_eatControlLetter=function(t){var r=t.current();return pf(r)?(t.lastIntValue=r%32,t.advance(),!0):!1};function pf(t){return t>=65&&t<=90||t>=97&&t<=122}rt.regexp_eatRegExpUnicodeEscapeSequence=function(t,r){r===void 0&&(r=!1);var i=t.pos,u=r||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(u&&o>=55296&&o<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(o-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=o}return!0}if(u&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&uD(t.lastIntValue))return!0;u&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function uD(t){return t>=0&&t<=1114111}rt.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var r=t.current();return r!==99&&(!t.switchN||r!==107)?(t.lastIntValue=r,t.advance(),!0):!1};rt.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var r=t.current();if(r>=49&&r<=57){do t.lastIntValue=10*t.lastIntValue+(r-48),t.advance();while((r=t.current())>=48&&r<=57);return!0}return!1};var mf=0,bn=1,Ne=2;rt.regexp_eatCharacterClassEscape=function(t){var r=t.current();if(oD(r))return t.lastIntValue=-1,t.advance(),bn;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=r===80)||r===112)){t.lastIntValue=-1,t.advance();var u;if(t.eat(123)&&(u=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&u===Ne&&t.raise("Invalid property name"),u;t.raise("Invalid property name")}return mf};function oD(t){return t===100||t===68||t===115||t===83||t===119||t===87}rt.regexp_eatUnicodePropertyValueExpression=function(t){var r=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var u=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,u),bn}}if(t.pos=r,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,o)}return mf};rt.regexp_validateUnicodePropertyNameAndValue=function(t,r,i){si(t.unicodeProperties.nonBinary,r)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[r].test(i)||t.raise("Invalid property value")};rt.regexp_validateUnicodePropertyNameOrValue=function(t,r){if(t.unicodeProperties.binary.test(r))return bn;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(r))return Ne;t.raise("Invalid property name")};rt.regexp_eatUnicodePropertyName=function(t){var r=0;for(t.lastStringValue="";df(r=t.current());)t.lastStringValue+=Ln(r),t.advance();return t.lastStringValue!==""};function df(t){return pf(t)||t===95}rt.regexp_eatUnicodePropertyValue=function(t){var r=0;for(t.lastStringValue="";aD(r=t.current());)t.lastStringValue+=Ln(r),t.advance();return t.lastStringValue!==""};function aD(t){return df(t)||fs(t)}rt.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};rt.regexp_eatCharacterClass=function(t){if(t.eat(91)){var r=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),r&&i===Ne&&t.raise("Negated character class may contain strings"),!0}return!1};rt.regexp_classContents=function(t){return t.current()===93?bn:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),bn)};rt.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var r=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(r===-1||i===-1)&&t.raise("Invalid character class"),r!==-1&&i!==-1&&r>i&&t.raise("Range out of order in character class")}}};rt.regexp_eatClassAtom=function(t){var r=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||Af(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=r}var u=t.current();return u!==93?(t.lastIntValue=u,t.advance(),!0):!1};rt.regexp_eatClassEscape=function(t){var r=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=r}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};rt.regexp_classSetExpression=function(t){var r=bn,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===Ne&&(r=Ne);for(var u=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==Ne&&(r=bn);continue}t.raise("Invalid character in character class")}if(u!==t.pos)return r;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(u!==t.pos)return r}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return r;i===Ne&&(r=Ne)}};rt.regexp_eatClassSetRange=function(t){var r=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var u=t.lastIntValue;return i!==-1&&u!==-1&&i>u&&t.raise("Range out of order in character class"),!0}t.pos=r}return!1};rt.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?bn:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};rt.regexp_eatNestedClass=function(t){var r=t.pos;if(t.eat(91)){var i=t.eat(94),u=this.regexp_classContents(t);if(t.eat(93))return i&&u===Ne&&t.raise("Negated character class may contain strings"),u;t.pos=r}if(t.eat(92)){var o=this.regexp_eatCharacterClassEscape(t);if(o)return o;t.pos=r}return null};rt.regexp_eatClassStringDisjunction=function(t){var r=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=r}return null};rt.regexp_classStringDisjunctionContents=function(t){for(var r=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Ne&&(r=Ne);return r};rt.regexp_classString=function(t){for(var r=0;this.regexp_eatClassSetCharacter(t);)r++;return r===1?bn:Ne};rt.regexp_eatClassSetCharacter=function(t){var r=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=r,!1);var i=t.current();return i<0||i===t.lookahead()&&cD(i)||lD(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function cD(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function lD(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}rt.regexp_eatClassSetReservedPunctuator=function(t){var r=t.current();return hD(r)?(t.lastIntValue=r,t.advance(),!0):!1};function hD(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}rt.regexp_eatClassControlLetter=function(t){var r=t.current();return fs(r)||r===95?(t.lastIntValue=r%32,t.advance(),!0):!1};rt.regexp_eatHexEscapeSequence=function(t){var r=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=r}return!1};rt.regexp_eatDecimalDigits=function(t){var r=t.pos,i=0;for(t.lastIntValue=0;fs(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==r};function fs(t){return t>=48&&t<=57}rt.regexp_eatHexDigits=function(t){var r=t.pos,i=0;for(t.lastIntValue=0;ff(i=t.current());)t.lastIntValue=16*t.lastIntValue+gf(i),t.advance();return t.pos!==r};function ff(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function gf(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}rt.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var r=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;r<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=r*64+i*8+t.lastIntValue:t.lastIntValue=r*8+i}else t.lastIntValue=r;return!0}return!1};rt.regexp_eatOctalDigit=function(t){var r=t.current();return Af(r)?(t.lastIntValue=r-48,t.advance(),!0):(t.lastIntValue=0,!1)};function Af(t){return t>=48&&t<=55}rt.regexp_eatFixedHexDigits=function(t,r){var i=t.pos;t.lastIntValue=0;for(var u=0;u<r;++u){var o=t.current();if(!ff(o))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+gf(o),t.advance()}return!0};var Bo=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new ps(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},bt=$t.prototype;bt.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Bo(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};bt.getToken=function(){return this.next(),new Bo(this)};typeof Symbol<"u"&&(bt[Symbol.iterator]=function(){var t=this;return{next:function(){var r=t.getToken();return{done:r.type===b.eof,value:r}}}});bt.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(b.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};bt.readToken=function(t){return Mn(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};bt.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var r=this.input.charCodeAt(this.pos+1);return r<=56319||r>=57344?t:(t<<10)+r-56613888};bt.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),r=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var u=void 0,o=r;(u=jd(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=u;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,i),r,this.pos,t,this.curPosition())};bt.skipLineComment=function(t){for(var r=this.pos,i=this.options.onComment&&this.curPosition(),u=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Ir(u);)u=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(r+t,this.pos),r,this.pos,i,this.curPosition())};bt.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(t>8&&t<14||t>=5760&&Od.test(String.fromCharCode(t)))++this.pos;else break t}}};bt.finishToken=function(t,r){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=r,this.updateContext(i)};bt.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var r=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&r===46?(this.pos+=3,this.finishToken(b.ellipsis)):(++this.pos,this.finishToken(b.dot))};bt.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(b.assign,2):this.finishOp(b.slash,1)};bt.readToken_mult_modulo_exp=function(t){var r=this.input.charCodeAt(this.pos+1),i=1,u=t===42?b.star:b.modulo;return this.options.ecmaVersion>=7&&t===42&&r===42&&(++i,u=b.starstar,r=this.input.charCodeAt(this.pos+2)),r===61?this.finishOp(b.assign,i+1):this.finishOp(u,i)};bt.readToken_pipe_amp=function(t){var r=this.input.charCodeAt(this.pos+1);if(r===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(b.assign,3)}return this.finishOp(t===124?b.logicalOR:b.logicalAND,2)}return r===61?this.finishOp(b.assign,2):this.finishOp(t===124?b.bitwiseOR:b.bitwiseAND,1)};bt.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(b.assign,2):this.finishOp(b.bitwiseXOR,1)};bt.readToken_plus_min=function(t){var r=this.input.charCodeAt(this.pos+1);return r===t?r===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||je.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(b.incDec,2):r===61?this.finishOp(b.assign,2):this.finishOp(b.plusMin,1)};bt.readToken_lt_gt=function(t){var r=this.input.charCodeAt(this.pos+1),i=1;return r===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(b.assign,i+1):this.finishOp(b.bitShift,i)):r===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(r===61&&(i=2),this.finishOp(b.relational,i))};bt.readToken_eq_excl=function(t){var r=this.input.charCodeAt(this.pos+1);return r===61?this.finishOp(b.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&r===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(b.arrow)):this.finishOp(t===61?b.eq:b.prefix,1)};bt.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var r=this.input.charCodeAt(this.pos+1);if(r===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(b.questionDot,2)}if(r===63){if(t>=12){var u=this.input.charCodeAt(this.pos+2);if(u===61)return this.finishOp(b.assign,3)}return this.finishOp(b.coalesce,2)}}return this.finishOp(b.question,1)};bt.readToken_numberSign=function(){var t=this.options.ecmaVersion,r=35;if(t>=13&&(++this.pos,r=this.fullCharCodeAtPos(),Mn(r,!0)||r===92))return this.finishToken(b.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ln(r)+"'")};bt.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(b.parenL);case 41:return++this.pos,this.finishToken(b.parenR);case 59:return++this.pos,this.finishToken(b.semi);case 44:return++this.pos,this.finishToken(b.comma);case 91:return++this.pos,this.finishToken(b.bracketL);case 93:return++this.pos,this.finishToken(b.bracketR);case 123:return++this.pos,this.finishToken(b.braceL);case 125:return++this.pos,this.finishToken(b.braceR);case 58:return++this.pos,this.finishToken(b.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(b.backQuote);case 48:var r=this.input.charCodeAt(this.pos+1);if(r===120||r===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(r===111||r===79)return this.readRadixNumber(8);if(r===98||r===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(b.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ln(t)+"'")};bt.finishOp=function(t,r){var i=this.input.slice(this.pos,this.pos+r);return this.pos+=r,this.finishToken(t,i)};bt.readRegexp=function(){for(var t,r,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var u=this.input.charAt(this.pos);if(je.test(u)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(u==="[")r=!0;else if(u==="]"&&r)r=!1;else if(u==="/"&&!r)break;t=u==="\\"}++this.pos}var o=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var l=this.regexpState||(this.regexpState=new un(this));l.reset(i,o,c),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var p=null;try{p=new RegExp(o,c)}catch{}return this.finishToken(b.regexp,{pattern:o,flags:c,value:p})};bt.readInt=function(t,r,i){for(var u=this.options.ecmaVersion>=12&&r===void 0,o=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,l=0,p=0,d=r??1/0;p<d;++p,++this.pos){var f=this.input.charCodeAt(this.pos),g=void 0;if(u&&f===95){o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),l===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),p===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),l=f;continue}if(f>=97?g=f-97+10:f>=65?g=f-65+10:f>=48&&f<=57?g=f-48:g=1/0,g>=t)break;l=f,c=c*t+g}return u&&l===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||r!=null&&this.pos-a!==r?null:c};function pD(t,r){return r?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function Cf(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}bt.readRadixNumber=function(t){var r=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Cf(this.input.slice(r,this.pos)),++this.pos):Mn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,i)};bt.readNumber=function(t){var r=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(r,"Invalid number");var i=this.pos-r>=2&&this.input.charCodeAt(r)===48;i&&this.strict&&this.raise(r,"Invalid number");var u=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&u===110){var o=Cf(this.input.slice(r,this.pos));return++this.pos,Mn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,o)}i&&/[89]/.test(this.input.slice(r,this.pos))&&(i=!1),u===46&&!i&&(++this.pos,this.readInt(10),u=this.input.charCodeAt(this.pos)),(u===69||u===101)&&!i&&(u=this.input.charCodeAt(++this.pos),(u===43||u===45)&&++this.pos,this.readInt(10)===null&&this.raise(r,"Invalid number")),Mn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=pD(this.input.slice(r,this.pos),i);return this.finishToken(b.num,a)};bt.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),r;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;r=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,r>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else r=this.readHexChar(4);return r};bt.readString=function(t){for(var r="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var u=this.input.charCodeAt(this.pos);if(u===t)break;u===92?(r+=this.input.slice(i,this.pos),r+=this.readEscapedChar(!1),i=this.pos):u===8232||u===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ir(u)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return r+=this.input.slice(i,this.pos++),this.finishToken(b.string,r)};var yf={};bt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===yf)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};bt.invalidStringToken=function(t,r){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw yf;this.raise(t,r)};bt.readTmplToken=function(){for(var t="",r=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===b.template||this.type===b.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(b.dollarBraceL)):(++this.pos,this.finishToken(b.backQuote)):(t+=this.input.slice(r,this.pos),this.finishToken(b.template,t));if(i===92)t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!0),r=this.pos;else if(Ir(i)){switch(t+=this.input.slice(r,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),r=this.pos}else++this.pos}};bt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};bt.readEscapedChar=function(t){var r=this.input.charCodeAt(++this.pos);switch(++this.pos,r){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ln(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(r>=48&&r<=55){var u=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(u,8);return o>255&&(u=u.slice(0,-1),o=parseInt(u,8)),this.pos+=u.length-1,r=this.input.charCodeAt(this.pos),(u!=="0"||r===56||r===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-u.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return Ir(r)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(r)}};bt.readHexChar=function(t){var r=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(r,"Bad character escape sequence"),i};bt.readWord1=function(){this.containsEsc=!1;for(var t="",r=!0,i=this.pos,u=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(br(o,u))this.pos+=o<=65535?1:2;else if(o===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(r?Mn:br)(c,u)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Ln(c),i=this.pos}else break;r=!1}return t+this.input.slice(i,this.pos)};bt.readWord=function(){var t=this.readWord1(),r=b.name;return this.keywords.test(t)&&(r=bo[t]),this.finishToken(r,t)};var mD="8.12.0";$t.acorn={Parser:$t,version:mD,defaultOptions:Au,Position:Qr,SourceLocation:ps,getLineInfo:zd,Node:ds,TokenType:Et,tokTypes:b,keywordTypes:bo,TokContext:Xe,tokContexts:jt,isIdentifierChar:br,isIdentifierStart:Mn,Token:Bo,isNewLine:Ir,lineBreak:je,lineBreakG:VP,nonASCIIwhitespace:Od};function dD(t,r){return $t.parse(t,r)}var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fD(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var i=function u(){return this instanceof u?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(u){var o=Object.getOwnPropertyDescriptor(t,u);Object.defineProperty(i,u,o.get?o:{enumerable:!0,get:function(){return t[u]}})}),i}var bf={},Pf={};(function(t){(function r(i){var u,o,a,c,l,p;function d(x){var R={},T,G;for(T in x)x.hasOwnProperty(T)&&(G=x[T],typeof G=="object"&&G!==null?R[T]=d(G):R[T]=G);return R}function f(x,R){var T,G,H,W;for(G=x.length,H=0;G;)T=G>>>1,W=H+T,R(x[W])?G=T:(H=W+1,G-=T+1);return H}u={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},a={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},c={},l={},p={},o={Break:c,Skip:l,Remove:p};function g(x,R){this.parent=x,this.key=R}g.prototype.replace=function(x){this.parent[this.key]=x},g.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function A(x,R,T,G){this.node=x,this.path=R,this.wrap=T,this.ref=G}function P(){}P.prototype.path=function(){var x,R,T,G,H,W;function J(X,Z){if(Array.isArray(Z))for(T=0,G=Z.length;T<G;++T)X.push(Z[T]);else X.push(Z)}if(!this.__current.path)return null;for(H=[],x=2,R=this.__leavelist.length;x<R;++x)W=this.__leavelist[x],J(H,W.path);return J(H,this.__current.path),H},P.prototype.type=function(){var x=this.current();return x.type||this.__current.wrap},P.prototype.parents=function(){var x,R,T;for(T=[],x=1,R=this.__leavelist.length;x<R;++x)T.push(this.__leavelist[x].node);return T},P.prototype.current=function(){return this.__current.node},P.prototype.__execute=function(x,R){var T,G;return G=void 0,T=this.__current,this.__current=R,this.__state=null,x&&(G=x.call(this,R.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=T,G},P.prototype.notify=function(x){this.__state=x},P.prototype.skip=function(){this.notify(l)},P.prototype.break=function(){this.notify(c)},P.prototype.remove=function(){this.notify(p)},P.prototype.__initialize=function(x,R){this.visitor=R,this.root=x,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,R.fallback==="iteration"?this.__fallback=Object.keys:typeof R.fallback=="function"&&(this.__fallback=R.fallback),this.__keys=a,R.keys&&(this.__keys=Object.assign(Object.create(this.__keys),R.keys))};function E(x){return x==null?!1:typeof x=="object"&&typeof x.type=="string"}function F(x,R){return(x===u.ObjectExpression||x===u.ObjectPattern)&&R==="properties"}function S(x,R){for(var T=x.length-1;T>=0;--T)if(x[T].node===R)return!0;return!1}P.prototype.traverse=function(x,R){var T,G,H,W,J,X,Z,U,gt,ut,dt,ht;for(this.__initialize(x,R),ht={},T=this.__worklist,G=this.__leavelist,T.push(new A(x,null,null,null)),G.push(new A(null,null,null,null));T.length;){if(H=T.pop(),H===ht){if(H=G.pop(),X=this.__execute(R.leave,H),this.__state===c||X===c)return;continue}if(H.node){if(X=this.__execute(R.enter,H),this.__state===c||X===c)return;if(T.push(ht),G.push(H),this.__state===l||X===l)continue;if(W=H.node,J=W.type||H.wrap,ut=this.__keys[J],!ut)if(this.__fallback)ut=this.__fallback(W);else throw new Error("Unknown node type "+J+".");for(U=ut.length;(U-=1)>=0;)if(Z=ut[U],dt=W[Z],!!dt){if(Array.isArray(dt)){for(gt=dt.length;(gt-=1)>=0;)if(dt[gt]&&!S(G,dt[gt])){if(F(J,ut[U]))H=new A(dt[gt],[Z,gt],"Property",null);else if(E(dt[gt]))H=new A(dt[gt],[Z,gt],null,null);else continue;T.push(H)}}else if(E(dt)){if(S(G,dt))continue;T.push(new A(dt,Z,null,null))}}}}},P.prototype.replace=function(x,R){var T,G,H,W,J,X,Z,U,gt,ut,dt,ht,xt;function me(te){var Y,ee,ae,ve;if(te.ref.remove()){for(ee=te.ref.key,ve=te.ref.parent,Y=T.length;Y--;)if(ae=T[Y],ae.ref&&ae.ref.parent===ve){if(ae.ref.key<ee)break;--ae.ref.key}}}for(this.__initialize(x,R),dt={},T=this.__worklist,G=this.__leavelist,ht={root:x},X=new A(x,null,null,new g(ht,"root")),T.push(X),G.push(X);T.length;){if(X=T.pop(),X===dt){if(X=G.pop(),J=this.__execute(R.leave,X),J!==void 0&&J!==c&&J!==l&&J!==p&&X.ref.replace(J),(this.__state===p||J===p)&&me(X),this.__state===c||J===c)return ht.root;continue}if(J=this.__execute(R.enter,X),J!==void 0&&J!==c&&J!==l&&J!==p&&(X.ref.replace(J),X.node=J),(this.__state===p||J===p)&&(me(X),X.node=null),this.__state===c||J===c)return ht.root;if(H=X.node,!!H&&(T.push(dt),G.push(X),!(this.__state===l||J===l))){if(W=H.type||X.wrap,gt=this.__keys[W],!gt)if(this.__fallback)gt=this.__fallback(H);else throw new Error("Unknown node type "+W+".");for(Z=gt.length;(Z-=1)>=0;)if(xt=gt[Z],ut=H[xt],!!ut)if(Array.isArray(ut)){for(U=ut.length;(U-=1)>=0;)if(ut[U]){if(F(W,gt[Z]))X=new A(ut[U],[xt,U],"Property",new g(ut,U));else if(E(ut[U]))X=new A(ut[U],[xt,U],null,new g(ut,U));else continue;T.push(X)}}else E(ut)&&T.push(new A(ut,xt,null,new g(H,xt)))}}return ht.root};function N(x,R){var T=new P;return T.traverse(x,R)}function L(x,R){var T=new P;return T.replace(x,R)}function K(x,R){var T;return T=f(R,function(G){return G.range[0]>x.range[0]}),x.extendedRange=[x.range[0],x.range[1]],T!==R.length&&(x.extendedRange[1]=R[T].range[0]),T-=1,T>=0&&(x.extendedRange[0]=R[T].range[1]),x}function k(x,R,T){var G=[],H,W,J,X;if(!x.range)throw new Error("attachComments needs range information");if(!T.length){if(R.length){for(J=0,W=R.length;J<W;J+=1)H=d(R[J]),H.extendedRange=[0,x.range[0]],G.push(H);x.leadingComments=G}return x}for(J=0,W=R.length;J<W;J+=1)G.push(K(d(R[J]),T));return X=0,N(x,{enter:function(Z){for(var U;X<G.length&&(U=G[X],!(U.extendedRange[1]>Z.range[0]));)U.extendedRange[1]===Z.range[0]?(Z.leadingComments||(Z.leadingComments=[]),Z.leadingComments.push(U),G.splice(X,1)):X+=1;if(X===G.length)return o.Break;if(G[X].extendedRange[0]>Z.range[1])return o.Skip}}),X=0,N(x,{leave:function(Z){for(var U;X<G.length&&(U=G[X],!(Z.range[1]<U.extendedRange[0]));)Z.range[1]===U.extendedRange[0]?(Z.trailingComments||(Z.trailingComments=[]),Z.trailingComments.push(U),G.splice(X,1)):X+=1;if(X===G.length)return o.Break;if(G[X].extendedRange[0]>Z.range[1])return o.Skip}}),x}return i.Syntax=u,i.traverse=N,i.replace=L,i.attachComments=k,i.VisitorKeys=a,i.VisitorOption=o,i.Controller=P,i.cloneEnvironment=function(){return r({})},i})(t)})(Pf);var Ni={},Df={exports:{}};(function(){function t(c){if(c==null)return!1;switch(c.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function r(c){if(c==null)return!1;switch(c.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function i(c){if(c==null)return!1;switch(c.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function u(c){return i(c)||c!=null&&c.type==="FunctionDeclaration"}function o(c){switch(c.type){case"IfStatement":return c.alternate!=null?c.alternate:c.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return c.body}return null}function a(c){var l;if(c.type!=="IfStatement"||c.alternate==null)return!1;l=c.consequent;do{if(l.type==="IfStatement"&&l.alternate==null)return!0;l=o(l)}while(l);return!1}Df.exports={isExpression:t,isStatement:i,isIterationStatement:r,isSourceElement:u,isProblematicIfStatement:a,trailingStatement:o}})();var gD=Df.exports,vf={exports:{}};(function(){var t,r,i,u,o,a;r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function c(S){return 48<=S&&S<=57}function l(S){return 48<=S&&S<=57||97<=S&&S<=102||65<=S&&S<=70}function p(S){return S>=48&&S<=55}i=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function d(S){return S===32||S===9||S===11||S===12||S===160||S>=5760&&i.indexOf(S)>=0}function f(S){return S===10||S===13||S===8232||S===8233}function g(S){if(S<=65535)return String.fromCharCode(S);var N=String.fromCharCode(Math.floor((S-65536)/1024)+55296),L=String.fromCharCode((S-65536)%1024+56320);return N+L}for(u=new Array(128),a=0;a<128;++a)u[a]=a>=97&&a<=122||a>=65&&a<=90||a===36||a===95;for(o=new Array(128),a=0;a<128;++a)o[a]=a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===36||a===95;function A(S){return S<128?u[S]:r.NonAsciiIdentifierStart.test(g(S))}function P(S){return S<128?o[S]:r.NonAsciiIdentifierPart.test(g(S))}function E(S){return S<128?u[S]:t.NonAsciiIdentifierStart.test(g(S))}function F(S){return S<128?o[S]:t.NonAsciiIdentifierPart.test(g(S))}vf.exports={isDecimalDigit:c,isHexDigit:l,isOctalDigit:p,isWhiteSpace:d,isLineTerminator:f,isIdentifierStartES5:A,isIdentifierPartES5:P,isIdentifierStartES6:E,isIdentifierPartES6:F}})();var Ef=vf.exports,Ff={exports:{}};(function(){var t=Ef;function r(A){switch(A){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function i(A,P){return!P&&A==="yield"?!1:u(A,P)}function u(A,P){if(P&&r(A))return!0;switch(A.length){case 2:return A==="if"||A==="in"||A==="do";case 3:return A==="var"||A==="for"||A==="new"||A==="try";case 4:return A==="this"||A==="else"||A==="case"||A==="void"||A==="with"||A==="enum";case 5:return A==="while"||A==="break"||A==="catch"||A==="throw"||A==="const"||A==="yield"||A==="class"||A==="super";case 6:return A==="return"||A==="typeof"||A==="delete"||A==="switch"||A==="export"||A==="import";case 7:return A==="default"||A==="finally"||A==="extends";case 8:return A==="function"||A==="continue"||A==="debugger";case 10:return A==="instanceof";default:return!1}}function o(A,P){return A==="null"||A==="true"||A==="false"||i(A,P)}function a(A,P){return A==="null"||A==="true"||A==="false"||u(A,P)}function c(A){return A==="eval"||A==="arguments"}function l(A){var P,E,F;if(A.length===0||(F=A.charCodeAt(0),!t.isIdentifierStartES5(F)))return!1;for(P=1,E=A.length;P<E;++P)if(F=A.charCodeAt(P),!t.isIdentifierPartES5(F))return!1;return!0}function p(A,P){return(A-55296)*1024+(P-56320)+65536}function d(A){var P,E,F,S,N;if(A.length===0)return!1;for(N=t.isIdentifierStartES6,P=0,E=A.length;P<E;++P){if(F=A.charCodeAt(P),55296<=F&&F<=56319){if(++P,P>=E||(S=A.charCodeAt(P),!(56320<=S&&S<=57343)))return!1;F=p(F,S)}if(!N(F))return!1;N=t.isIdentifierPartES6}return!0}function f(A,P){return l(A)&&!o(A,P)}function g(A,P){return d(A)&&!a(A,P)}Ff.exports={isKeywordES5:i,isKeywordES6:u,isReservedWordES5:o,isReservedWordES6:a,isRestrictedWord:c,isIdentifierNameES5:l,isIdentifierNameES6:d,isIdentifierES5:f,isIdentifierES6:g}})();var AD=Ff.exports;(function(){Ni.ast=gD,Ni.code=Ef,Ni.keyword=AD})();var Fi={},Hs={},wi={},Bi={},Oa;function CD(){if(Oa)return Bi;Oa=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Bi.encode=function(r){if(0<=r&&r<t.length)return t[r];throw new TypeError("Must be between 0 and 63: "+r)},Bi.decode=function(r){var i=65,u=90,o=97,a=122,c=48,l=57,p=43,d=47,f=26,g=52;return i<=r&&r<=u?r-i:o<=r&&r<=a?r-o+f:c<=r&&r<=l?r-c+g:r==p?62:r==d?63:-1},Bi}var Ga;function wf(){if(Ga)return wi;Ga=1;var t=CD(),r=5,i=1<<r,u=i-1,o=i;function a(l){return l<0?(-l<<1)+1:(l<<1)+0}function c(l){var p=(l&1)===1,d=l>>1;return p?-d:d}return wi.encode=function(l){var p="",d,f=a(l);do d=f&u,f>>>=r,f>0&&(d|=o),p+=t.encode(d);while(f>0);return p},wi.decode=function(l,p,d){var f=l.length,g=0,A=0,P,E;do{if(p>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(E=t.decode(l.charCodeAt(p++)),E===-1)throw new Error("Invalid base64 digit: "+l.charAt(p-1));P=!!(E&o),E&=u,g=g+(E<<A),A+=r}while(P);d.value=c(g),d.rest=p},wi}var za={},Wa;function ai(){return Wa||(Wa=1,function(t){function r(k,x,R){if(x in k)return k[x];if(arguments.length===3)return R;throw new Error('"'+x+'" is a required argument.')}t.getArg=r;var i=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,u=/^data:.+\,.+$/;function o(k){var x=k.match(i);return x?{scheme:x[1],auth:x[2],host:x[3],port:x[4],path:x[5]}:null}t.urlParse=o;function a(k){var x="";return k.scheme&&(x+=k.scheme+":"),x+="//",k.auth&&(x+=k.auth+"@"),k.host&&(x+=k.host),k.port&&(x+=":"+k.port),k.path&&(x+=k.path),x}t.urlGenerate=a;function c(k){var x=k,R=o(k);if(R){if(!R.path)return k;x=R.path}for(var T=t.isAbsolute(x),G=x.split(/\/+/),H,W=0,J=G.length-1;J>=0;J--)H=G[J],H==="."?G.splice(J,1):H===".."?W++:W>0&&(H===""?(G.splice(J+1,W),W=0):(G.splice(J,2),W--));return x=G.join("/"),x===""&&(x=T?"/":"."),R?(R.path=x,a(R)):x}t.normalize=c;function l(k,x){k===""&&(k="."),x===""&&(x=".");var R=o(x),T=o(k);if(T&&(k=T.path||"/"),R&&!R.scheme)return T&&(R.scheme=T.scheme),a(R);if(R||x.match(u))return x;if(T&&!T.host&&!T.path)return T.host=x,a(T);var G=x.charAt(0)==="/"?x:c(k.replace(/\/+$/,"")+"/"+x);return T?(T.path=G,a(T)):G}t.join=l,t.isAbsolute=function(k){return k.charAt(0)==="/"||i.test(k)};function p(k,x){k===""&&(k="."),k=k.replace(/\/$/,"");for(var R=0;x.indexOf(k+"/")!==0;){var T=k.lastIndexOf("/");if(T<0||(k=k.slice(0,T),k.match(/^([^\/]+:\/)?\/*$/)))return x;++R}return Array(R+1).join("../")+x.substr(k.length+1)}t.relative=p;var d=function(){var k=Object.create(null);return!("__proto__"in k)}();function f(k){return k}function g(k){return P(k)?"$"+k:k}t.toSetString=d?f:g;function A(k){return P(k)?k.slice(1):k}t.fromSetString=d?f:A;function P(k){if(!k)return!1;var x=k.length;if(x<9||k.charCodeAt(x-1)!==95||k.charCodeAt(x-2)!==95||k.charCodeAt(x-3)!==111||k.charCodeAt(x-4)!==116||k.charCodeAt(x-5)!==111||k.charCodeAt(x-6)!==114||k.charCodeAt(x-7)!==112||k.charCodeAt(x-8)!==95||k.charCodeAt(x-9)!==95)return!1;for(var R=x-10;R>=0;R--)if(k.charCodeAt(R)!==36)return!1;return!0}function E(k,x,R){var T=S(k.source,x.source);return T!==0||(T=k.originalLine-x.originalLine,T!==0)||(T=k.originalColumn-x.originalColumn,T!==0||R)||(T=k.generatedColumn-x.generatedColumn,T!==0)||(T=k.generatedLine-x.generatedLine,T!==0)?T:S(k.name,x.name)}t.compareByOriginalPositions=E;function F(k,x,R){var T=k.generatedLine-x.generatedLine;return T!==0||(T=k.generatedColumn-x.generatedColumn,T!==0||R)||(T=S(k.source,x.source),T!==0)||(T=k.originalLine-x.originalLine,T!==0)||(T=k.originalColumn-x.originalColumn,T!==0)?T:S(k.name,x.name)}t.compareByGeneratedPositionsDeflated=F;function S(k,x){return k===x?0:k===null?1:x===null?-1:k>x?1:-1}function N(k,x){var R=k.generatedLine-x.generatedLine;return R!==0||(R=k.generatedColumn-x.generatedColumn,R!==0)||(R=S(k.source,x.source),R!==0)||(R=k.originalLine-x.originalLine,R!==0)||(R=k.originalColumn-x.originalColumn,R!==0)?R:S(k.name,x.name)}t.compareByGeneratedPositionsInflated=N;function L(k){return JSON.parse(k.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=L;function K(k,x,R){if(x=x||"",k&&(k[k.length-1]!=="/"&&x[0]!=="/"&&(k+="/"),x=k+x),R){var T=o(R);if(!T)throw new Error("sourceMapURL could not be parsed");if(T.path){var G=T.path.lastIndexOf("/");G>=0&&(T.path=T.path.substring(0,G+1))}x=l(a(T),x)}return c(x)}t.computeSourceURL=K}(za)),za}var Ks={},qa;function Bf(){if(qa)return Ks;qa=1;var t=ai(),r=Object.prototype.hasOwnProperty,i=typeof Map<"u";function u(){this._array=[],this._set=i?new Map:Object.create(null)}return u.fromArray=function(o,a){for(var c=new u,l=0,p=o.length;l<p;l++)c.add(o[l],a);return c},u.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},u.prototype.add=function(o,a){var c=i?o:t.toSetString(o),l=i?this.has(o):r.call(this._set,c),p=this._array.length;(!l||a)&&this._array.push(o),l||(i?this._set.set(o,p):this._set[c]=p)},u.prototype.has=function(o){if(i)return this._set.has(o);var a=t.toSetString(o);return r.call(this._set,a)},u.prototype.indexOf=function(o){if(i){var a=this._set.get(o);if(a>=0)return a}else{var c=t.toSetString(o);if(r.call(this._set,c))return this._set[c]}throw new Error('"'+o+'" is not in the set.')},u.prototype.at=function(o){if(o>=0&&o<this._array.length)return this._array[o];throw new Error("No element indexed by "+o)},u.prototype.toArray=function(){return this._array.slice()},Ks.ArraySet=u,Ks}var Ys={},Xa;function yD(){if(Xa)return Ys;Xa=1;var t=ai();function r(u,o){var a=u.generatedLine,c=o.generatedLine,l=u.generatedColumn,p=o.generatedColumn;return c>a||c==a&&p>=l||t.compareByGeneratedPositionsInflated(u,o)<=0}function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return i.prototype.unsortedForEach=function(u,o){this._array.forEach(u,o)},i.prototype.add=function(u){r(this._last,u)?(this._last=u,this._array.push(u)):(this._sorted=!1,this._array.push(u))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Ys.MappingList=i,Ys}var Za;function If(){if(Za)return Hs;Za=1;var t=wf(),r=ai(),i=Bf().ArraySet,u=yD().MappingList;function o(a){a||(a={}),this._file=r.getArg(a,"file",null),this._sourceRoot=r.getArg(a,"sourceRoot",null),this._skipValidation=r.getArg(a,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new u,this._sourcesContents=null}return o.prototype._version=3,o.fromSourceMap=function(a){var c=a.sourceRoot,l=new o({file:a.file,sourceRoot:c});return a.eachMapping(function(p){var d={generated:{line:p.generatedLine,column:p.generatedColumn}};p.source!=null&&(d.source=p.source,c!=null&&(d.source=r.relative(c,d.source)),d.original={line:p.originalLine,column:p.originalColumn},p.name!=null&&(d.name=p.name)),l.addMapping(d)}),a.sources.forEach(function(p){var d=p;c!==null&&(d=r.relative(c,p)),l._sources.has(d)||l._sources.add(d);var f=a.sourceContentFor(p);f!=null&&l.setSourceContent(p,f)}),l},o.prototype.addMapping=function(a){var c=r.getArg(a,"generated"),l=r.getArg(a,"original",null),p=r.getArg(a,"source",null),d=r.getArg(a,"name",null);this._skipValidation||this._validateMapping(c,l,p,d),p!=null&&(p=String(p),this._sources.has(p)||this._sources.add(p)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:c.line,generatedColumn:c.column,originalLine:l!=null&&l.line,originalColumn:l!=null&&l.column,source:p,name:d})},o.prototype.setSourceContent=function(a,c){var l=a;this._sourceRoot!=null&&(l=r.relative(this._sourceRoot,l)),c!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(l)]=c):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(l)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(a,c,l){var p=c;if(c==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);p=a.file}var d=this._sourceRoot;d!=null&&(p=r.relative(d,p));var f=new i,g=new i;this._mappings.unsortedForEach(function(A){if(A.source===p&&A.originalLine!=null){var P=a.originalPositionFor({line:A.originalLine,column:A.originalColumn});P.source!=null&&(A.source=P.source,l!=null&&(A.source=r.join(l,A.source)),d!=null&&(A.source=r.relative(d,A.source)),A.originalLine=P.line,A.originalColumn=P.column,P.name!=null&&(A.name=P.name))}var E=A.source;E!=null&&!f.has(E)&&f.add(E);var F=A.name;F!=null&&!g.has(F)&&g.add(F)},this),this._sources=f,this._names=g,a.sources.forEach(function(A){var P=a.sourceContentFor(A);P!=null&&(l!=null&&(A=r.join(l,A)),d!=null&&(A=r.relative(d,A)),this.setSourceContent(A,P))},this)},o.prototype._validateMapping=function(a,c,l,p){if(c&&typeof c.line!="number"&&typeof c.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!c&&!l&&!p)){if(a&&"line"in a&&"column"in a&&c&&"line"in c&&"column"in c&&a.line>0&&a.column>=0&&c.line>0&&c.column>=0&&l)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:l,original:c,name:p}))}},o.prototype._serializeMappings=function(){for(var a=0,c=1,l=0,p=0,d=0,f=0,g="",A,P,E,F,S=this._mappings.toArray(),N=0,L=S.length;N<L;N++){if(P=S[N],A="",P.generatedLine!==c)for(a=0;P.generatedLine!==c;)A+=";",c++;else if(N>0){if(!r.compareByGeneratedPositionsInflated(P,S[N-1]))continue;A+=","}A+=t.encode(P.generatedColumn-a),a=P.generatedColumn,P.source!=null&&(F=this._sources.indexOf(P.source),A+=t.encode(F-f),f=F,A+=t.encode(P.originalLine-1-p),p=P.originalLine-1,A+=t.encode(P.originalColumn-l),l=P.originalColumn,P.name!=null&&(E=this._names.indexOf(P.name),A+=t.encode(E-d),d=E)),g+=A}return g},o.prototype._generateSourcesContent=function(a,c){return a.map(function(l){if(!this._sourcesContents)return null;c!=null&&(l=r.relative(c,l));var p=r.toSetString(l);return Object.prototype.hasOwnProperty.call(this._sourcesContents,p)?this._sourcesContents[p]:null},this)},o.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},Hs.SourceMapGenerator=o,Hs}var Gr={},Ha={},Ka;function MD(){return Ka||(Ka=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function r(i,u,o,a,c,l){var p=Math.floor((u-i)/2)+i,d=c(o,a[p],!0);return d===0?p:d>0?u-p>1?r(p,u,o,a,c,l):l==t.LEAST_UPPER_BOUND?u<a.length?u:-1:p:p-i>1?r(i,p,o,a,c,l):l==t.LEAST_UPPER_BOUND?p:i<0?-1:i}t.search=function(i,u,o,a){if(u.length===0)return-1;var c=r(-1,u.length,i,u,o,a||t.GREATEST_LOWER_BOUND);if(c<0)return-1;for(;c-1>=0&&o(u[c],u[c-1],!0)===0;)--c;return c}}(Ha)),Ha}var Us={},Ya;function bD(){if(Ya)return Us;Ya=1;function t(u,o,a){var c=u[o];u[o]=u[a],u[a]=c}function r(u,o){return Math.round(u+Math.random()*(o-u))}function i(u,o,a,c){if(a<c){var l=r(a,c),p=a-1;t(u,l,c);for(var d=u[c],f=a;f<c;f++)o(u[f],d)<=0&&(p+=1,t(u,p,f));t(u,p+1,f);var g=p+1;i(u,o,a,g-1),i(u,o,g+1,c)}}return Us.quickSort=function(u,o){i(u,o,0,u.length-1)},Us}var Ua;function PD(){if(Ua)return Gr;Ua=1;var t=ai(),r=MD(),i=Bf().ArraySet,u=wf(),o=bD().quickSort;function a(d,f){var g=d;return typeof d=="string"&&(g=t.parseSourceMapInput(d)),g.sections!=null?new p(g,f):new c(g,f)}a.fromSourceMap=function(d,f){return c.fromSourceMap(d,f)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(d,f){var g=d.charAt(f);return g===";"||g===","},a.prototype._parseMappings=function(d,f){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(d,f,g){var A=f||null,P=g||a.GENERATED_ORDER,E;switch(P){case a.GENERATED_ORDER:E=this._generatedMappings;break;case a.ORIGINAL_ORDER:E=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var F=this.sourceRoot;E.map(function(S){var N=S.source===null?null:this._sources.at(S.source);return N=t.computeSourceURL(F,N,this._sourceMapURL),{source:N,generatedLine:S.generatedLine,generatedColumn:S.generatedColumn,originalLine:S.originalLine,originalColumn:S.originalColumn,name:S.name===null?null:this._names.at(S.name)}},this).forEach(d,A)},a.prototype.allGeneratedPositionsFor=function(d){var f=t.getArg(d,"line"),g={source:t.getArg(d,"source"),originalLine:f,originalColumn:t.getArg(d,"column",0)};if(g.source=this._findSourceIndex(g.source),g.source<0)return[];var A=[],P=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(P>=0){var E=this._originalMappings[P];if(d.column===void 0)for(var F=E.originalLine;E&&E.originalLine===F;)A.push({line:t.getArg(E,"generatedLine",null),column:t.getArg(E,"generatedColumn",null),lastColumn:t.getArg(E,"lastGeneratedColumn",null)}),E=this._originalMappings[++P];else for(var S=E.originalColumn;E&&E.originalLine===f&&E.originalColumn==S;)A.push({line:t.getArg(E,"generatedLine",null),column:t.getArg(E,"generatedColumn",null),lastColumn:t.getArg(E,"lastGeneratedColumn",null)}),E=this._originalMappings[++P]}return A},Gr.SourceMapConsumer=a;function c(d,f){var g=d;typeof d=="string"&&(g=t.parseSourceMapInput(d));var A=t.getArg(g,"version"),P=t.getArg(g,"sources"),E=t.getArg(g,"names",[]),F=t.getArg(g,"sourceRoot",null),S=t.getArg(g,"sourcesContent",null),N=t.getArg(g,"mappings"),L=t.getArg(g,"file",null);if(A!=this._version)throw new Error("Unsupported version: "+A);F&&(F=t.normalize(F)),P=P.map(String).map(t.normalize).map(function(K){return F&&t.isAbsolute(F)&&t.isAbsolute(K)?t.relative(F,K):K}),this._names=i.fromArray(E.map(String),!0),this._sources=i.fromArray(P,!0),this._absoluteSources=this._sources.toArray().map(function(K){return t.computeSourceURL(F,K,f)}),this.sourceRoot=F,this.sourcesContent=S,this._mappings=N,this._sourceMapURL=f,this.file=L}c.prototype=Object.create(a.prototype),c.prototype.consumer=a,c.prototype._findSourceIndex=function(d){var f=d;if(this.sourceRoot!=null&&(f=t.relative(this.sourceRoot,f)),this._sources.has(f))return this._sources.indexOf(f);var g;for(g=0;g<this._absoluteSources.length;++g)if(this._absoluteSources[g]==d)return g;return-1},c.fromSourceMap=function(d,f){var g=Object.create(c.prototype),A=g._names=i.fromArray(d._names.toArray(),!0),P=g._sources=i.fromArray(d._sources.toArray(),!0);g.sourceRoot=d._sourceRoot,g.sourcesContent=d._generateSourcesContent(g._sources.toArray(),g.sourceRoot),g.file=d._file,g._sourceMapURL=f,g._absoluteSources=g._sources.toArray().map(function(x){return t.computeSourceURL(g.sourceRoot,x,f)});for(var E=d._mappings.toArray().slice(),F=g.__generatedMappings=[],S=g.__originalMappings=[],N=0,L=E.length;N<L;N++){var K=E[N],k=new l;k.generatedLine=K.generatedLine,k.generatedColumn=K.generatedColumn,K.source&&(k.source=P.indexOf(K.source),k.originalLine=K.originalLine,k.originalColumn=K.originalColumn,K.name&&(k.name=A.indexOf(K.name)),S.push(k)),F.push(k)}return o(g.__originalMappings,t.compareByOriginalPositions),g},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}c.prototype._parseMappings=function(d,f){for(var g=1,A=0,P=0,E=0,F=0,S=0,N=d.length,L=0,K={},k={},x=[],R=[],T,G,H,W,J;L<N;)if(d.charAt(L)===";")g++,L++,A=0;else if(d.charAt(L)===",")L++;else{for(T=new l,T.generatedLine=g,W=L;W<N&&!this._charIsMappingSeparator(d,W);W++);if(G=d.slice(L,W),H=K[G],H)L+=G.length;else{for(H=[];L<W;)u.decode(d,L,k),J=k.value,L=k.rest,H.push(J);if(H.length===2)throw new Error("Found a source, but no line and column");if(H.length===3)throw new Error("Found a source and line, but no column");K[G]=H}T.generatedColumn=A+H[0],A=T.generatedColumn,H.length>1&&(T.source=F+H[1],F+=H[1],T.originalLine=P+H[2],P=T.originalLine,T.originalLine+=1,T.originalColumn=E+H[3],E=T.originalColumn,H.length>4&&(T.name=S+H[4],S+=H[4])),R.push(T),typeof T.originalLine=="number"&&x.push(T)}o(R,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=R,o(x,t.compareByOriginalPositions),this.__originalMappings=x},c.prototype._findMapping=function(d,f,g,A,P,E){if(d[g]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[g]);if(d[A]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[A]);return r.search(d,f,P,E)},c.prototype.computeColumnSpans=function(){for(var d=0;d<this._generatedMappings.length;++d){var f=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var g=this._generatedMappings[d+1];if(f.generatedLine===g.generatedLine){f.lastGeneratedColumn=g.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(d){var f={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},g=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(g>=0){var A=this._generatedMappings[g];if(A.generatedLine===f.generatedLine){var P=t.getArg(A,"source",null);P!==null&&(P=this._sources.at(P),P=t.computeSourceURL(this.sourceRoot,P,this._sourceMapURL));var E=t.getArg(A,"name",null);return E!==null&&(E=this._names.at(E)),{source:P,line:t.getArg(A,"originalLine",null),column:t.getArg(A,"originalColumn",null),name:E}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},c.prototype.sourceContentFor=function(d,f){if(!this.sourcesContent)return null;var g=this._findSourceIndex(d);if(g>=0)return this.sourcesContent[g];var A=d;this.sourceRoot!=null&&(A=t.relative(this.sourceRoot,A));var P;if(this.sourceRoot!=null&&(P=t.urlParse(this.sourceRoot))){var E=A.replace(/^file:\/\//,"");if(P.scheme=="file"&&this._sources.has(E))return this.sourcesContent[this._sources.indexOf(E)];if((!P.path||P.path=="/")&&this._sources.has("/"+A))return this.sourcesContent[this._sources.indexOf("/"+A)]}if(f)return null;throw new Error('"'+A+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(d){var f=t.getArg(d,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var g={source:f,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},A=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(A>=0){var P=this._originalMappings[A];if(P.source===g.source)return{line:t.getArg(P,"generatedLine",null),column:t.getArg(P,"generatedColumn",null),lastColumn:t.getArg(P,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Gr.BasicSourceMapConsumer=c;function p(d,f){var g=d;typeof d=="string"&&(g=t.parseSourceMapInput(d));var A=t.getArg(g,"version"),P=t.getArg(g,"sections");if(A!=this._version)throw new Error("Unsupported version: "+A);this._sources=new i,this._names=new i;var E={line:-1,column:0};this._sections=P.map(function(F){if(F.url)throw new Error("Support for url field in sections not implemented.");var S=t.getArg(F,"offset"),N=t.getArg(S,"line"),L=t.getArg(S,"column");if(N<E.line||N===E.line&&L<E.column)throw new Error("Section offsets must be ordered and non-overlapping.");return E=S,{generatedOffset:{generatedLine:N+1,generatedColumn:L+1},consumer:new a(t.getArg(F,"map"),f)}})}return p.prototype=Object.create(a.prototype),p.prototype.constructor=a,p.prototype._version=3,Object.defineProperty(p.prototype,"sources",{get:function(){for(var d=[],f=0;f<this._sections.length;f++)for(var g=0;g<this._sections[f].consumer.sources.length;g++)d.push(this._sections[f].consumer.sources[g]);return d}}),p.prototype.originalPositionFor=function(d){var f={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},g=r.search(f,this._sections,function(P,E){var F=P.generatedLine-E.generatedOffset.generatedLine;return F||P.generatedColumn-E.generatedOffset.generatedColumn}),A=this._sections[g];return A?A.consumer.originalPositionFor({line:f.generatedLine-(A.generatedOffset.generatedLine-1),column:f.generatedColumn-(A.generatedOffset.generatedLine===f.generatedLine?A.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},p.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},p.prototype.sourceContentFor=function(d,f){for(var g=0;g<this._sections.length;g++){var A=this._sections[g],P=A.consumer.sourceContentFor(d,!0);if(P)return P}if(f)return null;throw new Error('"'+d+'" is not in the SourceMap.')},p.prototype.generatedPositionFor=function(d){for(var f=0;f<this._sections.length;f++){var g=this._sections[f];if(g.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var A=g.consumer.generatedPositionFor(d);if(A){var P={line:A.line+(g.generatedOffset.generatedLine-1),column:A.column+(g.generatedOffset.generatedLine===A.line?g.generatedOffset.generatedColumn-1:0)};return P}}}return{line:null,column:null}},p.prototype._parseMappings=function(d,f){this.__generatedMappings=[],this.__originalMappings=[];for(var g=0;g<this._sections.length;g++)for(var A=this._sections[g],P=A.consumer._generatedMappings,E=0;E<P.length;E++){var F=P[E],S=A.consumer._sources.at(F.source);S=t.computeSourceURL(A.consumer.sourceRoot,S,this._sourceMapURL),this._sources.add(S),S=this._sources.indexOf(S);var N=null;F.name&&(N=A.consumer._names.at(F.name),this._names.add(N),N=this._names.indexOf(N));var L={source:S,generatedLine:F.generatedLine+(A.generatedOffset.generatedLine-1),generatedColumn:F.generatedColumn+(A.generatedOffset.generatedLine===F.generatedLine?A.generatedOffset.generatedColumn-1:0),originalLine:F.originalLine,originalColumn:F.originalColumn,name:N};this.__generatedMappings.push(L),typeof L.originalLine=="number"&&this.__originalMappings.push(L)}o(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),o(this.__originalMappings,t.compareByOriginalPositions)},Gr.IndexedSourceMapConsumer=p,Gr}var $s={},$a;function DD(){if($a)return $s;$a=1;var t=If().SourceMapGenerator,r=ai(),i=/(\r?\n)/,u=10,o="$$$isSourceNode$$$";function a(c,l,p,d,f){this.children=[],this.sourceContents={},this.line=c??null,this.column=l??null,this.source=p??null,this.name=f??null,this[o]=!0,d!=null&&this.add(d)}return a.fromStringWithSourceMap=function(c,l,p){var d=new a,f=c.split(i),g=0,A=function(){var N=K(),L=K()||"";return N+L;function K(){return g<f.length?f[g++]:void 0}},P=1,E=0,F=null;return l.eachMapping(function(N){if(F!==null)if(P<N.generatedLine)S(F,A()),P++,E=0;else{var L=f[g]||"",K=L.substr(0,N.generatedColumn-E);f[g]=L.substr(N.generatedColumn-E),E=N.generatedColumn,S(F,K),F=N;return}for(;P<N.generatedLine;)d.add(A()),P++;if(E<N.generatedColumn){var L=f[g]||"";d.add(L.substr(0,N.generatedColumn)),f[g]=L.substr(N.generatedColumn),E=N.generatedColumn}F=N},this),g<f.length&&(F&&S(F,A()),d.add(f.splice(g).join(""))),l.sources.forEach(function(N){var L=l.sourceContentFor(N);L!=null&&(p!=null&&(N=r.join(p,N)),d.setSourceContent(N,L))}),d;function S(N,L){if(N===null||N.source===void 0)d.add(L);else{var K=p?r.join(p,N.source):N.source;d.add(new a(N.originalLine,N.originalColumn,K,L,N.name))}}},a.prototype.add=function(c){if(Array.isArray(c))c.forEach(function(l){this.add(l)},this);else if(c[o]||typeof c=="string")c&&this.children.push(c);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);return this},a.prototype.prepend=function(c){if(Array.isArray(c))for(var l=c.length-1;l>=0;l--)this.prepend(c[l]);else if(c[o]||typeof c=="string")this.children.unshift(c);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);return this},a.prototype.walk=function(c){for(var l,p=0,d=this.children.length;p<d;p++)l=this.children[p],l[o]?l.walk(c):l!==""&&c(l,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(c){var l,p,d=this.children.length;if(d>0){for(l=[],p=0;p<d-1;p++)l.push(this.children[p]),l.push(c);l.push(this.children[p]),this.children=l}return this},a.prototype.replaceRight=function(c,l){var p=this.children[this.children.length-1];return p[o]?p.replaceRight(c,l):typeof p=="string"?this.children[this.children.length-1]=p.replace(c,l):this.children.push("".replace(c,l)),this},a.prototype.setSourceContent=function(c,l){this.sourceContents[r.toSetString(c)]=l},a.prototype.walkSourceContents=function(c){for(var l=0,p=this.children.length;l<p;l++)this.children[l][o]&&this.children[l].walkSourceContents(c);for(var d=Object.keys(this.sourceContents),l=0,p=d.length;l<p;l++)c(r.fromSetString(d[l]),this.sourceContents[d[l]])},a.prototype.toString=function(){var c="";return this.walk(function(l){c+=l}),c},a.prototype.toStringWithSourceMap=function(c){var l={code:"",line:1,column:0},p=new t(c),d=!1,f=null,g=null,A=null,P=null;return this.walk(function(E,F){l.code+=E,F.source!==null&&F.line!==null&&F.column!==null?((f!==F.source||g!==F.line||A!==F.column||P!==F.name)&&p.addMapping({source:F.source,original:{line:F.line,column:F.column},generated:{line:l.line,column:l.column},name:F.name}),f=F.source,g=F.line,A=F.column,P=F.name,d=!0):d&&(p.addMapping({generated:{line:l.line,column:l.column}}),f=null,d=!1);for(var S=0,N=E.length;S<N;S++)E.charCodeAt(S)===u?(l.line++,l.column=0,S+1===N?(f=null,d=!1):d&&p.addMapping({source:F.source,original:{line:F.line,column:F.column},generated:{line:l.line,column:l.column},name:F.name})):l.column++}),this.walkSourceContents(function(E,F){p.setSourceContent(E,F)}),{code:l.code,map:p}},$s.SourceNode=a,$s}var Ja;function vD(){return Ja||(Ja=1,Fi.SourceMapGenerator=If().SourceMapGenerator,Fi.SourceMapConsumer=PD().SourceMapConsumer,Fi.SourceNode=DD().SourceNode),Fi}const ED="escodegen",FD="ECMAScript code generator",wD="http://github.com/estools/escodegen",BD="escodegen.js",ID={esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},xD=["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],SD="2.1.0",_D={node:">=6.0"},kD=[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],ND={type:"git",url:"http://github.com/estools/escodegen.git"},TD={estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1"},RD={"source-map":"~0.6.1"},VD={acorn:"^8.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-mocha":"^7.0.2",minimist:"^1.2.5",optionator:"^0.9.1",semver:"^7.3.4"},LD="BSD-2-Clause",jD={test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"},OD={name:ED,description:FD,homepage:wD,main:BD,bin:ID,files:xD,version:SD,engines:_D,maintainers:kD,repository:ND,dependencies:TD,optionalDependencies:RD,devDependencies:VD,license:LD,scripts:jD};(function(t){(function(){var r,i,u,o,a,c,l,p,d,f,g,A,P,E,F,S,N,L,K,k,x,R,T,G,H,W;a=Pf,c=Ni,r=a.Syntax;function J(m){return pt.Expression.hasOwnProperty(m.type)}function X(m){return pt.Statement.hasOwnProperty(m.type)}i={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},u={"??":i.Coalesce,"||":i.LogicalOR,"&&":i.LogicalAND,"|":i.BitwiseOR,"^":i.BitwiseXOR,"&":i.BitwiseAND,"==":i.Equality,"!=":i.Equality,"===":i.Equality,"!==":i.Equality,is:i.Equality,isnt:i.Equality,"<":i.Relational,">":i.Relational,"<=":i.Relational,">=":i.Relational,in:i.Relational,instanceof:i.Relational,"<<":i.BitwiseSHIFT,">>":i.BitwiseSHIFT,">>>":i.BitwiseSHIFT,"+":i.Additive,"-":i.Additive,"*":i.Multiplicative,"%":i.Multiplicative,"/":i.Multiplicative,"**":i.Exponentiation};var Z=1,U=2,gt=4,ut=8,dt=16,ht=32,xt=64,me=U|gt,te=Z|U,Y=Z|U|gt,ee=Z,ae=gt,ve=Z|gt,wt=Z,Ut=Z|ht,Dt=0,Zt=Z|dt,ye=Z|ut;function Me(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Nt(m,y){var C="";for(y|=0;y>0;y>>>=1,m+=m)y&1&&(C+=m);return C}function En(m){return/[\r\n]/g.test(m)}function Tt(m){var y=m.length;return y&&c.code.isLineTerminator(m.charCodeAt(y-1))}function Fn(m,y){var C;for(C in y)y.hasOwnProperty(C)&&(m[C]=y[C]);return m}function Ee(m,y){var C,M;function B(V){return typeof V=="object"&&V instanceof Object&&!(V instanceof RegExp)}for(C in y)y.hasOwnProperty(C)&&(M=y[C],B(M)?B(m[C])?Ee(m[C],M):m[C]=Ee({},M):m[C]=M);return m}function Ge(m){var y,C,M,B,V;if(m!==m)throw new Error("Numeric literal whose value is NaN");if(m<0||m===0&&1/m<0)throw new Error("Numeric literal whose value is negative");if(m===1/0)return d?"null":f?"1e400":"1e+400";if(y=""+m,!f||y.length<3)return y;for(C=y.indexOf("."),!d&&y.charCodeAt(0)===48&&C===1&&(C=0,y=y.slice(1)),M=y,y=y.replace("e+","e"),B=0,(V=M.indexOf("e"))>0&&(B=+M.slice(V+1),M=M.slice(0,V)),C>=0&&(B-=M.length-C-1,M=+(M.slice(0,C)+M.slice(C+1))+""),V=0;M.charCodeAt(M.length+V-1)===48;)--V;return V!==0&&(B-=V,M=M.slice(0,V)),B!==0&&(M+="e"+B),(M.length<y.length||g&&m>1e12&&Math.floor(m)===m&&(M="0x"+m.toString(16)).length<y.length)&&+M===m&&(y=M),y}function on(m,y){return(m&-2)===8232?(y?"u":"\\u")+(m===8232?"2028":"2029"):m===10||m===13?(y?"":"\\")+(m===10?"n":"r"):String.fromCharCode(m)}function an(m){var y,C,M,B,V,O,q,Q;if(C=m.toString(),m.source){if(y=C.match(/\/([^/]*)$/),!y)return C;for(M=y[1],C="",q=!1,Q=!1,B=0,V=m.source.length;B<V;++B)O=m.source.charCodeAt(B),Q?(C+=on(O,Q),Q=!1):(q?O===93&&(q=!1):O===47?C+="\\":O===91&&(q=!0),C+=on(O,Q),Q=O===92);return"/"+C+"/"+M}return C}function cn(m,y){var C;return m===8?"\\b":m===12?"\\f":m===9?"\\t":(C=m.toString(16).toUpperCase(),d||m>255?"\\u"+"0000".slice(C.length)+C:m===0&&!c.code.isDecimalDigit(y)?"\\0":m===11?"\\x0B":"\\x"+"00".slice(C.length)+C)}function wn(m){if(m===92)return"\\\\";if(m===10)return"\\n";if(m===13)return"\\r";if(m===8232)return"\\u2028";if(m===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function ln(m){var y,C,M,B;for(B=A==="double"?'"':"'",y=0,C=m.length;y<C;++y)if(M=m.charCodeAt(y),M===39){B='"';break}else if(M===34){B="'";break}else M===92&&++y;return B+m+B}function ze(m){var y="",C,M,B,V=0,O=0,q,Q;for(C=0,M=m.length;C<M;++C){if(B=m.charCodeAt(C),B===39)++V;else if(B===34)++O;else if(B===47&&d)y+="\\";else if(c.code.isLineTerminator(B)||B===92){y+=wn(B);continue}else if(!c.code.isIdentifierPartES5(B)&&(d&&B<32||!d&&!P&&(B<32||B>126))){y+=cn(B,m.charCodeAt(C+1));continue}y+=String.fromCharCode(B)}if(q=!(A==="double"||A==="auto"&&O<V),Q=q?"'":'"',!(q?V:O))return Q+y+Q;for(m=y,y=Q,C=0,M=m.length;C<M;++C)B=m.charCodeAt(C),(B===39&&q||B===34&&!q)&&(y+="\\"),y+=String.fromCharCode(B);return y+Q}function We(m){var y,C,M,B="";for(y=0,C=m.length;y<C;++y)M=m[y],B+=Array.isArray(M)?We(M):M;return B}function Mt(m,y){if(!R)return Array.isArray(m)?We(m):m;if(y==null){if(m instanceof o)return m;y={}}return y.loc==null?new o(null,null,R,m,y.name||null):new o(y.loc.start.line,y.loc.start.column,R===!0?y.loc.source||null:R,m,y.name||null)}function Ot(){return F||" "}function lt(m,y){var C,M,B,V;return C=Mt(m).toString(),C.length===0?[y]:(M=Mt(y).toString(),M.length===0?[m]:(B=C.charCodeAt(C.length-1),V=M.charCodeAt(0),(B===43||B===45)&&B===V||c.code.isIdentifierPartES5(B)&&c.code.isIdentifierPartES5(V)||B===47&&V===105?[m,Ot(),y]:c.code.isWhiteSpace(B)||c.code.isLineTerminator(B)||c.code.isWhiteSpace(V)||c.code.isLineTerminator(V)?[m,y]:[m,F,y]))}function Xt(m){return[l,m]}function Rt(m){var y;y=l,l+=p,m(l),l=y}function Vr(m){var y;for(y=m.length-1;y>=0&&!c.code.isLineTerminator(m.charCodeAt(y));--y);return m.length-1-y}function Bn(m,y){var C,M,B,V,O,q,Q,yt;for(C=m.split(/\r\n|[\r\n]/),q=Number.MAX_VALUE,M=1,B=C.length;M<B;++M){for(V=C[M],O=0;O<V.length&&c.code.isWhiteSpace(V.charCodeAt(O));)++O;q>O&&(q=O)}for(typeof y<"u"?(Q=l,C[1][q]==="*"&&(y+=" "),l=y):(q&1&&--q,Q=l),M=1,B=C.length;M<B;++M)yt=Mt(Xt(C[M].slice(q))),C[M]=R?yt.join(""):yt;return l=Q,C.join(`
`)}function vt(m,y){if(m.type==="Line"){if(Tt(m.value))return"//"+m.value;var C="//"+m.value;return G||(C+=`
`),C}return k.format.indent.adjustMultilineComment&&/[\n\r]/.test(m.value)?Bn("/*"+m.value+"*/",y):"/*"+m.value+"*/"}function hn(m,y){var C,M,B,V,O,q,Q,yt,Ht,pn,In,gi,Ai,we;if(m.leadingComments&&m.leadingComments.length>0){if(V=y,G){for(B=m.leadingComments[0],y=[],yt=B.extendedRange,Ht=B.range,In=T.substring(yt[0],Ht[0]),we=(In.match(/\n/g)||[]).length,we>0?(y.push(Nt(`
`,we)),y.push(Xt(vt(B)))):(y.push(In),y.push(vt(B))),pn=Ht,C=1,M=m.leadingComments.length;C<M;C++)B=m.leadingComments[C],Ht=B.range,gi=T.substring(pn[1],Ht[0]),we=(gi.match(/\n/g)||[]).length,y.push(Nt(`
`,we)),y.push(Xt(vt(B))),pn=Ht;Ai=T.substring(Ht[1],yt[1]),we=(Ai.match(/\n/g)||[]).length,y.push(Nt(`
`,we))}else for(B=m.leadingComments[0],y=[],L&&m.type===r.Program&&m.body.length===0&&y.push(`
`),y.push(vt(B)),Tt(Mt(y).toString())||y.push(`
`),C=1,M=m.leadingComments.length;C<M;++C)B=m.leadingComments[C],Q=[vt(B)],Tt(Mt(Q).toString())||Q.push(`
`),y.push(Xt(Q));y.push(Xt(V))}if(m.trailingComments)if(G)B=m.trailingComments[0],yt=B.extendedRange,Ht=B.range,In=T.substring(yt[0],Ht[0]),we=(In.match(/\n/g)||[]).length,we>0?(y.push(Nt(`
`,we)),y.push(Xt(vt(B)))):(y.push(In),y.push(vt(B)));else for(O=!Tt(Mt(y).toString()),q=Nt(" ",Vr(Mt([l,y,p]).toString())),C=0,M=m.trailingComments.length;C<M;++C)B=m.trailingComments[C],O?(C===0?y=[y,p]:y=[y,q],y.push(vt(B,q))):y=[y,Xt(vt(B))],C!==M-1&&!Tt(Mt(y).toString())&&(y=[y,`
`]);return y}function de(m,y,C){var M,B=0;for(M=m;M<y;M++)T[M]===`
`&&B++;for(M=1;M<B;M++)C.push(E)}function Vt(m,y,C){return y<C?["(",m,")"]:m}function Hn(m){var y,C,M;for(M=m.split(/\r\n|\n/),y=1,C=M.length;y<C;y++)M[y]=E+l+M[y];return M}function sr(m,y){var C,M,B;return C=m[k.verbatim],typeof C=="string"?M=Vt(Hn(C),i.Sequence,y):(M=Hn(C.content),B=C.precedence!=null?C.precedence:i.Sequence,M=Vt(M,B,y)),Mt(M,m)}function pt(){}pt.prototype.maybeBlock=function(m,y){var C,M,B=this;return M=!k.comment||!m.leadingComments,m.type===r.BlockStatement&&M?[F,this.generateStatement(m,y)]:m.type===r.EmptyStatement&&M?";":(Rt(function(){C=[E,Xt(B.generateStatement(m,y))]}),C)},pt.prototype.maybeBlockSuffix=function(m,y){var C=Tt(Mt(y).toString());return m.type===r.BlockStatement&&(!k.comment||!m.leadingComments)&&!C?[y,F]:C?[y,l]:[y,E,l]};function Gt(m){return Mt(m.name,m)}function Fe(m,y){return m.async?"async"+(y?Ot():F):""}function fe(m){var y=m.generator&&!k.moz.starlessGenerator;return y?"*"+F:""}function Lr(m){var y=m.value,C="";return y.async&&(C+=Fe(y,!m.computed)),y.generator&&(C+=fe(y)?"*":""),C}pt.prototype.generatePattern=function(m,y,C){return m.type===r.Identifier?Gt(m):this.generateExpression(m,y,C)},pt.prototype.generateFunctionParams=function(m){var y,C,M,B;if(B=!1,m.type===r.ArrowFunctionExpression&&!m.rest&&(!m.defaults||m.defaults.length===0)&&m.params.length===1&&m.params[0].type===r.Identifier)M=[Fe(m,!0),Gt(m.params[0])];else{for(M=m.type===r.ArrowFunctionExpression?[Fe(m,!1)]:[],M.push("("),m.defaults&&(B=!0),y=0,C=m.params.length;y<C;++y)B&&m.defaults[y]?M.push(this.generateAssignment(m.params[y],m.defaults[y],"=",i.Assignment,Y)):M.push(this.generatePattern(m.params[y],i.Assignment,Y)),y+1<C&&M.push(","+F);m.rest&&(m.params.length&&M.push(","+F),M.push("..."),M.push(Gt(m.rest))),M.push(")")}return M},pt.prototype.generateFunctionBody=function(m){var y,C;return y=this.generateFunctionParams(m),m.type===r.ArrowFunctionExpression&&(y.push(F),y.push("=>")),m.expression?(y.push(F),C=this.generateExpression(m.body,i.Assignment,Y),C.toString().charAt(0)==="{"&&(C=["(",C,")"]),y.push(C)):y.push(this.maybeBlock(m.body,ye)),y},pt.prototype.generateIterationForStatement=function(m,y,C){var M=["for"+(y.await?Ot()+"await":"")+F+"("],B=this;return Rt(function(){y.left.type===r.VariableDeclaration?Rt(function(){M.push(y.left.kind+Ot()),M.push(B.generateStatement(y.left.declarations[0],Dt))}):M.push(B.generateExpression(y.left,i.Call,Y)),M=lt(M,m),M=[lt(M,B.generateExpression(y.right,i.Assignment,Y)),")"]}),M.push(this.maybeBlock(y.body,C)),M},pt.prototype.generatePropertyKey=function(m,y){var C=[];return y&&C.push("["),C.push(this.generateExpression(m,i.Assignment,Y)),y&&C.push("]"),C},pt.prototype.generateAssignment=function(m,y,C,M,B){return i.Assignment<M&&(B|=Z),Vt([this.generateExpression(m,i.Call,B),F+C+F,this.generateExpression(y,i.Assignment,B)],i.Assignment,M)},pt.prototype.semicolon=function(m){return!N&&m&ht?"":";"},pt.Statement={BlockStatement:function(m,y){var C,M,B=["{",E],V=this;return Rt(function(){m.body.length===0&&G&&(C=m.range,C[1]-C[0]>2&&(M=T.substring(C[0]+1,C[1]-1),M[0]===`
`&&(B=["{"]),B.push(M)));var O,q,Q,yt;for(yt=wt,y&ut&&(yt|=dt),O=0,q=m.body.length;O<q;++O)G&&(O===0&&(m.body[0].leadingComments&&(C=m.body[0].leadingComments[0].extendedRange,M=T.substring(C[0],C[1]),M[0]===`
`&&(B=["{"])),m.body[0].leadingComments||de(m.range[0],m.body[0].range[0],B)),O>0&&!m.body[O-1].trailingComments&&!m.body[O].leadingComments&&de(m.body[O-1].range[1],m.body[O].range[0],B)),O===q-1&&(yt|=ht),m.body[O].leadingComments&&G?Q=V.generateStatement(m.body[O],yt):Q=Xt(V.generateStatement(m.body[O],yt)),B.push(Q),Tt(Mt(Q).toString())||G&&O<q-1&&m.body[O+1].leadingComments||B.push(E),G&&O===q-1&&(m.body[O].trailingComments||de(m.body[O].range[1],m.range[1],B))}),B.push(Xt("}")),B},BreakStatement:function(m,y){return m.label?"break "+m.label.name+this.semicolon(y):"break"+this.semicolon(y)},ContinueStatement:function(m,y){return m.label?"continue "+m.label.name+this.semicolon(y):"continue"+this.semicolon(y)},ClassBody:function(m,y){var C=["{",E],M=this;return Rt(function(B){var V,O;for(V=0,O=m.body.length;V<O;++V)C.push(B),C.push(M.generateExpression(m.body[V],i.Sequence,Y)),V+1<O&&C.push(E)}),Tt(Mt(C).toString())||C.push(E),C.push(l),C.push("}"),C},ClassDeclaration:function(m,y){var C,M;return C=["class"],m.id&&(C=lt(C,this.generateExpression(m.id,i.Sequence,Y))),m.superClass&&(M=lt("extends",this.generateExpression(m.superClass,i.Unary,Y)),C=lt(C,M)),C.push(F),C.push(this.generateStatement(m.body,Ut)),C},DirectiveStatement:function(m,y){return k.raw&&m.raw?m.raw+this.semicolon(y):ln(m.directive)+this.semicolon(y)},DoWhileStatement:function(m,y){var C=lt("do",this.maybeBlock(m.body,wt));return C=this.maybeBlockSuffix(m.body,C),lt(C,["while"+F+"(",this.generateExpression(m.test,i.Sequence,Y),")"+this.semicolon(y)])},CatchClause:function(m,y){var C,M=this;return Rt(function(){var B;m.param?(C=["catch"+F+"(",M.generateExpression(m.param,i.Sequence,Y),")"],m.guard&&(B=M.generateExpression(m.guard,i.Sequence,Y),C.splice(2,0," if ",B))):C=["catch"]}),C.push(this.maybeBlock(m.body,wt)),C},DebuggerStatement:function(m,y){return"debugger"+this.semicolon(y)},EmptyStatement:function(m,y){return";"},ExportDefaultDeclaration:function(m,y){var C=["export"],M;return M=y&ht?Ut:wt,C=lt(C,"default"),X(m.declaration)?C=lt(C,this.generateStatement(m.declaration,M)):C=lt(C,this.generateExpression(m.declaration,i.Assignment,Y)+this.semicolon(y)),C},ExportNamedDeclaration:function(m,y){var C=["export"],M,B=this;return M=y&ht?Ut:wt,m.declaration?lt(C,this.generateStatement(m.declaration,M)):(m.specifiers&&(m.specifiers.length===0?C=lt(C,"{"+F+"}"):m.specifiers[0].type===r.ExportBatchSpecifier?C=lt(C,this.generateExpression(m.specifiers[0],i.Sequence,Y)):(C=lt(C,"{"),Rt(function(V){var O,q;for(C.push(E),O=0,q=m.specifiers.length;O<q;++O)C.push(V),C.push(B.generateExpression(m.specifiers[O],i.Sequence,Y)),O+1<q&&C.push(","+E)}),Tt(Mt(C).toString())||C.push(E),C.push(l+"}")),m.source?C=lt(C,["from"+F,this.generateExpression(m.source,i.Sequence,Y),this.semicolon(y)]):C.push(this.semicolon(y))),C)},ExportAllDeclaration:function(m,y){return["export"+F,"*"+F,"from"+F,this.generateExpression(m.source,i.Sequence,Y),this.semicolon(y)]},ExpressionStatement:function(m,y){var C,M;function B(q){var Q;return q.slice(0,5)!=="class"?!1:(Q=q.charCodeAt(5),Q===123||c.code.isWhiteSpace(Q)||c.code.isLineTerminator(Q))}function V(q){var Q;return q.slice(0,8)!=="function"?!1:(Q=q.charCodeAt(8),Q===40||c.code.isWhiteSpace(Q)||Q===42||c.code.isLineTerminator(Q))}function O(q){var Q,yt,Ht;if(q.slice(0,5)!=="async"||!c.code.isWhiteSpace(q.charCodeAt(5)))return!1;for(yt=6,Ht=q.length;yt<Ht&&c.code.isWhiteSpace(q.charCodeAt(yt));++yt);return yt===Ht||q.slice(yt,yt+8)!=="function"?!1:(Q=q.charCodeAt(yt+8),Q===40||c.code.isWhiteSpace(Q)||Q===42||c.code.isLineTerminator(Q))}return C=[this.generateExpression(m.expression,i.Sequence,Y)],M=Mt(C).toString(),M.charCodeAt(0)===123||B(M)||V(M)||O(M)||K&&y&dt&&m.expression.type===r.Literal&&typeof m.expression.value=="string"?C=["(",C,")"+this.semicolon(y)]:C.push(this.semicolon(y)),C},ImportDeclaration:function(m,y){var C,M,B=this;return m.specifiers.length===0?["import",F,this.generateExpression(m.source,i.Sequence,Y),this.semicolon(y)]:(C=["import"],M=0,m.specifiers[M].type===r.ImportDefaultSpecifier&&(C=lt(C,[this.generateExpression(m.specifiers[M],i.Sequence,Y)]),++M),m.specifiers[M]&&(M!==0&&C.push(","),m.specifiers[M].type===r.ImportNamespaceSpecifier?C=lt(C,[F,this.generateExpression(m.specifiers[M],i.Sequence,Y)]):(C.push(F+"{"),m.specifiers.length-M===1?(C.push(F),C.push(this.generateExpression(m.specifiers[M],i.Sequence,Y)),C.push(F+"}"+F)):(Rt(function(V){var O,q;for(C.push(E),O=M,q=m.specifiers.length;O<q;++O)C.push(V),C.push(B.generateExpression(m.specifiers[O],i.Sequence,Y)),O+1<q&&C.push(","+E)}),Tt(Mt(C).toString())||C.push(E),C.push(l+"}"+F)))),C=lt(C,["from"+F,this.generateExpression(m.source,i.Sequence,Y),this.semicolon(y)]),C)},VariableDeclarator:function(m,y){var C=y&Z?Y:me;return m.init?[this.generateExpression(m.id,i.Assignment,C),F,"=",F,this.generateExpression(m.init,i.Assignment,C)]:this.generatePattern(m.id,i.Assignment,C)},VariableDeclaration:function(m,y){var C,M,B,V,O,q=this;C=[m.kind],O=y&Z?wt:Dt;function Q(){for(V=m.declarations[0],k.comment&&V.leadingComments?(C.push(`
`),C.push(Xt(q.generateStatement(V,O)))):(C.push(Ot()),C.push(q.generateStatement(V,O))),M=1,B=m.declarations.length;M<B;++M)V=m.declarations[M],k.comment&&V.leadingComments?(C.push(","+E),C.push(Xt(q.generateStatement(V,O)))):(C.push(","+F),C.push(q.generateStatement(V,O)))}return m.declarations.length>1?Rt(Q):Q(),C.push(this.semicolon(y)),C},ThrowStatement:function(m,y){return[lt("throw",this.generateExpression(m.argument,i.Sequence,Y)),this.semicolon(y)]},TryStatement:function(m,y){var C,M,B,V;if(C=["try",this.maybeBlock(m.block,wt)],C=this.maybeBlockSuffix(m.block,C),m.handlers)for(M=0,B=m.handlers.length;M<B;++M)C=lt(C,this.generateStatement(m.handlers[M],wt)),(m.finalizer||M+1!==B)&&(C=this.maybeBlockSuffix(m.handlers[M].body,C));else{for(V=m.guardedHandlers||[],M=0,B=V.length;M<B;++M)C=lt(C,this.generateStatement(V[M],wt)),(m.finalizer||M+1!==B)&&(C=this.maybeBlockSuffix(V[M].body,C));if(m.handler)if(Array.isArray(m.handler))for(M=0,B=m.handler.length;M<B;++M)C=lt(C,this.generateStatement(m.handler[M],wt)),(m.finalizer||M+1!==B)&&(C=this.maybeBlockSuffix(m.handler[M].body,C));else C=lt(C,this.generateStatement(m.handler,wt)),m.finalizer&&(C=this.maybeBlockSuffix(m.handler.body,C))}return m.finalizer&&(C=lt(C,["finally",this.maybeBlock(m.finalizer,wt)])),C},SwitchStatement:function(m,y){var C,M,B,V,O,q=this;if(Rt(function(){C=["switch"+F+"(",q.generateExpression(m.discriminant,i.Sequence,Y),")"+F+"{"+E]}),m.cases)for(O=wt,B=0,V=m.cases.length;B<V;++B)B===V-1&&(O|=ht),M=Xt(this.generateStatement(m.cases[B],O)),C.push(M),Tt(Mt(M).toString())||C.push(E);return C.push(Xt("}")),C},SwitchCase:function(m,y){var C,M,B,V,O,q=this;return Rt(function(){for(m.test?C=[lt("case",q.generateExpression(m.test,i.Sequence,Y)),":"]:C=["default:"],B=0,V=m.consequent.length,V&&m.consequent[0].type===r.BlockStatement&&(M=q.maybeBlock(m.consequent[0],wt),C.push(M),B=1),B!==V&&!Tt(Mt(C).toString())&&C.push(E),O=wt;B<V;++B)B===V-1&&y&ht&&(O|=ht),M=Xt(q.generateStatement(m.consequent[B],O)),C.push(M),B+1!==V&&!Tt(Mt(M).toString())&&C.push(E)}),C},IfStatement:function(m,y){var C,M,B,V=this;return Rt(function(){C=["if"+F+"(",V.generateExpression(m.test,i.Sequence,Y),")"]}),B=y&ht,M=wt,B&&(M|=ht),m.alternate?(C.push(this.maybeBlock(m.consequent,wt)),C=this.maybeBlockSuffix(m.consequent,C),m.alternate.type===r.IfStatement?C=lt(C,["else ",this.generateStatement(m.alternate,M)]):C=lt(C,lt("else",this.maybeBlock(m.alternate,M)))):C.push(this.maybeBlock(m.consequent,M)),C},ForStatement:function(m,y){var C,M=this;return Rt(function(){C=["for"+F+"("],m.init?m.init.type===r.VariableDeclaration?C.push(M.generateStatement(m.init,Dt)):(C.push(M.generateExpression(m.init,i.Sequence,me)),C.push(";")):C.push(";"),m.test&&(C.push(F),C.push(M.generateExpression(m.test,i.Sequence,Y))),C.push(";"),m.update&&(C.push(F),C.push(M.generateExpression(m.update,i.Sequence,Y))),C.push(")")}),C.push(this.maybeBlock(m.body,y&ht?Ut:wt)),C},ForInStatement:function(m,y){return this.generateIterationForStatement("in",m,y&ht?Ut:wt)},ForOfStatement:function(m,y){return this.generateIterationForStatement("of",m,y&ht?Ut:wt)},LabeledStatement:function(m,y){return[m.label.name+":",this.maybeBlock(m.body,y&ht?Ut:wt)]},Program:function(m,y){var C,M,B,V,O;for(V=m.body.length,C=[L&&V>0?`
`:""],O=Zt,B=0;B<V;++B)!L&&B===V-1&&(O|=ht),G&&(B===0&&(m.body[0].leadingComments||de(m.range[0],m.body[B].range[0],C)),B>0&&!m.body[B-1].trailingComments&&!m.body[B].leadingComments&&de(m.body[B-1].range[1],m.body[B].range[0],C)),M=Xt(this.generateStatement(m.body[B],O)),C.push(M),B+1<V&&!Tt(Mt(M).toString())&&(G&&m.body[B+1].leadingComments||C.push(E)),G&&B===V-1&&(m.body[B].trailingComments||de(m.body[B].range[1],m.range[1],C));return C},FunctionDeclaration:function(m,y){return[Fe(m,!0),"function",fe(m)||Ot(),m.id?Gt(m.id):"",this.generateFunctionBody(m)]},ReturnStatement:function(m,y){return m.argument?[lt("return",this.generateExpression(m.argument,i.Sequence,Y)),this.semicolon(y)]:["return"+this.semicolon(y)]},WhileStatement:function(m,y){var C,M=this;return Rt(function(){C=["while"+F+"(",M.generateExpression(m.test,i.Sequence,Y),")"]}),C.push(this.maybeBlock(m.body,y&ht?Ut:wt)),C},WithStatement:function(m,y){var C,M=this;return Rt(function(){C=["with"+F+"(",M.generateExpression(m.object,i.Sequence,Y),")"]}),C.push(this.maybeBlock(m.body,y&ht?Ut:wt)),C}},Fn(pt.prototype,pt.Statement),pt.Expression={SequenceExpression:function(m,y,C){var M,B,V;for(i.Sequence<y&&(C|=Z),M=[],B=0,V=m.expressions.length;B<V;++B)M.push(this.generateExpression(m.expressions[B],i.Assignment,C)),B+1<V&&M.push(","+F);return Vt(M,i.Sequence,y)},AssignmentExpression:function(m,y,C){return this.generateAssignment(m.left,m.right,m.operator,y,C)},ArrowFunctionExpression:function(m,y,C){return Vt(this.generateFunctionBody(m),i.ArrowFunction,y)},ConditionalExpression:function(m,y,C){return i.Conditional<y&&(C|=Z),Vt([this.generateExpression(m.test,i.Coalesce,C),F+"?"+F,this.generateExpression(m.consequent,i.Assignment,C),F+":"+F,this.generateExpression(m.alternate,i.Assignment,C)],i.Conditional,y)},LogicalExpression:function(m,y,C){return m.operator==="??"&&(C|=xt),this.BinaryExpression(m,y,C)},BinaryExpression:function(m,y,C){var M,B,V,O,q,Q;return O=u[m.operator],B=m.operator==="**"?i.Postfix:O,V=m.operator==="**"?O:O+1,O<y&&(C|=Z),q=this.generateExpression(m.left,B,C),Q=q.toString(),Q.charCodeAt(Q.length-1)===47&&c.code.isIdentifierPartES5(m.operator.charCodeAt(0))?M=[q,Ot(),m.operator]:M=lt(q,m.operator),q=this.generateExpression(m.right,V,C),m.operator==="/"&&q.toString().charAt(0)==="/"||m.operator.slice(-1)==="<"&&q.toString().slice(0,3)==="!--"?(M.push(Ot()),M.push(q)):M=lt(M,q),m.operator==="in"&&!(C&Z)?["(",M,")"]:(m.operator==="||"||m.operator==="&&")&&C&xt?["(",M,")"]:Vt(M,O,y)},CallExpression:function(m,y,C){var M,B,V;for(M=[this.generateExpression(m.callee,i.Call,te)],m.optional&&M.push("?."),M.push("("),B=0,V=m.arguments.length;B<V;++B)M.push(this.generateExpression(m.arguments[B],i.Assignment,Y)),B+1<V&&M.push(","+F);return M.push(")"),C&U?Vt(M,i.Call,y):["(",M,")"]},ChainExpression:function(m,y,C){i.OptionalChaining<y&&(C|=U);var M=this.generateExpression(m.expression,i.OptionalChaining,C);return Vt(M,i.OptionalChaining,y)},NewExpression:function(m,y,C){var M,B,V,O,q;if(B=m.arguments.length,q=C&gt&&!S&&B===0?ve:ee,M=lt("new",this.generateExpression(m.callee,i.New,q)),!(C&gt)||S||B>0){for(M.push("("),V=0,O=B;V<O;++V)M.push(this.generateExpression(m.arguments[V],i.Assignment,Y)),V+1<O&&M.push(","+F);M.push(")")}return Vt(M,i.New,y)},MemberExpression:function(m,y,C){var M,B;return M=[this.generateExpression(m.object,i.Call,C&U?te:ee)],m.computed?(m.optional&&M.push("?."),M.push("["),M.push(this.generateExpression(m.property,i.Sequence,C&U?Y:ve)),M.push("]")):(!m.optional&&m.object.type===r.Literal&&typeof m.object.value=="number"&&(B=Mt(M).toString(),B.indexOf(".")<0&&!/[eExX]/.test(B)&&c.code.isDecimalDigit(B.charCodeAt(B.length-1))&&!(B.length>=2&&B.charCodeAt(0)===48)&&M.push(" ")),M.push(m.optional?"?.":"."),M.push(Gt(m.property))),Vt(M,i.Member,y)},MetaProperty:function(m,y,C){var M;return M=[],M.push(typeof m.meta=="string"?m.meta:Gt(m.meta)),M.push("."),M.push(typeof m.property=="string"?m.property:Gt(m.property)),Vt(M,i.Member,y)},UnaryExpression:function(m,y,C){var M,B,V,O,q;return B=this.generateExpression(m.argument,i.Unary,Y),F===""?M=lt(m.operator,B):(M=[m.operator],m.operator.length>2?M=lt(M,B):(O=Mt(M).toString(),q=O.charCodeAt(O.length-1),V=B.toString().charCodeAt(0),((q===43||q===45)&&q===V||c.code.isIdentifierPartES5(q)&&c.code.isIdentifierPartES5(V))&&M.push(Ot()),M.push(B))),Vt(M,i.Unary,y)},YieldExpression:function(m,y,C){var M;return m.delegate?M="yield*":M="yield",m.argument&&(M=lt(M,this.generateExpression(m.argument,i.Yield,Y))),Vt(M,i.Yield,y)},AwaitExpression:function(m,y,C){var M=lt(m.all?"await*":"await",this.generateExpression(m.argument,i.Await,Y));return Vt(M,i.Await,y)},UpdateExpression:function(m,y,C){return m.prefix?Vt([m.operator,this.generateExpression(m.argument,i.Unary,Y)],i.Unary,y):Vt([this.generateExpression(m.argument,i.Postfix,Y),m.operator],i.Postfix,y)},FunctionExpression:function(m,y,C){var M=[Fe(m,!0),"function"];return m.id?(M.push(fe(m)||Ot()),M.push(Gt(m.id))):M.push(fe(m)||F),M.push(this.generateFunctionBody(m)),M},ArrayPattern:function(m,y,C){return this.ArrayExpression(m,y,C,!0)},ArrayExpression:function(m,y,C,M){var B,V,O=this;return m.elements.length?(V=M?!1:m.elements.length>1,B=["[",V?E:""],Rt(function(q){var Q,yt;for(Q=0,yt=m.elements.length;Q<yt;++Q)m.elements[Q]?(B.push(V?q:""),B.push(O.generateExpression(m.elements[Q],i.Assignment,Y))):(V&&B.push(q),Q+1===yt&&B.push(",")),Q+1<yt&&B.push(","+(V?E:F))}),V&&!Tt(Mt(B).toString())&&B.push(E),B.push(V?l:""),B.push("]"),B):"[]"},RestElement:function(m,y,C){return"..."+this.generatePattern(m.argument)},ClassExpression:function(m,y,C){var M,B;return M=["class"],m.id&&(M=lt(M,this.generateExpression(m.id,i.Sequence,Y))),m.superClass&&(B=lt("extends",this.generateExpression(m.superClass,i.Unary,Y)),M=lt(M,B)),M.push(F),M.push(this.generateStatement(m.body,Ut)),M},MethodDefinition:function(m,y,C){var M,B;return m.static?M=["static"+F]:M=[],m.kind==="get"||m.kind==="set"?B=[lt(m.kind,this.generatePropertyKey(m.key,m.computed)),this.generateFunctionBody(m.value)]:B=[Lr(m),this.generatePropertyKey(m.key,m.computed),this.generateFunctionBody(m.value)],lt(M,B)},Property:function(m,y,C){return m.kind==="get"||m.kind==="set"?[m.kind,Ot(),this.generatePropertyKey(m.key,m.computed),this.generateFunctionBody(m.value)]:m.shorthand?m.value.type==="AssignmentPattern"?this.AssignmentPattern(m.value,i.Sequence,Y):this.generatePropertyKey(m.key,m.computed):m.method?[Lr(m),this.generatePropertyKey(m.key,m.computed),this.generateFunctionBody(m.value)]:[this.generatePropertyKey(m.key,m.computed),":"+F,this.generateExpression(m.value,i.Assignment,Y)]},ObjectExpression:function(m,y,C){var M,B,V,O=this;return m.properties.length?(M=m.properties.length>1,Rt(function(){V=O.generateExpression(m.properties[0],i.Sequence,Y)}),!M&&!En(Mt(V).toString())?["{",F,V,F,"}"]:(Rt(function(q){var Q,yt;if(B=["{",E,q,V],M)for(B.push(","+E),Q=1,yt=m.properties.length;Q<yt;++Q)B.push(q),B.push(O.generateExpression(m.properties[Q],i.Sequence,Y)),Q+1<yt&&B.push(","+E)}),Tt(Mt(B).toString())||B.push(E),B.push(l),B.push("}"),B)):"{}"},AssignmentPattern:function(m,y,C){return this.generateAssignment(m.left,m.right,"=",y,C)},ObjectPattern:function(m,y,C){var M,B,V,O,q,Q=this;if(!m.properties.length)return"{}";if(O=!1,m.properties.length===1)q=m.properties[0],q.type===r.Property&&q.value.type!==r.Identifier&&(O=!0);else for(B=0,V=m.properties.length;B<V;++B)if(q=m.properties[B],q.type===r.Property&&!q.shorthand){O=!0;break}return M=["{",O?E:""],Rt(function(yt){var Ht,pn;for(Ht=0,pn=m.properties.length;Ht<pn;++Ht)M.push(O?yt:""),M.push(Q.generateExpression(m.properties[Ht],i.Sequence,Y)),Ht+1<pn&&M.push(","+(O?E:F))}),O&&!Tt(Mt(M).toString())&&M.push(E),M.push(O?l:""),M.push("}"),M},ThisExpression:function(m,y,C){return"this"},Super:function(m,y,C){return"super"},Identifier:function(m,y,C){return Gt(m)},ImportDefaultSpecifier:function(m,y,C){return Gt(m.id||m.local)},ImportNamespaceSpecifier:function(m,y,C){var M=["*"],B=m.id||m.local;return B&&M.push(F+"as"+Ot()+Gt(B)),M},ImportSpecifier:function(m,y,C){var M=m.imported,B=[M.name],V=m.local;return V&&V.name!==M.name&&B.push(Ot()+"as"+Ot()+Gt(V)),B},ExportSpecifier:function(m,y,C){var M=m.local,B=[M.name],V=m.exported;return V&&V.name!==M.name&&B.push(Ot()+"as"+Ot()+Gt(V)),B},Literal:function(m,y,C){var M;if(m.hasOwnProperty("raw")&&x&&k.raw)try{if(M=x(m.raw).body[0].expression,M.type===r.Literal&&M.value===m.value)return m.raw}catch{}return m.regex?"/"+m.regex.pattern+"/"+m.regex.flags:typeof m.value=="bigint"?m.value.toString()+"n":m.bigint?m.bigint+"n":m.value===null?"null":typeof m.value=="string"?ze(m.value):typeof m.value=="number"?Ge(m.value):typeof m.value=="boolean"?m.value?"true":"false":an(m.value)},GeneratorExpression:function(m,y,C){return this.ComprehensionExpression(m,y,C)},ComprehensionExpression:function(m,y,C){var M,B,V,O,q=this;return M=m.type===r.GeneratorExpression?["("]:["["],k.moz.comprehensionExpressionStartsWithAssignment&&(O=this.generateExpression(m.body,i.Assignment,Y),M.push(O)),m.blocks&&Rt(function(){for(B=0,V=m.blocks.length;B<V;++B)O=q.generateExpression(m.blocks[B],i.Sequence,Y),B>0||k.moz.comprehensionExpressionStartsWithAssignment?M=lt(M,O):M.push(O)}),m.filter&&(M=lt(M,"if"+F),O=this.generateExpression(m.filter,i.Sequence,Y),M=lt(M,["(",O,")"])),k.moz.comprehensionExpressionStartsWithAssignment||(O=this.generateExpression(m.body,i.Assignment,Y),M=lt(M,O)),M.push(m.type===r.GeneratorExpression?")":"]"),M},ComprehensionBlock:function(m,y,C){var M;return m.left.type===r.VariableDeclaration?M=[m.left.kind,Ot(),this.generateStatement(m.left.declarations[0],Dt)]:M=this.generateExpression(m.left,i.Call,Y),M=lt(M,m.of?"of":"in"),M=lt(M,this.generateExpression(m.right,i.Sequence,Y)),["for"+F+"(",M,")"]},SpreadElement:function(m,y,C){return["...",this.generateExpression(m.argument,i.Assignment,Y)]},TaggedTemplateExpression:function(m,y,C){var M=te;C&U||(M=ee);var B=[this.generateExpression(m.tag,i.Call,M),this.generateExpression(m.quasi,i.Primary,ae)];return Vt(B,i.TaggedTemplate,y)},TemplateElement:function(m,y,C){return m.value.raw},TemplateLiteral:function(m,y,C){var M,B,V;for(M=["`"],B=0,V=m.quasis.length;B<V;++B)M.push(this.generateExpression(m.quasis[B],i.Primary,Y)),B+1<V&&(M.push("${"+F),M.push(this.generateExpression(m.expressions[B],i.Sequence,Y)),M.push(F+"}"));return M.push("`"),M},ModuleSpecifier:function(m,y,C){return this.Literal(m,y,C)},ImportExpression:function(m,y,C){return Vt(["import(",this.generateExpression(m.source,i.Assignment,Y),")"],i.Call,y)}},Fn(pt.prototype,pt.Expression),pt.prototype.generateExpression=function(m,y,C){var M,B;return B=m.type||r.Property,k.verbatim&&m.hasOwnProperty(k.verbatim)?sr(m,y):(M=this[B](m,y,C),k.comment&&(M=hn(m,M)),Mt(M,m))},pt.prototype.generateStatement=function(m,y){var C,M;return C=this[m.type](m,y),k.comment&&(C=hn(m,C)),M=Mt(C).toString(),m.type===r.Program&&!L&&E===""&&M.charAt(M.length-1)===`
`&&(C=R?Mt(C).replaceRight(/\s+$/,""):M.replace(/\s+$/,"")),Mt(C,m)};function fi(m){var y;if(y=new pt,X(m))return y.generateStatement(m,wt);if(J(m))return y.generateExpression(m,i.Sequence,Y);throw new Error("Unknown node type: "+m.type)}function Ss(m,y){var C=Me(),M,B;return y!=null?(typeof y.indent=="string"&&(C.format.indent.style=y.indent),typeof y.base=="number"&&(C.format.indent.base=y.base),y=Ee(C,y),p=y.format.indent.style,typeof y.base=="string"?l=y.base:l=Nt(p,y.format.indent.base)):(y=C,p=y.format.indent.style,l=Nt(p,y.format.indent.base)),d=y.format.json,f=y.format.renumber,g=d?!1:y.format.hexadecimal,A=d?"double":y.format.quotes,P=y.format.escapeless,E=y.format.newline,F=y.format.space,y.format.compact&&(E=F=p=l=""),S=y.format.parentheses,N=y.format.semicolons,L=y.format.safeConcatenation,K=y.directive,x=d?null:y.parse,R=y.sourceMap,T=y.sourceCode,G=y.format.preserveBlankLines&&T!==null,k=y,R&&(t.browser?o=qr.sourceMap.SourceNode:o=vD().SourceNode),M=fi(m),R?(B=M.toStringWithSourceMap({file:y.file,sourceRoot:y.sourceMapRoot}),y.sourceContent&&B.map.setSourceContent(y.sourceMap,y.sourceContent),y.sourceMapWithCode?B:B.map.toString()):(B={code:M.toString(),map:null},y.sourceMapWithCode?B:B.code)}H={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},W=Me().format,t.version=OD.version,t.generate=Ss,t.attachComments=a.attachComments,t.Precedence=Ee({},i),t.browser=!1,t.FORMAT_MINIFY=H,t.FORMAT_DEFAULTS=W})()})(bf);const GD=Mf(bf);class zD{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:r=>this.replacement=r}}replace(r,i,u,o){r&&i&&(u!=null?r[i][u]=o:r[i]=o)}remove(r,i,u){r&&i&&(u!=null?r[i].splice(u,1):delete r[i])}}class WD extends zD{constructor(r,i){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:u=>this.replacement=u},this.enter=r,this.leave=i}visit(r,i,u,o){if(r){if(this.enter){const c=this.should_skip,l=this.should_remove,p=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,r,i,u,o),this.replacement&&(r=this.replacement,this.replace(i,u,o,r)),this.should_remove&&this.remove(i,u,o);const d=this.should_skip,f=this.should_remove;if(this.should_skip=c,this.should_remove=l,this.replacement=p,d)return r;if(f)return null}let a;for(a in r){const c=r[a];if(c&&typeof c=="object")if(Array.isArray(c)){const l=c;for(let p=0;p<l.length;p+=1){const d=l[p];Qa(d)&&(this.visit(d,r,a,p)||p--)}}else Qa(c)&&this.visit(c,r,a,null)}if(this.leave){const c=this.replacement,l=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,r,i,u,o),this.replacement&&(r=this.replacement,this.replace(i,u,o,r)),this.should_remove&&this.remove(i,u,o);const p=this.should_remove;if(this.replacement=c,this.should_remove=l,p)return null}}return r}}function Qa(t){return t!==null&&typeof t=="object"&&"type"in t&&typeof t.type=="string"}function qD(t,{enter:r,leave:i}){return new WD(r,i).visit(t,null)}let XD=[];function ZD(t,r={}){const{wrapAsync:i=!1,addReturn:u=!0,emitMiniLocations:o=!0,emitWidgets:a=!0}=r;let c=dD(t,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),l=[];const p=(A,P)=>{const E=yo(`"${A}"`,P.start,t);l=l.concat(E)};let d=[];qD(c,{enter(A,P){if(i7(A)){const E=A.quasi.quasis[0].value.raw,F=A.quasi.start+1;if(o){const S=s7(E,F);l=l.concat(S)}return this.skip(),this.replace(u7(E,F))}if(KD(A,P)){const{quasis:E}=A,{raw:F}=E[0].value;return this.skip(),o&&p(F,A),this.replace(tc(F,A))}if(HD(A)){const{value:E}=A;return this.skip(),o&&p(E,A),this.replace(tc(E,A))}if(YD(A))return a&&d.push({from:A.arguments[0].start,to:A.arguments[0].end,value:A.arguments[0].raw,min:A.arguments[1]?.value??0,max:A.arguments[2]?.value??1,step:A.arguments[3]?.value,type:"slider"}),this.replace($D(A));if(UD(A)){const E=A.callee.property.name,F=d.filter(N=>N.type===E).length,S={to:A.end,index:F,type:E};return a&&d.push(S),this.replace(QD(A,S))}if(t7(A,P))return this.replace(e7(A));if(n7(A))return this.replace(r7(A))},leave(A,P,E,F){}});const{body:f}=c;if(!f?.[f.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(u){const{expression:A}=f[f.length-1];f[f.length-1]={type:"ReturnStatement",argument:A}}let g=GD.generate(c);return i&&(g=`(async ()=>{${g}})()`),o?{output:g,miniLocations:l,widgets:d}:{output:g}}function HD(t,r,i){return t.type!=="Literal"?!1:t.raw[0]==='"'}function KD(t,r){return t.type==="TemplateLiteral"&&r.type!=="TaggedTemplateExpression"}function tc(t,r){const{start:i}=r;return{type:"CallExpression",callee:{type:"Identifier",name:"m"},arguments:[{type:"Literal",value:t},{type:"Literal",value:i}],optional:!1}}function YD(t){return t.type==="CallExpression"&&t.callee.name==="slider"}function UD(t){return t.type==="CallExpression"&&XD.includes(t.callee.property?.name)}function $D(t){const r="slider_"+t.arguments[0].start;return t.arguments.unshift({type:"Literal",value:r,raw:r}),t.callee.name="sliderWithID",t}function JD(t){return`widget_${t.type}_${t.index}`}function QD(t,r){const i=JD(r);return t.arguments.unshift({type:"Literal",value:i,raw:i}),t}function t7(t,r){return t.type==="CallExpression"&&t.callee.name==="samples"&&r.type!=="AwaitExpression"}function e7(t){return{type:"AwaitExpression",argument:t}}function n7(t){return t.type==="LabeledStatement"}function r7(t){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:t.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:t.label.name,raw:`'${t.label.name}'`}]}}}function i7(t){return t.type==="TaggedTemplateExpression"&&t.tag.name==="tidal"}function s7(t,r){return t.split("").reduce((i,u,o)=>(u!=='"'||(!i.length||i[i.length-1].length>1?i.push([o+1]):i[i.length-1].push(o)),i),[]).map(([i,u])=>{const o=t.slice(i,u);return yo(`"${o}"`,r+i-1)}).flat()}function u7(t,r){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:t},{type:"Literal",value:r}],optional:!1}}function ci(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function li(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var xf=[0,2,4,-1,1,3,5],Sf=xf.map(t=>Math.floor(t*7/12));function gs(t){const{step:r,alt:i,oct:u,dir:o=1}=t,a=xf[r]+7*i;if(u===void 0)return[o*a];const c=u-Sf[r]-4*i;return[o*a,o*c]}var o7=[3,0,4,1,5,2,6];function Io(t){const[r,i,u]=t,o=o7[a7(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:o,alt:a,dir:u};const c=i+4*a+Sf[o];return{step:o,alt:a,oct:c,dir:u}}function a7(t){const r=(t+1)%7;return r<0?7+r:r}var ec=(t,r)=>Array(Math.abs(r)+1).join(t),Mu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),c7="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",l7="(AA|A|P|M|m|d|dd)([-+]?\\d+)",h7=new RegExp("^"+c7+"|"+l7+"$");function p7(t){const r=h7.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var nc={};function Hi(t){return typeof t=="string"?nc[t]||(nc[t]=m7(t)):li(t)?Hi(g7(t)):ci(t)?Hi(t.name):Mu}var rc=[0,2,4,5,7,9,11],_f="PMMPPMM";function m7(t){const r=p7(t);if(r[0]==="")return Mu;const i=+r[0],u=r[1],o=(Math.abs(i)-1)%7,a=_f[o];if(a==="M"&&u==="P")return Mu;const c=a==="M"?"majorable":"perfectable",l=""+i+u,p=i<0?-1:1,d=i===8||i===-8?i:p*(o+1),f=f7(c,u),g=Math.floor((Math.abs(i)-1)/7),A=p*(rc[o]+f+12*g),P=(p*(rc[o]+f)%12+12)%12,E=gs({step:o,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:u,step:o,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function d7(t,r){const[i,u=0]=t,o=i*7+u*12<0,a=r||o?[-i,-u,-1]:[i,u,1];return Hi(Io(a))}function f7(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function g7(t){const{step:r,alt:i,oct:u=0,dir:o}=t;if(!o)return"";const a=r+1+7*u,c=a===0?r+1:a,l=o<0?"-":"",p=_f[r]==="M"?"majorable":"perfectable";return l+c+A7(p,i)}function A7(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?ec("A",r):ec("d",t==="perfectable"?r:r+1)}var ic=(t,r)=>Array(Math.abs(r)+1).join(t),kf=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),sc=new Map,C7=t=>"CDEFGAB".charAt(t),As=t=>t<0?ic("b",-t):ic("#",t),xo=t=>t[0]==="b"?-t.length:t.length;function Bt(t){const r=JSON.stringify(t),i=sc.get(r);if(i)return i;const u=typeof t=="string"?P7(t):li(t)?Bt(D7(t)):ci(t)?Bt(t.name):kf;return sc.set(r,u),u}var y7=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function So(t){const r=y7.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function M7(t){return Bt(Io(t))}var b7=(t,r)=>(t%r+r)%r,Js=[0,2,4,5,7,9,11];function P7(t){const r=So(t);if(r[0]===""||r[3]!=="")return kf;const i=r[0],u=r[1],o=r[2],a=(i.charCodeAt(0)+3)%7,c=xo(u),l=o.length?+o:void 0,p=gs({step:a,alt:c,oct:l}),d=i+u+o,f=i+u,g=(Js[a]+c+120)%12,A=l===void 0?b7(Js[a]+c,12)-12*99:Js[a]+c+12*(l+1),P=A>=0&&A<=127?A:null,E=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:u,alt:c,chroma:g,coord:p,freq:E,height:A,letter:i,midi:P,name:d,oct:l,pc:f,step:a}}function D7(t){const{step:r,alt:i,oct:u}=t,o=C7(r);if(!o)return"";const a=o+As(i);return u||u===0?a+u:a}function he(t,r){const i=Bt(t),u=Array.isArray(r)?r:Hi(r).coord;if(i.empty||!u||u.length<2)return"";const o=i.coord,a=o.length===1?[o[0]+u[0]]:[o[0]+u[0],o[1]+u[1]];return M7(a).name}function Nf(t,r){const i=t.length;return u=>{if(!r)return"";const o=u<0?(i- -u%i)%i:u%i,a=Math.floor(u/i),c=he(r,[0,a]);return he(c,t[o])}}function Tf(t,r){const i=Bt(t),u=Bt(r);if(i.empty||u.empty)return"";const o=i.coord,a=u.coord,c=a[0]-o[0],l=o.length===2&&a.length===2?a[1]-o[1]:-Math.floor(c*7/12),p=u.height===i.height&&u.midi!==null&&i.midi!==null&&i.step>u.step;return d7([c,l],p).name}var uc=(t,r)=>Array(r+1).join(t),v7=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function Rf(t){const r=v7.exec(t);return r?[r[1],r[2],r[3]]:["","",""]}function Ki(t){const[r,i,u]=Rf(t);if(i==="")return"";let o=4;for(let c=0;c<u.length;c++)o+=u.charAt(c)===","?-1:1;const a=r[0]==="_"?r.replace(/_/g,"b"):r[0]==="^"?r.replace(/\^/g,"#"):"";return i.charCodeAt(0)>96?i.toUpperCase()+a+(o+1):i+a+o}function Vf(t){const r=Bt(t);if(r.empty||!r.oct&&r.oct!==0)return"";const{letter:i,acc:u,oct:o}=r,a=u[0]==="b"?u.replace(/b/g,"_"):u.replace(/#/g,"^"),c=o>4?i.toLowerCase():i,l=o===5?"":o>4?uc("'",o-5):uc(",",4-o);return a+c+l}function E7(t,r){return Vf(he(Ki(t),r))}function F7(t,r){return Tf(Ki(t),Ki(r))}var w7={abcToScientificNotation:Ki,scientificToAbcNotation:Vf,tokenize:Rf,transpose:E7,distance:F7};function B7(t,r){const i=[];for(;r--;i[r]=r+t);return i}function I7(t,r){const i=[];for(;r--;i[r]=t-r);return i}function x7(t,r){return t<r?B7(t,r-t+1):I7(t,t-r+1)}function S7(t,r){const i=r.length,u=(t%i+i)%i;return r.slice(u,i).concat(r.slice(0,u))}function _7(t){return t.filter(r=>r===0||r)}function Lf(t){return t.map(r=>Bt(r)).filter(r=>!r.empty).sort((r,i)=>r.height-i.height).map(r=>r.name)}function k7(t){return Lf(t).filter((r,i,u)=>i===0||r!==u[i-1])}function N7(t,r=Math.random){let i,u,o=t.length;for(;o;)i=Math.floor(r()*o--),u=t[o],t[o]=t[i],t[i]=u;return t}function jf(t){return t.length===0?[[]]:jf(t.slice(1)).reduce((r,i)=>r.concat(t.map((u,o)=>{const a=i.slice();return a.splice(o,0,t[0]),a})),[])}const T7=Object.freeze(Object.defineProperty({__proto__:null,compact:_7,permutations:jf,range:x7,rotate:S7,shuffle:N7,sortedNoteNames:Lf,sortedUniqNoteNames:k7},Symbol.toStringTag,{value:"Module"}));var oc=(t,r)=>Array(Math.abs(r)+1).join(t),bu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),R7="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",V7="(AA|A|P|M|m|d|dd)([-+]?\\d+)",L7=new RegExp("^"+R7+"|"+V7+"$");function j7(t){const r=L7.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var ac={};function Pr(t){return typeof t=="string"?ac[t]||(ac[t]=O7(t)):li(t)?Pr(z7(t)):ci(t)?Pr(t.name):bu}var cc=[0,2,4,5,7,9,11],Of="PMMPPMM";function O7(t){const r=j7(t);if(r[0]==="")return bu;const i=+r[0],u=r[1],o=(Math.abs(i)-1)%7,a=Of[o];if(a==="M"&&u==="P")return bu;const c=a==="M"?"majorable":"perfectable",l=""+i+u,p=i<0?-1:1,d=i===8||i===-8?i:p*(o+1),f=G7(c,u),g=Math.floor((Math.abs(i)-1)/7),A=p*(cc[o]+f+12*g),P=(p*(cc[o]+f)%12+12)%12,E=gs({step:o,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:u,step:o,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function G7(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function z7(t){const{step:r,alt:i,oct:u=0,dir:o}=t;if(!o)return"";const a=r+1+7*u,c=a===0?r+1:a,l=o<0?"-":"",p=Of[r]==="M"?"majorable":"perfectable";return l+c+W7(p,i)}function W7(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?oc("A",r):oc("d",t==="perfectable"?r:r+1)}function qn(t,r,i){return function(...u){return console.warn(`${t} is deprecated. Use ${r}.`),i.apply(this,u)}}var q7=qn("isNamed","isNamedPitch",ci);function X7(t,r){const i=[];for(;r--;i[r]=r+t);return i}function Z7(t,r){const i=[];for(;r--;i[r]=t-r);return i}function Cs(t,r){return t<r?X7(t,r-t+1):Z7(t,t-r+1)}function _r(t,r){const i=r.length,u=(t%i+i)%i;return r.slice(u,i).concat(r.slice(0,u))}function _o(t){return t.filter(r=>r===0||r)}function H7(t,r=Math.random){let i,u,o=t.length;for(;o;)i=Math.floor(r()*o--),u=t[o],t[o]=t[i],t[i]=u;return t}function Gf(t){return t.length===0?[[]]:Gf(t.slice(1)).reduce((r,i)=>r.concat(t.map((u,o)=>{const a=i.slice();return a.splice(o,0,t[0]),a})),[])}var K7={compact:_o,permutations:Gf,range:Cs,rotate:_r,shuffle:H7},Pn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},ko=t=>Number(t).toString(2).padStart(12,"0"),lc=t=>parseInt(t,2),Y7=/^[01]{12}$/;function No(t){return Y7.test(t)}var U7=t=>typeof t=="number"&&t>=0&&t<=4095,$7=t=>t&&No(t.chroma),hc={[Pn.chroma]:Pn};function Qt(t){const r=No(t)?t:U7(t)?ko(t):Array.isArray(t)?cv(t):$7(t)?t.chroma:Pn.chroma;return hc[r]=hc[r]||av(r)}var J7=qn("Pcset.pcset","Pcset.get",Qt),zf=t=>Qt(t).chroma,Q7=t=>Qt(t).intervals,tv=t=>Qt(t).setNum,ev=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function nv(t){const r=[];for(let i=0;i<12;i++)t.charAt(i)==="1"&&r.push(ev[i]);return r}function rv(t){return Qt(t).intervals.map(r=>he("C",r))}function iv(){return Cs(2048,4095).map(ko)}function To(t,r=!0){const i=Qt(t).chroma.split("");return _o(i.map((u,o)=>{const a=_r(o,i);return r&&a[0]==="0"?null:a.join("")}))}function sv(t,r){return Qt(t).setNum===Qt(r).setNum}function ys(t){const r=Qt(t).setNum;return i=>{const u=Qt(i).setNum;return r&&r!==u&&(u&r)===u}}function Ms(t){const r=Qt(t).setNum;return i=>{const u=Qt(i).setNum;return r&&r!==u&&(u|r)===u}}function Wf(t){const r=Qt(t);return i=>{const u=Bt(i);return r&&!u.empty&&r.chroma.charAt(u.chroma)==="1"}}function uv(t){const r=Wf(t);return i=>i.filter(r)}var qf={get:Qt,chroma:zf,num:tv,intervals:Q7,chromas:iv,isSupersetOf:Ms,isSubsetOf:ys,isNoteIncludedIn:Wf,isEqual:sv,filter:uv,modes:To,notes:rv,pcset:J7};function ov(t){const r=t.split("");return r.map((i,u)=>_r(u,r).join(""))}function av(t){const r=lc(t),i=ov(t).map(lc).filter(a=>a>=2048).sort()[0],u=ko(i),o=nv(t);return{empty:!1,name:"",setNum:r,chroma:t,normalized:u,intervals:o}}function cv(t){if(t.length===0)return Pn.chroma;let r;const i=[0,0,0,0,0,0,0,0,0,0,0,0];for(let u=0;u<t.length;u++)r=Bt(t[u]),r.empty&&(r=Pr(t[u])),r.empty||(i[r.chroma]=1);return i.join("")}var lv=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],hv=lv;({...Pn});var Ro=[],Ti={};function Xf(){return Ro.slice()}function pv(t,r,i){const u=dv(t),o={...Qt(t),name:i||"",quality:u,intervals:t,aliases:r};Ro.push(o),o.name&&(Ti[o.name]=o),Ti[o.setNum]=o,Ti[o.chroma]=o,o.aliases.forEach(a=>mv(o,a))}function mv(t,r){Ti[r]=t}function dv(t){const r=i=>t.indexOf(i)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}hv.forEach(([t,r,i])=>pv(t.split(" "),i.split(" "),r));Ro.sort((t,r)=>t.setNum-r.setNum);var fv=t=>{const r=t.reduce((i,u)=>{const o=Bt(u).chroma;return o!==void 0&&(i[o]=i[o]||Bt(u).name),i},{});return i=>r[i]};function gv(t,r={}){const i=t.map(u=>Bt(u).pc).filter(u=>u);return Bt.length===0?[]:Dv(i,1,r).filter(u=>u.weight).sort((u,o)=>o.weight-u.weight).map(u=>u.name)}var bs={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Ps=t=>r=>!!(r&t),Av=Ps(bs.anyThirds),Cv=Ps(bs.perfectFifth),yv=Ps(bs.anySeventh),Mv=Ps(bs.nonPerfectFifths);function bv(t){const r=parseInt(t.chroma,2);return Av(r)&&Cv(r)&&yv(r)}function Pv(t){const r=parseInt(t,2);return Mv(r)?t:(r|16).toString(2)}function Dv(t,r,i){const u=t[0],o=Bt(u).chroma,a=fv(t),c=To(t,!1),l=[];return c.forEach((p,d)=>{const f=i.assumePerfectFifth&&Pv(p);Xf().filter(g=>i.assumePerfectFifth&&bv(g)?g.chroma===f:g.chroma===p).forEach(g=>{const A=g.aliases[0],P=a(d);d!==o?l.push({weight:.5*r,name:`${P}${A}/${u}`}):l.push({weight:1*r,name:`${P}${A}`})})}),l}function vv(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function Ev(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var Zf=[0,2,4,-1,1,3,5],Hf=Zf.map(t=>Math.floor(t*7/12));function Fv(t){const{step:r,alt:i,oct:u,dir:o=1}=t,a=Zf[r]+7*i;if(u===void 0)return[o*a];const c=u-Hf[r]-4*i;return[o*a,o*c]}var wv=[3,0,4,1,5,2,6];function Bv(t){const[r,i,u]=t,o=wv[Iv(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:o,alt:a,dir:u};const c=i+4*a+Hf[o];return{step:o,alt:a,oct:c,dir:u}}function Iv(t){const r=(t+1)%7;return r<0?7+r:r}function xv(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function Sv(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var Kf=[0,2,4,-1,1,3,5],Yf=Kf.map(t=>Math.floor(t*7/12));function _v(t){const{step:r,alt:i,oct:u,dir:o=1}=t,a=Kf[r]+7*i;if(u===void 0)return[o*a];const c=u-Yf[r]-4*i;return[o*a,o*c]}var kv=[3,0,4,1,5,2,6];function Nv(t){const[r,i,u]=t,o=kv[Tv(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:o,alt:a,dir:u};const c=i+4*a+Yf[o];return{step:o,alt:a,oct:c,dir:u}}function Tv(t){const r=(t+1)%7;return r<0?7+r:r}var pc=(t,r)=>Array(Math.abs(r)+1).join(t),Pu={empty:!0,name:"",acc:""},Rv="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Vv="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Lv=new RegExp("^"+Rv+"|"+Vv+"$");function Vo(t){const r=Lv.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var mc={};function ue(t){return typeof t=="string"?mc[t]||(mc[t]=jv(t)):Sv(t)?ue(Gv(t)):xv(t)?ue(t.name):Pu}var dc=[0,2,4,5,7,9,11],Uf="PMMPPMM";function jv(t){const r=Vo(t);if(r[0]==="")return Pu;const i=+r[0],u=r[1],o=(Math.abs(i)-1)%7,a=Uf[o];if(a==="M"&&u==="P")return Pu;const c=a==="M"?"majorable":"perfectable",l=""+i+u,p=i<0?-1:1,d=i===8||i===-8?i:p*(o+1),f=Ov(c,u),g=Math.floor((Math.abs(i)-1)/7),A=p*(dc[o]+f+12*g),P=(p*(dc[o]+f)%12+12)%12,E=_v({step:o,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:u,step:o,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function kr(t,r){const[i,u=0]=t,o=i*7+u*12<0,a=r||o?[-i,-u,-1]:[i,u,1];return ue(Nv(a))}function Ov(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function Gv(t){const{step:r,alt:i,oct:u=0,dir:o}=t;if(!o)return"";const a=r+1+7*u,c=a===0?r+1:a,l=o<0?"-":"",p=Uf[r]==="M"?"majorable":"perfectable";return l+c+zv(p,i)}function zv(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?pc("A",r):pc("d",t==="perfectable"?r:r+1)}var fc=(t,r)=>Array(Math.abs(r)+1).join(t),$f={empty:!0,name:"",pc:"",acc:""},gc=new Map,Wv=t=>"CDEFGAB".charAt(t),qv=t=>t<0?fc("b",-t):fc("#",t),Xv=t=>t[0]==="b"?-t.length:t.length;function jn(t){const r=JSON.stringify(t),i=gc.get(r);if(i)return i;const u=typeof t=="string"?Yv(t):Ev(t)?jn(Uv(t)):vv(t)?jn(t.name):$f;return gc.set(r,u),u}var Zv=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Jf(t){const r=Zv.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function Hv(t){return jn(Bv(t))}var Kv=(t,r)=>(t%r+r)%r,Qs=[0,2,4,5,7,9,11];function Yv(t){const r=Jf(t);if(r[0]===""||r[3]!=="")return $f;const i=r[0],u=r[1],o=r[2],a=(i.charCodeAt(0)+3)%7,c=Xv(u),l=o.length?+o:void 0,p=Fv({step:a,alt:c,oct:l}),d=i+u+o,f=i+u,g=(Qs[a]+c+120)%12,A=l===void 0?Kv(Qs[a]+c,12)-12*99:Qs[a]+c+12*(l+1),P=A>=0&&A<=127?A:null,E=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:u,alt:c,chroma:g,coord:p,freq:E,height:A,letter:i,midi:P,name:d,oct:l,pc:f,step:a}}function Uv(t){const{step:r,alt:i,oct:u}=t,o=Wv(r);if(!o)return"";const a=o+qv(i);return u||u===0?a+u:a}function Yi(t,r){const i=jn(t),u=Array.isArray(r)?r:ue(r).coord;if(i.empty||!u||u.length<2)return"";const o=i.coord,a=o.length===1?[o[0]+u[0]]:[o[0]+u[0],o[1]+u[1]];return Hv(a).name}function Qf(t,r){const i=t.length;return u=>{if(!r)return"";const o=u<0?(i- -u%i)%i:u%i,a=Math.floor(u/i),c=Yi(r,[0,a]);return Yi(c,t[o])}}function $v(t,r){const i=jn(t),u=jn(r);if(i.empty||u.empty)return"";const o=i.coord,a=u.coord,c=a[0]-o[0],l=o.length===2&&a.length===2?a[1]-o[1]:-Math.floor(c*7/12),p=u.height===i.height&&u.midi!==null&&i.midi!==null&&i.step>u.step;return kr([c,l],p).name}function Jv(t,r,i){return function(...u){return console.warn(`${t} is deprecated. Use ${r}.`),i.apply(this,u)}}var Qv=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],t5=Qv,e5={...Pn,name:"",quality:"Unknown",intervals:[],aliases:[]},Lo=[],Ur={};function n5(t){return Ur[t]||e5}function tg(){return Lo.slice()}function r5(t,r,i){const u=s5(t),o={...Qt(t),name:i||"",quality:u,intervals:t,aliases:r};Lo.push(o),o.name&&(Ur[o.name]=o),Ur[o.setNum]=o,Ur[o.chroma]=o,o.aliases.forEach(a=>i5(o,a))}function i5(t,r){Ur[r]=t}function s5(t){const r=i=>t.indexOf(i)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}t5.forEach(([t,r,i])=>r5(t.split(" "),i.split(" "),r));Lo.sort((t,r)=>t.setNum-r.setNum);var u5=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],o5=u5,a5={...Pn,intervals:[],aliases:[]},Ds=[],$n={};function eg(){return Ds.map(t=>t.name)}function vs(t){return $n[t]||a5}var c5=qn("ScaleDictionary.scaleType","ScaleType.get",vs);function Nr(){return Ds.slice()}var l5=qn("ScaleDictionary.entries","ScaleType.all",Nr);function h5(){return Object.keys($n)}function p5(){Ds=[],$n={}}function ng(t,r,i=[]){const u={...Qt(t),name:r,intervals:t,aliases:i};return Ds.push(u),$n[u.name]=u,$n[u.setNum]=u,$n[u.chroma]=u,u.aliases.forEach(o=>m5(u,o)),u}function m5(t,r){$n[r]=t}o5.forEach(([t,r,...i])=>ng(t.split(" "),r,i));var rg={names:eg,get:vs,all:Nr,add:ng,removeAll:p5,keys:h5,entries:l5,scaleType:c5},Du={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function jo(t){const[r,i,u,o]=Jf(t);return r===""?["",t]:r==="A"&&o==="ug"?["","aug"]:[r+i,u+o]}function ir(t){if(t==="")return Du;if(Array.isArray(t)&&t.length===2)return Ri(t[1],t[0]);{const[r,i]=jo(t),u=Ri(i,r);return u.empty?Ri(t):u}}function Ri(t,r,i){const u=n5(t),o=jn(r||""),a=jn(i||"");if(u.empty||r&&o.empty||i&&a.empty)return Du;const c=$v(o.pc,a.pc),l=u.intervals.indexOf(c)+1;if(!a.empty&&!l)return Du;const p=Array.from(u.intervals);for(let A=1;A<l;A++){const P=p[0][0],E=p[0][1],F=parseInt(P,10)+7;p.push(`${F}${E}`),p.shift()}const d=o.empty?[]:p.map(A=>Yi(o,A));t=u.aliases.indexOf(t)!==-1?t:u.aliases[0];const f=`${o.empty?"":o.pc}${t}${a.empty||l<=1?"":"/"+a.pc}`,g=`${r?o.pc+" ":""}${u.name}${l>1&&i?" over "+a.pc:""}`;return{...u,name:g,symbol:f,type:u.name,root:a.name,intervals:p,rootDegree:l,tonic:o.name,notes:d}}var d5=Jv("Chord.chord","Chord.get",ir);function f5(t,r){const[i,u]=jo(t);return i?Yi(i,r)+u:t}function g5(t){const r=ir(t),i=Ms(r.chroma);return Nr().filter(u=>i(u.chroma)).map(u=>u.name)}function A5(t){const r=ir(t),i=Ms(r.chroma);return tg().filter(u=>i(u.chroma)).map(u=>r.tonic+u.aliases[0])}function C5(t){const r=ir(t),i=ys(r.chroma);return tg().filter(u=>i(u.chroma)).map(u=>r.tonic+u.aliases[0])}function y5(t){const{intervals:r,tonic:i}=ir(t),u=Qf(r,i);return o=>o?u(o>0?o-1:o):""}function M5(t){const{intervals:r,tonic:i}=ir(t);return Qf(r,i)}var b5={getChord:Ri,get:ir,detect:gv,chordScales:g5,extended:A5,reduced:C5,tokenize:jo,transpose:f5,degrees:y5,steps:M5,chord:d5};function Es(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}var ig=[0,2,4,5,7,9,11],sg=({step:t,alt:r})=>(ig[t]+r+120)%12,Oo=({step:t,alt:r,oct:i,dir:u=1})=>u*(ig[t]+r+12*(i===void 0?-100:i)),ug=t=>{const r=Oo(t);return t.oct!==void 0&&r>=-12&&r<=115?r+12:null};function Go(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var og=[0,2,4,-1,1,3,5],ag=og.map(t=>Math.floor(t*7/12));function zo(t){const{step:r,alt:i,oct:u,dir:o=1}=t,a=og[r]+7*i;if(u===void 0)return[o*a];const c=u-ag[r]-4*i;return[o*a,o*c]}var P5=[3,0,4,1,5,2,6];function Wo(t){const[r,i,u]=t,o=P5[D5(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:o,alt:a,dir:u};const c=i+4*a+ag[o];return{step:o,alt:a,oct:c,dir:u}}function D5(t){const r=(t+1)%7;return r<0?7+r:r}var Ac=(t,r)=>Array(Math.abs(r)+1).join(t),cg={empty:!0,name:"",pc:"",acc:""},Cc=new Map,qo=t=>"CDEFGAB".charAt(t),Xo=t=>t<0?Ac("b",-t):Ac("#",t),Zo=t=>t[0]==="b"?-t.length:t.length;function On(t){const r=JSON.stringify(t),i=Cc.get(r);if(i)return i;const u=typeof t=="string"?F5(t):Go(t)?On(w5(t)):Es(t)?On(t.name):cg;return Cc.set(r,u),u}var v5=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Ho(t){const r=v5.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function Ko(t){return On(Wo(t))}var E5=(t,r)=>(t%r+r)%r,tu=[0,2,4,5,7,9,11];function F5(t){const r=Ho(t);if(r[0]===""||r[3]!=="")return cg;const i=r[0],u=r[1],o=r[2],a=(i.charCodeAt(0)+3)%7,c=Zo(u),l=o.length?+o:void 0,p=zo({step:a,alt:c,oct:l}),d=i+u+o,f=i+u,g=(tu[a]+c+120)%12,A=l===void 0?E5(tu[a]+c,12)-12*99:tu[a]+c+12*(l+1),P=A>=0&&A<=127?A:null,E=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:u,alt:c,chroma:g,coord:p,freq:E,height:A,letter:i,midi:P,name:d,oct:l,pc:f,step:a}}function w5(t){const{step:r,alt:i,oct:u}=t,o=qo(r);if(!o)return"";const a=o+Xo(i);return u||u===0?a+u:a}function Ui(t,r){const i=On(t),u=Array.isArray(r)?r:ue(r).coord;if(i.empty||!u||u.length<2)return"";const o=i.coord,a=o.length===1?[o[0]+u[0]]:[o[0]+u[0],o[1]+u[1]];return Ko(a).name}function lg(t,r){const i=t.length;return u=>{if(!r)return"";const o=u<0?(i- -u%i)%i:u%i,a=Math.floor(u/i),c=Ui(r,[0,a]);return Ui(c,t[o])}}function hg(t,r){const i=On(t),u=On(r);if(i.empty||u.empty)return"";const o=i.coord,a=u.coord,c=a[0]-o[0],l=o.length===2&&a.length===2?a[1]-o[1]:-Math.floor(c*7/12),p=u.height===i.height&&u.midi!==null&&i.midi!==null&&i.step>u.step;return kr([c,l],p).name}var pg=(t,r)=>Array(Math.abs(r)+1).join(t);function hi(t,r,i){return function(...u){return console.warn(`${t} is deprecated. Use ${r}.`),i.apply(this,u)}}var mg=hi("isNamed","isNamedPitch",Es);const dg=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:Zo,altToAcc:Xo,chroma:sg,coordToInterval:kr,coordToNote:Ko,coordinates:zo,deprecate:hi,distance:hg,fillStr:pg,height:Oo,interval:ue,isNamed:mg,isNamedPitch:Es,isPitch:Go,midi:ug,note:On,pitch:Wo,stepToLetter:qo,tokenizeInterval:Vo,tokenizeNote:Ho,tonicIntervalsTransposer:lg,transpose:Ui},Symbol.toStringTag,{value:"Module"}));var B5=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],I5=B5,x5={...Pn,name:"",quality:"Unknown",intervals:[],aliases:[]},Tr=[],Jn={};function fg(t){return Jn[t]||x5}var S5=hi("ChordType.chordType","ChordType.get",fg);function _5(){return Tr.map(t=>t.name).filter(t=>t)}function k5(){return Tr.map(t=>t.aliases[0]).filter(t=>t)}function N5(){return Object.keys(Jn)}function gg(){return Tr.slice()}var T5=hi("ChordType.entries","ChordType.all",gg);function R5(){Tr=[],Jn={}}function Ag(t,r,i){const u=L5(t),o={...Qt(t),name:i||"",quality:u,intervals:t,aliases:r};Tr.push(o),o.name&&(Jn[o.name]=o),Jn[o.setNum]=o,Jn[o.chroma]=o,o.aliases.forEach(a=>V5(o,a))}function V5(t,r){Jn[r]=t}function L5(t){const r=i=>t.indexOf(i)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}I5.forEach(([t,r,i])=>Ag(t.split(" "),i.split(" "),r));Tr.sort((t,r)=>t.setNum-r.setNum);var Cg={names:_5,symbols:k5,get:fg,all:gg,add:Ag,removeAll:R5,keys:N5,entries:T5,chordType:S5},j5=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],O5=j5,Fs=[];O5.forEach(([t,r,i])=>K5(t,r,i));var G5={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function z5(){return Fs.reduce((t,r)=>(r.names.forEach(i=>t.push(i)),t),[])}function W5(){return Fs.map(t=>t.shorthand)}var q5=/^([^.]+)(\.*)$/;function Yo(t){const[r,i,u]=q5.exec(t)||[],o=Fs.find(l=>l.shorthand===i||l.names.includes(i));if(!o)return G5;const a=Y5(o.fraction,u.length),c=a[0]/a[1];return{...o,name:t,dots:u,value:c,fraction:a}}var X5=t=>Yo(t).value,Z5=t=>Yo(t).fraction,H5={names:z5,shorthands:W5,get:Yo,value:X5,fraction:Z5};function K5(t,r,i){Fs.push({empty:!1,dots:"",name:"",value:1/t,fraction:t<1?[1/t,1]:[1,t],shorthand:r,names:i})}function Y5(t,r){const i=Math.pow(2,r);let u=t[0]*i,o=t[1]*i;const a=u;for(let c=0;c<r;c++)u+=a/Math.pow(2,c+1);for(;u%2===0&&o%2===0;)u/=2,o/=2;return[u,o]}function yg(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function Mg(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var bg=[0,2,4,-1,1,3,5],Pg=bg.map(t=>Math.floor(t*7/12));function Dg(t){const{step:r,alt:i,oct:u,dir:o=1}=t,a=bg[r]+7*i;if(u===void 0)return[o*a];const c=u-Pg[r]-4*i;return[o*a,o*c]}var U5=[3,0,4,1,5,2,6];function $5(t){const[r,i,u]=t,o=U5[J5(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:o,alt:a,dir:u};const c=i+4*a+Pg[o];return{step:o,alt:a,oct:c,dir:u}}function J5(t){const r=(t+1)%7;return r<0?7+r:r}var yc=(t,r)=>Array(Math.abs(r)+1).join(t),vu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Q5="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",tE="(AA|A|P|M|m|d|dd)([-+]?\\d+)",eE=new RegExp("^"+Q5+"|"+tE+"$");function nE(t){const r=eE.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var Mc={};function Eu(t){return typeof t=="string"?Mc[t]||(Mc[t]=rE(t)):Mg(t)?Eu(uE(t)):yg(t)?Eu(t.name):vu}var bc=[0,2,4,5,7,9,11],vg="PMMPPMM";function rE(t){const r=nE(t);if(r[0]==="")return vu;const i=+r[0],u=r[1],o=(Math.abs(i)-1)%7,a=vg[o];if(a==="M"&&u==="P")return vu;const c=a==="M"?"majorable":"perfectable",l=""+i+u,p=i<0?-1:1,d=i===8||i===-8?i:p*(o+1),f=sE(c,u),g=Math.floor((Math.abs(i)-1)/7),A=p*(bc[o]+f+12*g),P=(p*(bc[o]+f)%12+12)%12,E=Dg({step:o,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:u,step:o,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function iE(t,r){const[i,u=0]=t,o=i*7+u*12<0,a=r||o?[-i,-u,-1]:[i,u,1];return Eu($5(a))}function sE(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function uE(t){const{step:r,alt:i,oct:u=0,dir:o}=t;if(!o)return"";const a=r+1+7*u,c=a===0?r+1:a,l=o<0?"-":"",p=vg[r]==="M"?"majorable":"perfectable";return l+c+oE(p,i)}function oE(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?yc("A",r):yc("d",t==="perfectable"?r:r+1)}var Pc=(t,r)=>Array(Math.abs(r)+1).join(t),Eg=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Dc=new Map,aE=t=>"CDEFGAB".charAt(t),cE=t=>t<0?Pc("b",-t):Pc("#",t),lE=t=>t[0]==="b"?-t.length:t.length;function $i(t){const r=JSON.stringify(t),i=Dc.get(r);if(i)return i;const u=typeof t=="string"?dE(t):Mg(t)?$i(fE(t)):yg(t)?$i(t.name):Eg;return Dc.set(r,u),u}var hE=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function pE(t){const r=hE.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}var mE=(t,r)=>(t%r+r)%r,eu=[0,2,4,5,7,9,11];function dE(t){const r=pE(t);if(r[0]===""||r[3]!=="")return Eg;const i=r[0],u=r[1],o=r[2],a=(i.charCodeAt(0)+3)%7,c=lE(u),l=o.length?+o:void 0,p=Dg({step:a,alt:c,oct:l}),d=i+u+o,f=i+u,g=(eu[a]+c+120)%12,A=l===void 0?mE(eu[a]+c,12)-12*99:eu[a]+c+12*(l+1),P=A>=0&&A<=127?A:null,E=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:u,alt:c,chroma:g,coord:p,freq:E,height:A,letter:i,midi:P,name:d,oct:l,pc:f,step:a}}function fE(t){const{step:r,alt:i,oct:u}=t,o=aE(r);if(!o)return"";const a=o+cE(i);return u||u===0?a+u:a}function gE(t,r){const i=$i(t),u=$i(r);if(i.empty||u.empty)return"";const o=i.coord,a=u.coord,c=a[0]-o[0],l=o.length===2&&a.length===2?a[1]-o[1]:-Math.floor(c*7/12),p=u.height===i.height&&u.midi!==null&&i.midi!==null&&i.step>u.step;return iE([c,l],p).name}function AE(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var Fg=ue,CE=t=>ue(t).name,yE=t=>ue(t).semitones,ME=t=>ue(t).q,bE=t=>ue(t).num;function PE(t){const r=ue(t);return r.empty?"":r.simple+r.q}function DE(t){const r=ue(t);if(r.empty)return"";const i=(7-r.step)%7,u=r.type==="perfectable"?-r.alt:-(r.alt+1);return ue({step:i,alt:u,oct:r.oct,dir:r.dir}).name}var vE=[1,2,2,3,3,4,5,5,6,6,7,7],EE="P m M m M P d P m M m M".split(" ");function FE(t){const r=t<0?-1:1,i=Math.abs(t),u=i%12,o=Math.floor(i/12);return r*(vE[u]+7*o)+EE[u]}var wE=gE,wg=Bg((t,r)=>[t[0]+r[0],t[1]+r[1]]),BE=t=>r=>wg(t,r),IE=Bg((t,r)=>[t[0]-r[0],t[1]-r[1]]);function xE(t,r){const i=Fg(t);if(i.empty)return"";const[u,o,a]=i.coord;return kr([u+r,o,a]).name}var Dr={names:AE,get:Fg,name:CE,num:bE,semitones:yE,quality:ME,fromSemitones:FE,distance:wE,invert:DE,simplify:PE,add:wg,addTo:BE,substract:IE,transposeFifths:xE};function Bg(t){return(r,i)=>{const u=ue(r).coord,o=ue(i).coord;if(u&&o){const a=t(u,o);return kr(a).name}}}function Ig(t){return+t>=0&&+t<=127}function xg(t){if(Ig(t))return+t;const r=Bt(t);return r.empty?null:r.midi}function SE(t,r=440){return Math.pow(2,(t-69)/12)*r}var _E=Math.log(2),kE=Math.log(440);function Uo(t){const r=12*(Math.log(t)-kE)/_E+69;return Math.round(r*100)/100}var NE="C C# D D# E F F# G G# A A# B".split(" "),TE="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Xn(t,r={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const i=(r.sharps===!0?NE:TE)[t%12];if(r.pitchClass)return i;const u=Math.floor(t/12)-1;return i+u}function $o(t){return t%12}function RE(t){return t.split("").reduce((r,i,u)=>(u<12&&i==="1"&&r.push(u),r),[])}function VE(t){return t.map($o).sort((r,i)=>r-i).filter((r,i,u)=>i===0||r!==u[i-1])}function Jo(t){return Array.isArray(t)?VE(t):RE(t)}function LE(t){const r=Jo(t);return i=>{const u=$o(i);for(let o=0;o<12;o++){if(r.includes(u+o))return i+o;if(r.includes(u-o))return i-o}}}function Sg(t,r){const i=Jo(t),u=i.length;return o=>{const a=o<0?(u- -o%u)%u:o%u,c=Math.floor(o/u);return i[a]+c*12+r}}function jE(t,r){const i=Sg(t,r);return u=>{if(u!==0)return i(u>0?u-1:u)}}var OE={chroma:$o,freqToMidi:Uo,isMidi:Ig,midiToFreq:SE,midiToNoteName:Xn,pcsetNearest:LE,pcset:Jo,pcsetDegrees:jE,pcsetSteps:Sg,toMidi:xg},GE=["C","D","E","F","G","A","B"],_g=t=>t.name,kg=t=>t.map(Bt).filter(r=>!r.empty);function zE(t){return t===void 0?GE.slice():Array.isArray(t)?kg(t).map(_g):[]}var Ue=Bt,WE=t=>Ue(t).name,qE=t=>Ue(t).pc,XE=t=>Ue(t).acc,ZE=t=>Ue(t).oct,HE=t=>Ue(t).midi,KE=t=>Ue(t).freq,YE=t=>Ue(t).chroma;function Ng(t){return Xn(t)}function UE(t){return Xn(Uo(t))}function $E(t){return Xn(Uo(t),{sharps:!0})}function JE(t){return Xn(t,{sharps:!0})}var pi=he,QE=he,Tg=t=>r=>pi(r,t),t9=Tg,Rg=t=>r=>pi(t,r),e9=Rg;function Ji(t,r){return pi(t,[r,0])}var n9=Ji;function r9(t,r){return pi(t,[0,r])}var Qo=(t,r)=>t.height-r.height,i9=(t,r)=>r.height-t.height;function Vg(t,r){return r=r||Qo,kg(t).sort(r).map(_g)}function Lg(t){return Vg(t,Qo).filter((r,i,u)=>i===0||r!==u[i-1])}var s9=t=>{const r=Ue(t);return r.empty?"":Xn(r.midi||r.chroma,{sharps:r.alt>0,pitchClass:r.midi===null})};function jg(t,r){const i=Ue(t);if(i.empty)return"";const u=Ue(r||Xn(i.midi||i.chroma,{sharps:i.alt<0,pitchClass:!0}));if(u.empty||u.chroma!==i.chroma)return"";if(i.oct===void 0)return u.pc;const o=i.chroma-i.alt,a=u.chroma-u.alt,c=o>11||a<0?-1:o<0||a>11?1:0,l=i.oct+c;return u.pc+l}var Gn={names:zE,get:Ue,name:WE,pitchClass:qE,accidentals:XE,octave:ZE,midi:HE,ascending:Qo,descending:i9,sortedNames:Vg,sortedUniqNames:Lg,fromMidi:Ng,fromMidiSharps:JE,freq:KE,fromFreq:UE,fromFreqSharps:$E,chroma:YE,transpose:pi,tr:QE,transposeBy:Tg,trBy:t9,transposeFrom:Rg,trFrom:e9,transposeFifths:Ji,transposeOctaves:r9,trFifths:n9,simplify:s9,enharmonic:jg},Og={empty:!0,name:"",chordType:""},vc={};function Dn(t){return typeof t=="string"?vc[t]||(vc[t]=p9(t)):typeof t=="number"?Dn(ws[t]||""):li(t)?a9(t):q7(t)?Dn(t.name):Og}var u9=qn("RomanNumeral.romanNumeral","RomanNumeral.get",Dn);function o9(t=!0){return(t?ws:h9).slice()}function a9(t){return Dn(As(t.alt)+ws[t.step])}var c9=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function l9(t){return c9.exec(t)||["","","",""]}var Gg="I II III IV V VI VII",ws=Gg.split(" "),h9=Gg.toLowerCase().split(" ");function p9(t){const[r,i,u,o]=l9(t);if(!u)return Og;const a=u.toUpperCase(),c=ws.indexOf(a),l=xo(i),p=1;return{empty:!1,name:r,roman:u,interval:Pr({step:c,alt:l,dir:p}).name,acc:i,chordType:o,alt:l,step:c,major:u===a,oct:0,dir:p}}var m9={names:o9,get:Dn,romanNumeral:u9},_e=Object.freeze([]),zg={type:"major",tonic:"",alteration:0,keySignature:""},Vi={tonic:"",grades:_e,intervals:_e,scale:_e,triads:_e,chords:_e,chordsHarmonicFunction:_e,chordScales:_e},d9={...zg,...Vi,type:"major",minorRelative:"",scale:_e,secondaryDominants:_e,secondaryDominantsMinorRelative:_e,substituteDominants:_e,substituteDominantsMinorRelative:_e},f9={...zg,type:"minor",relativeMajor:"",natural:Vi,harmonic:Vi,melodic:Vi},nu=(t,r,i="")=>r.map((u,o)=>`${t[o]}${i}${u}`);function Bs(t,r,i,u,o){return a=>{const c=t.map(p=>Dn(p).interval||""),l=c.map(p=>he(a,p));return{tonic:a,grades:t,intervals:c,scale:l,triads:nu(l,r),chords:nu(l,i),chordsHarmonicFunction:u.slice(),chordScales:nu(l,o," ")}}}var Wg=(t,r)=>{const i=Bt(t),u=Bt(r);return i.empty||u.empty?0:u.coord[0]-i.coord[0]},g9=Bs("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),A9=Bs("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),C9=Bs("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),y9=Bs("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function M9(t){const r=Bt(t).pc;if(!r)return d9;const i=g9(r),u=Wg("C",r),o=a=>{const c=Dn(a);return c.empty?"":he(t,c.interval)+c.chordType};return{...i,type:"major",minorRelative:he(r,"-3m"),alteration:u,keySignature:As(u),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(o),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(o),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(o),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(o)}}function b9(t){const r=Bt(t).pc;if(!r)return f9;const i=Wg("C",r)-3;return{type:"minor",tonic:r,relativeMajor:he(r,"3m"),alteration:i,keySignature:As(i),natural:A9(r),harmonic:C9(r),melodic:y9(r)}}function P9(t){return typeof t=="number"?Ji("C",t):typeof t=="string"&&/^b+|#+$/.test(t)?Ji("C",xo(t)):null}var D9={majorKey:M9,majorTonicFromKeySignature:P9,minorKey:b9},Ec=(t,r)=>Array(Math.abs(r)+1).join(t),Fu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),v9="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",E9="(AA|A|P|M|m|d|dd)([-+]?\\d+)",F9=new RegExp("^"+v9+"|"+E9+"$");function w9(t){const r=F9.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var Fc={};function ei(t){return typeof t=="string"?Fc[t]||(Fc[t]=B9(t)):li(t)?ei(S9(t)):ci(t)?ei(t.name):Fu}var wc=[0,2,4,5,7,9,11],qg="PMMPPMM";function B9(t){const r=w9(t);if(r[0]==="")return Fu;const i=+r[0],u=r[1],o=(Math.abs(i)-1)%7,a=qg[o];if(a==="M"&&u==="P")return Fu;const c=a==="M"?"majorable":"perfectable",l=""+i+u,p=i<0?-1:1,d=i===8||i===-8?i:p*(o+1),f=x9(c,u),g=Math.floor((Math.abs(i)-1)/7),A=p*(wc[o]+f+12*g),P=(p*(wc[o]+f)%12+12)%12,E=gs({step:o,alt:f,oct:g,dir:p});return{empty:!1,name:l,num:i,q:u,step:o,alt:f,dir:p,type:c,simple:d,semitones:A,chroma:P,coord:E,oct:g}}function I9(t,r){const[i,u=0]=t,o=i*7+u*12<0?[-i,-u,-1]:[i,u,1];return ei(Io(o))}function x9(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function S9(t){const{step:r,alt:i,oct:u=0,dir:o}=t;if(!o)return"";const a=r+1+7*u,c=a===0?r+1:a,l=o<0?"-":"",p=qg[r]==="M"?"majorable":"perfectable";return l+c+_9(p,i)}function _9(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?Ec("A",r):Ec("d",t==="perfectable"?r:r+1)}var k9=ei;function N9(t){const r=ei(t);return r.empty?"":r.simple+r.q}function T9(t,r){const i=k9(t);if(i.empty)return"";const[u,o,a]=i.coord;return I9([u+r,o,a]).name}var ta=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Bc={...Pn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},ea=ta.map(j9),wu={};ea.forEach(t=>{wu[t.name]=t,t.aliases.forEach(r=>{wu[r]=t})});function er(t){return typeof t=="string"?wu[t.toLowerCase()]||Bc:t&&t.name?er(t.name):Bc}var R9=qn("Mode.mode","Mode.get",er);function Xg(){return ea.slice()}var V9=qn("Mode.mode","Mode.all",Xg);function L9(){return ea.map(t=>t.name)}function j9(t){const[r,i,u,o,a,c,l]=t,p=l?[l]:[],d=Number(i).toString(2);return{empty:!1,intervals:vs(o).intervals,modeNum:r,chroma:d,normalized:d,name:o,setNum:i,alt:u,triad:a,seventh:c,aliases:p}}function O9(t,r){return er(t).intervals.map(i=>he(r,i))}function Zg(t){return(r,i)=>{const u=er(r);if(u.empty)return[];const o=_r(u.modeNum,t),a=u.intervals.map(c=>he(i,c));return o.map((c,l)=>a[l]+c)}}var G9=Zg(ta.map(t=>t[4])),z9=Zg(ta.map(t=>t[5]));function Hg(t,r){const i=er(r),u=er(t);return i.empty||u.empty?"":N9(T9("1P",u.alt-i.alt))}function W9(t,r,i){return he(i,Hg(t,r))}var q9={get:er,names:L9,all:Xg,distance:Hg,relativeTonic:W9,notes:O9,triads:G9,seventhChords:z9,entries:V9,mode:R9};function X9(t){const[r,i,u,o]=So(t);return r===""?ru("",t):r==="A"&&o==="ug"?ru("","aug"):ru(r+i,u+o)}function ru(t,r){const i=r.split("/");if(i.length===1)return[t,i[0],""];const[u,o,a,c]=So(i[1]);return u!==""&&a===""&&c===""?[t,i[0],u+o]:[t,r,""]}function Z9(t,r){return r.map(Dn).map(i=>he(t,Pr(i))+i.chordType)}function H9(t,r){return r.map(i=>{const[u,o]=X9(i),a=Tf(t,u);return Dn(Pr(a)).name+o})}var K9={fromRomanNumerals:Z9,toRomanNumerals:H9};function Kg(t){const r=_o(t.map(i=>typeof i=="number"?i:xg(i)));return!t.length||r.length!==t.length?[]:r.reduce((i,u)=>{const o=i[i.length-1];return i.concat(Cs(o,u).slice(1))},[r[0]])}function Y9(t,r){return Kg(t).map(i=>Xn(i,r))}var U9={numeric:Kg,chromatic:Y9},$9={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Yg(t){if(typeof t!="string")return["",""];const r=t.indexOf(" "),i=Bt(t.substring(0,r));if(i.empty){const o=Bt(t);return o.empty?["",t]:[o.name,""]}const u=t.substring(i.name.length+1).toLowerCase();return[i.name,u.length?u:""]}var J9=eg;function nn(t){const r=Array.isArray(t)?t:Yg(t),i=Bt(r[0]).name,u=vs(r[1]);if(u.empty)return $9;const o=u.name,a=i?u.intervals.map(l=>he(i,l)):[],c=i?i+" "+o:o;return{...u,name:c,type:o,tonic:i,notes:a}}var Q9=qn("Scale.scale","Scale.get",nn);function tF(t,r={}){const i=zf(t),u=Bt(r.tonic??t[0]??""),o=u.chroma;if(o===void 0)return[];const a=i.split("");a[o]="1";const c=_r(o,a).join(""),l=Nr().find(d=>d.chroma===c),p=[];return l&&p.push(u.name+" "+l.name),r.match==="exact"||Ug(c).forEach(d=>{p.push(u.name+" "+d)}),p}function eF(t){const r=nn(t),i=ys(r.chroma);return Xf().filter(u=>i(u.chroma)).map(u=>u.aliases[0])}function Ug(t){const r=No(t)?t:nn(t).chroma,i=Ms(r);return Nr().filter(u=>i(u.chroma)).map(u=>u.name)}function nF(t){const r=ys(nn(t).chroma);return Nr().filter(i=>r(i.chroma)).map(i=>i.name)}function $g(t){const r=t.map(o=>Bt(o).pc).filter(o=>o),i=r[0],u=Lg(r);return _r(u.indexOf(i),u)}function rF(t){const r=nn(t);if(r.empty)return[];const i=r.tonic?r.notes:r.intervals;return To(r.chroma).map((u,o)=>{const a=nn(u).name;return a?[i[o],a]:["",""]}).filter(u=>u[0])}function iF(t){const r=Array.isArray(t)?$g(t):nn(t).notes,i=r.map(u=>Bt(u).chroma);return u=>{const o=Bt(typeof u=="number"?Ng(u):u),a=o.height;if(a===void 0)return;const c=a%12,l=i.indexOf(c);if(l!==-1)return jg(o.name,r[l])}}function sF(t){const r=iF(t);return(i,u)=>{const o=Bt(i).height,a=Bt(u).height;return o===void 0||a===void 0?[]:Cs(o,a).map(r).filter(c=>c)}}function uF(t){const{intervals:r,tonic:i}=nn(t),u=Nf(r,i);return o=>o?u(o>0?o-1:o):""}function oF(t){const{intervals:r,tonic:i}=nn(t);return Nf(r,i)}var vr={degrees:uF,detect:tF,extended:Ug,get:nn,modeNames:rF,names:J9,rangeOf:sF,reduced:nF,scaleChords:eF,scaleNotes:$g,steps:oF,tokenize:Yg,scale:Q9},aF={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},cF=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function lF(){return cF.slice()}var hF=/^(\d*\d(?:\+\d)*)\/(\d+)$/,Ic=new Map;function pF(t){const r=JSON.stringify(t),i=Ic.get(r);if(i)return i;const u=fF(na(t));return Ic.set(r,u),u}function na(t){if(typeof t=="string"){const[a,c,l]=hF.exec(t)||[];return na([c,l])}const[r,i]=t,u=+i;if(typeof r=="number")return[r,u];const o=r.split("+").map(a=>+a);return o.length===1?[o[0],u]:[o,u]}var mF={names:lF,parse:na,get:pF},dF=t=>Math.log(t)/Math.log(2)%1===0;function fF([t,r]){const i=Array.isArray(t)?t.reduce((l,p)=>l+p,0):t,u=r;if(i===0||u===0)return aF;const o=Array.isArray(t)?`${t.join("+")}/${r}`:`${t}/${r}`,a=Array.isArray(t)?t:[],c=u===4||u===2?"simple":u===8&&i%3===0?"compound":dF(u)?"irregular":"irrational";return{empty:!1,name:o,type:c,upper:i,lower:u,additive:a}}var gF=dg,AF=qf,CF=Cg,yF=rg;const MF=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:w7,Array:T7,Chord:b5,ChordDictionary:CF,ChordType:Cg,Collection:K7,Core:dg,DurationValue:H5,Interval:Dr,Key:D9,Midi:OE,Mode:q9,Note:Gn,PcSet:AF,Pcset:qf,Progression:K9,Range:U9,RomanNumeral:m9,Scale:vr,ScaleDictionary:yF,ScaleType:rg,TimeSignature:mF,Tonal:gF,accToAlt:Zo,altToAcc:Xo,chroma:sg,coordToInterval:kr,coordToNote:Ko,coordinates:zo,deprecate:hi,distance:hg,fillStr:pg,height:Oo,interval:ue,isNamed:mg,isNamedPitch:Es,isPitch:Go,midi:ug,note:On,pitch:Wo,stepToLetter:qo,tokenizeInterval:Vo,tokenizeNote:Ho,tonicIntervalsTransposer:lg,transpose:Ui},Symbol.toStringTag,{value:"Module"}));var Jg={},xc={},mi={};mi.__esModule=!0;mi.getBestVoicing=void 0;function bF(t){var r=t.chord,i=t.range,u=t.finder,o=t.picker,a=t.lastVoicing,c=u(r,i);return c.length?o(c,a):[]}mi.getBestVoicing=bF;var zr={};const Qg=fD(MF);var di={};di.__esModule=!0;di.tokenizeChord=void 0;function PF(t){var r=(t||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return r?r.slice(1):[]}di.tokenizeChord=PF;var Sc;function DF(){if(Sc)return zr;Sc=1,zr.__esModule=!0,zr.voicingsInRange=void 0;var t=Qg,r=tA(),i=di;function u(o,a,c){a===void 0&&(a=r.lefthand),c===void 0&&(c=["D3","A4"]);var l=(0,i.tokenizeChord)(o),p=l[0],d=l[1];if(!a[d])return[];var f=a[d].map(function(A){return A.split(" ")}),g=t.Range.chromatic(c);return f.reduce(function(A,P){var E=P.map(function(L){return t.Interval.substract(L,P[0])}),F=t.Note.transpose(p,P[0]),S=g.filter(function(L){return t.Note.chroma(L)===t.Note.chroma(F)}).filter(function(L){return t.Note.midi(t.Note.transpose(L,E[E.length-1]))<=t.Note.midi(c[1])}).map(function(L){return t.Note.enharmonic(L,F)}),N=S.map(function(L){return E.map(function(K){return t.Note.transpose(L,K)})});return A.concat(N)},[])}return zr.voicingsInRange=u,zr}var _c;function tA(){return _c||(_c=1,function(t){var r=qr&&qr.__assign||function(){return r=Object.assign||function(l){for(var p,d=1,f=arguments.length;d<f;d++){p=arguments[d];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(l[g]=p[g])}return l},r.apply(this,arguments)},i=qr&&qr.__rest||function(l,p){var d={};for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&p.indexOf(f)<0&&(d[f]=l[f]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(l);g<f.length;g++)p.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(l,f[g])&&(d[f[g]]=l[f[g]]);return d};t.__esModule=!0,t.dictionaryVoicing=t.dictionaryVoicingFinder=t.triads=t.guidetones=t.lefthand=void 0;var u=mi,o=DF();t.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},t.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var a=function(l){return function(p,d){return(0,o.voicingsInRange)(p,l,d)}};t.dictionaryVoicingFinder=a;var c=function(l){var p=l.dictionary,d=l.range,f=i(l,["dictionary","range"]);return(0,u.getBestVoicing)(r(r({},f),{range:d,finder:(0,t.dictionaryVoicingFinder)(p)}))};t.dictionaryVoicing=c}(xc)),xc}var Is={};Is.__esModule=!0;Is.minTopNoteDiff=void 0;var kc=Qg;function vF(t,r){if(!r)return t[0];var i=function(u){return Math.abs(kc.Note.midi(r[r.length-1])-kc.Note.midi(u[u.length-1]))};return t.reduce(function(u,o){return i(o)<i(u)?o:u},t[0])}Is.minTopNoteDiff=vF;(function(t){t.__esModule=!0;var r=tA(),i=Is,u=mi,o=di;t.default={tokenizeChord:o.tokenizeChord,getBestVoicing:u.getBestVoicing,dictionaryVoicing:r.dictionaryVoicing,dictionaryVoicingFinder:r.dictionaryVoicingFinder,lefthand:r.lefthand,guidetones:r.guidetones,triads:r.triads,minTopNoteDiff:i.minTopNoteDiff}})(Jg);const Nc=Mf(Jg),EF=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],FF=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],wF=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],BF={b:-1,"#":1},IF=t=>{const[r,...i]=t.split("");return FF.indexOf(r.toLowerCase())+i.reduce((u,o)=>u+BF[o],0)};function xF(t){const r=(t||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return r?r.slice(1):[]}const Bu=t=>t%12,eA=t=>{let r=Number(t);return isNaN(r)?Dr.semitones(t):r},Iu=(t,r)=>{if(typeof t=="number")return t;if(typeof t=="string")return zn(t,r)},SF=(t,r=!1)=>{const i=Math.floor(t/12)-1;return(r?wF:EF)[t%12]+i};function _F(t,r,i=1){t=t.map(o=>typeof o=="string"?zn(o):o);const u=Math.floor(r/t.length)*i*12;return r=Te(r,t.length),t[r]+u}function kF(t,r,i){let u=0,o=1/0;return r.forEach((a,c)=>{const l=Math.abs(a-t);(l<o||i)&&(u=c,o=l)}),u}let iu={};function NF(t,r,i,u){let[o,a]=vr.tokenize(r);const c=Iu(o),l=Bu(c);if(!iu[a]){let{intervals:g}=vr.get(`C ${a}`);iu[a]=g.map(eA)}const p=iu[a];if(!p)return null;let d=c;if(i){i=Iu(i,3);const g=Bu(i),A=Te(g-l,12),P=kF(A,p,u);t=t+P,d=i-A}const f=Math.floor(t/p.length)*12;return t=Te(t,p.length),p[t]+d+f}let Tc={below:t=>t.slice(-1)[0],duck:t=>t.slice(-1)[0],above:t=>t[0],root:t=>t[0]};function TF({chord:t,dictionary:r,offset:i=0,n:u,mode:o="below",anchor:a="c5",octaves:c=1}){const[l,p]=xF(t),d=IF(l);a=Iu(a?.note||a,4);const f=Bu(a),g=r[p].map(R=>(typeof R=="string"?R.split(" "):R).map(eA));let A,P,E=g.map((R,T)=>{const G=Tc[o](R),H=Te(f-G-d,12);return(A===void 0||H<A)&&(A=H,P=T),H});o==="root"&&(P=0);const F=Math.ceil(i/g.length)*12,S=Te(P+i,g.length),N=g[S],L=Tc[o](N),K=a-E[S]+F,k=N.map(R=>K-L+R);let x=k.map(R=>SF(R));return o==="duck"&&(x=x.filter((R,T)=>k[T]!==a)),u!==void 0?[_F(x,u,c)]:x}const RF=t=>(t<=0?-1:1)+t*7+"P";function VF(t,r){r=r.replaceAll(":"," "),t=Math.ceil(t);let{intervals:i,tonic:u,empty:o}=vr.get(r);if(o&&nr(r)||!o&&!u)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(o)throw new Error(`invalid scale "${r}"`);u=u||"C";const{pc:a,oct:c=3}=Gn.get(u),l=Math.floor(t/i.length),p=Te(t,i.length),d=Dr.add(i[p],RF(l));return Gn.transpose(a+c,d)}function Rc(t,r,i){let[u,o]=vr.tokenize(t),{notes:a}=vr.get(`${u} ${o}`);if(a=a.map(P=>Gn.get(P).pc),r=Number(r),isNaN(r))throw new Error(`scale offset "${r}" not a number`);const{pc:c,oct:l=3}=Gn.get(i),p=a.indexOf(c);if(p===-1)throw new Error(`note "${i}" is not in scale "${t}"`);let d=p,f=l,g=c;const A=Math.sign(r);for(;Math.abs(d-p)<Math.abs(r);){d+=A;const P=Te(d,a.length);A<0&&g[0]==="C"&&(f+=A),g=a[P],A>0&&g[0]==="C"&&(f+=A)}return g+f}const LF=z("transpose",function(t,r){return r.withHap(i=>{const u=i.value.note??i.value;if(typeof u=="number"){let c;typeof t=="number"?c=t:typeof t=="string"&&(c=Dr.semitones(t)||0);const l=u+c;return typeof i.value=="object"?i.withValue(()=>({...i.value,note:l})):i.withValue(()=>l)}if(typeof u!="string"||!nr(u))return Yt(`[tonal] transpose: not a note "${u}"`,"warning"),i;const o=isNaN(Number(t))?String(t):Dr.fromSemitones(t),a=Gn.simplify(Gn.transpose(u,o));return typeof i.value=="object"?i.withValue(()=>({...i.value,note:a})):i.withValue(()=>a)})}),jF=z("scaleTranspose",function(t,r){return r.withHap(i=>{if(!i.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof i.value=="object")return i.withValue(()=>({...i.value,note:Rc(i.context.scale,Number(t),i.value.note)}));if(typeof i.value!="string")throw new Error("can only use scaleTranspose with notes");return i.withValue(()=>Rc(i.context.scale,Number(t),i.value))})}),OF=z("scale",function(t,r){return Array.isArray(t)&&(t=t.flat().join(" ")),r.fmap(i=>{const u=typeof i=="object";let o=u?i.n:i;if(u&&delete i.n,nr(o))return le(o);let a=Number(o),c=0;if(isNaN(a)){if(o=String(o),!/^[-+]?\d+(#*|b*){1}$/.test(o))return Yt(`[tonal] invalid scale step "${o}", expected number or integer with optional # b suffixes`,"error"),_t;const l=o.indexOf("#");if(l>=0)a=Number(o.substring(0,l)),c=o.length-l;else{const p=o.indexOf("b");a=Number(o.substring(0,p)),c=p-o.length}}try{let l;u&&i.anchor?l=NF(a,t,i.anchor):l=VF(a,t),c!=0&&(l=Gn.transpose(l,Dr.fromSemitones(c))),i=le(u?{...i,note:l}:l)}catch(l){Yt(`[tonal] ${l.message}`,"error"),i=_t}return i}).outerJoin().withHap(i=>i.setContext({...i.context,scale:t}))},!0,!0),fr={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},$r={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:GF,minTopNoteDiff:zF}=Nc.default||Nc,WF={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},qF={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},XF={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},ZF={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},Rr={lefthand:{dictionary:WF,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:XF,mode:"below",anchor:"a4"},guidetones:{dictionary:qF,mode:"above",anchor:"a4"},legacy:{dictionary:ZF,mode:"below",anchor:"a4"}};let nA="ireal";const rA=t=>nA=t,HF=(t,r)=>iA(t,Rr[t].dictionary,r),iA=(t,r,i=["F3","A4"])=>{Object.assign(Rr,{[t]:{dictionary:r,range:i}})},ra=(t,r,i={})=>{Object.assign(Rr,{[t]:{dictionary:r,...i}})},KF=(t,r,i)=>{const{dictionary:u,range:o}=Rr[r];return GF({chord:t,dictionary:u,range:o,picker:zF,lastVoicing:i})};let Li;const YF=z("voicings",function(t,r){return r.fmap(i=>(Li=KF(i,t,Li),qt(...Li))).outerJoin()}),UF=z("rootNotes",function(t,r){return r.fmap(i=>{const u=(i.chord||i).match(/^([a-gA-G][b#]?).*$/)[1]+t;return i.chord?{note:u}:u})}),$F=z("voicing",function(t){return t.fmap(r=>{r=typeof r=="string"?{chord:r}:r;let{dictionary:i=nA,chord:u,anchor:o,offset:a,mode:c,n:l,octaves:p,...d}=r;i=typeof i=="string"?Rr[i]:{dictionary:i,mode:"below",anchor:"c5"};try{let f=TF({...i,chord:u,anchor:o,offset:a,mode:c,n:l,octaves:p});return qt(...f).note().set(d)}catch{return Yt(`[voicing]: unknown chord "${u}"`),_t}}).outerJoin()});function Jr(t,r,i){i=Array.isArray(i)?i:[i],i.forEach(u=>{u[r]=u[t]})}Jr("^","",[fr,$r]);Object.keys(fr).forEach(t=>{if(t.includes("-")){let r=t.replace("-","m");Jr(t,r,[$r,fr])}if(t.includes("^")){let r=t.replace("^","M");Jr(t,r,[$r,fr])}if(t.includes("+")){let r=t.replace("+","aug");Jr(t,r,[$r,fr])}});ra("ireal",fr);ra("ireal-ext",$r);function JF(){Li=void 0,rA("ireal")}const QF="@strudel/tonal",tw=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:iA,packageName:QF,registerVoicings:ra,resetVoicings:JF,rootNotes:UF,scale:OF,scaleTranspose:jF,setDefaultVoicings:rA,setVoicingRange:HF,transpose:LF,voicing:$F,voicingAlias:Jr,voicingRegistry:Rr,voicings:YF},Symbol.toStringTag,{value:"Module"}));async function ew(){const t=Gi(Gi,Promise.resolve().then(()=>Xm),Promise.resolve().then(()=>xP),Promise.resolve().then(()=>tw),Promise.resolve().then(()=>CP),{hush:rw,evaluate:iw});await Promise.all([t,gd()])}let xu,Qn;function sA(t={}){hd(),t.miniAllStrings!==!1&&Rd();const{prebake:r,...i}=t;return Qn=Id({...i,transpiler:ZD}),xu=(async()=>(await ew(),await r?.(),Qn))(),uo(()=>Qn.scheduler.now()),xu}window.initStrudel=sA;ot.prototype.play=function(){if(!Qn)throw new Error(".play: no repl found. Have you called initStrudel?");return xu.then(()=>{Qn.setPattern(this,!0)}),this};function rw(){Qn.stop()}async function iw(t,r=!0){return Qn.evaluate(t,r)}const uw=(t,r)=>Math.floor(Math.random()*(r-t+1)+t),De=()=>{if(!disk.isPlaying)return;const t=[];for(const i of disk.rooms)if(i&&i.generateSoundString){let u=i.generateSoundString();if(!u)continue;i.id!==disk.roomId&&disk.roomId!=="rainbowroom"?u=`${u}.gain(0.2).lpf(500).room(0.7)`:disk.roomId==="rainbowroom"?u=`${u}.gain(0.6)`:u=`${u}.gain(1)`,i.isMuted&&(u=`${u}.gain(0)`),t.push(`$: ${u}`)}const r=t.join(`
`);r.length>0&&(console.log("Re-evaluating ...",r),evaluate(r))},Zn=t=>{t&&!disk.visitedRooms.includes(t)&&disk.visitedRooms.push(t),De()};let ow=()=>{println(`The following commands are available:
    LOOK:           'look at key'
    TAKE:           'take book'
    GO:             'go north' (or just type 'n')
    USE:            'use bucket'
    PRESS:          'press play'
    TALK:           'talk to mary'
    ITEMS:          list items in the room
    CHARS:          list characters in the room
    INV:            list inventory items
    SAVE/LOAD:      save current game, or load a saved game (in memory)
    IMPORT/EXPORT:  save current game, or load a saved game (on disk)
    HELP:           this help menu
  `)};const aw=t=>{if(disk.roomId==="rainbowroom"){const r=getRoom(t);r.isMuted=!0,De(),println(`You muted the ${t} room`)}else println("You probably need som kind of control panel to do that.")},Vc=(t="")=>{if(disk.roomId==="rainbowroom")if(t.toLowerCase()==="play")if(disk.isPlaying)println("Already playing. If you don’t hear anything, perhaps you need to find something that can generate sounds?");else{const r=disk.rooms.filter(i=>i.isActive).filter(i=>!i.isMuted).map(i=>i.color);println("You press play."),r.length===0?println("Nothing happens."):r.length===1?println(`Music start playing from the ${r[0]} room.`):println("Sweet, weird music starts playing."),disk.isPlaying=!0,De()}else t.toLowerCase()==="stop"&&(disk.isPlaying?(console.log("Stopping"),disk.isPlaying=!1,hush()):println("Already stopped."));else useItem(t)},cw=[{inv,i:inv,inventory:inv,look,l:look,go,n,s,e,w,ne,se,sw,nw,talk,t:talk,take,get:take,items,use,chars,characters:chars,help:ow,say,save,load,restore:load,export:exportSave,import:importSave},{go:goDir,take:takeItem,get:takeItem,use:useItem,say:sayString,save:t=>save(t),load:t=>load(t),restore:t=>load(t),x:t=>lookAt([null,t]),t:t=>talkToOrAboutX("to",t),export:exportSave,import:importSave,mute:aw,press:Vc,push:Vc},{look:lookAt,take:t=>takeItem(t.join(" ")),get:t=>takeItem(t.join(" ")),use:t=>useItem(t.join(" ")),say(t){const r=t.reduce((i,u)=>i+" "+u,"");sayString(r)},talk:t=>talkToOrAboutX(t[0],t[1]),x:t=>lookAt([null,...t])}],ia={name:["Android"],roomId:"",desc:["The android looks like something from a past future. Its domed head is not shiny or smooth as you’d expect.","The shape seems more like it’s been conjured by a blacksmith than an engineer or a machine.","Beneath the wide oval screen that seemingly functions as the android’s eyes, a small square mouth opens and shuts erratically, but does not form any coherent words.","Do androids even need mouths?"].join(`
`),topics:[{option:"What’s your **name**?",keyword:"name",line:'"Look," you say. "This feels weird. Can I call you something?"',onSelected:()=>{ia.name.push("Violet"),println("YOU CAN CALL ME VIOLET:","android")},removeOnRead:!0,prereqs:[]},{option:"",keyword:"",line:"",onSelected:()=>{},removeOnRead:!0,prereqs:["name"]}],onTalk:()=>{println("You decide you should perhaps try to communicate wth the android.")},onLook:()=>{println("Look")}},su={intro:["Welcome to the Rainbow Room","This is an experiment in generative, semi-random sequencing – hidden inside an Interactive Fiction story.","If this is your first time, type HELP to see the commands that are available to you.","BEWARE - This is a work in progress and very much ib beta still - BEWARE"].join(`
`),standard:["You’re standing in the middle of an octagonal room. Seven of the walls surrounding you hold a door; each door is one of the colors of the rainbow.","From left to right, you have a **Red Door** to the south west. To the west is an **Orange Door**. Next is a **Yellow Door** to the nort west. Due north is a **Green Door**, and next to it, to the north east, is a **Blue Door**. Due east is an **Indigo Door**, and to the south east is a **Violet Door**.","The eighth wall is almost completely covered by what looks like a **control panel** from some obscure fifties’ sci-fi movie: futuristic, but in an old-fashioned way.","LEDs, meters, levers, buttons and sliders – some labeled, some not – take up most of the real estate of the panel."].join(`
`)},lw=["Red","Orange","Yellow","Green","Blue","Indigo","Violet"],hw=()=>{const t=disk.rooms.filter(r=>r.isActive).map(r=>r.color);if(t.length===0)println("None of the LEDs are lit.");else if(t.length===1)println(`The ${t[0]} LED is lit.`);else{let r="";for(let i=0;i<t.length-1;i++)r+=`${t[i]}, `;println(`The ${r.slice(0,-2)} and ${t[t.length-1]} LEDs are lit.`)}},uA=()=>{const t=disk.rooms.filter(r=>r.isMuted).map(r=>r.color);if(t.length===0)println("None of the rooms seem muted.");else if(t.length===1)println(`The ${t[0]} room is muted.`);else{let r="";for(let i=0;i<t.length-1;i++)r+=`${t[i]}, `;println(`The ${r.slice(0,-2)} and ${t[t.length-1]} rooms appear to be muted.`)}},pw=lw.map(t=>{console.log(disk);const r=disk?disk.rooms.filter(i=>i.isMuted).map(i=>i.color):[];return{name:`${t}Switch`,desc:`A ${t} switch labeled "MUTE"`,onUse:()=>{const i=getRoom(`${t.toLowerCase()}room`);r.includes(t)?(r.splice(r.indexOf(t),1),i.isMuted=!1):(r.push(t),i.isMuted=!0),disk.isPlaying||println("Nothing happens."),De(),uA()}}}),oA={id:"rainbowroom",img:["■■■■■■■■■","■■■■■■■■■","■■■■■■■■■"].join(`
`),name:"The Rainbow Room BETA",desc:`${su.intro}
- - - - - - - - - - - - - - - - - - - -
${su.standard}`,onEnter:()=>{const t=getRoom("rainbowroom");t.img="",Zn()},onLook:()=>{oA.desc=su.standard},items:[...pw,{name:["control panel","panel"],desc:["It’s some kind of control panel. In the center of it there are two huge buttons. One says ’**PLAY**’, the other one ’**STOP**’.","A row of LEDs run across the top of the panel. There are seven of them. Their colors correspond to the colors of the doors.","And, coincidentally, to the colors of the rainbow.",'Underneath each LED is a switch labeled "Mute".'].join(`
`),onLook:()=>{disk.isPlaying&&println("The PLAY button is pulsating slowly."),hw(),uA()}}],exits:[{dir:["Red Door","red","r","sw"],id:"redroom",block:"The red door appears to be locked. What are they keeping from you?"},{dir:["Orange Door","orange","o","w"],id:"orangeroom",block:"Something seems to be blocking this door. But what?"},{dir:["Yellow Door","yellow","y","nw"],id:"yellowroom"},{dir:["Green Door","green","g","n"],id:"greenroom"},{dir:["Blue Door","blue","b","ne"],id:"blueroom"},{dir:["Indigo Door","indigo","i","e"],id:"indigoroom",block:"No matter how hard you pull, the door won’t budge. You can’t help but wonder what might be hidden behind it."},{dir:["Violet Door","violet","v","se"],id:"violetroom"}]},Lc="Red",mw=()=>"",dw={id:"redroom",img:["■■■■ ■■■■","■■■■ ■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Lc} Room`,desc:"This is the red room",isActive:!1,isMuted:!1,color:Lc,generateSoundString:mw,onEnter:()=>{Zn("redroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","ne","x"],id:"rainbowroom"}]},jc="Orange",fw=()=>"",gw={id:"orangeroom",img:["■■■■■■■■■","■■■■ ■■■■","■■■■■■■■■"].join(`
`),name:`The ${jc} Room`,desc:"This is the orange room",isActive:!1,isMuted:!1,color:jc,generateSoundString:fw,onEnter:()=>{Zn("orangeroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","e","x"],id:"rainbowroom"}]},Oc="Yellow",Gc=["A","B","C","D","E","F","G"];let Su="";const Aw=['sound("[triangle]").fm(1.4)',"lpf(800).lpq(6).dec(1.5)",'vib("7:.3").gain(.8)',"velocity(sine.range(.2, .3).slow(15))"];let Kn,Xr,He,aA;const Cw=()=>{Kn=[0,1,2,3,4],Xr=[],He=["-","-","-","-","-"],aA=4};Cw();const yw=()=>Su?`${Su}.${Aw.join(".")}`:"",zc=()=>{Su=He.length>0?`note("${He.map(t=>`${t}${t==="-"?"":aA}`).join(" ")}")`:""},Wc=()=>{if(He.length===0)println("No slots have cubes in them.");else{const t=[];for(let r=0;r<He.length;r++)He[r]!=="-"&&t.push(`In slot number ${r+1} there is a cube with the letter ${He[r]}`);println(t.join(`
`))}},ji={id:"yellowroom",img:["■■■■■■■■■","■■■■■■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Oc} Room`,desc:"This is the yellow room. In the middle of the room there is a weird **contraption**. On the floor beneath the contraption is a **bucket** with what looks like wooden alphabet cubes.",isActive:!1,isMuted:!1,color:Oc,generateSoundString:yw,onEnter:()=>{Zn("yellowroom")},items:[{name:["contraption"],desc:["Apart from all the wiring, the ornamentation and the weird details, the contraption seems fairly simple.","There are five square slots behind a glass pane.","The slots are about the same size as the alphabet cubes in the bucket at the bottom of the contraption.","On top of the contraption is a large funnel."].join(`

`)},{name:["bucket","cubes"],desc:["There are seven wooden cubes in the bucket. On each side of each cube, a letter is painted – one letter for each cube.","The cubes are about the same size as the square slots in the contraption.","It appears you can use them in some way."].join(`
`),onUse:()=>{if(!He.includes("-"))println("All slots are already filled, and the cubes bounce off them and tumble down the innards of the contraption, eventually ending up back in the bucket.");else{for(println("You empty the bucket in the funnel. The cubes tumble down a tube. Some of them land in a slot, others continue through the contraption and end up back in the bucket.");He.includes("-");){const t=pickOne(Gc);if(!Xr.includes(t)){Xr.push(t);const r=pickOne(Kn);Kn.splice(Kn.indexOf(r),1),He[r]=t}}ji.isActive=!0,zc(),De(),Wc()}},onLook:()=>{for(const t of Gc)ji.items.push({name:[`Cube${t}`,t,t.toLowerCase()],desc:`A cube with the letter **${t}**`,onUse:()=>{if(Xr.includes(t))println("This cube is already in the contraption.");else if(length.emptySlots===0)println("The cube falls down the funnel, bounces off the filled slots, falls through the contraption and rolls out in the bucket again.");else{let r=uw(0,4);Kn.includes(r)?(println([`You put the cube with the letter ${t} in the funnel.`,`It tumbles down a tube and lands in the slot numbered ${r+1}`].join(`
`)),ji.isActive=!0,Xr.push(t),Kn.splice(Kn.indexOf(r),1),He[r]=t,zc(),De(),Wc()):println([`You put the cube with the letter ${t} in the funnel.`,`It really wants to land in slot ${r+1}, but the slot is occupied and the cube falls through and lands in the bucket again.`].join(`
`))}}})}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","se","x"],id:"rainbowroom"}]},qc="Green",cA=["A","B","C","D","E","F","G"];let _u="";const Mw=["segment(4).clip(rand.range(.4,.8))","room(.35).delay(.15)","fm(sine.range(2,6).slow(8))","lpf(sine.range(600,1200).slow(6)).lpq(3)",'rarely(ply("2")).chunk(4, fast(2))'];let ie=[],Zr=3,Hr=!1,lA,Ii=0;const bw=()=>_u?`${_u}.${Mw.join(".")}`:"",Qi=()=>{_u=ie.length>0?`note("${ie.map(t=>`${t}${Zr}`).join(" ")}")`:""},hA=()=>{if(ie.length===0)println("No buttons are depressed.");else if(ie.length===1)println(`Button ${ie[0]} is depressed.`);else{let t="";for(let r=0;r<ie.length-1;r++)t+=`${ie[r]}, `;println(`Buttons ${t.slice(0,-2)} and ${ie[ie.length-1]} are depressed.`)}},Pw=()=>{lA=setInterval(()=>{const t=[];cA.forEach(r=>{Math.random()<.2&&t.push(r)}),ie=[...t],ie.length===0&&ie.push("E"),Qi(),De()},3e3)},Dw=()=>{clearInterval(lA),Hr=!1},vw=cA.map(t=>({name:`Button${t}`,desc:`A button with the letter ${t}`,onUse:()=>{ie.includes(t)?ie.splice(ie.indexOf(t),1):ie.push(t),disk.isPlaying||println("Nothing happens."),ts.isActive=!0,Qi(),De(),hA()}})),ts={id:"greenroom",img:["■■■■■■■■■","■■■■ ■■■■","■■■■ ■■■■"].join(`
`),name:`The ${qc} Room`,desc:["This is a very green room. You can’t really see the walls – they’re all covered in leaves and vines.","It’s incredibly humid in here.","In the far corner of the room, some kind of ancient stone machinery is withering away, halv covered in vegetation.","You can see **buttons** on it, and something that looks like a **lever**.","There is a **cage** on the floor."].join(`
`),isActive:!1,isMuted:!1,color:qc,generateSoundString:bw,onEnter:()=>{Zn("greenroom")},items:[...vw,{name:"Buttons",desc:"There are seven buttons. Above each, a letter is chiseled. It’s the first seven letters of the alphabet.",onUse:()=>{println("You can’t use all the buttons at once. Try using one of the buttons instead. For example **ButtonA**.")},onLook:()=>{Hr?println("A very happy lizard is skipping across the buttons, engaging and disengaging them in a seemingly random pattern."):hA()}},{name:"Lever",desc:'The lever has two positions, marked "2" and "3".',onLook:()=>{println(`It’s currently in the "${Zr}" position.`)},onUse:()=>{Zr=Zr===2?3:2,println(`The lever is now in the "${Zr}" position.`),disk.isPlaying?println("This seems to have changed the octave of the notes playing. Sweet!"):println("Nothing happens."),Qi(),De()}},{name:"Cage",desc:"There’s a small golden cage on the floor",onLook:()=>{Hr?println("The cage is empty."):println(["From inside, a lizard peers curiously at you.","The lizard is not huge, but way too big for the small cage.","The cage has a door, and it seems to be bolted, not locked."].join(`
`))},onTake:()=>{println("The cage is fastened to the stone floor with huge clasps. You won’t be able to move it. Perhaps you can use it some other way?")},onUse:()=>{Ii===0?(println("Do you really want to open the cage door? The lizard will get out."),Ii++):Ii===1?(println("I mean, it’s your choice, and the lizard does seem pretty friendly. Are you absolutely sure?"),Ii++):(println(["You wiggled the bolt a bit, and after a few tries you manage to slide it open.","You open the cage door and the lizard immediately slips out.","After looking around the room, it heads for the stone machine and starts walking proudly across the buttons."].join(`
`)),Pw(),Hr=!0,ts.isActive=!0,ts.items.push({name:"Lizard",desc:"A green lizard.",isTakeable:!0,onTake:()=>{println(["After a few attempts, and to your big surprise, you manage to catch the lizard.","The lizard looks equally surprised.","You put it in your bag."].join(`
`)),Hr=!1,Dw(),Qi(),ie.length>0&&De()},onUse:()=>{switch(disk.roomId){case"blueroom":const t=getRoom("blueroom");console.log(t),println("You put the lizard in the wheel, and it starts running immediately."),t.enableWheelTurn();const r=disk.inventory.map(i=>i.name).indexOf("Lizard");disk.inventory.splice(r,1),t.items.push({name:"Lizard",desc:"The lizard from the Green Room is now powering your jumping fountain bass machine.",isTakeable:!1,onTake:()=>{println("The lizard snaps at you with its strange beak. It does not seem willing to stop running in this wheel.")}});break;default:println("You can’t use the lizard here.")}}}))}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","s","x"],id:"rainbowroom"}]},Xc="Blue",Ew=["A","B","C","D","E","F","G"];let es="";const Fw=['slow(2).sound("sine")',"vib(sine.segment(16).range(0.01,0.5).range(0.1,1))","fm(3).gain(0.2).room(0.5)"];let ww=1,Jt=[],ni=!1;const Bw=()=>es?`${es}.${Fw.join(".")}`:"",pA=()=>{es=Jt.length>0?`note("${Jt.map(t=>`${t}${ww}`).join(" ")}")`:""},Iw=()=>{if(Jt.length===0)println("No valves are open.");else if(Jt.length===1)println(`Valve ${Jt[0]} is open.`),ni?println(`A single stream of water shoots out of the nozzle labeled ${Jt[0]} and flies across the room. When it lands, a single bass note is played.`):println([`A single stream of water shoots out of the nozzle labeled ${Jt[0]} and lands with a splash on the floor halfway across the room.`,"Perhaps the water pressure is not enough?"].join(`
`));else{let t="";for(let r=0;r<Jt.length-1;r++)t+=`${Jt[r]}, `;println(`Valves ${t.slice(0,-2)} and ${Jt[Jt.length-1]} are open.`),ni?println("Streams of water shoot out of the nozzles and fly across the room. As each land, a single bass note is played."):println(["Streams of water shoot out of the nozzles and land with a splash on the floor halfway across the room.","Perhaps the water pressure is not enough?"].join(`
`))}},Zc=()=>{console.log("Enabling wheel turn"),ni=!0,xs.isActive=!0,pA(),De()},xw=()=>{console.log("Disabling wheel turn"),println(["As the wheel slows, the water pressure goes down again.","The earth-shattering bass that moments ago filled the room dies down and dissipates as if absorbed by the cracks in the floor.","You would have to turn this wheel indefinately to get a bass line going.","Or get someone to do it for you."].join(`
`)),ni=!1,es="note()",De(),xs.isActive=!1},Sw=Ew.map(t=>({name:`Valve${t}`,desc:`A valve labeled "${t}"`,onUse:()=>{if(Jt.includes(t)?Jt.splice(Jt.indexOf(t),1):Jt.push(t),!disk.isPlaying){println("Nothing happens.");return}ni&&(xs.isActive=!0,pA(),De()),Iw()}})),xs={id:"blueroom",img:["■■■■ ■■■■","■■■■■■■■■","■■■■■■■■■"].join(`
`),name:`The ${Xc} Room`,desc:["The room is dark. The only light – blue, pulsating – emanates from the translucent pipes running up and down the walls.","The pipes seem to converge in a row of seven nozzles, pointed at a slightly upwards angle.","Above the nozzles are seven **valves**, labeled A to G."].join(`
`),isActive:!1,isMuted:!1,color:Xc,generateSoundString:Bw,enableWheelTurn:Zc,onEnter:()=>{Zn("blueroom")},items:[...Sw,{name:"valves",onUse:()=>{println("You can’t use all the valves at the same time. Try to use **valveb** for example.")}},{name:["wheel"],desc:"",onUse:()=>{Jt.length===0?println("The water presssure rises, but nothing happens"):Jt.length===1?println([`The water pressure rises. A single jet of water shoots out from the nozzle labeled ${Jt[0]}, fly across the room and lan in its corresponding receptacle.`,"As it lands, a profound bass note shakes the room."].join(`
`)):println(["The water pressure rises. Water shoots out from the nozzles with open valves, fly across the room and lan in their respective receptacle.","As each jet of water lands, a profound bass note shakes the room."].join(`
`)),Zc(),setTimeout(xw,5e3)}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","sw","x"],id:"rainbowroom"}]},Hc="Indigo",_w=()=>"",kw={id:"indigoroom",img:["■■■■ ■■■■","■■■■■■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Hc} Room`,desc:"This is the indigo room",isActive:!1,isMuted:!1,color:Hc,generateSoundString:_w,onEnter:()=>{Zn("indigoroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","w","x"],id:"rainbowroom"}]},Kc="Violet";let Yc=!1;const Nw=()=>"",ku={id:"violetroom",img:["■■■■ ■■■■","■■■■■■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Kc} Room`,desc:["You’re standing in the violet room. It’s completely bare, except for what looks like a metallic **mannequin** slumped against the back wall.",...disk&&disk.visitedRooms.filter(t=>!1).length>1?["This room seems deeper, longer than the others you visited, but the ceiling is much lower.","The silence in here is imposing, it’s almost as if the room is holding its breath.","As you start moving through the room, you notice that you’re unconsciously tiptoeing.","You approach the mannequin with trepidation, slowly as to not disturb the oppressive tranquility."]:["You don’t know how the other rooms look, but you hope they’re nothing like this one.","The ceiling seems too low compared to the length of the room, and there’s something almost imposing about the silence in here – it’s as if the room is holding its breath.","You approach the mannequin with trepidation, tiptoeing slowly as to not disturb the oppressive tranquility."],"When you’re a few feet away from the mannequin, you feel something... a presence?","No, your mind is just playing tricks on you. But still... you want to get out of this room."].join(`
`),isActive:!1,isMuted:!1,color:Kc,generateSoundString:Nw,onEnter:()=>{Zn("violetroom")},onLook:()=>{ku.desc="",Yc?println([].join(`
`)):println([].join(`
`))},items:[{name:"Mannequin",desc:["You lean forward to examine the mannequin. As you reach out to touch it, it startles to life with an actuator scream.",""].join(`
`),onLook:()=>{const t=disk.inventory.map(r=>r.name).indexOf("Mannequin");ku.items.splice(t,1),Yc=!0,ia.roomId="violetroom"}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","nw","x"],id:"rainbowroom"}]};commands=cw;sA();const Tw=()=>({roomId:"rainbowroom",cpm:60,isPlaying:!1,inventory:[],visitedRooms:[],rooms:[oA,dw,gw,ji,ts,xs,kw,ku],characters:[ia]});loadDisk(Tw);document.body.classList.remove("no-js");
