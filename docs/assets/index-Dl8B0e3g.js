(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(o){if(o.ep)return;o.ep=!0;const a=i(o);fetch(o.href,a)}})();/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var OC=2e3,it={s:1,n:0,d:1};function gn(t,r){if(isNaN(t=parseInt(t,10)))throw Bi();return t*r}function Wt(t,r){if(r===0)throw Fu();var i=Object.create(St.prototype);i.s=t<0?-1:1,t=t<0?-t:t;var u=mr(t,r);return i.n=t/u,i.d=r/u,i}function ca(t){for(var r={},i=t,u=2,o=4;o<=i;){for(;i%u===0;)i/=u,r[u]=(r[u]||0)+1;o+=1+2*u++}return i!==t?i>1&&(r[i]=(r[i]||0)+1):r[t]=(r[t]||0)+1,r}var Me=function(t,r){var i=0,u=1,o=1,a=0,c=0,l=0,m=1,d=1,f=0,g=1,A=1,D=1,F=1e7,E;if(t!=null)if(r!==void 0){if(i=t,u=r,o=i*u,i%1!==0||u%1!==0)throw zC()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)i=t.n,u=t.d,"s"in t&&(i*=t.s);else if(0 in t)i=t[0],1 in t&&(u=t[1]);else throw Bi();o=i*u;break}case"number":{if(t<0&&(o=t,t=-t),t%1===0)i=t;else if(t>0){for(t>=1&&(d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=d);g<=F&&D<=F;)if(E=(f+A)/(g+D),t===E){g+D<=F?(i=f+A,u=g+D):D>g?(i=A,u=D):(i=f,u=g);break}else t>E?(f+=A,g+=D):(A+=f,D+=g),g>F?(i=A,u=D):(i=f,u=g);i*=d}else(isNaN(t)||isNaN(r))&&(u=i=NaN);break}case"string":{if(g=t.match(/\d+|./g),g===null)throw Bi();if(g[f]==="-"?(o=-1,f++):g[f]==="+"&&f++,g.length===f+1?c=gn(g[f++],o):g[f+1]==="."||g[f]==="."?(g[f]!=="."&&(a=gn(g[f++],o)),f++,(f+1===g.length||g[f+1]==="("&&g[f+3]===")"||g[f+1]==="'"&&g[f+3]==="'")&&(c=gn(g[f],o),m=Math.pow(10,g[f].length),f++),(g[f]==="("&&g[f+2]===")"||g[f]==="'"&&g[f+2]==="'")&&(l=gn(g[f+1],o),d=Math.pow(10,g[f+1].length)-1,f+=3)):g[f+1]==="/"||g[f+1]===":"?(c=gn(g[f],o),m=gn(g[f+2],1),f+=3):g[f+3]==="/"&&g[f+1]===" "&&(a=gn(g[f],o),c=gn(g[f+2],o),m=gn(g[f+4],1),f+=5),g.length<=f){u=m*d,o=i=l+u*a+d*c;break}}default:throw Bi()}if(u===0)throw Fu();it.s=o<0?-1:1,it.n=Math.abs(i),it.d=Math.abs(u)};function GC(t,r,i){for(var u=1;r>0;t=t*t%i,r>>=1)r&1&&(u=u*t%i);return u}function jC(t,r){for(;r%2===0;r/=2);for(;r%5===0;r/=5);if(r===1)return 0;for(var i=10%r,u=1;i!==1;u++)if(i=i*10%r,u>OC)return 0;return u}function WC(t,r,i){for(var u=1,o=GC(10,i,r),a=0;a<300;a++){if(u===o)return a;u=u*10%r,o=o*10%r}return 0}function mr(t,r){if(!t)return r;if(!r)return t;for(;;){if(t%=r,!t)return r;if(r%=t,!r)return t}}function St(t,r){if(Me(t,r),this instanceof St)t=mr(it.d,it.n),this.s=it.s,this.n=it.n/t,this.d=it.d/t;else return Wt(it.s*it.n,it.d)}var Fu=function(){return new Error("Division by Zero")},Bi=function(){return new Error("Invalid argument")},zC=function(){return new Error("Parameters must be integer")};St.prototype={s:1,n:0,d:1,abs:function(){return Wt(this.n,this.d)},neg:function(){return Wt(-this.s*this.n,this.d)},add:function(t,r){return Me(t,r),Wt(this.s*this.n*it.d+it.s*this.d*it.n,this.d*it.d)},sub:function(t,r){return Me(t,r),Wt(this.s*this.n*it.d-it.s*this.d*it.n,this.d*it.d)},mul:function(t,r){return Me(t,r),Wt(this.s*it.s*this.n*it.n,this.d*it.d)},div:function(t,r){return Me(t,r),Wt(this.s*it.s*this.n*it.d,this.d*it.n)},clone:function(){return Wt(this.s*this.n,this.d)},mod:function(t,r){if(isNaN(this.n)||isNaN(this.d))return new St(NaN);if(t===void 0)return Wt(this.s*this.n%this.d,1);if(Me(t,r),it.n===0&&this.d===0)throw Fu();return Wt(this.s*(it.d*this.n)%(it.n*this.d),it.d*this.d)},gcd:function(t,r){return Me(t,r),Wt(mr(it.n,this.n)*mr(it.d,this.d),it.d*this.d)},lcm:function(t,r){return Me(t,r),it.n===0&&this.n===0?Wt(0,1):Wt(it.n*this.n,mr(it.n,this.n)*mr(it.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new St(NaN):Wt(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new St(NaN):Wt(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new St(NaN):Wt(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,r){return Me(t,r),Wt(this.s*Math.round(this.n*it.d/(this.d*it.n))*it.n,it.d)},inverse:function(){return Wt(this.s*this.d,this.n)},pow:function(t,r){if(Me(t,r),it.d===1)return it.s<0?Wt(Math.pow(this.s*this.d,it.n),Math.pow(this.n,it.n)):Wt(Math.pow(this.s*this.n,it.n),Math.pow(this.d,it.n));if(this.s<0)return null;var i=ca(this.n),u=ca(this.d),o=1,a=1;for(var c in i)if(c!=="1"){if(c==="0"){o=0;break}if(i[c]*=it.n,i[c]%it.d===0)i[c]/=it.d;else return null;o*=Math.pow(c,i[c])}for(var c in u)if(c!=="1"){if(u[c]*=it.n,u[c]%it.d===0)u[c]/=it.d;else return null;a*=Math.pow(c,u[c])}return it.s<0?Wt(a,o):Wt(o,a)},equals:function(t,r){return Me(t,r),this.s*this.n*it.d===it.s*it.n*this.d},compare:function(t,r){Me(t,r);var i=this.s*this.n*it.d-it.s*it.n*this.d;return(0<i)-(i<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var r=this.abs(),i=r.toContinued(),u=1;u<i.length;u++){for(var o=Wt(i[u-1],1),a=u-2;a>=0;a--)o=o.inverse().add(i[a]);if(Math.abs(o.sub(r).valueOf())<t)return o.mul(this.s)}return this},divisible:function(t,r){return Me(t,r),!(!(it.n*this.d)||this.n*it.d%(it.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,i="",u=this.n,o=this.d;return this.s<0&&(i+="-"),o===1?i+=u:(t&&(r=Math.floor(u/o))>0&&(i+=r,i+=" ",u%=o),i+=u,i+="/",i+=o),i},toLatex:function(t){var r,i="",u=this.n,o=this.d;return this.s<0&&(i+="-"),o===1?i+=u:(t&&(r=Math.floor(u/o))>0&&(i+=r,u%=o),i+="\\frac{",i+=u,i+="}{",i+=o,i+="}"),i},toContinued:function(){var t,r=this.n,i=this.d,u=[];if(isNaN(r)||isNaN(i))return u;do u.push(Math.floor(r/i)),t=r%i,r=i,i=t;while(r!==1);return u},toString:function(t){var r=this.n,i=this.d;if(isNaN(r)||isNaN(i))return"NaN";t=t||15;var u=jC(r,i),o=WC(r,i,u),a=this.s<0?"-":"";if(a+=r/i|0,r%=i,r*=10,r&&(a+="."),u){for(var c=o;c--;)a+=r/i|0,r%=i,r*=10;a+="(";for(var c=u;c--;)a+=r/i|0,r%=i,r*=10;a+=")"}else for(var c=t;r&&c--;)a+=r/i|0,r%=i,r*=10;return a}};const wu="strudel.log";let qC=1e3,la,ha;function Yt(t,r,i={}){let u=performance.now();la===t&&u-ha<qC||(la=t,ha=u,console.log(`%c${t}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(wu,{detail:{message:t,type:r,data:i}})))}Yt.key=wu;const ZC=t=>/^[a-gA-G][#bs]*[0-9]$/.test(t),rr=t=>/^[a-gA-G][#bsf]*[0-9]?$/.test(t),xc=t=>{if(typeof t!="string")return[];const[r,i="",u]=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return r?[r,i,u?Number(u):void 0]:[]},HC={c:0,d:2,e:4,f:5,g:7,a:9,b:11},XC={"#":1,b:-1,s:1,f:-1},qn=(t,r=3)=>{const[i,u,o=r]=xc(t);if(!i)throw new Error('not a note: "'+t+'"');const a=HC[i.toLowerCase()],c=u?.split("").reduce((l,m)=>l+XC[m],0)||0;return(Number(o)+1)*12+a+c},br=t=>Math.pow(2,(t-69)/12)*440,Bu=t=>12*Math.log(t/440)/Math.LN2+69,KC=(t,r)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:i,note:u}=t;if(typeof i=="number")return Bu(i);if(typeof u=="string")return qn(u);if(typeof u=="number")return u;if(!r)throw new Error("valueToMidi: expected freq or note to be set");return r},YC=(t,r)=>(t-r)*1e3,Sc=t=>br(typeof t=="number"?t:qn(t)),UC=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],$C=t=>{const r=Math.floor(t/12)-1;return UC[t%12]+r},Ne=(t,r)=>(t%r+r)%r;function kc(t,r=0){return isNaN(Number(t))?(Yt(`"${t}" is not a number, falling back to ${r}`,"warning"),r):t}const JC=(t,r)=>Ne(Math.round(kc(t??0,0)),r),QC=t=>{let{value:r,context:i}=t,u=r;if(typeof u=="object"&&!Array.isArray(u)&&(u=u.note||u.n||u.value,u===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(r)}`);if(typeof u=="number"&&i.type!=="frequency")u=br(t.value);else if(typeof u=="number"&&i.type==="frequency")u=t.value;else if(typeof u!="string"||!rr(u))throw new Error("not a note: "+JSON.stringify(u));return u},_c=t=>{let{value:r,context:i}=t;if(typeof r=="object")return r.freq?r.freq:Sc(r.note||r.n||r.value);if(typeof r=="number"&&i.type!=="frequency")r=br(t.value);else if(typeof r=="string"&&rr(r))r=br(qn(t.value));else if(typeof r!="number")throw new Error("not a note or frequency: "+r);return r},Nc=(t,r)=>t.slice(r).concat(t.slice(0,r)),Tc=(...t)=>t.reduce((r,i)=>(...u)=>r(i(...u)),r=>r),t2=(...t)=>Tc(...t.reverse()),Br=t=>t.filter(r=>r!=null),Mn=t=>[].concat(...t),dr=t=>t,e2=(t,r)=>t,Iu=(t,r)=>Array.from({length:r-t+1},(i,u)=>u+t);function Ft(t,r,i=t.length){const u=function o(...a){if(a.length>=i)return t.apply(this,a);{const c=function(...l){return o.apply(this,a.concat(l))};return r&&r(c,a),c}};return r&&r(u,[]),u}function xu(t){const r=Number(t);if(!isNaN(r))return r;if(rr(t))return qn(t);throw new Error(`cannot parse as numeral: "${t}"`)}function Su(t,r){return(...i)=>t(...i.map(r))}function xe(t){return Su(t,xu)}function Rc(t){const r=Number(t);if(!isNaN(r))return r;const i={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[t];if(typeof i<"u")return i;throw new Error(`cannot parse as fractional: "${t}"`)}const n2=t=>Su(t,Rc),ku=function(t,r){return[r.slice(0,t),r.slice(t)]},_u=(t,r,i)=>r.map((u,o)=>t(u,i[o])),Vc=function(t){const r=[];for(let i=0;i<t.length-1;++i)r.push([t[i],t[i+1]]);return r},Nu=(t,r,i)=>Math.min(Math.max(t,r),i),r2=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],i2=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],s2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],u2=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],o2=["I","Ro","Ha","Ni","Ho","He","To"],a2=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],c2=(t,r="letters")=>{const i=(r==="solfeggio"?r2:r==="indian"?i2:r==="german"?s2:r==="byzantine"?u2:r==="japanese"?o2:a2)[t%12],u=Math.floor(t/12)-1;return i+u};function l2(t){var r={};return t.filter(function(i){return r.hasOwn(i)?!1:r[i]=!0})}function h2(t){return t.sort().filter(function(r,i,u){return!i||r!=u[i-1]})}function Lc(t){return t.sort((r,i)=>r.compare(i)).filter(function(r,i,u){return!i||r.ne(u[i-1])})}function Oc(t){const r=new TextEncoder().encode(t);return btoa(String.fromCharCode(...r))}function Gc(t){const r=new Uint8Array(atob(t).split("").map(i=>i.charCodeAt(0)));return new TextDecoder().decode(r)}function p2(t){return encodeURIComponent(Oc(t))}function m2(t){return Gc(decodeURIComponent(t))}function jc(t,r){return Array.isArray(t)?t.map(r):Object.fromEntries(Object.entries(t).map(([i,u],o)=>[i,r(u,i,o)]))}St.prototype.sam=function(){return this.floor()};St.prototype.nextSam=function(){return this.sam().add(1)};St.prototype.wholeCycle=function(){return new Ze(this.sam(),this.nextSam())};St.prototype.cyclePos=function(){return this.sub(this.sam())};St.prototype.lt=function(t){return this.compare(t)<0};St.prototype.gt=function(t){return this.compare(t)>0};St.prototype.lte=function(t){return this.compare(t)<=0};St.prototype.gte=function(t){return this.compare(t)>=0};St.prototype.eq=function(t){return this.compare(t)==0};St.prototype.ne=function(t){return this.compare(t)!=0};St.prototype.max=function(t){return this.gt(t)?this:t};St.prototype.maximum=function(...t){return t=t.map(r=>new St(r)),t.reduce((r,i)=>i.max(r),this)};St.prototype.min=function(t){return this.lt(t)?this:t};St.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};St.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};St.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};St.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};St.prototype.show=function(){return this.s*this.n+"/"+this.d};St.prototype.or=function(t){return this.eq(0)?t:this};const tt=t=>St(t),d2=(...t)=>{if(t=Br(t),t.length!==0)return t.reduce((r,i)=>r.gcd(i),tt(1))},ii=(...t)=>{if(t=Br(t),t.length!==0)return t.reduce((r,i)=>r===void 0||i===void 0?void 0:r.lcm(i),tt(1))};tt._original=St;let Ze=class yn{constructor(r,i){this.begin=tt(r),this.end=tt(i)}get spanCycles(){const r=[];var i=this.begin;const u=this.end,o=u.sam();if(i.equals(u))return[new yn(i,u)];for(;u.gt(i);){if(i.sam().equals(o)){r.push(new yn(i,this.end));break}const a=i.nextSam();r.push(new yn(i,a)),i=a}return r}get duration(){return this.end.sub(this.begin)}cycleArc(){const r=this.begin.cyclePos(),i=r.add(this.duration);return new yn(r,i)}withTime(r){return new yn(r(this.begin),r(this.end))}withEnd(r){return new yn(this.begin,r(this.end))}withCycle(r){const i=this.begin.sam(),u=i.add(r(this.begin.sub(i))),o=i.add(r(this.end.sub(i)));return new yn(u,o)}intersection(r){const i=this.begin.max(r.begin),u=this.end.min(r.end);if(!i.gt(u)&&!(i.equals(u)&&(i.equals(this.end)&&this.begin.lt(this.end)||i.equals(r.end)&&r.begin.lt(r.end))))return new yn(i,u)}intersection_e(r){const i=this.intersection(r);if(i==null)throw"TimeSpans do not intersect";return i}midpoint(){return this.begin.add(this.duration.div(tt(2)))}equals(r){return this.begin.equals(r.begin)&&this.end.equals(r.end)}show(){return this.begin.show()+" → "+this.end.show()}},ue=class Hr{constructor(r,i,u,o={},a=!1){this.whole=r,this.part=i,this.value=u,this.context=o,this.stateful=a,a&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){let r;return typeof this.value?.duration=="number"?r=tt(this.value.duration):r=this.whole.end.sub(this.whole.begin),typeof this.value?.clip=="number"?r.mul(this.value.clip):r}get endClipped(){return this.whole.begin.add(this.duration)}isActive(r){return this.whole.begin<=r&&this.endClipped>=r}isInPast(r){return r>this.endClipped}isInNearPast(r,i){return i-r<=this.endClipped}isInFuture(r){return r<this.whole.begin}isInNearFuture(r,i){return i<this.whole.begin&&i>this.whole.begin-r}isWithinTime(r,i){return this.whole.begin<=i&&this.endClipped>=r}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(r){const i=this.whole?r(this.whole):void 0;return new Hr(i,r(this.part),this.value,this.context)}withValue(r){return new Hr(this.whole,this.part,r(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(r){return this.context.tags?.includes(r)}resolveState(r){if(this.stateful&&this.hasOnset()){console.log("stateful");const i=this.value,[u,o]=i(r);return[u,new Hr(this.whole,this.part,o,this.context,!1)]}return[r,this]}spanEquals(r){return this.whole==null&&r.whole==null||this.whole.equals(r.whole)}equals(r){return this.spanEquals(r)&&this.part.equals(r.part)&&this.value===r.value}show(r=!1){const i=typeof this.value=="object"?r?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var u="";if(this.whole==null)u="~"+this.part.show;else{var o=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(u=this.whole.begin.show()+" ⇜ "),o||(u+="("),u+=this.part.show(),o||(u+=")"),this.whole.end.equals(this.part.end)||(u+=" ⇝ "+this.whole.end.show())}return"[ "+u+" | "+i+" ]"}showWhole(r=!1){return`${this.whole==null?"~":this.whole.show()}: ${typeof this.value=="object"?r?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value}`}combineContext(r){const i=this;return{...i.context,...r.context,locations:(i.context.locations||[]).concat(r.context.locations||[])}}setContext(r){return new Hr(this.whole,this.part,this.value,r)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}},tu=class eu{constructor(r,i={}){this.span=r,this.controls=i}setSpan(r){return new eu(r,this.controls)}withSpan(r){return this.setSpan(r(this.span))}setControls(r){return new eu(this.span,r)}};function f2(t,r,i){if(r?.value!==void 0&&Object.keys(r).length===1)return Yt("[warn]: Can't do arithmetic on control pattern."),t;const u=Object.keys(t).filter(o=>Object.keys(r).includes(o));return Object.assign({},t,r,Object.fromEntries(u.map(o=>[o,i(t[o],r[o])])))}Ft((t,r)=>t*r);Ft((t,r)=>r.map(t));function Wc(t,r=60){let i=0,u=tt(0),o=[""],a="";for(;o[0].length<r;){const c=t.queryArc(i,i+1),l=c.filter(f=>f.hasOnset()).map(f=>f.duration),m=d2(...l),d=m.inverse();o=o.map(f=>f+"|"),a+="|";for(let f=0;f<d;f++){const[g,A]=[u,u.add(m)],D=c.filter(E=>E.whole.begin.lte(g)&&E.whole.end.gte(A)),F=D.length-o.length;F>0&&(o=o.concat(Array(F).fill(a))),o=o.map((E,S)=>{const N=D[S];if(N){const L=N.whole.begin.eq(g)?""+N.value:"-";return E+L}return E+"."}),a+=".",u=u.add(m)}i++}return o.join(`
`)}let nu,Ke=!0;const g2=function(t){Ke=!!t},zc=t=>nu=t;let ot=class re{constructor(r,i=void 0){this.query=r,this._Pattern=!0,this.tactus=i}get tactus(){return this.__tactus}set tactus(r){this.__tactus=r===void 0?void 0:tt(r)}setTactus(r){return this.tactus=r,this}withTactus(r){return Ke?new re(this.query,this.tactus===void 0?void 0:r(this.tactus)):this}get hasTactus(){return this.tactus!==void 0}withValue(r){const i=new re(u=>this.query(u).map(o=>o.withValue(r)));return i.tactus=this.tactus,i}fmap(r){return this.withValue(r)}appWhole(r,i){const u=this,o=function(a){const c=u.query(a),l=i.query(a),m=function(d,f){const g=d.part.intersection(f.part);if(g!=null)return new ue(r(d.whole,f.whole),g,d.value(f.value),f.combineContext(d))};return Mn(c.map(d=>Br(l.map(f=>m(d,f)))))};return new re(o)}appBoth(r){const i=this,u=function(a,c){if(!(a==null||c==null))return a.intersection_e(c)},o=i.appWhole(u,r);return Ke&&(o.tactus=ii(r.tactus,i.tactus)),o}appLeft(r){const i=this,u=function(a){const c=[];for(const l of i.query(a)){const m=r.query(a.setSpan(l.wholeOrPart()));for(const d of m){const f=l.whole,g=l.part.intersection(d.part);if(g){const A=l.value(d.value),D=d.combineContext(l),F=new ue(f,g,A,D);c.push(F)}}}return c},o=new re(u);return o.tactus=this.tactus,o}appRight(r){const i=this,u=function(a){const c=[];for(const l of r.query(a)){const m=i.query(a.setSpan(l.wholeOrPart()));for(const d of m){const f=l.whole,g=d.part.intersection(l.part);if(g){const A=d.value(l.value),D=l.combineContext(d),F=new ue(f,g,A,D);c.push(F)}}}return c},o=new re(u);return o.tactus=r.tactus,o}bindWhole(r,i){const u=this,o=function(a){const c=function(m,d){return new ue(r(m.whole,d.whole),d.part,d.value,Object.assign({},m.context,d.context,{locations:(m.context.locations||[]).concat(d.context.locations||[])}))},l=function(m){return i(m.value).query(a.setSpan(m.part)).map(d=>c(m,d))};return Mn(u.query(a).map(m=>l(m)))};return new re(o)}bind(r){const i=function(u,o){if(!(u==null||o==null))return u.intersection_e(o)};return this.bindWhole(i,r)}join(){return this.bind(dr)}outerBind(r){return this.bindWhole(i=>i,r).setTactus(this.tactus)}outerJoin(){return this.outerBind(dr)}innerBind(r){return this.bindWhole((i,u)=>u,r)}innerJoin(){return this.innerBind(dr)}resetJoin(r=!1){const i=this;return new re(u=>i.discreteOnly().query(u).map(o=>o.value.late(r?o.whole.begin:o.whole.begin.cyclePos()).query(u).map(a=>new ue(a.whole?a.whole.intersection(o.whole):void 0,a.part.intersection(o.part),a.value).setContext(o.combineContext(a))).filter(a=>a.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const r=this;function i(u){const o=r.discreteOnly().query(u);function a(c){const l=c.value._focusSpan(c.wholeOrPart()).query(u.setSpan(c.part));function m(d,f){let g;if(f.whole&&d.whole&&(g=f.whole.intersection(d.whole),!g))return;const A=f.part.intersection(d.part);if(!A)return;const D=f.combineContext(d);return new ue(g,A,f.value,D)}return l.map(d=>m(c,d))}return Mn(o.map(a)).filter(c=>c)}return new re(i)}squeezeBind(r){return this.fmap(r).squeezeJoin()}queryArc(r,i,u={}){try{return this.query(new tu(new Ze(r,i),u))}catch(o){return Yt(`[query]: ${o.message}`,"error"),[]}}splitQueries(){const r=this,i=u=>Mn(u.span.spanCycles.map(o=>r.query(u.setSpan(o))));return new re(i)}withQuerySpan(r){return new re(i=>this.query(i.withSpan(r)))}withQuerySpanMaybe(r){const i=this;return new re(u=>{const o=u.withSpan(r);return o.span?i.query(o):[]})}withQueryTime(r){return new re(i=>this.query(i.withSpan(u=>u.withTime(r))))}withHapSpan(r){return new re(i=>this.query(i).map(u=>u.withSpan(r)))}withHapTime(r){return this.withHapSpan(i=>i.withTime(r))}withHaps(r){const i=new re(u=>r(this.query(u),u));return i.tactus=this.tactus,i}withHap(r){return this.withHaps(i=>i.map(r))}setContext(r){return this.withHap(i=>i.setContext(r))}withContext(r){const i=this.withHap(u=>u.setContext(r(u.context)));return this.__pure!==void 0&&(i.__pure=this.__pure,i.__pure_loc=this.__pure_loc),i}stripContext(){return this.withHap(r=>r.setContext({}))}withLoc(r,i){const u={start:r,end:i},o=this.withContext(a=>{const c=(a.locations||[]).concat([u]);return{...a,locations:c}});return this.__pure&&(o.__pure=this.__pure,o.__pure_loc=u),o}filterHaps(r){return new re(i=>this.query(i).filter(r))}filterValues(r){return new re(i=>this.query(i).filter(u=>r(u.value))).setTactus(this.tactus)}removeUndefineds(){return this.filterValues(r=>r!=null)}onsetsOnly(){return this.filterHaps(r=>r.hasOnset())}discreteOnly(){return this.filterHaps(r=>r.whole)}defragmentHaps(){return this.discreteOnly().withHaps(r=>{const i=[];for(var u=0;u<r.length;++u){for(var o=!0,a=r[u];o;){const m=JSON.stringify(r[u].value);for(var c=!1,l=u+1;l<r.length;l++){const d=r[l];if(a.whole.equals(d.whole)){if(a.part.begin.eq(d.part.end)){if(m===JSON.stringify(d.value)){a=new ue(a.whole,new Ze(d.part.begin,a.part.end),a.value),r.splice(l,1),c=!0;break}}else if(d.part.begin.eq(a.part.end)&&m==JSON.stringify(d.value)){a=new ue(a.whole,new Ze(a.part.begin,d.part.end),a.value),r.splice(l,1),c=!0;break}}}o=c}i.push(a)}return i})}firstCycle(r=!1){var i=this;return r||(i=i.stripContext()),i.query(new tu(new Ze(tt(0),tt(1))))}get firstCycleValues(){return this.firstCycle().map(r=>r.value)}get showFirstCycle(){return this.firstCycle().map(r=>`${r.value}: ${r.whole.begin.toFraction()} - ${r.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(r=>r.sort((i,u)=>i.part.begin.sub(u.part.begin).or(i.part.end.sub(u.part.end)).or(i.whole.begin.sub(u.whole.begin).or(i.whole.end.sub(u.whole.end)))))}asNumber(){return this.fmap(xu)}_opIn(r,i){return this.fmap(i).appLeft(nt(r))}_opOut(r,i){return this.fmap(i).appRight(nt(r))}_opMix(r,i){return this.fmap(i).appBoth(nt(r))}_opSqueeze(r,i){const u=nt(r);return this.fmap(o=>u.fmap(a=>i(o)(a))).squeezeJoin()}_opSqueezeOut(r,i){const u=this;return nt(r).fmap(o=>u.fmap(a=>i(a)(o))).squeezeJoin()}_opReset(r,i){return nt(r).fmap(u=>this.fmap(o=>i(o)(u))).resetJoin()}_opRestart(r,i){return nt(r).fmap(u=>this.fmap(o=>i(o)(u))).restartJoin()}layer(...r){return qt(...r.map(i=>i(this)))}superimpose(...r){return this.stack(...r.map(i=>i(this)))}stack(...r){return qt(this,...r)}sequence(...r){return Te(this,...r)}seq(...r){return Te(this,...r)}cat(...r){return Xc(this,...r)}fastcat(...r){return Ve(this,...r)}slowcat(...r){return ir(this,...r)}onTrigger(r,i=!0){return this.withHap(u=>u.setContext({...u.context,onTrigger:(...o)=>{u.context.onTrigger?.(...o),r(...o)},dominantTrigger:u.context.dominantTrigger||i}))}log(r=(u,o)=>`[hap] ${o.showWhole(!0)}`,i=(u,o)=>({hap:o})){return this.onTrigger((...u)=>{Yt(r(...u),void 0,i(...u))},!1)}logValues(r=dr){return this.log((i,u)=>r(u.value))}drawLine(){return console.log(Wc(this)),this}};function A2(t,r){let i=[];return r.forEach(u=>{const o=i.findIndex(([a])=>t(u,a));o===-1?i.push([u]):i[o].push(u)}),i}const C2=(t,r)=>t.spanEquals(r);ot.prototype.collect=function(){return this.withHaps(t=>A2(C2,t).map(r=>new ue(r[0].whole,r[0].part,r,{})))};ot.prototype.arpWith=function(t){return this.collect().fmap(r=>nt(t(r))).innerJoin().withHap(r=>new ue(r.whole,r.part,r.value.value,r.combineContext(r.value)))};ot.prototype.arp=function(t){return this.arpWith(r=>t.fmap(i=>r[i%r.length]))};function bi(t){return!Array.isArray(t)&&typeof t=="object"}function y2(t,r,i){return bi(t)||bi(r)?(bi(t)||(t={value:t}),bi(r)||(r={value:r}),f2(t,r,i)):i(t,r)}(function(){const t={set:[(i,u)=>u],keep:[i=>i],keepif:[(i,u)=>u?i:void 0],add:[xe((i,u)=>i+u)],sub:[xe((i,u)=>i-u)],mul:[xe((i,u)=>i*u)],div:[xe((i,u)=>i/u)],mod:[xe(Ne)],pow:[xe(Math.pow)],band:[xe((i,u)=>i&u)],bor:[xe((i,u)=>i|u)],bxor:[xe((i,u)=>i^u)],blshift:[xe((i,u)=>i<<u)],brshift:[xe((i,u)=>i>>u)],lt:[(i,u)=>i<u],gt:[(i,u)=>i>u],lte:[(i,u)=>i<=u],gte:[(i,u)=>i>=u],eq:[(i,u)=>i==u],eqt:[(i,u)=>i===u],ne:[(i,u)=>i!=u],net:[(i,u)=>i!==u],and:[(i,u)=>i&&u],or:[(i,u)=>i||u],func:[(i,u)=>u(i)]},r=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart"];for(const[i,[u,o]]of Object.entries(t)){ot.prototype["_"+i]=function(a){return this.fmap(c=>u(c,a))},Object.defineProperty(ot.prototype,i,{get:function(){const a=this,c=(...l)=>a[i].in(...l);for(const l of r)c[l.toLowerCase()]=function(...m){var d=a;m=Te(m),o&&(d=o(d),m=o(m));var f;return i==="keepif"?(f=d["_op"+l](m,g=>A=>u(g,A)),f=f.removeUndefineds()):f=d["_op"+l](m,g=>A=>y2(g,A,u)),f};return c.squeezein=c.squeeze,c}});for(const a of r)ot.prototype[a.toLowerCase()]=function(...c){return this.set[a.toLowerCase()](c)}}ot.prototype.struct=function(...i){return this.keepif.out(...i)},ot.prototype.structAll=function(...i){return this.keep.out(...i)},ot.prototype.mask=function(...i){return this.keepif.in(...i)},ot.prototype.maskAll=function(...i){return this.keep.in(...i)},ot.prototype.reset=function(...i){return this.keepif.reset(...i)},ot.prototype.resetAll=function(...i){return this.keep.reset(...i)},ot.prototype.restart=function(...i){return this.keepif.restart(...i)},ot.prototype.restartAll=function(...i){return this.keep.restart(...i)}})();const M2=qt,b2=qt,D2=ju,Ir=t=>new ot(()=>[],t),kt=Ir(1),en=Ir(0);function ce(t){function r(u){return u.span.spanCycles.map(o=>new ue(tt(o.begin).wholeCycle(),o,t))}const i=new ot(r,1);return i.__pure=t,i}function Tu(t){return t instanceof ot||t?._Pattern}function nt(t){return Tu(t)?t:nu&&typeof t=="string"?nu(t):ce(t)}function qt(...t){t=t.map(u=>Array.isArray(u)?Te(...u):nt(u));const r=u=>Mn(t.map(o=>o.query(u))),i=new ot(r);return Ke&&(i.tactus=ii(...t.map(u=>u.tactus))),i}function Ru(t,r){if(r=r.map(a=>Array.isArray(a)?Te(...a):nt(a)),r.length===0)return kt;if(r.length===1)return r[0];const[i,...u]=r.map(a=>a.tactus),o=Ke?i.maximum(...u):void 0;return qt(...t(o,r))}function qc(...t){return Ru((r,i)=>i.map(u=>u.tactus.eq(r)?u:Re(u,Ir(r.sub(u.tactus)))),t)}function Zc(...t){return Ru((r,i)=>i.map(u=>u.tactus.eq(r)?u:Re(Ir(r.sub(u.tactus)),u)),t)}function Hc(...t){return Ru((r,i)=>i.map(u=>{if(u.tactus.eq(r))return u;const o=Ir(r.sub(u.tactus).div(2));return Re(o,u,o)}),t)}function P2(t,...r){const[i,...u]=r.map(c=>c.tactus),o=i.maximum(...u),a={centre:Hc,left:qc,right:Zc,expand:qt,repeat:(...c)=>Qc(o,...c)};return t.inhabit(a).fmap(c=>c(...r)).innerJoin().setTactus(o)}function ir(...t){if(t=t.map(u=>Array.isArray(u)?Ve(...u):nt(u)),t.length==1)return t[0];const r=function(u){const o=u.span,a=Ne(o.begin.sam(),t.length),c=t[a];if(!c)return[];const l=o.begin.floor().sub(o.begin.div(t.length).floor());return c.withHapTime(m=>m.add(l)).query(u.setSpan(o.withTime(m=>m.sub(l))))},i=Ke?ii(...t.map(u=>u.tactus)):void 0;return new ot(r).splitQueries().setTactus(i)}function Vu(...t){t=t.map(nt);const r=function(i){const u=Math.floor(i.span.begin)%t.length;return t[u]?.query(i)||[]};return new ot(r).splitQueries()}function Xc(...t){return ir(...t)}function v2(...t){const r=t.reduce((i,[u])=>i+u,0);return t=t.map(([i,u])=>[i,u.fast(i)]),Re(...t).slow(r)}function Ve(...t){let r=ir(...t);return t.length>1&&(r=r._fast(t.length),r.tactus=t.length),r}function Te(...t){return Ve(...t)}function Kc(...t){return Ve(...t)}function ru(t){return Array.isArray(t)?t.length==0?[kt,0]:t.length==1?ru(t[0]):[Ve(...t.map(r=>ru(r)[0])),t.length]:[nt(t),1]}const E2=Ft((t,r)=>nt(r).mask(t)),F2=Ft((t,r)=>nt(r).struct(t)),w2=Ft((t,r)=>nt(r).superimpose(...t)),B2=Ft((t,r)=>nt(r).set(t)),I2=Ft((t,r)=>nt(r).keep(t)),x2=Ft((t,r)=>nt(r).keepif(t)),S2=Ft((t,r)=>nt(r).add(t)),k2=Ft((t,r)=>nt(r).sub(t)),_2=Ft((t,r)=>nt(r).mul(t)),N2=Ft((t,r)=>nt(r).div(t)),T2=Ft((t,r)=>nt(r).mod(t)),R2=Ft((t,r)=>nt(r).pow(t)),V2=Ft((t,r)=>nt(r).band(t)),L2=Ft((t,r)=>nt(r).bor(t)),O2=Ft((t,r)=>nt(r).bxor(t)),G2=Ft((t,r)=>nt(r).blshift(t)),j2=Ft((t,r)=>nt(r).brshift(t)),W2=Ft((t,r)=>nt(r).lt(t)),z2=Ft((t,r)=>nt(r).gt(t)),q2=Ft((t,r)=>nt(r).lte(t)),Z2=Ft((t,r)=>nt(r).gte(t)),H2=Ft((t,r)=>nt(r).eq(t)),X2=Ft((t,r)=>nt(r).eqt(t)),K2=Ft((t,r)=>nt(r).ne(t)),Y2=Ft((t,r)=>nt(r).net(t)),U2=Ft((t,r)=>nt(r).and(t)),$2=Ft((t,r)=>nt(r).or(t)),J2=Ft((t,r)=>nt(r).func(t));function W(t,r,i=!0,u=!1,o=a=>a.innerJoin()){if(Array.isArray(t)){const l={};for(const m of t)l[m]=W(m,r,i);return l}const a=r.length;var c;return i?c=function(...l){l=l.map(nt);const m=l[l.length-1];let d;if(a===1)d=r(m);else{const f=l.slice(0,-1);if(f.every(g=>g.__pure!=null)){const g=f.map(D=>D.__pure),A=f.filter(D=>D.__pure_loc).map(D=>D.__pure_loc);d=r(...g,m),d=d.withContext(D=>{const F=(D.locations||[]).concat(A);return{...D,locations:F}})}else{const[g,...A]=f;let D=(...F)=>r(...F,m);D=Ft(D,null,a-1),d=o(A.reduce((F,E)=>F.appLeft(E),g.fmap(D)))}}return u&&(d.tactus=m.tactus),d}:c=function(...l){l=l.map(nt);const m=r(...l);return u&&(m.tactus=l[l.length-1].tactus),m},ot.prototype[t]=function(...l){if(a===2&&l.length!==1)l=[Te(...l)];else if(a!==l.length+1)throw new Error(`.${t}() expects ${a-1} inputs but got ${l.length}.`);return l=l.map(nt),c(...l,this)},a>1&&(ot.prototype["_"+t]=function(...l){return r(...l,this)}),Ft(c,null,a)}function Yi(t,r,i=!0,u=!1,o=a=>a.stepJoin()){return W(t,r,i,u,o)}const Q2=W("round",function(t){return t.asNumber().fmap(r=>Math.round(r))}),t3=W("floor",function(t){return t.asNumber().fmap(r=>Math.floor(r))}),e3=W("ceil",function(t){return t.asNumber().fmap(r=>Math.ceil(r))}),n3=W("toBipolar",function(t){return t.fmap(r=>r*2-1)}),r3=W("fromBipolar",function(t){return t.fmap(r=>(r+1)/2)}),i3=W("range",function(t,r,i){return i.mul(r-t).add(t)}),s3=W("rangex",function(t,r,i){return i._range(Math.log(t),Math.log(r)).fmap(Math.exp)}),u3=W("range2",function(t,r,i){return i.fromBipolar()._range(t,r)}),o3=W("ratio",t=>t.fmap(r=>Array.isArray(r)?r.slice(1).reduce((i,u)=>i/u,r[0]):r)),a3=W("compress",function(t,r,i){return t=tt(t),r=tt(r),t.gt(r)||t.gt(1)||r.gt(1)||t.lt(0)||r.lt(0)?kt:i._fastGap(tt(1).div(r.sub(t)))._late(t)}),{compressSpan:c3,compressspan:l3}=W(["compressSpan","compressspan"],function(t,r){return r._compress(t.begin,t.end)}),{fastGap:h3,fastgap:p3}=W(["fastGap","fastgap"],function(t,r){const i=function(o){const a=o.begin.sam(),c=o.begin.sub(a).mul(t).min(1),l=o.end.sub(a).mul(t).min(1);if(!(c>=1))return new Ze(a.add(c),a.add(l))},u=function(o){const a=o.part.begin,c=o.part.end,l=a.sam(),m=a.sub(l).div(t).min(1),d=c.sub(l).div(t).min(1),f=new Ze(l.add(m),l.add(d)),g=o.whole?new Ze(f.begin.sub(a.sub(o.whole.begin).div(t)),f.end.add(o.whole.end.sub(c).div(t))):void 0;return new ue(g,f,o.value,o.context)};return r.withQuerySpanMaybe(i).withHap(u).splitQueries()}),m3=W("focus",function(t,r,i){return t=tt(t),r=tt(r),i._fast(tt(1).div(r.sub(t))).late(t.cyclePos())}),{focusSpan:d3,focusspan:f3}=W(["focusSpan","focusspan"],function(t,r){return r._focus(t.begin,t.end)}),g3=W("ply",function(t,r){const i=r.fmap(u=>ce(u)._fast(t)).squeezeJoin();return Ke&&(i.tactus=tt(t).mulmaybe(r.tactus)),i}),{fast:A3,density:dF}=W(["fast","density"],function(t,r){return t===0?kt:(t=tt(t),r.withQueryTime(i=>i.mul(t)).withHapTime(i=>i.div(t)).setTactus(r.tactus))},!0,!0),C3=W("hurry",function(t,r){return r._fast(t).mul(ce({speed:t}))}),{slow:y3,sparsity:M3}=W(["slow","sparsity"],function(t,r){return t===0?kt:r._fast(tt(1).div(t))}),b3=W("inside",function(t,r,i){return r(i._slow(t))._fast(t)}),D3=W("outside",function(t,r,i){return r(i._fast(t))._slow(t)}),P3=W("lastOf",function(t,r,i){const u=Array(t-1).fill(i);return u.push(r(i)),Vu(...u)}),{firstOf:v3,every:E3}=W(["firstOf","every"],function(t,r,i){const u=Array(t-1).fill(i);return u.unshift(r(i)),Vu(...u)}),F3=W("apply",function(t,r){return t(r)}),w3=W("cpm",function(t,r){return r._fast(t/60/1)}),B3=W("early",function(t,r){return t=tt(t),r.withQueryTime(i=>i.add(t)).withHapTime(i=>i.sub(t))},!0,!0),Yc=W("late",function(t,r){return t=tt(t),r._early(tt(0).sub(t))},!0,!0),I3=W("zoom",function(t,r,i){if(r=tt(r),t=tt(t),t.gte(r))return en;const u=r.sub(t),o=Ke?i.tactus.mulmaybe(u):void 0;return i.withQuerySpan(a=>a.withCycle(c=>c.mul(u).add(t))).withHapSpan(a=>a.withCycle(c=>c.sub(t).div(u))).splitQueries().setTactus(o)}),{zoomArc:x3,zoomarc:S3}=W(["zoomArc","zoomarc"],function(t,r){return r.zoom(t.begin,t.end)}),k3=W("linger",function(t,r){return t==0?kt:t<0?r._zoom(t.add(1),1)._slow(t):r._zoom(0,t)._slow(t)},!0,!0),_3=W("segment",function(t,r){return r.struct(ce(!0)._fast(t)).setTactus(t)}),N3=W("swingBy",(t,r,i)=>i.inside(r,Yc(Kc(0,t/2)))),T3=W("swing",(t,r)=>r.swingBy(1/3,t)),{invert:R3,inv:V3}=W(["invert","inv"],function(t){return t.fmap(r=>!r)},!0,!0),L3=W("when",function(t,r,i){return t?r(i):i}),O3=W("off",function(t,r,i){return qt(i,r(i.late(t)))}),G3=W("brak",function(t){return t.when(ir(!1,!0),r=>Ve(r,kt)._late(.25))}),Uc=W("rev",function(t){const r=function(i){const u=i.span,o=u.begin.sam(),a=u.begin.nextSam(),c=function(l){const m=l.withTime(f=>o.add(a.sub(f))),d=m.begin;return m.begin=m.end,m.end=d,m};return t.query(i.setSpan(c(u))).map(l=>l.withSpan(c))};return new ot(r).splitQueries()},!1,!0),j3=W("pressBy",function(t,r){return r.fmap(i=>ce(i).compress(t,1)).squeezeJoin()}),W3=W("press",function(t){return t._pressBy(.5)});ot.prototype.hush=function(){return kt};const z3=W("palindrome",function(t){return t.lastOf(2,Uc)},!0,!0),{juxBy:q3,juxby:Z3}=W(["juxBy","juxby"],function(t,r,i){t/=2;const u=function(c,l,m){return l in c?c[l]:m},o=i.withValue(c=>Object.assign({},c,{pan:u(c,"pan",.5)-t})),a=r(i.withValue(c=>Object.assign({},c,{pan:u(c,"pan",.5)+t})));return qt(o,a).setTactus(Ke?ii(o.tactus,a.tactus):void 0)}),H3=W("jux",function(t,r){return r._juxBy(1,t,r)}),{echoWith:X3,echowith:K3,stutWith:Y3,stutwith:U3}=W(["echoWith","echowith","stutWith","stutwith"],function(t,r,i,u){return qt(...Iu(0,t-1).map(o=>i(u.late(tt(r).mul(o)),o)))}),$3=W("echo",function(t,r,i,u){return u._echoWith(t,r,(o,a)=>o.gain(Math.pow(i,a)))}),J3=W("stut",function(t,r,i,u){return u._echoWith(t,i,(o,a)=>o.gain(Math.pow(r,a)))}),Lu=function(t,r,i=!1){return t=tt(t),ir(...Iu(0,t.sub(1)).map(u=>i?r.late(tt(u).div(t)):r.early(tt(u).div(t))))},Q3=W("iter",function(t,r){return Lu(t,r,!1)},!0,!0),{iterBack:ty,iterback:ey}=W(["iterBack","iterback"],function(t,r){return Lu(t,r,!0)},!0,!0),{repeatCycles:ny}=W("repeatCycles",function(t,r){return new ot(function(i){const u=i.span.begin.sam(),o=u.div(t).sam(),a=u.sub(o);return i=i.withSpan(c=>c.withTime(l=>l.sub(a))),r.query(i).map(c=>c.withSpan(l=>l.withTime(m=>m.add(a))))}).splitQueries()},!0,!0),Ou=function(t,r,i,u=!1,o=!1){const a=Array(t-1).fill(!1);a.unshift(!0);const c=Lu(t,Te(...a),!u);return o||(i=i.repeatCycles(t)),i.when(c,r)},{chunk:ry,slowchunk:iy,slowChunk:sy}=W(["chunk","slowchunk","slowChunk"],function(t,r,i){return Ou(t,r,i,!1,!1)}),{chunkBack:uy,chunkback:oy}=W(["chunkBack","chunkback"],function(t,r,i){return Ou(t,r,i,!0)}),{fastchunk:ay,fastChunk:cy}=W(["fastchunk","fastChunk"],function(t,r,i){return Ou(t,r,i,!1,!0)}),ly=W("bypass",function(t,r){return t=!!parseInt(t),t?kt:r},!0,!0),hy=W("ribbon",(t,r,i)=>i.early(t).restart(ce(1).slow(r))),py=W("hsla",(t,r,i,u,o)=>o.color(`hsla(${t}turn,${r*100}%,${i*100}%,${u})`)),my=W("hsl",(t,r,i,u)=>u.color(`hsl(${t}turn,${r*100}%,${i*100}%)`));ot.prototype.tag=function(t){return this.withContext(r=>({...r,tags:(r.tags||[]).concat([t])}))};ot.prototype.stepJoin=function(){const t=this,r=Re(...iu(su(t.queryArc(0,1)))).tactus,i=function(u){const o=t.early(u.span.begin.sam()).query(u.setSpan(new Ze(tt(0),tt(1))));return Re(...iu(su(o))).query(u)};return new ot(i,r)};function iu(t){const r=t.filter((a,c)=>c.hasTactus).reduce((a,c)=>a.add(c),tt(0)),i=Br(t.map((a,c)=>c.tactus)).reduce((a,c)=>a.add(c),tt(0)),u=r.eq(0)?void 0:i.div(r);function o(a,c){return c.tactus===void 0?[a.mulmaybe(u),c]:[c.tactus,c]}return t.map(a=>o(...a))}function su(t){const r=Mn(t.map(u=>[u.part.begin,u.part.end])),i=Lc([tt(0),tt(1),...r]);return Vc(i).map(u=>[u[1].sub(u[0]),qt(...$c(new Ze(...u),t).map(o=>o.value.withHap(a=>a.setContext(a.combineContext(o)))))])}function $c(t,r){return Br(r.map(i=>Jc(t,i)))}function Jc(t,r){const i=t.intersection(r.part);if(i!=null)return new ue(r.whole,i,r.value,r.context)}const dy=W("steps",function(t,r){return r.tactus===void 0?r:r.tactus.eq(tt(0))?en:r.fast(tt(t).div(r.tactus))});function Gu(t,...r){const i=r.map(o=>ru(o));if(i.length==0)return kt;t==0&&(t=i[0][1]);const u=[];for(const o of i)o[1]!=0&&(t==o[1]?u.push(o[0]):u.push(o[0]._fast(tt(t).div(tt(o[1])))));return qt(...u)}function Qc(t,...r){return r.length==0?kt:Array.isArray(r[0])?Gu(t,...r):ju(...r).steps(t)}function ju(...t){if(Array.isArray(t[0]))return Gu(0,...t);if(t=t.filter(a=>a.hasTactus),t.length==0)return kt;const r=t[0].tactus;if(r.eq(tt(0)))return en;const[i,...u]=t,o=qt(i,...u.map(a=>a._slow(a.tactus.div(r))));return o.tactus=r,o}function Re(...t){if(t.length===0)return en;const r=c=>Array.isArray(c)?c:[c.tactus,c];if(t=t.map(r),t.find(c=>c[0]===void 0)){const c=t.map(m=>m[0]).filter(m=>m!==void 0);if(c.length===0)return Ve(...t.map(m=>m[1]));if(c.length===t.length)return en;const l=c.reduce((m,d)=>m.add(d),tt(0)).div(c.length);for(let m of t)m[0]===void 0&&(m[0]=l)}if(t.length==1){const c=nt(t[0][1]);return c.tactus=t[0][0],c}const i=t.map(c=>c[0]).reduce((c,l)=>c.add(l),tt(0));let u=tt(0);const o=[];for(const[c,l]of t){if(tt(c).eq(0))continue;const m=u.add(c);o.push(nt(l)._compress(u.div(i),m.div(i))),u=m}const a=qt(...o);return a.tactus=i,a}const fy=Re,Wu=Re;function gy(...t){t=t.map(o=>Array.isArray(o)?o.map(nt):[nt(o)]);const r=ii(...t.map(o=>tt(o.length)));let i=[];for(let o=0;o<r;++o)i.push(...t.map(a=>a.length==0?kt:a[o%a.length]));i=i.filter(o=>o.hasTactus&&o.tactus>0);const u=i.reduce((o,a)=>o.add(a.tactus),tt(0));return i=Re(...i),i.tactus=u,i}const Ay=Yi("s_add",function(t,r){if(!r.hasTactus||r.tactus.lte(0)||(t=tt(t),t.eq(0)))return en;const i=t<0;i&&(t=t.abs());const u=t.div(r.tactus);return u.lte(0)?en:u.gte(1)?r:i?r.zoom(tt(1).sub(u),1):r.zoom(0,u)}),Cy=Yi("s_sub",function(t,r){return r.hasTactus?(t=tt(t),t.lt(0)?r.s_add(tt(0).sub(r.tactus.add(t))):r.s_add(r.tactus.sub(t))):en}),yy=Yi("s_expand",function(t,r){return r.withTactus(i=>i.mul(tt(t)))}),My=Yi("s_contract",function(t,r){return r.withTactus(i=>i.div(tt(t)))});ot.prototype.s_taperlist=function(t,r){const i=this;if(!i.hasTactus)return[i];if(r=r-1,r===0)return[i];const u=[],o=t>0;t=tt(Math.abs(t));const a=i.tactus.sub(t.mul(tt(r))).max(tt(0));for(let c=0;c<r;++c)u.push(i.zoom(0,a.add(t.mul(tt(c))).div(i.tactus)));return u.push(i),o&&u.reverse(),u};const by=(t,r,i)=>i.s_taperlist(t,r),Dy=W("s_taper",function(t,r,i){if(!i.hasTactus)return en;const u=i.s_taperlist(t,r),o=Re(...u);return o.tactus=u.reduce((a,c)=>a.add(c.tactus),tt(0)),o},!0,!1,t=>t.stepJoin());ot.prototype.s_tour=function(...t){return Re(...[].concat(...t.map((r,i)=>[...t.slice(0,t.length-i),this,...t.slice(t.length-i)]),this,...t))};const Py=function(t,...r){return t.s_tour(...r)},vy=W("chop",function(t,r){const i=Array.from({length:t},(o,a)=>a).map(o=>({begin:o/t,end:(o+1)/t})),u=function(o){return Te(i.map(a=>Object.assign({},o,a)))};return r.squeezeBind(u).setTactus(Ke?tt(t).mulmaybe(r.tactus):void 0)}),Ey=W("striate",function(t,r){const i=Array.from({length:t},(o,a)=>a).map(o=>({begin:o/t,end:(o+1)/t})),u=ir(...i);return r.set(u)._fast(t).setTactus(Ke?tt(t).mulmaybe(r.tactus):void 0)}),tl=function(t,r,i=.5){return r.speed(1/t*i).unit("c").slow(t)},el=W("slice",function(t,r,i){return t.innerBind(u=>r.outerBind(o=>i.outerBind(a=>{a=a instanceof Object?a:{s:a};const c=Array.isArray(u)?u[o]:o/u,l=Array.isArray(u)?u[o+1]:(o+1)/u;return ce({begin:c,end:l,_slices:u,...a})}))).setTactus(r.tactus)},!1),Fy=W("splice",function(t,r,i){const u=el(t,r,i);return new ot(o=>{const a=o.controls._cps||1;return u.query(o).map(c=>c.withValue(l=>({speed:a/l._slices/c.whole.duration*(l.speed||1),unit:"c",...l})))}).setTactus(r.tactus)},!1),{loopAt:wy,loopat:By}=W(["loopAt","loopat"],function(t,r){return new ot(i=>tl(t,r,i.controls._cps).query(i))}),Iy=W("fit",t=>t.withHaps((r,i)=>r.map(u=>u.withValue(o=>({...o,speed:(i.controls._cps||1)/u.whole.duration,unit:"c"}))))),{loopAtCps:xy,loopatcps:Sy}=W(["loopAtCps","loopatcps"],function(t,r,i){return tl(t,i,r)}),ky=t=>ce(1).withValue(()=>nt(t())).innerJoin();let pa=t=>t<.5?1:1-(t-.5)/.5,nl=(t,r,i)=>{r=nt(r),t=nt(t),i=nt(i);let u=r.fmap(a=>({gain:pa(a)})),o=r.fmap(a=>({gain:pa(1-a)}));return qt(t.mul(u),i.mul(o))};ot.prototype.xfade=function(t,r){return nl(this,t,r)};function Ui(t){let r=Array.isArray(t);t=r?t:[t];const i=t[0],u=c=>{let l;if(typeof c=="object"&&c.value!==void 0&&(l={...c},c=c.value,delete l.value),r&&Array.isArray(c)){const m=l||{};return c.forEach((d,f)=>{f<t.length&&(m[t[f]]=d)}),m}else return l?(l[i]=c,l):{[i]:c}},o=(...c)=>Te(...c).withValue(u),a=function(...c){return c.length?this.set(o(...c)):this.fmap(u)};return ot.prototype[i]=a,o}function k(t,...r){const i=Array.isArray(t)?t[0]:t;let u={};return u[i]=Ui(t),r.forEach(o=>{u[o]=u[i],ot.prototype[o]=ot.prototype[i]}),u}const{s:rl,sound:il}=k(["s","n","gain"],"sound"),{source:sl,src:ul}=k("source","src"),{n:ol}=k("n"),{note:al}=k(["note","n"]),{accelerate:cl}=k("accelerate"),{velocity:ll}=k("velocity"),{gain:hl}=k("gain"),{postgain:pl}=k("postgain"),{amp:ml}=k("amp"),{attack:dl,att:fl}=k("attack","att"),{fmh:gl}=k(["fmh","fmi"],"fmh"),{fmi:Al,fm:Cl}=k(["fmi","fmh"],"fm"),{fmenv:yl}=k("fmenv"),{fmattack:Ml}=k("fmattack"),{fmdecay:bl}=k("fmdecay"),{fmsustain:Dl}=k("fmsustain"),{fmrelease:Pl}=k("fmrelease"),{fmvelocity:vl}=k("fmvelocity"),{bank:El}=k("bank"),{analyze:Fl}=k("analyze"),{fft:wl}=k("fft"),{decay:Bl,dec:Il}=k("decay","dec"),{sustain:xl,sus:Sl}=k("sustain","sus"),{release:kl,rel:_l}=k("release","rel"),{hold:Nl}=k("hold"),{bandf:Tl,bpf:Rl,bp:Vl}=k(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:Ll,bpq:Ol}=k("bandq","bpq"),{begin:Gl}=k("begin"),{end:jl}=k("end"),{loop:Wl}=k("loop"),{loopBegin:zl,loopb:ql}=k("loopBegin","loopb"),{loopEnd:Zl,loope:Hl}=k("loopEnd","loope"),{crush:Xl}=k("crush"),{coarse:Kl}=k("coarse"),{drive:Yl}=k("drive"),{channels:Ul,ch:$l}=k("channels","ch"),{phaserrate:Jl,phasr:Ql}=k("phaserrate","phasr"),{phaser:th,ph:eh}=k(["phaser","phaserdepth","phasercenter","phasersweep"],"ph"),{phasersweep:nh,phs:rh}=k("phasersweep","phs"),{phasercenter:ih,phc:sh}=k("phasercenter","phc"),{phaserdepth:uh,phd:oh,phasdp:ah}=k("phaserdepth","phd","phasdp"),{channel:ch}=k("channel"),{cut:lh}=k("cut"),{cutoff:hh,ctf:ph,lpf:mh,lp:dh}=k(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:fh,lpe:gh}=k("lpenv","lpe"),{hpenv:Ah,hpe:Ch}=k("hpenv","hpe"),{bpenv:yh,bpe:Mh}=k("bpenv","bpe"),{lpattack:bh,lpa:Dh}=k("lpattack","lpa"),{hpattack:Ph,hpa:vh}=k("hpattack","hpa"),{bpattack:Eh,bpa:Fh}=k("bpattack","bpa"),{lpdecay:wh,lpd:Bh}=k("lpdecay","lpd"),{hpdecay:Ih,hpd:xh}=k("hpdecay","hpd"),{bpdecay:Sh,bpd:kh}=k("bpdecay","bpd"),{lpsustain:_h,lps:Nh}=k("lpsustain","lps"),{hpsustain:Th,hps:Rh}=k("hpsustain","hps"),{bpsustain:Vh,bps:Lh}=k("bpsustain","bps"),{lprelease:Oh,lpr:Gh}=k("lprelease","lpr"),{hprelease:jh,hpr:Wh}=k("hprelease","hpr"),{bprelease:zh,bpr:qh}=k("bprelease","bpr"),{ftype:Zh}=k("ftype"),{fanchor:Hh}=k("fanchor"),{vib:Xh,vibrato:Kh,v:Yh}=k(["vib","vibmod"],"vibrato","v"),{noise:Uh}=k("noise"),{vibmod:$h,vmod:Jh}=k(["vibmod","vib"],"vmod"),{hcutoff:Qh,hpf:t1,hp:e1}=k(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:n1,hpq:r1}=k("hresonance","hpq"),{resonance:i1,lpq:s1}=k("resonance","lpq"),{djf:u1}=k("djf"),{delay:o1}=k(["delay","delaytime","delayfeedback"]),{delayfeedback:a1,delayfb:c1,dfb:l1}=k("delayfeedback","delayfb","dfb"),{delaytime:h1,delayt:p1,dt:m1}=k("delaytime","delayt","dt"),{lock:d1}=k("lock"),{detune:f1,det:g1}=k("detune","det"),{unison:A1}=k("unison"),{spread:C1}=k("spread"),{dry:y1}=k("dry"),{fadeTime:M1,fadeOutTime:b1}=k("fadeTime","fadeOutTime"),{fadeInTime:D1}=k("fadeInTime"),{freq:P1}=k("freq"),{pattack:v1,patt:E1}=k("pattack","patt"),{pdecay:F1,pdec:w1}=k("pdecay","pdec"),{psustain:B1,psus:I1}=k("psustain","psus"),{prelease:x1,prel:S1}=k("prelease","prel"),{penv:k1}=k("penv"),{pcurve:_1}=k("pcurve"),{panchor:N1}=k("panchor"),{gate:T1,gat:R1}=k("gate","gat"),{leslie:V1}=k("leslie"),{lrate:L1}=k("lrate"),{lsize:O1}=k("lsize"),{activeLabel:G1}=k("activeLabel"),{label:j1}=k(["label","activeLabel"]),{degree:W1}=k("degree"),{mtranspose:z1}=k("mtranspose"),{ctranspose:q1}=k("ctranspose"),{harmonic:Z1}=k("harmonic"),{stepsPerOctave:H1}=k("stepsPerOctave"),{octaveR:X1}=k("octaveR"),{nudge:K1}=k("nudge"),{octave:Y1}=k("octave"),{orbit:U1}=k("orbit"),{overgain:$1}=k("overgain"),{overshape:J1}=k("overshape"),{pan:Q1}=k("pan"),{panspan:t0}=k("panspan"),{pansplay:e0}=k("pansplay"),{panwidth:n0}=k("panwidth"),{panorient:r0}=k("panorient"),{rate:i0}=k("rate"),{slide:s0}=k("slide"),{semitone:u0}=k("semitone"),{voice:o0}=k("voice"),{chord:a0}=k("chord"),{dictionary:c0,dict:l0}=k("dictionary","dict"),{anchor:h0}=k("anchor"),{offset:p0}=k("offset"),{octaves:m0}=k("octaves"),{mode:d0}=k(["mode","anchor"]),{room:f0}=k(["room","size"]),{roomlp:g0,rlp:A0}=k("roomlp","rlp"),{roomdim:C0,rdim:y0}=k("roomdim","rdim"),{roomfade:M0,rfade:b0}=k("roomfade","rfade"),{ir:D0,iresponse:P0}=k(["ir","i"],"iresponse"),{roomsize:v0,size:E0,sz:F0,rsize:w0}=k("roomsize","size","sz","rsize"),{shape:B0}=k(["shape","shapevol"]),{distort:I0,dist:x0}=k(["distort","distortvol"],"dist"),{compressor:S0}=k(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:k0}=k("compressorKnee"),{compressorRatio:_0}=k("compressorRatio"),{compressorAttack:N0}=k("compressorAttack"),{compressorRelease:T0}=k("compressorRelease"),{speed:R0}=k("speed"),{unit:V0}=k("unit"),{squiz:L0}=k("squiz"),{vowel:O0}=k("vowel"),{waveloss:G0}=k("waveloss"),{density:_y}=k("density"),{expression:j0}=k("expression"),{sustainpedal:W0}=k("sustainpedal"),{tremolodepth:z0,tremdp:q0}=k("tremolodepth","tremdp"),{tremolorate:Z0,tremr:H0}=k("tremolorate","tremr"),{fshift:X0}=k("fshift"),{fshiftnote:K0}=k("fshiftnote"),{fshiftphase:Y0}=k("fshiftphase"),{triode:U0}=k("triode"),{krush:$0}=k("krush"),{kcutoff:J0}=k("kcutoff"),{octer:Q0}=k("octer"),{octersub:tp}=k("octersub"),{octersubsub:ep}=k("octersubsub"),{ring:np}=k("ring"),{ringf:rp}=k("ringf"),{ringdf:ip}=k("ringdf"),{freeze:sp}=k("freeze"),{xsdelay:up}=k("xsdelay"),{tsdelay:op}=k("tsdelay"),{real:ap}=k("real"),{imag:cp}=k("imag"),{enhance:lp}=k("enhance"),{partials:hp}=k("partials"),{comb:pp}=k("comb"),{smear:mp}=k("smear"),{scram:dp}=k("scram"),{binshift:fp}=k("binshift"),{hbrick:gp}=k("hbrick"),{lbrick:Ap}=k("lbrick"),{midichan:Cp}=k("midichan"),{control:yp}=k("control"),{ccn:Mp}=k("ccn"),{ccv:bp}=k("ccv"),{polyTouch:Dp}=k("polyTouch"),{midibend:Pp}=k("midibend"),{miditouch:vp}=k("miditouch"),{ctlNum:Ep}=k("ctlNum"),{frameRate:Fp}=k("frameRate"),{frames:wp}=k("frames"),{hours:Bp}=k("hours"),{midicmd:Ip}=k("midicmd"),{minutes:xp}=k("minutes"),{progNum:Sp}=k("progNum"),{seconds:kp}=k("seconds"),{songPtr:_p}=k("songPtr"),{uid:Np}=k("uid"),{val:Tp}=k("val"),{cps:Rp}=k("cps"),{clip:Vp,legato:Lp}=k("clip","legato"),{duration:Op,dur:Gp}=k("duration","dur"),{zrand:jp}=k("zrand"),{curve:Wp}=k("curve"),{deltaSlide:zp}=k("deltaSlide"),{pitchJump:qp}=k("pitchJump"),{pitchJumpTime:Zp}=k("pitchJumpTime"),{lfo:Hp,repeatTime:Xp}=k("lfo","repeatTime"),{znoise:Kp}=k("znoise"),{zmod:Yp}=k("zmod"),{zcrush:Up}=k("zcrush"),{zdelay:$p}=k("zdelay"),{tremolo:Jp}=k("tremolo"),{zzfx:Qp}=k("zzfx"),{color:tm,colour:em}=k(["color","colour"]);let zu=(...t)=>t.reduce((r,i)=>Object.assign(r,{[i]:Ui(i)}),{});const nm=W("adsr",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,u,o,a]=t;return r.set({attack:i,decay:u,sustain:o,release:a})}),rm=W("ad",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,u=i]=t;return r.attack(i).decay(u)}),im=W("ds",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,u=0]=t;return r.set({decay:i,sustain:u})}),sm=W("ar",(t,r)=>{t=Array.isArray(t)?t:[t];const[i,u=i]=t;return r.set({attack:i,release:u})}),Ny=Object.freeze(Object.defineProperty({__proto__:null,accelerate:cl,activeLabel:G1,ad:rm,adsr:nm,amp:ml,analyze:Fl,anchor:h0,ar:sm,att:fl,attack:dl,bandf:Tl,bandq:Ll,bank:El,begin:Gl,binshift:fp,bp:Vl,bpa:Fh,bpattack:Eh,bpd:kh,bpdecay:Sh,bpe:Mh,bpenv:yh,bpf:Rl,bpq:Ol,bpr:qh,bprelease:zh,bps:Lh,bpsustain:Vh,ccn:Mp,ccv:bp,ch:$l,channel:ch,channels:Ul,chord:a0,clip:Vp,coarse:Kl,color:tm,colour:em,comb:pp,compressor:S0,compressorAttack:N0,compressorKnee:k0,compressorRatio:_0,compressorRelease:T0,control:yp,cps:Rp,createParam:Ui,createParams:zu,crush:Xl,ctf:ph,ctlNum:Ep,ctranspose:q1,curve:Wp,cut:lh,cutoff:hh,dec:Il,decay:Bl,degree:W1,delay:o1,delayfb:c1,delayfeedback:a1,delayt:p1,delaytime:h1,deltaSlide:zp,density:_y,det:g1,detune:f1,dfb:l1,dict:l0,dictionary:c0,dist:x0,distort:I0,djf:u1,drive:Yl,dry:y1,ds:im,dt:m1,dur:Gp,duration:Op,end:jl,enhance:lp,expression:j0,fadeInTime:D1,fadeOutTime:b1,fadeTime:M1,fanchor:Hh,fft:wl,fm:Cl,fmattack:Ml,fmdecay:bl,fmenv:yl,fmh:gl,fmi:Al,fmrelease:Pl,fmsustain:Dl,fmvelocity:vl,frameRate:Fp,frames:wp,freeze:sp,freq:P1,fshift:X0,fshiftnote:K0,fshiftphase:Y0,ftype:Zh,gain:hl,gat:R1,gate:T1,harmonic:Z1,hbrick:gp,hcutoff:Qh,hold:Nl,hours:Bp,hp:e1,hpa:vh,hpattack:Ph,hpd:xh,hpdecay:Ih,hpe:Ch,hpenv:Ah,hpf:t1,hpq:r1,hpr:Wh,hprelease:jh,hps:Rh,hpsustain:Th,hresonance:n1,imag:cp,ir:D0,iresponse:P0,kcutoff:J0,krush:$0,label:j1,lbrick:Ap,legato:Lp,leslie:V1,lfo:Hp,lock:d1,loop:Wl,loopBegin:zl,loopEnd:Zl,loopb:ql,loope:Hl,lp:dh,lpa:Dh,lpattack:bh,lpd:Bh,lpdecay:wh,lpe:gh,lpenv:fh,lpf:mh,lpq:s1,lpr:Gh,lprelease:Oh,lps:Nh,lpsustain:_h,lrate:L1,lsize:O1,midibend:Pp,midichan:Cp,midicmd:Ip,miditouch:vp,minutes:xp,mode:d0,mtranspose:z1,n:ol,noise:Uh,note:al,nudge:K1,octave:Y1,octaveR:X1,octaves:m0,octer:Q0,octersub:tp,octersubsub:ep,offset:p0,orbit:U1,overgain:$1,overshape:J1,pan:Q1,panchor:N1,panorient:r0,panspan:t0,pansplay:e0,panwidth:n0,partials:hp,patt:E1,pattack:v1,pcurve:_1,pdec:w1,pdecay:F1,penv:k1,ph:eh,phasdp:ah,phaser:th,phasercenter:ih,phaserdepth:uh,phaserrate:Jl,phasersweep:nh,phasr:Ql,phc:sh,phd:oh,phs:rh,pitchJump:qp,pitchJumpTime:Zp,polyTouch:Dp,postgain:pl,prel:S1,prelease:x1,progNum:Sp,psus:I1,psustain:B1,rate:i0,rdim:y0,real:ap,registerControl:k,rel:_l,release:kl,repeatTime:Xp,resonance:i1,rfade:b0,ring:np,ringdf:ip,ringf:rp,rlp:A0,room:f0,roomdim:C0,roomfade:M0,roomlp:g0,roomsize:v0,rsize:w0,s:rl,scram:dp,seconds:kp,semitone:u0,shape:B0,size:E0,slide:s0,smear:mp,songPtr:_p,sound:il,source:sl,speed:R0,spread:C1,squiz:L0,src:ul,stepsPerOctave:H1,sus:Sl,sustain:xl,sustainpedal:W0,sz:F0,tremdp:q0,tremolo:Jp,tremolodepth:z0,tremolorate:Z0,tremr:H0,triode:U0,tsdelay:op,uid:Np,unison:A1,unit:V0,v:Yh,val:Tp,velocity:ll,vib:Xh,vibmod:$h,vibrato:Kh,vmod:Jh,voice:o0,vowel:O0,waveloss:G0,xsdelay:up,zcrush:Up,zdelay:$p,zmod:Yp,znoise:Kp,zrand:jp,zzfx:Qp},Symbol.toStringTag,{value:"Module"})),Ty=function(t,r){const[i,u]=t,[o,a]=r,[c,l]=ku(u,o);return[[u,i-u],[_u((m,d)=>m.concat(d),c,a),l]]},Ry=function(t,r){const[i,u]=t,[o,a]=r,[c,l]=ku(i,a);return[[i,u-i],[_u((m,d)=>m.concat(d),o,c),l]]},um=function(t,r){const[i,u]=t;return Math.min(i,u)<=1?[t,r]:um(...i>u?Ty(t,r):Ry(t,r))},om=function(t,r){const i=t<0;t=Math.abs(t);const u=r-t,o=Array(t).fill([1]),a=Array(u).fill([0]),c=um([t,u],[o,a]),l=Mn(c[1][0]).concat(Mn(c[1][1]));return i?l.map(m=>m===0?1:0):l},qu=function(t,r,i){const u=om(t,r);return i?Nc(u,-i):u},Vy=W("euclid",function(t,r,i){return i.struct(qu(t,r,0))}),{euclidrot:Ly,euclidRot:Oy}=W(["euclidrot","euclidRot"],function(t,r,i,u){return u.struct(qu(t,r,i))}),am=function(t,r,i,u){if(t<1)return kt;const o=qu(t,r,i).join("").split("1").slice(1).map(a=>[a.length+1,!0]);return u.struct(Wu(...o))},Gy=W(["euclidLegato"],function(t,r,i){return am(t,r,0,i)}),jy=W(["euclidLegatoRot"],function(t,r,i,u){return am(t,r,i,u)});function cm(t,r,i=.05,u=.1,o=.1,a=globalThis.setInterval,c=globalThis.clearInterval,l=!0){let m=0,d=0,f=10**4,g=.01;const A=N=>i=N(i);o=o||u/2;const D=()=>{const N=t(),L=N+u+o;for(d===0&&(d=N+g);d<L;)d=l?Math.round(d*f)/f:d,r(d,i,m,N),d+=i,m++};let F;const E=()=>{S(),D(),F=a(D,u*1e3)},S=()=>{F!==void 0&&c(F),F=void 0};return{setDuration:A,start:E,stop:()=>{m=0,d=0,S()},pause:()=>S(),duration:i,interval:u,getPhase:()=>d,minLatency:g}}function Wy(t){return new ot(r=>[new ue(void 0,r.span,t)])}const $e=t=>{const r=i=>[new ue(void 0,i.span,t(i.span.midpoint()))];return new ot(r)},Zu=$e(t=>1-t%1),lm=Zu.toBipolar(),$i=$e(t=>t%1),hm=$i.toBipolar(),Hu=$e(t=>Math.sin(Math.PI*2*t)),pm=Hu.fromBipolar(),zy=pm._early(tt(1).div(4)),qy=Hu._early(tt(1).div(4)),mm=$e(t=>Math.floor(t*2%2)),Zy=mm.toBipolar(),Hy=Ve(Zu,$i),Xy=Ve(lm,hm),dm=$e(dr);let Xu=0,Ku=0;typeof window<"u"&&document.addEventListener("mousemove",t=>{Xu=t.clientY/document.body.clientHeight,Ku=t.clientX/document.body.clientWidth});const Ky=$e(()=>Xu),Yy=$e(()=>Xu),Uy=$e(()=>Ku),$y=$e(()=>Ku),Jy=t=>{const r=t<<13^t,i=r>>17^r;return i<<5^i},Qy=t=>t-Math.trunc(t),tM=t=>Jy(Math.trunc(Qy(t/300)*536870912)),eM=t=>t%536870912/536870912,uu=t=>Math.abs(eM(tM(t))),nM=t=>$i.range(0,t).floor().segment(t),ge=$e(uu),rM=ge.toBipolar(),Yu=t=>ge.fmap(r=>r<t),iM=t=>nt(t).fmap(Yu).innerJoin(),sM=Yu(.5),fm=t=>ge.fmap(r=>Math.trunc(r*t)),uM=t=>nt(t).fmap(fm).innerJoin(),un=function(t,r,i=!0){const u=Array.isArray(t),o=Object.keys(t).length;return t=jc(t,nt),o===0?kt:r.fmap(a=>{let c=a;return u&&(c=i?Math.round(c)%o:Nu(Math.round(c),0,t.length-1)),t[c]})},gm=function(t,r){return Array.isArray(r)&&([r,t]=[t,r]),oM(t,r)},oM=W("pick",function(t,r){return un(t,r,!1).innerJoin()}),Am=W("pickmod",function(t,r){return un(t,r,!0).innerJoin()}),aM=W("pickF",function(t,r,i){return i.apply(gm(t,r))}),cM=W("pickmodF",function(t,r,i){return i.apply(Am(t,r))}),lM=W("pickOut",function(t,r){return un(t,r,!1).outerJoin()}),hM=W("pickmodOut",function(t,r){return un(t,r,!0).outerJoin()}),pM=W("pickRestart",function(t,r){return un(t,r,!1).restartJoin()}),mM=W("pickmodRestart",function(t,r){return un(t,r,!0).restartJoin()}),dM=W("pickReset",function(t,r){return un(t,r,!1).resetJoin()}),fM=W("pickmodReset",function(t,r){return un(t,r,!0).resetJoin()}),{inhabit:gM,pickSqueeze:AM}=W(["inhabit","pickSqueeze"],function(t,r){return un(t,r,!1).squeezeJoin()}),{inhabitmod:CM,pickmodSqueeze:yM}=W(["inhabitmod","pickmodSqueeze"],function(t,r){return un(t,r,!0).squeezeJoin()}),MM=(t,r)=>(r=r.map(nt),r.length==0?kt:t.fmap(i=>{const u=Ne(Math.round(i),r.length);return r[u]}).squeezeJoin()),Uu=(t,r)=>(r=r.map(nt),r.length==0?kt:t.range(0,r.length).fmap(i=>{const u=Math.min(Math.max(Math.floor(i),0),r.length-1);return r[u]})),Ji=(t,r)=>Uu(t,r).outerJoin(),$u=(t,r)=>Uu(t,r).innerJoin(),bM=(...t)=>Ji(ge,t);ot.prototype.choose=function(...t){return Ji(this,t)};ot.prototype.choose2=function(...t){return Ji(this.fromBipolar(),t)};const Cm=(...t)=>$u(ge.segment(1),t),DM=Cm,ym=function(t,...r){const i=r.map(l=>nt(l[0])),u=[];let o=0;for(const l of r)o+=l[1],u.push(o);const a=o,c=function(l){const m=l*a;return i[u.findIndex(d=>d>m,u)]};return t.fmap(c)},PM=(...t)=>ym(...t).outerJoin(),vM=(...t)=>PM(ge,...t),Mm=(...t)=>ym(ge.segment(1),...t).innerJoin(),EM=Mm,bm=t=>{const r=t.fmap(Math.floor),i=t.fmap(a=>Math.floor(a)+1),u=a=>6*a**5-15*a**4+10*a**3,o=a=>c=>l=>c+u(a)*(l-c);return t.sub(r).fmap(o).appBoth(r.fmap(uu)).appBoth(i.fmap(uu))},FM=bm(dm.fmap(t=>Number(t))),wM=W("degradeByWith",(t,r,i)=>i.fmap(u=>o=>u).appLeft(t.filterValues(u=>u>r))),BM=W("degradeBy",function(t,r){return r._degradeByWith(ge,t)}),IM=W("degrade",t=>t._degradeBy(.5)),xM=W("undegradeBy",function(t,r){return r._degradeByWith(ge.fmap(i=>1-i),t)}),SM=W("undegrade",t=>t._undegradeBy(.5)),kM=W("sometimesBy",function(t,r,i){return nt(t).fmap(u=>qt(i._degradeBy(u),r(i._undegradeBy(1-u)))).innerJoin()}),_M=W("sometimes",function(t,r){return r._sometimesBy(.5,t)}),NM=W("someCyclesBy",function(t,r,i){return nt(t).fmap(u=>qt(i._degradeByWith(ge._segment(1),u),r(i._degradeByWith(ge.fmap(o=>1-o)._segment(1),1-u)))).innerJoin()}),TM=W("someCycles",function(t,r){return r._someCyclesBy(.5,t)}),RM=W("often",function(t,r){return r.sometimesBy(.75,t)}),VM=W("rarely",function(t,r){return r.sometimesBy(.25,t)}),LM=W("almostNever",function(t,r){return r.sometimesBy(.1,t)}),OM=W("almostAlways",function(t,r){return r.sometimesBy(.9,t)}),GM=W("never",function(t,r){return r}),jM=W("always",function(t,r){return t(r)});let Vi;try{Vi=window?.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let ma=Vi?.getVoices();function WM(t,r,i){Vi.cancel();const u=new SpeechSynthesisUtterance(t);u.lang=r,ma=Vi.getVoices();const o=ma.filter(a=>a.lang.includes(r));typeof i=="number"?u.voice=o[i%o.length]:typeof i=="string"&&(u.voice=o.find(a=>a.name===a)),speechSynthesis.speak(u)}const zM=W("speak",function(t,r,i){return i.onTrigger((u,o)=>{WM(o.value,t,r)})}),Li=async(...t)=>{const r=await Promise.allSettled(t),i=r.filter(u=>u.status==="fulfilled").map(u=>u.value);return r.forEach((u,o)=>{u.status==="rejected"&&console.warn(`evalScope: module with index ${o} could not be loaded:`,u.reason)}),i.forEach(u=>{Object.entries(u).forEach(([o,a])=>{globalThis[o]=a})}),i};function qM(t,r={}){const{wrapExpression:i=!0,wrapAsync:u=!0}=r;i&&(t=`{${t}}`),u&&(t=`(async ()=>${t})()`);const o=`"use strict";return (${t})`;return Function(o)()}const Dm=async(t,r)=>{let i={};if(r){const u=r(t);t=u.output,i=u}return{mode:"javascript",pattern:await qM(t,{wrapExpression:!!r}),meta:i}};function ZM(t){return new SharedWorker("/assets/clockworker-OodvW4tn.js",{name:t?.name})}class HM{constructor({onTrigger:r,onToggle:i,getTime:u}){this.started=!1,this.cps=.5,this.lastTick=0,this.getTime=u,this.time_at_last_tick_message=0,this.num_cycles_at_cps_change=0,this.onToggle=i,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker_time_dif,this.worker=new ZM,this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");let o=0;const a=20,c=10**3,l=(f,g,A)=>{const D=u()-(f+g)+A;if(this.worker_time_dif==null)this.worker_time_dif=D;else{const F=Math.round((this.worker_time_dif*o+D*1)/(o+1)*c)/c;F!=this.worker_time_dif&&(o=4),this.worker_time_dif=F}o=Math.min(o+1,a)},m=f=>{const{num_cycles_at_cps_change:g,cps:A,num_seconds_at_cps_change:D,num_seconds_since_cps_change:F,begin:E,end:S,tickdeadline:N,cycle:L}=f;this.cps=A,this.cycle=L,l(D,F,N),d(E,S,g,D),this.time_at_last_tick_message=this.getTime()},d=(f,g,A,D)=>{this.started!==!1&&this.pattern.queryArc(f,g,{_cps:this.cps}).forEach(F=>{if(F.hasOnset()){const E=(F.whole.begin-A)/this.cps+D+this.latency+this.worker_time_dif,S=F.duration/this.cps;r?.(F,0,S,this.cps,E)}})};this.channel.onmessage=f=>{if(!this.started)return;const{payload:g,type:A}=f.data;switch(A){case"tick":m(g)}}}sendMessage(r,i){this.worker.port.postMessage({type:r,payload:i,id:this.id})}now(){const r=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+r}setCps(r=1){this.sendMessage("cpschange",{cps:r})}setCycle(r){this.sendMessage("setcycle",{cycle:r})}setStarted(r){this.sendMessage("toggle",{started:r}),this.started=r,this.onToggle?.(r)}start(){Yt("[cyclist] start"),this.setStarted(!0)}stop(){this.worker_time_dif=null,Yt("[cyclist] stop"),this.setStarted(!1)}setPattern(r,i=!1){this.pattern=r,i&&!this.started&&this.start()}log(r,i,u){const o=u.filter(a=>a.hasOnset());console.log(`${r.toFixed(4)} - ${i.toFixed(4)} ${Array(o.length).fill("I").join("")}`)}}class Pm{constructor({interval:r,onTrigger:i,onToggle:u,onError:o,getTime:a,latency:c=.1,setInterval:l,clearInterval:m}){this.started=!1,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=a,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=u,this.latency=c,this.clock=cm(a,(d,f,g,A)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=d),this.num_ticks_since_cps_change++;const D=this.num_ticks_since_cps_change*f*this.cps;try{const F=this.lastEnd;this.lastBegin=F;const E=this.num_cycles_at_cps_change+D;if(this.lastEnd=E,this.lastTick=d,d<A){console.log("skip query: too late");return}this.pattern.queryArc(F,E,{_cps:this.cps}).forEach(S=>{if(S.hasOnset()){const N=(S.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+c,L=S.duration/this.cps,K=N-d;i?.(S,K,L,this.cps,N)}})}catch(F){Yt(`[cyclist] error: ${F.message}`),o?.(F)}},r,.1,.1,l,m)}now(){if(!this.started)return 0;const r=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+r*this.cps}setStarted(r){this.started=r,this.onToggle?.(r)}start(){if(this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");Yt("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){Yt("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){Yt("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}setPattern(r,i=!1){this.pattern=r,i&&!this.started&&this.start()}setCps(r=.5){this.cps!==r&&(this.cps=r,this.num_ticks_since_cps_change=0)}log(r,i,u){const o=u.filter(a=>a.hasOnset());console.log(`${r.toFixed(4)} - ${i.toFixed(4)} ${Array(o.length).fill("I").join("")}`)}}let ou;function au(){if(!ou)throw new Error("no time set! use setTime to define a time source");return ou()}function Ju(t){ou=t}function XM({defaultOutput:t,onEvalError:r,beforeEval:i,afterEval:u,getTime:o,transpiler:a,onToggle:c,editPattern:l,onUpdateState:m,sync:d=!1,setInterval:f,clearInterval:g}){const A={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},D=H=>{Object.assign(A,H),A.isDirty=A.code!==A.activeCode,A.error=A.evalError||A.schedulerError,m?.(A)},F={onTrigger:vm({defaultOutput:t,getTime:o}),getTime:o,onToggle:H=>{D({started:H}),c?.(H)},setInterval:f,clearInterval:g},E=d&&typeof SharedWorker<"u"?new HM(F):new Pm(F);let S={},N=0,L;const K=function(){return S={},N=0,L=void 0,kt},_=(H,U=!0)=>{H=l?.(H)||H,E.setPattern(H,U)};Ju(()=>E.now());const x=()=>E.stop(),R=()=>E.start(),T=()=>E.pause(),j=()=>E.toggle(),X=H=>E.setCps(H),z=H=>E.setCps(H/60),J=function(H){return L=H,kt},Z=()=>{ot.prototype.p=function(U){return U.startsWith("_")||U.endsWith("_")?kt:(U==="$"&&(U=`$${N}`,N++),S[U]=this,this)},ot.prototype.q=function(U){return kt};try{for(let U=1;U<10;++U)Object.defineProperty(ot.prototype,`d${U}`,{get(){return this.p(U)},configurable:!0}),Object.defineProperty(ot.prototype,`p${U}`,{get(){return this.p(U)},configurable:!0}),ot.prototype[`q${U}`]=kt}catch(U){console.warn("injectPatternMethods: error:",U)}const H=W("cpm",function(U,gt){return gt._fast(U/60/E.cps)});return Li({all:J,hush:K,cpm:H,setCps:X,setcps:X,setCpm:z,setcpm:z})};return{scheduler:E,evaluate:async(H,U=!0,gt=!0)=>{if(!H)throw new Error("no code to evaluate");try{D({code:H,pending:!0}),await Z(),await i?.({code:H}),gt&&K();let{pattern:ut,meta:dt}=await Dm(H,a);if(Object.keys(S).length&&(ut=qt(...Object.values(S))),L&&(ut=L(ut)),!Tu(ut)){const ht=`got "${typeof evaluated}" instead of pattern`;throw new Error(ht+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return Yt("[eval] code updated"),_(ut,U),D({miniLocations:dt?.miniLocations||[],widgets:dt?.widgets||[],activeCode:H,pattern:ut,evalError:void 0,schedulerError:void 0,pending:!1}),u?.({code:H,pattern:ut,meta:dt}),ut}catch(ut){Yt(`[eval] error: ${ut.message}`,"error"),console.error(ut),D({evalError:ut,pending:!1}),r?.(ut)}},start:R,stop:x,pause:T,setCps:X,setPattern:_,setCode:H=>D({code:H}),toggle:j,state:A}}const vm=({getTime:t,defaultOutput:r})=>async(i,u,o,a,c)=>{try{(!i.context.onTrigger||!i.context.dominantTrigger)&&await r(i,u,o,a,c),i.context.onTrigger&&await i.context.onTrigger(t()+u,i,t(),a,c)}catch(l){Yt(`[cyclist] error: ${l.message}`,"error")}},KM=function(t,r={}){const i=document.getElementById("code"),u="background-image:url("+t+");background-size:contain;";i.style=u;const{className:o}=i,a=(l,m)=>{({style:()=>i.style=u+";"+m,className:()=>i.className=m+" "+o})[l]()},c=Object.entries(r).filter(([l,m])=>typeof m=="function");Object.entries(r).filter(([l,m])=>typeof m=="string").forEach(([l,m])=>a(l,m)),c.length},YM=()=>{const t=document.getElementById("code");t&&(t.style="")};Yt("🌀 @strudel/core loaded 🌀");globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel/core".`);globalThis._strudelLoaded=!0;const Em=Object.freeze(Object.defineProperty({__proto__:null,Cyclist:Pm,Fraction:tt,Hap:ue,Pattern:ot,State:tu,TimeSpan:Ze,__chooseWith:Uu,_brandBy:Yu,_fitslice:$c,_irand:fm,_match:Jc,_mod:Ne,_polymeterListSteps:Gu,_retime:iu,_slices:su,accelerate:cl,activeLabel:G1,ad:rm,add:S2,adsr:nm,almostAlways:OM,almostNever:LM,always:jM,amp:ml,analyze:Fl,anchor:h0,and:U2,apply:F3,ar:sm,arrange:v2,att:fl,attack:dl,backgroundImage:KM,band:V2,bandf:Tl,bandq:Ll,bank:El,base64ToUnicode:Gc,begin:Gl,binshift:fp,bjork:om,blshift:G2,bor:L2,bp:Vl,bpa:Fh,bpattack:Eh,bpd:kh,bpdecay:Sh,bpe:Mh,bpenv:yh,bpf:Rl,bpq:Ol,bpr:qh,bprelease:zh,bps:Lh,bpsustain:Vh,brak:G3,brand:sM,brandBy:iM,brshift:j2,bxor:O2,bypass:ly,calculateTactus:g2,cat:Xc,ccn:Mp,ccv:bp,ceil:e3,ch:$l,channel:ch,channels:Ul,choose:bM,chooseCycles:Cm,chooseInWith:$u,chooseWith:Ji,chop:vy,chord:a0,chunk:ry,chunkBack:uy,chunkback:oy,clamp:Nu,cleanupUi:YM,clip:Vp,coarse:Kl,code2hash:p2,color:tm,colour:em,comb:pp,compose:t2,compress:a3,compressSpan:c3,compressor:S0,compressorAttack:N0,compressorKnee:k0,compressorRatio:_0,compressorRelease:T0,compressspan:l3,constant:e2,control:yp,controls:Ny,cosine:zy,cosine2:qy,cpm:w3,cps:Rp,createClock:cm,createParam:Ui,createParams:zu,crush:Xl,ctf:ph,ctlNum:Ep,ctranspose:q1,curry:Ft,curve:Wp,cut:lh,cutoff:hh,dec:Il,decay:Bl,degrade:IM,degradeBy:BM,degradeByWith:wM,degree:W1,delay:o1,delayfb:c1,delayfeedback:a1,delayt:p1,delaytime:h1,deltaSlide:zp,det:g1,detune:f1,dfb:l1,dict:l0,dictionary:c0,dist:x0,distort:I0,div:N2,djf:u1,drawLine:Wc,drive:Yl,dry:y1,ds:im,dt:m1,dur:Gp,duration:Op,early:B3,echo:$3,echoWith:X3,echowith:K3,end:jl,enhance:lp,eq:H2,eqt:X2,euclid:Vy,euclidLegato:Gy,euclidLegatoRot:jy,euclidRot:Oy,euclidrot:Ly,evalScope:Li,evaluate:Dm,every:E3,expression:j0,fadeInTime:D1,fadeOutTime:b1,fadeTime:M1,fanchor:Hh,fast:A3,fastChunk:cy,fastGap:h3,fastcat:Ve,fastchunk:ay,fastgap:p3,fft:wl,firstOf:v3,fit:Iy,flatten:Mn,floor:t3,fm:Cl,fmattack:Ml,fmdecay:bl,fmenv:yl,fmh:gl,fmi:Al,fmrelease:Pl,fmsustain:Dl,fmvelocity:vl,focus:m3,focusSpan:d3,focusspan:f3,fractionalArgs:n2,frameRate:Fp,frames:wp,freeze:sp,freq:P1,freqToMidi:Bu,fromBipolar:r3,fshift:X0,fshiftnote:K0,fshiftphase:Y0,ftype:Zh,func:J2,gain:hl,gap:Ir,gat:R1,gate:T1,getEventOffsetMs:YC,getFreq:Sc,getFrequency:_c,getPlayableNoteValue:QC,getSoundIndex:JC,getTime:au,getTrigger:vm,gt:z2,gte:Z2,harmonic:Z1,hash2code:m2,hbrick:gp,hcutoff:Qh,hold:Nl,hours:Bp,hp:e1,hpa:vh,hpattack:Ph,hpd:xh,hpdecay:Ih,hpe:Ch,hpenv:Ah,hpf:t1,hpq:r1,hpr:Wh,hprelease:jh,hps:Rh,hpsustain:Th,hresonance:n1,hsl:my,hsla:py,hurry:C3,id:dr,imag:cp,inhabit:gM,inhabitmod:CM,inside:b3,inv:V3,invert:R3,ir:D0,irand:uM,iresponse:P0,isNote:rr,isNoteWithOctave:ZC,isPattern:Tu,isaw:Zu,isaw2:lm,iter:Q3,iterBack:ty,iterback:ey,jux:H3,juxBy:q3,juxby:Z3,kcutoff:J0,keep:I2,keepif:x2,krush:$0,label:j1,lastOf:P3,late:Yc,lbrick:Ap,legato:Lp,leslie:V1,lfo:Hp,linger:k3,listRange:Iu,lock:d1,logKey:wu,logger:Yt,loop:Wl,loopAt:wy,loopAtCps:xy,loopBegin:zl,loopEnd:Zl,loopat:By,loopatcps:Sy,loopb:ql,loope:Hl,lp:dh,lpa:Dh,lpattack:bh,lpd:Bh,lpdecay:wh,lpe:gh,lpenv:fh,lpf:mh,lpq:s1,lpr:Gh,lprelease:Oh,lps:Nh,lpsustain:_h,lrate:L1,lsize:O1,lt:W2,lte:q2,mapArgs:Su,mask:E2,midi2note:$C,midiToFreq:br,midibend:Pp,midichan:Cp,midicmd:Ip,miditouch:vp,minutes:xp,mod:T2,mode:d0,mouseX:$y,mouseY:Yy,mousex:Uy,mousey:Ky,mtranspose:z1,mul:_2,n:ol,nanFallback:kc,ne:K2,net:Y2,never:GM,noise:Uh,note:al,noteToMidi:qn,nothing:en,nudge:K1,numeralArgs:xe,objectMap:jc,octave:Y1,octaveR:X1,octaves:m0,octer:Q0,octersub:tp,octersubsub:ep,off:O3,offset:p0,often:RM,or:$2,orbit:U1,outside:D3,overgain:$1,overshape:J1,pairs:Vc,palindrome:z3,pan:Q1,panchor:N1,panorient:r0,panspan:t0,pansplay:e0,panwidth:n0,parseFractional:Rc,parseNumeral:xu,partials:hp,patt:E1,pattack:v1,pcurve:_1,pdec:w1,pdecay:F1,penv:k1,perlin:FM,perlinWith:bm,ph:eh,phasdp:ah,phaser:th,phasercenter:ih,phaserdepth:uh,phaserrate:Jl,phasersweep:nh,phasr:Ql,phc:sh,phd:oh,phs:rh,pick:gm,pickF:aM,pickOut:lM,pickReset:dM,pickRestart:pM,pickSqueeze:AM,pickmod:Am,pickmodF:cM,pickmodOut:hM,pickmodReset:fM,pickmodRestart:mM,pickmodSqueeze:yM,pipe:Tc,pitchJump:qp,pitchJumpTime:Zp,ply:g3,pm:D2,polyTouch:Dp,polyrhythm:M2,postgain:pl,pow:R2,pr:b2,prel:S1,prelease:x1,press:W3,pressBy:j3,progNum:Sp,psus:I1,psustain:B1,pure:ce,rand:ge,rand2:rM,randcat:DM,range:i3,range2:u3,rangex:s3,rarely:VM,rate:i0,ratio:o3,rdim:y0,real:ap,ref:ky,register:W,registerControl:k,reify:nt,rel:_l,release:kl,removeUndefineds:Br,repeatCycles:ny,repeatTime:Xp,repl:XM,resonance:i1,rev:Uc,rfade:b0,ribbon:hy,ring:np,ringdf:ip,ringf:rp,rlp:A0,room:f0,roomdim:C0,roomfade:M0,roomlp:g0,roomsize:v0,rotate:Nc,round:Q2,rsize:w0,run:nM,s:rl,s_add:Ay,s_alt:gy,s_cat:Re,s_contract:My,s_expand:yy,s_polymeter:ju,s_polymeterSteps:Qc,s_sub:Cy,s_taper:Dy,s_taperlist:by,s_tour:Py,saw:$i,saw2:hm,scram:dp,seconds:kp,segment:_3,semitone:u0,seq:Kc,sequence:Te,set:B2,setStringParser:zc,setTime:Ju,shape:B0,signal:$e,silence:kt,sine:pm,sine2:Hu,size:E0,slice:el,slide:s0,slow:y3,slowChunk:sy,slowcat:ir,slowcatPrime:Vu,slowchunk:iy,smear:mp,sol2note:c2,someCycles:TM,someCyclesBy:NM,sometimes:_M,sometimesBy:kM,songPtr:_p,sound:il,source:sl,sparsity:M3,speak:zM,speed:R0,splice:Fy,splitAt:ku,spread:C1,square:mm,square2:Zy,squeeze:MM,squiz:L0,src:ul,stack:qt,stackBy:P2,stackCentre:Hc,stackLeft:qc,stackRight:Zc,steady:Wy,steps:dy,stepsPerOctave:H1,striate:Ey,struct:F2,stut:J3,stutWith:Y3,stutwith:U3,sub:k2,superimpose:w2,sus:Sl,sustain:xl,sustainpedal:W0,swing:T3,swingBy:N3,sz:F0,time:dm,timeCat:Wu,timecat:fy,toBipolar:n3,tokenizeNote:xc,tremdp:q0,tremolo:Jp,tremolodepth:z0,tremolorate:Z0,tremr:H0,tri:Hy,tri2:Xy,triode:U0,tsdelay:op,uid:Np,undegrade:SM,undegradeBy:xM,unicodeToBase64:Oc,uniq:l2,uniqsort:h2,uniqsortr:Lc,unison:A1,unit:V0,v:Yh,val:Tp,valueToMidi:KC,velocity:ll,vib:Xh,vibmod:$h,vibrato:Kh,vmod:Jh,voice:o0,vowel:O0,waveloss:G0,wchoose:vM,wchooseCycles:Mm,when:L3,wrandcat:EM,xfade:nl,xsdelay:up,zcrush:Up,zdelay:$p,zipWith:_u,zmod:Yp,znoise:Kp,zoom:I3,zoomArc:x3,zoomarc:S3,zrand:jp,zzfx:Qp},Symbol.toStringTag,{value:"Module"}));let ae=[],UM=(t,r)=>{let i=[],u={get(){return u.lc||u.listen(()=>{})(),u.value},l:0,lc:0,listen(o,a){return u.lc=i.push(o,a||u.l)/2,()=>{let c=i.indexOf(o);~c&&(i.splice(c,2),--u.lc||u.off())}},notify(o){let a=!ae.length;for(let c=0;c<i.length;c+=2)ae.push(i[c],i[c+1],u.value,o);if(a){for(let c=0;c<ae.length;c+=4){let l;for(let m=c+1;!l&&(m+=4)<ae.length;)ae[m]<ae[c+1]&&(l=ae.push(ae[c],ae[c+1],ae[c+2],ae[c+3]));l||ae[c](ae[c+2],ae[c+3])}ae.length=0}},off(){},set(o){u.value!==o&&(u.value=o,u.notify())},subscribe(o,a){let c=u.listen(o,a);return o(u.value),c},value:t};return u},$M=(t={})=>{let r=UM(t);return r.setKey=function(i,u){typeof u>"u"?i in r.value&&(r.value={...r.value},delete r.value[i],r.notify(i)):r.value[i]!==u&&(r.value={...r.value,[i]:u},r.notify(i))},r};if(typeof DelayNode<"u"){class t extends DelayNode{constructor(i,u,o,a){super(i),u=Math.abs(u),this.delayTime.value=o;const c=i.createGain();c.gain.value=Math.min(Math.abs(a),.995),this.feedback=c.gain;const l=i.createGain();return l.gain.value=u,this.delayGain=l,this.connect(c),this.connect(l),c.connect(this),this.connect=m=>l.connect(m),this}start(i){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,i+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(r,i,u){return new t(this,r,i,u)}}var Qu={};Qu.generateReverb=function(t,r){for(var i=t.audioContext||new AudioContext,u=i.sampleRate,o=t.numChannels||2,a=t.decayTime*1.5,c=Math.round(t.decayTime*u),l=Math.round(a*u),m=Math.round((t.fadeInTime||0)*u),d=Math.pow(1/1e3,1/c),f=i.createBuffer(o,l,u),g=0;g<o;g++){for(var A=f.getChannelData(g),D=0;D<l;D++)A[D]=tb()*Math.pow(d,D);for(var D=0;D<m;D++)A[D]*=D/m}JM(f,t.lpFreqStart||0,t.lpFreqEnd||0,t.decayTime,r)};Qu.generateGraph=function(t,r,i,u,o){var a=document.createElement("canvas");a.width=r,a.height=i;var c=a.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,a.width,a.height),c.fillStyle="#fff";for(var l=r/t.length,m=i/(o-u),d=0;d<t.length;d++)c.fillRect(d*l,i-(t[d]-u)*m,1,1);return a};var JM=function(t,r,i,u,o){if(r==0){o(t);return}var a=QM(t),c=new OfflineAudioContext(t.numberOfChannels,a[0].length,t.sampleRate),l=c.createBufferSource();l.buffer=t;var m=c.createBiquadFilter();r=Math.min(r,t.sampleRate/2),i=Math.min(i,t.sampleRate/2),m.type="lowpass",m.Q.value=1e-4,m.frequency.setValueAtTime(r,0),m.frequency.linearRampToValueAtTime(i,u),l.connect(m),m.connect(c.destination),l.start(),c.oncomplete=function(d){o(d.renderedBuffer)},c.startRendering(),window.filterNode=m},QM=function(t){for(var r=[],i=0;i<t.numberOfChannels;i++)r[i]=t.getChannelData(i);return r},tb=function(){return Math.random()*2-1};typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(t,r){const i=r.sampleRate*t,u=this.createBuffer(r.numberOfChannels,r.length,r.sampleRate);for(let o=0;o<r.numberOfChannels;o++){let a=r.getChannelData(o),c=u.getChannelData(o);for(let l=0;l<i;l++)c[l]=a[l]||0}return u},AudioContext.prototype.createReverb=function(t,r,i,u,o){const a=this.createConvolver();return a.generate=(c=2,l=.1,m=15e3,d=1e3,f)=>{a.duration=c,a.fade=l,a.lp=m,a.dim=d,a.ir=f,f?a.buffer=this.adjustLength(c,f):Qu.generateReverb({audioContext:this,numChannels:2,decayTime:c,fadeInTime:l,lpFreqStart:m,lpFreqEnd:d},g=>{a.buffer=g})},a.generate(t,r,i,u,o),a});var da={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class t extends GainNode{constructor(i,u){if(super(i),!da[u])throw new Error("vowel: unknown vowel "+u);const{gains:o,qs:a,freqs:c}=da[u],l=i.createGain();for(let m=0;m<5;m++){const d=i.createGain();d.gain.value=o[m];const f=i.createBiquadFilter();f.type="bandpass",f.Q.value=a[m],f.frequency.value=c[m],this.connect(f),f.connect(d),d.connect(l)}return l.gain.value=8,this.connect=m=>l.connect(m),this}}AudioContext.prototype.createVowelFilter=function(r){return new t(this,r)}}let Fm=t=>console.log(t);const Xe=(...t)=>Fm(...t),wm=t=>{Fm=t},eb=t=>{if(typeof t!="string")return[];const[r,i="",u]=t.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return r?[r,i,u?Number(u):void 0]:[]},nb={c:0,d:2,e:4,f:5,g:7,a:9,b:11},rb={"#":1,b:-1,s:1,f:-1},Qi=(t,r=3)=>{const[i,u,o=r]=eb(t);if(!i)throw new Error('not a note: "'+t+'"');const a=nb[i.toLowerCase()],c=u?.split("").reduce((l,m)=>l+rb[m],0)||0;return(Number(o)+1)*12+a+c},Bm=t=>Math.pow(2,(t-69)/12)*440,Dr=(t,r,i)=>Math.min(Math.max(t,r),i),ib=t=>12*Math.log(t/440)/Math.LN2+69,sb=(t,r)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:i,note:u}=t;return typeof i=="number"?ib(i):typeof u=="string"?Qi(u):typeof u=="number"?u:r};function bn(t,r=0,i){return isNaN(Number(t))?(!i&&Xe(`"${t}" is not a number, falling back to ${r}`,"warning"),r):t}const Im=(t,r)=>(t%r+r)%r,fa=(t,r)=>Im(Math.round(bn(t,0)),r),ub="data:application/javascript;base64,Ly8gY29hcnNlLCBjcnVzaCwgYW5kIHNoYXBlIHByb2Nlc3NvcnMgYWRhcHRlZCBmcm9tIGRrdHIwJ3Mgd2ViZGlydDogaHR0cHM6Ly9naXRodWIuY29tL2RrdHIwL1dlYkRpcnQvYmxvYi81Y2UzZDY5ODM2MmM1NGQ2ZTFiNjhhY2M0N2ViMjk1NWFjNjJjNzkzL2Rpc3QvQXVkaW9Xb3JrbGV0cy5qcwovLyBMSUNFTlNFIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ka3RyMC9XZWJEaXJ0L2Jsb2IvbWFpbi9MSUNFTlNFCi8vIFRPRklYOiBUSElTIEZJTEUgRE9FUyBOT1QgU1VQUE9SVCBJTVBPUlRTIE9OIERFUE9MWU1FTlQKY29uc3QgY2xhbXAgPSAobnVtLCBtaW4sIG1heCkgPT4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpOwpjb25zdCBfbW9kID0gKG4sIG0pID0+ICgobiAlIG0pICsgbSkgJSBtOwoKY29uc3QgYmxvY2tTaXplID0gMTI4OwovLyBhZGp1c3Qgd2F2ZXNoYXBlIHRvIHJlbW92ZSBmcmVxdWVuY2llcyBhYm92ZSBueXF1aXN0IHRvIHByZXZlbnQgYWxpYXNpbmcKLy8gcmVmZXJlbmNlZCBmcm9tIGh0dHBzOi8vd3d3Lmt2cmF1ZGlvLmNvbS9mb3J1bS92aWV3dG9waWMucGhwP3Q9Mzc1NTE3CmZ1bmN0aW9uIHBvbHlCbGVwKHBoYXNlLCBkdCkgewogIC8vIDAgPD0gcGhhc2UgPCAxCiAgaWYgKHBoYXNlIDwgZHQpIHsKICAgIHBoYXNlIC89IGR0OwogICAgLy8gMiAqIChwaGFzZSAtIHBoYXNlXjIvMiAtIDAuNSkKICAgIHJldHVybiBwaGFzZSArIHBoYXNlIC0gcGhhc2UgKiBwaGFzZSAtIDE7CiAgfQoKICAvLyAtMSA8IHBoYXNlIDwgMAogIGVsc2UgaWYgKHBoYXNlID4gMSAtIGR0KSB7CiAgICBwaGFzZSA9IChwaGFzZSAtIDEpIC8gZHQ7CiAgICAvLyAyICogKHBoYXNlXjIvMiArIHBoYXNlICsgMC41KQogICAgcmV0dXJuIHBoYXNlICogcGhhc2UgKyBwaGFzZSArIHBoYXNlICsgMTsKICB9CgogIC8vIDAgb3RoZXJ3aXNlCiAgZWxzZSB7CiAgICByZXR1cm4gMDsKICB9Cn0KCmNvbnN0IHdhdmVzaGFwZXMgPSB7CiAgdHJpKHBoYXNlLCBza2V3ID0gMC41KSB7CiAgICBjb25zdCB4ID0gMSAtIHNrZXc7CiAgICBpZiAocGhhc2UgPj0gc2tldykgewogICAgICByZXR1cm4gMSAvIHggLSBwaGFzZSAvIHg7CiAgICB9CiAgICByZXR1cm4gcGhhc2UgLyBza2V3OwogIH0sCiAgc2luZShwaGFzZSkgewogICAgcmV0dXJuIE1hdGguc2luKE1hdGguUEkgKiAyICogcGhhc2UpICogMC41ICsgMC41OwogIH0sCiAgcmFtcChwaGFzZSkgewogICAgcmV0dXJuIHBoYXNlOwogIH0sCiAgc2F3KHBoYXNlKSB7CiAgICByZXR1cm4gMSAtIHBoYXNlOwogIH0sCgogIHNxdWFyZShwaGFzZSwgc2tldyA9IDAuNSkgewogICAgaWYgKHBoYXNlID49IHNrZXcpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICByZXR1cm4gMTsKICB9LAogIGN1c3RvbShwaGFzZSwgdmFsdWVzID0gWzAsIDFdKSB7CiAgICBjb25zdCBudW1QYXJ0cyA9IHZhbHVlcy5sZW5ndGggLSAxOwogICAgY29uc3QgY3VyclBhcnQgPSBNYXRoLmZsb29yKHBoYXNlICogbnVtUGFydHMpOwoKICAgIGNvbnN0IHBhcnRMZW5ndGggPSAxIC8gbnVtUGFydHM7CiAgICBjb25zdCBzdGFydFZhbCA9IGNsYW1wKHZhbHVlc1tjdXJyUGFydF0sIDAsIDEpOwogICAgY29uc3QgZW5kVmFsID0gY2xhbXAodmFsdWVzW2N1cnJQYXJ0ICsgMV0sIDAsIDEpOwogICAgY29uc3QgeTIgPSBlbmRWYWw7CiAgICBjb25zdCB5MSA9IHN0YXJ0VmFsOwogICAgY29uc3QgeDEgPSAwOwogICAgY29uc3QgeDIgPSBwYXJ0TGVuZ3RoOwogICAgY29uc3Qgc2xvcGUgPSAoeTIgLSB5MSkgLyAoeDIgLSB4MSk7CiAgICByZXR1cm4gc2xvcGUgKiAocGhhc2UgLSBwYXJ0TGVuZ3RoICogY3VyclBhcnQpICsgc3RhcnRWYWw7CiAgfSwKICBzYXdibGVwKHBoYXNlLCBkdCkgewogICAgY29uc3QgdiA9IDIgKiBwaGFzZSAtIDE7CiAgICByZXR1cm4gdiAtIHBvbHlCbGVwKHBoYXNlLCBkdCk7CiAgfSwKfTsKCmNvbnN0IHdhdmVTaGFwZU5hbWVzID0gT2JqZWN0LmtleXMod2F2ZXNoYXBlcyk7CmNsYXNzIExGT1Byb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsgbmFtZTogJ3RpbWUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAnZW5kJywgZGVmYXVsdFZhbHVlOiAwIH0sCiAgICAgIHsgbmFtZTogJ2ZyZXF1ZW5jeScsIGRlZmF1bHRWYWx1ZTogMC41IH0sCiAgICAgIHsgbmFtZTogJ3NrZXcnLCBkZWZhdWx0VmFsdWU6IDAuNSB9LAogICAgICB7IG5hbWU6ICdkZXB0aCcsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdwaGFzZW9mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdzaGFwZScsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdkY29mZnNldCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2U7CiAgfQoKICBpbmNyZW1lbnRQaGFzZShkdCkgewogICAgdGhpcy5waGFzZSArPSBkdDsKICAgIGlmICh0aGlzLnBoYXNlID4gMS4wKSB7CiAgICAgIHRoaXMucGhhc2UgPSB0aGlzLnBoYXNlIC0gMTsKICAgIH0KICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbWV0ZXJzLmVuZFswXSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKICAgIGNvbnN0IGZyZXF1ZW5jeSA9IHBhcmFtZXRlcnNbJ2ZyZXF1ZW5jeSddWzBdOwoKICAgIGNvbnN0IHRpbWUgPSBwYXJhbWV0ZXJzWyd0aW1lJ11bMF07CiAgICBjb25zdCBkZXB0aCA9IHBhcmFtZXRlcnNbJ2RlcHRoJ11bMF07CiAgICBjb25zdCBza2V3ID0gcGFyYW1ldGVyc1snc2tldyddWzBdOwogICAgY29uc3QgcGhhc2VvZmZzZXQgPSBwYXJhbWV0ZXJzWydwaGFzZW9mZnNldCddWzBdOwoKICAgIGNvbnN0IGRjb2Zmc2V0ID0gcGFyYW1ldGVyc1snZGNvZmZzZXQnXVswXTsKICAgIGNvbnN0IHNoYXBlID0gd2F2ZVNoYXBlTmFtZXNbcGFyYW1ldGVyc1snc2hhcGUnXVswXV07CgogICAgY29uc3QgYmxvY2tTaXplID0gb3V0cHV0WzBdLmxlbmd0aCA/PyAwOwoKICAgIGlmICh0aGlzLnBoYXNlID09IG51bGwpIHsKICAgICAgdGhpcy5waGFzZSA9IF9tb2QodGltZSAqIGZyZXF1ZW5jeSArIHBoYXNlb2Zmc2V0LCAxKTsKICAgIH0KICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgY29uc3QgZHQgPSBmcmVxdWVuY3kgLyBzYW1wbGVSYXRlOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG1vZHZhbCA9ICh3YXZlc2hhcGVzW3NoYXBlXSh0aGlzLnBoYXNlLCBza2V3KSArIGRjb2Zmc2V0KSAqIGRlcHRoOwogICAgICAgIG91dHB1dFtpXVtuXSA9IG1vZHZhbDsKICAgICAgfQogICAgICB0aGlzLmluY3JlbWVudFBoYXNlKGR0KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2xmby1wcm9jZXNzb3InLCBMRk9Qcm9jZXNzb3IpOwoKY2xhc3MgQ29hcnNlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjb2Fyc2UnLCBkZWZhdWx0VmFsdWU6IDEgfV07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IGNvYXJzZSA9IHBhcmFtZXRlcnMuY29hcnNlWzBdID8/IDA7CiAgICBjb2Fyc2UgPSBNYXRoLm1heCgxLCBjb2Fyc2UpOwogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gbiAlIGNvYXJzZSA9PT0gMCA/IGlucHV0W2ldW25dIDogb3V0cHV0W2ldW24gLSAxXTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQp9CnJlZ2lzdGVyUHJvY2Vzc29yKCdjb2Fyc2UtcHJvY2Vzc29yJywgQ29hcnNlUHJvY2Vzc29yKTsKCmNsYXNzIENydXNoUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjcnVzaCcsIGRlZmF1bHRWYWx1ZTogMCB9XTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBsZXQgY3J1c2ggPSBwYXJhbWV0ZXJzLmNydXNoWzBdID8/IDg7CiAgICBjcnVzaCA9IE1hdGgubWF4KDEsIGNydXNoKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB4ID0gTWF0aC5wb3coMiwgY3J1c2ggLSAxKTsKICAgICAgICBvdXRwdXRbaV1bbl0gPSBNYXRoLnJvdW5kKGlucHV0W2ldW25dICogeCkgLyB4OwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ2NydXNoLXByb2Nlc3NvcicsIENydXNoUHJvY2Vzc29yKTsKCmNsYXNzIFNoYXBlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnc2hhcGUnLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgeyBuYW1lOiAncG9zdGdhaW4nLCBkZWZhdWx0VmFsdWU6IDEgfSwKICAgIF07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gaGFzSW5wdXQ7CgogICAgbGV0IHNoYXBlID0gcGFyYW1ldGVycy5zaGFwZVswXTsKICAgIHNoYXBlID0gc2hhcGUgPCAxID8gc2hhcGUgOiAxLjAgLSA0ZS0xMDsKICAgIHNoYXBlID0gKDIuMCAqIHNoYXBlKSAvICgxLjAgLSBzaGFwZSk7CiAgICBjb25zdCBwb3N0Z2FpbiA9IE1hdGgubWF4KDAuMDAxLCBNYXRoLm1pbigxLCBwYXJhbWV0ZXJzLnBvc3RnYWluWzBdKSk7CgogICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3V0cHV0W2ldW25dID0gKCgoMSArIHNoYXBlKSAqIGlucHV0W2ldW25dKSAvICgxICsgc2hhcGUgKiBNYXRoLmFicyhpbnB1dFtpXVtuXSkpKSAqIHBvc3RnYWluOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KcmVnaXN0ZXJQcm9jZXNzb3IoJ3NoYXBlLXByb2Nlc3NvcicsIFNoYXBlUHJvY2Vzc29yKTsKCmZ1bmN0aW9uIGZhc3RfdGFuaCh4KSB7CiAgY29uc3QgeDIgPSB4ICogeDsKICByZXR1cm4gKHggKiAoMjcuMCArIHgyKSkgLyAoMjcuMCArIDkuMCAqIHgyKTsKfQpjb25zdCBfUEkgPSAzLjE0MTU5MjY1MzU5OwovL2FkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vVGhlQm91dGVpbGxhY0JlYXIvd2ViYXVkaW93b3JrbGV0LXdhc20/dGFiPU1JVC0xLW92LWZpbGUKY2xhc3MgTGFkZGVyUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZnJlcXVlbmN5JywgZGVmYXVsdFZhbHVlOiA1MDAgfSwKICAgICAgeyBuYW1lOiAncScsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICB7IG5hbWU6ICdkcml2ZScsIGRlZmF1bHRWYWx1ZTogMC42OSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogICAgdGhpcy5wMCA9IFswLCAwXTsKICAgIHRoaXMucDEgPSBbMCwgMF07CiAgICB0aGlzLnAyID0gWzAsIDBdOwogICAgdGhpcy5wMyA9IFswLCAwXTsKICAgIHRoaXMucDMyID0gWzAsIDBdOwogICAgdGhpcy5wMzMgPSBbMCwgMF07CiAgICB0aGlzLnAzNCA9IFswLCAwXTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CgogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKHRoaXMuc3RhcnRlZCAmJiAhaGFzSW5wdXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHRoaXMuc3RhcnRlZCA9IGhhc0lucHV0OwoKICAgIGNvbnN0IHJlc29uYW5jZSA9IHBhcmFtZXRlcnMucVswXTsKICAgIGNvbnN0IGRyaXZlID0gY2xhbXAoTWF0aC5leHAocGFyYW1ldGVycy5kcml2ZVswXSksIDAuMSwgMjAwMCk7CgogICAgbGV0IGN1dG9mZiA9IHBhcmFtZXRlcnMuZnJlcXVlbmN5WzBdOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICBjdXRvZmYgPSAoY3V0b2ZmICogMiAqIF9QSSkgLyBzYW1wbGVSYXRlOwogICAgY3V0b2ZmID0gY3V0b2ZmID4gMSA/IDEgOiBjdXRvZmY7CgogICAgY29uc3QgayA9IE1hdGgubWluKDgsIHJlc29uYW5jZSAqIDAuNCk7CiAgICAvLyAgICAgICAgICAgICAgIGRyaXZlIG1ha2V1cCAgKiByZXNvbmFuY2Ugdm9sdW1lIGxvc3MgbWFrZXVwCiAgICBsZXQgbWFrZXVwZ2FpbiA9ICgxIC8gZHJpdmUpICogTWF0aC5taW4oMS43NSwgMSArIGspOwoKICAgIGZvciAobGV0IG4gPSAwOyBuIDwgYmxvY2tTaXplOyBuKyspIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG91dCA9IHRoaXMucDNbaV0gKiAwLjM2MDg5MSArIHRoaXMucDMyW2ldICogMC40MTcyOSArIHRoaXMucDMzW2ldICogMC4xNzc4OTYgKyB0aGlzLnAzNFtpXSAqIDAuMDQzOTcyNTsKCiAgICAgICAgdGhpcy5wMzRbaV0gPSB0aGlzLnAzM1tpXTsKICAgICAgICB0aGlzLnAzM1tpXSA9IHRoaXMucDMyW2ldOwogICAgICAgIHRoaXMucDMyW2ldID0gdGhpcy5wM1tpXTsKCiAgICAgICAgdGhpcy5wMFtpXSArPSAoZmFzdF90YW5oKGlucHV0W2ldW25dICogZHJpdmUgLSBrICogb3V0KSAtIGZhc3RfdGFuaCh0aGlzLnAwW2ldKSkgKiBjdXRvZmY7CiAgICAgICAgdGhpcy5wMVtpXSArPSAoZmFzdF90YW5oKHRoaXMucDBbaV0pIC0gZmFzdF90YW5oKHRoaXMucDFbaV0pKSAqIGN1dG9mZjsKICAgICAgICB0aGlzLnAyW2ldICs9IChmYXN0X3RhbmgodGhpcy5wMVtpXSkgLSBmYXN0X3RhbmgodGhpcy5wMltpXSkpICogY3V0b2ZmOwogICAgICAgIHRoaXMucDNbaV0gKz0gKGZhc3RfdGFuaCh0aGlzLnAyW2ldKSAtIGZhc3RfdGFuaCh0aGlzLnAzW2ldKSkgKiBjdXRvZmY7CgogICAgICAgIG91dHB1dFtpXVtuXSA9IG91dCAqIG1ha2V1cGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignbGFkZGVyLXByb2Nlc3NvcicsIExhZGRlclByb2Nlc3Nvcik7CgpjbGFzcyBEaXN0b3J0UHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFsKICAgICAgeyBuYW1lOiAnZGlzdG9ydCcsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICB7IG5hbWU6ICdwb3N0Z2FpbicsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgXTsKICB9CgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKCiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAodGhpcy5zdGFydGVkICYmICFoYXNJbnB1dCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLnN0YXJ0ZWQgPSBoYXNJbnB1dDsKCiAgICBjb25zdCBzaGFwZSA9IE1hdGguZXhwbTEocGFyYW1ldGVycy5kaXN0b3J0WzBdKTsKICAgIGNvbnN0IHBvc3RnYWluID0gTWF0aC5tYXgoMC4wMDEsIE1hdGgubWluKDEsIHBhcmFtZXRlcnMucG9zdGdhaW5bMF0pKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBvdXRwdXRbaV1bbl0gPSAoKCgxICsgc2hhcGUpICogaW5wdXRbaV1bbl0pIC8gKDEgKyBzaGFwZSAqIE1hdGguYWJzKGlucHV0W2ldW25dKSkpICogcG9zdGdhaW47CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignZGlzdG9ydC1wcm9jZXNzb3InLCBEaXN0b3J0UHJvY2Vzc29yKTsKCi8vIFNVUEVSU0FXCmZ1bmN0aW9uIGxlcnAoYSwgYiwgbikgewogIHJldHVybiBuICogKGIgLSBhKSArIGE7Cn0KCmZ1bmN0aW9uIGdldFVuaXNvbkRldHVuZSh1bmlzb24sIGRldHVuZSwgdm9pY2VJbmRleCkgewogIGlmICh1bmlzb24gPCAyKSB7CiAgICByZXR1cm4gMDsKICB9CiAgcmV0dXJuIGxlcnAoLWRldHVuZSAqIDAuNSwgZGV0dW5lICogMC41LCB2b2ljZUluZGV4IC8gKHVuaXNvbiAtIDEpKTsKfQpjbGFzcyBTdXBlclNhd09zY2lsbGF0b3JQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMucGhhc2UgPSBbXTsKICB9CiAgc3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpIHsKICAgIHJldHVybiBbCiAgICAgIHsKICAgICAgICBuYW1lOiAnYmVnaW4nLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMCwKICAgICAgICBtYXg6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwKICAgICAgICBtaW46IDAsCiAgICAgIH0sCgogICAgICB7CiAgICAgICAgbmFtZTogJ2VuZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1heDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXVlbmN5JywKICAgICAgICBkZWZhdWx0VmFsdWU6IDQ0MCwKICAgICAgICBtaW46IE51bWJlci5FUFNJTE9OLAogICAgICB9LAoKICAgICAgewogICAgICAgIG5hbWU6ICdwYW5zcHJlYWQnLAogICAgICAgIGRlZmF1bHRWYWx1ZTogMC40LAogICAgICAgIG1pbjogMCwKICAgICAgICBtYXg6IDEsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBuYW1lOiAnZnJlcXNwcmVhZCcsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLjIsCiAgICAgICAgbWluOiAwLAogICAgICB9LAogICAgICB7CiAgICAgICAgbmFtZTogJ2RldHVuZScsCiAgICAgICAgZGVmYXVsdFZhbHVlOiAwLAogICAgICAgIG1pbjogMCwKICAgICAgfSwKCiAgICAgIHsKICAgICAgICBuYW1lOiAndm9pY2VzJywKICAgICAgICBkZWZhdWx0VmFsdWU6IDUsCiAgICAgICAgbWluOiAxLAogICAgICB9LAogICAgXTsKICB9CiAgcHJvY2VzcyhpbnB1dCwgb3V0cHV0cywgcGFyYW1zKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA8PSBwYXJhbXMuYmVnaW5bMF0pIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgIGlmIChjdXJyZW50VGltZSA+PSBwYXJhbXMuZW5kWzBdKSB7CiAgICAgIC8vIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IHR5cGU6ICdvbmVuZGVkJyB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgbGV0IGZyZXF1ZW5jeSA9IHBhcmFtcy5mcmVxdWVuY3lbMF07CiAgICAvL2FwcGx5IGRldHVuZSBpbiBjZW50cwogICAgZnJlcXVlbmN5ID0gZnJlcXVlbmN5ICogTWF0aC5wb3coMiwgcGFyYW1zLmRldHVuZVswXSAvIDEyMDApOwoKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCB2b2ljZXMgPSBwYXJhbXMudm9pY2VzWzBdOwogICAgY29uc3QgZnJlcXNwcmVhZCA9IHBhcmFtcy5mcmVxc3ByZWFkWzBdOwogICAgY29uc3QgcGFuc3ByZWFkID0gcGFyYW1zLnBhbnNwcmVhZFswXSAqIDAuNSArIDAuNTsKICAgIGNvbnN0IGdhaW4xID0gTWF0aC5zcXJ0KDEgLSBwYW5zcHJlYWQpOwogICAgY29uc3QgZ2FpbjIgPSBNYXRoLnNxcnQocGFuc3ByZWFkKTsKCiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHZvaWNlczsgbisrKSB7CiAgICAgIGNvbnN0IGlzT2RkID0gKG4gJiAxKSA9PSAxOwoKICAgICAgLy9hcHBsaWVzIHVuaXNvbiAic3ByZWFkIiBkZXR1bmUgaW4gc2VtaXRvbmVzCiAgICAgIGNvbnN0IGZyZXEgPSBmcmVxdWVuY3kgKiBNYXRoLnBvdygyLCBnZXRVbmlzb25EZXR1bmUodm9pY2VzLCBmcmVxc3ByZWFkLCBuKSAvIDEyKTsKICAgICAgbGV0IGdhaW5MID0gZ2FpbjE7CiAgICAgIGxldCBnYWluUiA9IGdhaW4yOwogICAgICAvLyBpbnZlcnQgcmlnaHQgYW5kIGxlZnQgZ2FpbgogICAgICBpZiAoaXNPZGQpIHsKICAgICAgICBnYWluTCA9IGdhaW4yOwogICAgICAgIGdhaW5SID0gZ2FpbjE7CiAgICAgIH0KICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIGNvbnN0IGR0ID0gZnJlcSAvIHNhbXBsZVJhdGU7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dFswXS5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMucGhhc2Vbbl0gPSB0aGlzLnBoYXNlW25dID8/IE1hdGgucmFuZG9tKCk7CiAgICAgICAgY29uc3QgdiA9IHdhdmVzaGFwZXMuc2F3YmxlcCh0aGlzLnBoYXNlW25dLCBkdCk7CgogICAgICAgIG91dHB1dFswXVtpXSA9IG91dHB1dFswXVtpXSArIHYgKiBnYWluTDsKICAgICAgICBvdXRwdXRbMV1baV0gPSBvdXRwdXRbMV1baV0gKyB2ICogZ2FpblI7CgogICAgICAgIHRoaXMucGhhc2Vbbl0gKz0gZHQ7CgogICAgICAgIGlmICh0aGlzLnBoYXNlW25dID4gMS4wKSB7CiAgICAgICAgICB0aGlzLnBoYXNlW25dID0gdGhpcy5waGFzZVtuXSAtIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCnJlZ2lzdGVyUHJvY2Vzc29yKCdzdXBlcnNhdy1vc2NpbGxhdG9yJywgU3VwZXJTYXdPc2NpbGxhdG9yUHJvY2Vzc29yKTsK";function Tn(t){const r=It().createGain();return r.gain.value=t,r}const ga=(t,r,i,u)=>u-i===0?0:(r-t)/(u-i);function Vn(t,r,i,u){const o=new AudioWorkletNode(t,r,u);return Object.entries(i).forEach(([a,c])=>{o.parameters.get(a).value=c}),o}const On=(t,r,i,u,o,a,c,l,m,d="exponential")=>{r=bn(r),i=bn(i),u=bn(u),o=bn(o);const f=d==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";d==="exponential"&&(a=a===0?.001:a,c=c===0?.001:c);const g=c-a,A=c,D=a+u*g,F=m-l,E=S=>{let N;if(r>S){let L=ga(a,A,0,r);N=S*L+(a>A?a:0)}else N=(S-r)*ga(A,D,0,i)+A;return d==="exponential"&&(N=N||.001),N};t.setValueAtTime(a,l),r>F?t[f](E(F),m):r+i>F?(t[f](E(r),l+r),t[f](E(F),m)):(t[f](E(r),l+r),t[f](E(r+i),l+r+i),t.setValueAtTime(D,m)),t[f](a,m+o)};function xm(t,r,i,u,o,a){const c={threshold:r??-3,ratio:i??10,knee:u??10,attack:o??.005,release:a??.05};return new DynamicsCompressorNode(t,c)}const Gn=(t,r="linear",i)=>{const[u,o,a,c]=t;if(u==null&&o==null&&a==null&&c==null)return i??[.001,.001,1,.01];const l=a??(u!=null&&o==null||u==null&&o==null?1:.001);return[Math.max(u??0,.001),Math.max(o??0,.001),Math.min(l,1),Math.max(c??0,.01)]};function Ii(t,r,i,u,o,a,c,l,m,d,f,g,A,D){const F="exponential",[E,S,N,L]=Gn([o,a,c,l],F,[.005,.14,0,.1]);let K,_;if(A==="ladder"?(K=Vn(t,"ladder-processor",{frequency:i,q:u,drive:D}),_=K.parameters.get("frequency")):(K=t.createBiquadFilter(),K.type=r,K.Q.value=u,K.frequency.value=i,_=K.frequency),(o??a??c??l??m)!==void 0){m=bn(m,1,!0),g=bn(g,0,!0);const x=Math.abs(m),R=x*g;let T=Dr(2**-R*i,0,2e4),j=Dr(2**(x-R)*i,0,2e4);return m<0&&([T,j]=[j,T]),On(_,E,S,N,L,T,j,d,f,F),K}return K}let Aa=t=>t<.5?1:1-(t-.5)/.5;function Sm(t,r,i=0){const u=It();if(!i)return t;let o=u.createGain(),a=u.createGain();t.connect(o),r.connect(a),o.gain.value=Aa(i),a.gain.value=Aa(1-i);let c=u.createGain();return o.connect(c),a.connect(c),c}let ob=["linear","exponential"];function ts(t,r,i,u){if(!(r.pattack??r.pdecay??r.psustain??r.prelease??r.penv))return;const o=bn(r.penv,1,!0),a=ob[r.pcurve??0];let[c,l,m,d]=Gn([r.pattack,r.pdecay,r.psustain,r.prelease],a,[.2,.001,1,.001]),f=r.panchor??m;const g=o*100,A=0-g*f,D=g-g*f;On(t,c,l,m,d,A,D,i,u,a)}function es(t,r,i){const{vibmod:u=.5,vib:o}=r;let a;if(o>0){a=It().createOscillator(),a.frequency.value=o;const c=It().createGain();return c.gain.value=u*100,a.connect(c),c.connect(t),a.start(i),a}}function km(t,r,i,u){const o=t.createConstantSource();o.start(i),o.stop(u),o.onended=()=>{r()}}const ab=(t,r=1,i="sine")=>{const u=It(),o=u.createOscillator();o.type=i,o.frequency.value=t,o.start();const a=new GainNode(u,{gain:r});return o.connect(a),{node:a,stop:c=>o.stop(c)}},cb=(t,r,i,u="sine")=>{const o=t.value*r,a=o*i;return ab(o,a,u)};function to(t,r,i){const{fmh:u=1,fmi:o,fmenv:a="exp",fmattack:c,fmdecay:l,fmsustain:m,fmrelease:d,fmvelocity:f,fmwave:g="sine",duration:A}=r;let D,F=()=>{};if(o){const E=It().createGain(),S=cb(t,u,o,g);if(D=S.node,F=S.stop,![c,l,m,d,f].find(N=>N!==void 0))D.connect(t);else{const[N,L,K,_]=Gn([c,l,m,d]),x=i+A;On(E.gain,N,L,K,_,0,1,i,x,a==="exp"?"exponential":"linear"),D.connect(E),E.connect(t)}}return{stop:F}}const eo={},Ts={},lb=t=>eo[t];function hb(t,r){var i=1024;if(t<i)return t+" B";var u=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],o=-1;do t/=i,++o;while(t>=i);return t.toFixed(1)+" "+u[o]}const _m=async(t,r,i,u,o,a,c)=>{let l=0;o!==void 0&&i!==void 0&&Xe("[sampler] hap has note and freq. ignoring note","warning");let m=sb({freq:o,note:i},36);l=m-36;const d=It();let f,g=0;if(Array.isArray(a))g=fa(r,a.length),f=a[g];else{const E=N=>Qi(N)-m,S=Object.keys(a).filter(N=>!N.startsWith("_")).reduce((N,L,K)=>!N||Math.abs(E(L))<Math.abs(E(N))?L:N,null);l=-E(S),g=fa(r,a[S].length),f=a[S][g]}c&&(f=await c(f));let A=await no(f,d,t,g);u<0&&(A=Nm(A));const D=d.createBufferSource();D.buffer=A;const F=1*Math.pow(2,l/12);return D.playbackRate.value=F,D},no=(t,r,i,u=0)=>{const o=i?`sound "${i}:${u}"`:"sample";if(t=t.replace("#","%23"),!Ts[t]){Xe(`[sampler] load ${o}..`,"load-sample",{url:t});const a=Date.now();Ts[t]=fetch(t).then(c=>c.arrayBuffer()).then(async c=>{const l=Date.now()-a,m=hb(c.byteLength);Xe(`[sampler] load ${o}... done! loaded ${m} in ${l}ms`,"loaded-sample",{url:t});const d=await r.decodeAudioData(c);return eo[t]=d,d})}return Ts[t]};function Nm(t){const r=It(),i=r.createBuffer(t.numberOfChannels,t.length,r.sampleRate);for(let u=0;u<t.numberOfChannels;u++)i.copyToChannel(t.getChannelData(u).slice().reverse(),u,u);return i}const pb=t=>eo[t];function Tm(t){if(t.startsWith("bubo:")){const[r,i]=t.split(":");t=`github:Bubobubobubobubo/dough-${i}`}return t}function Rm(t,r=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[i,u]=t.split("github:");return u=u.endsWith("/")?u.slice(0,-1):u,u.split("/").length===2&&(u+="/main"),`https://raw.githubusercontent.com/${u}/${r}`}const Vm=(t,r,i=t._base||"")=>Object.entries(t).forEach(([u,o])=>{if(typeof o=="string"&&(o=[o]),typeof o!="object")throw new Error("wrong sample map format for "+u);i=o._base||i,i=Tm(i),i.startsWith("github:")&&(i=Rm(i,""));const a=c=>i+c;Array.isArray(o)?o=o.map(a):o=Object.fromEntries(Object.entries(o).map(([c,l])=>[c,(typeof l=="string"?[l]:l).map(a)])),r(u,o)});let Lm={};function mb(t,r){Lm[t]=r}function db(t){const r=Object.entries(Lm).find(([i])=>t.startsWith(i));if(r)return r[1]}const Om=async(t,r=t._base||"",i={})=>{if(typeof t=="string"){const a=db(t);if(a)return a(t);if(t=Tm(t),t.startsWith("github:")&&(t=Rm(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),t.startsWith("shabda:")){let[l,m]=t.split("shabda:");t=`https://shabda.ndre.gr/${m}.json?strudel=1`}if(t.startsWith("shabda/speech")){let[l,m]=t.split("shabda/speech");m=m.startsWith("/")?m.substring(1):m;let[d,f]=m.split(":"),g="f",A="en-GB";d&&([A,g]=d.split("/")),t=`https://shabda.ndre.gr/speech/${f}.json?gender=${g}&language=${A}&strudel=1'`}if(typeof fetch!="function")return;const c=t.split("/").slice(0,-1).join("/");return typeof fetch>"u"?void 0:fetch(t).then(l=>l.json()).then(l=>Om(l,r||l._base||c,i)).catch(l=>{throw console.error(l),new Error(`error loading "${t}"`)})}const{prebake:u,tag:o}=i;Vm(t,(a,c)=>Cr(a,(l,m,d)=>Gm(l,m,d,c),{type:"sample",samples:c,baseUrl:r,prebake:u,tag:o}),r)},Ca=[];async function Gm(t,r,i,u,o){let{s:a,freq:c,unit:l,nudge:m=0,cut:d,loop:f,clip:g=void 0,n:A=0,note:D,speed:F=1,loopBegin:E=0,begin:S=0,loopEnd:N=1,end:L=1,duration:K}=r;if(F===0)return;f=a.startsWith("wt_")?1:r.loop;const _=It();let[x,R,T,j]=Gn([r.attack,r.decay,r.sustain,r.release]);const X=t+m,z=await _m(a,A,D,F,c,u,o);let J=es(z.detune,r,t);if(_.currentTime>t){Xe(`[sampler] still loading sound "${a}:${A}"`,"highlight");return}if(!z){Xe(`[sampler] could not load "${a}:${A}"`,"error");return}z.playbackRate.value=Math.abs(F)*z.playbackRate.value,l==="c"&&(z.playbackRate.value=z.playbackRate.value*z.buffer.duration*1);const Z=S*z.buffer.duration;f&&(z.loop=!0,z.loopStart=E*z.buffer.duration-Z,z.loopEnd=N*z.buffer.duration-Z),z.start(X,Z);const H=_.createGain(),U=z.connect(H);if(g==null&&f==null&&r.release==null){const xt=z.buffer.duration/z.playbackRate.value;K=(L-S)*xt}let gt=t+K;On(U.gain,x,R,T,j,0,1,t,gt,"linear"),ts(z.detune,r,t,gt);const ut=_.createGain();U.connect(ut),z.onended=function(){z.disconnect(),J?.stop(),U.disconnect(),ut.disconnect(),i()};let dt=gt+j+.01;z.stop(dt);const ht={node:ut,bufferSource:z,stop:(xt,he)=>{}};if(d!==void 0){const xt=Ca[d];xt&&(xt.node.gain.setValueAtTime(1,X),xt.node.gain.linearRampToValueAtTime(0,X+.01)),Ca[d]=ht}return ht}const ns=$M();function Cr(t,r,i={}){ns.setKey(t,{onTrigger:r,data:i})}function xi(t){return ns.get()[t]}const jm={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,delay:0,delayfeedback:.5,delaytime:.25,orbit:1,i:1,velocity:1,fft:8};let ro=new Map(Object.entries(jm));function io(t,r){ro.set(t,r)}function Kt(t){return ro.get(t)}function fb(t){Object.keys(t).forEach(r=>{io(r,t[r])})}function Wm(){ro=new Map(Object.entries(jm))}function gb(t){Wm(),t==="1.0"&&io("fanchor",.5)}const Ab=()=>ns.set({});let cu;const zm=()=>(cu=new AudioContext,cu),It=()=>cu||zm();let Rs;function Cb(){return Rs||(Rs=It().audioWorklet.addModule(ub)),Rs}async function qm(t={}){const{disableWorklets:r=!1}=t;if(!(typeof window>"u")){if(await It().resume(),r){Xe("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await Cb(),Xe("[superdough] AudioWorklets loaded")}catch(i){console.warn("could not load AudioWorklet effects",i)}Xe("[superdough] ready")}}let Vs;async function Zm(t){return Vs||(Vs=new Promise(r=>{document.addEventListener("click",async function i(){document.removeEventListener("click",i),await qm(t),r()})})),Vs}let Nn={},Oi,yr;function Hm(){const t=It(),r=t.destination.maxChannelCount;t.destination.channelCount=r,Oi=new ChannelMergerNode(t,{numberOfInputs:t.destination.channelCount}),yr=new GainNode(t),Oi.connect(yr),yr.connect(t.destination)}const rs=(t,r=[0,1])=>{const i=It();Oi==null&&Hm();const u=new StereoPannerNode(i);t.connect(u);const o=new ChannelSplitterNode(i,{numberOfOutputs:u.channelCount});u.connect(o),r.forEach((a,c)=>{o.connect(Oi,c%u.channelCount,Dr(a,0,i.destination.channelCount-1))})},yb=()=>{yr!=null&&(yr.gain.linearRampToValueAtTime(0,It().currentTime+.01),yr=null)};function Mb(t,r,i,u){if(i=Dr(i,0,.98),!Nn[t]){const o=It().createFeedbackDelay(1,r,i);o.start?.(u),rs(o,[0,1]),Nn[t]=o}return Nn[t].delayTime.value!==r&&Nn[t].delayTime.setValueAtTime(r,u),Nn[t].feedback.value!==i&&Nn[t].feedback.setValueAtTime(i,u),Nn[t]}function bb(t,r,i=1,u=.5,o=1e3,a=2e3){const c=It(),l=c.createGain();l.gain.value=a*2,Vn(c,"lfo-processor",{frequency:i,depth:1,skew:0,phaseoffset:0,time:t,end:r,shape:1,dcoffset:-.5}).connect(l);const m=2;let d=0;const f=[];for(let g=0;g<m;g++){const A=c.createBiquadFilter();A.type="notch",A.gain.value=1,A.frequency.value=o+d,A.Q.value=2-Math.min(Math.max(u*2,0),1.9),l.connect(A.detune),d+=282,g>0&&f[g-1].connect(A),f.push(A)}return f[f.length-1]}function Db(t){t=t??0;const r=["12db","ladder","24db"];return typeof t=="number"?r[Math.floor(Im(t,r.length))]:t}let Qe={},Di=(t,r)=>t!==void 0&&t!==r;function Pb(t,r,i,u,o,a){if(!Qe[t]){const c=It().createReverb(r,i,u,o,a);rs(c,[0,1]),Qe[t]=c}return(Di(r,Qe[t].duration)||Di(i,Qe[t].fade)||Di(u,Qe[t].lp)||Di(o,Qe[t].dim)||Qe[t].ir!==a)&&Qe[t].generate(r,i,u,o,a),Qe[t]}let fe={},Un={};function Xm(t,r=1024){if(!fe[t]){const i=It().createAnalyser();i.fftSize=r,fe[t]=i,Un[t]=new Float32Array(fe[t].frequencyBinCount)}return fe[t].fftSize!==r&&(fe[t].fftSize=r,Un[t]=new Float32Array(fe[t].frequencyBinCount)),fe[t]}function so(t="time",r=1){const i={time:()=>fe[r]?.getFloatTimeDomainData(Un[r]),frequency:()=>fe[r]?.getFloatFrequencyData(Un[r])}[t];if(!i)throw new Error(`getAnalyzerData: ${t} not supported. use one of ${Object.keys(i).join(", ")}`);return i(),Un[r]}function Ls(t,r,i){const u=Tn(i);return t.connect(u),u.connect(r),u}function vb(){Nn={},Qe={},fe={},Un={}}const is=async(t,r,i)=>{const u=It();if(typeof t!="object")throw new Error(`expected hap.value to be an object, but got "${t}". Hint: append .note() or .s() to the end`,"error");if(t.duration=i,r=typeof r=="string"&&r.startsWith("=")?Number(r.slice(1)):u.currentTime+r,r<u.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${r.toFixed(2)}, now: ${u.currentTime.toFixed(2)})`);return}let{s:o=Kt("s"),bank:a,source:c,gain:l=Kt("gain"),postgain:m=Kt("postgain"),density:d=Kt("density"),fanchor:f=Kt("fanchor"),drive:g=.69,cutoff:A,lpenv:D,lpattack:F,lpdecay:E,lpsustain:S,lprelease:N,resonance:L=Kt("resonance"),hpenv:K,hcutoff:_,hpattack:x,hpdecay:R,hpsustain:T,hprelease:j,hresonance:X=Kt("hresonance"),bpenv:z,bandf:J,bpattack:Z,bpdecay:H,bpsustain:U,bprelease:gt,bandq:ut=Kt("bandq"),channels:dt=Kt("channels"),phaser:ht,phaserdepth:xt=Kt("phaserdepth"),phasersweep:he,phasercenter:te,coarse:Y,crush:ee,shape:oe,shapevol:Pe=Kt("shapevol"),distort:wt,distortvol:Ut=Kt("distortvol"),pan:Pt,vowel:Ht,delay:Ce=Kt("delay"),delayfeedback:ye=Kt("delayfeedback"),delaytime:Nt=Kt("delaytime"),orbit:Bn=Kt("orbit"),room:Tt,roomfade:In,roomlp:ve,roomdim:Ge,roomsize:cn,ir:ln,i:hn=Kt("i"),velocity:xn=Kt("velocity"),analyze:pn,fft:je=Kt("fft"),compressor:We,compressorRatio:Mt,compressorKnee:Gt,compressorAttack:lt,compressorRelease:Zt}=t;l=bn(l,1),dt=(Array.isArray(dt)?dt:[dt]).map(pt=>pt-1),l*=xn;let Rt=[];const Gr=()=>{Rt.forEach(pt=>pt?.disconnect())};a&&o&&(o=`${a}_${o}`);let Sn;if(c)Sn=c(r,t,i);else if(xi(o)){const{onTrigger:pt}=xi(o),jt=await pt(r,t,Gr);jt&&(Sn=jt.node,jt.stop(r+i))}else throw new Error(`sound ${o} not found! Is it loaded?`);if(!Sn)return;if(u.currentTime>r){Xe("[webaudio] skip hap: still loading",u.currentTime-r);return}const vt=[];vt.push(Sn),vt.push(Tn(l));const mn=Db(t.ftype);if(A!==void 0){let pt=()=>Ii(u,"lowpass",A,L,F,E,S,N,D,r,r+i,f,mn,g);vt.push(pt()),mn==="24db"&&vt.push(pt())}if(_!==void 0){let pt=()=>Ii(u,"highpass",_,X,x,R,T,j,K,r,r+i,f);vt.push(pt()),mn==="24db"&&vt.push(pt())}if(J!==void 0){let pt=()=>Ii(u,"bandpass",J,ut,Z,H,U,gt,z,r,r+i,f);vt.push(pt()),mn==="24db"&&vt.push(pt())}if(Ht!==void 0){const pt=u.createVowelFilter(Ht);vt.push(pt)}if(Y!==void 0&&vt.push(Vn(u,"coarse-processor",{coarse:Y})),ee!==void 0&&vt.push(Vn(u,"crush-processor",{crush:ee})),oe!==void 0&&vt.push(Vn(u,"shape-processor",{shape:oe,postgain:Pe})),wt!==void 0&&vt.push(Vn(u,"distort-processor",{distort:wt,postgain:Ut})),We!==void 0&&vt.push(xm(u,We,Mt,Gt,lt,Zt)),Pt!==void 0){const pt=u.createStereoPanner();pt.pan.value=2*Pt-1,vt.push(pt)}if(ht!==void 0&&xt>0){const pt=bb(r,r+i,ht,xt,te,he);vt.push(pt)}const pe=new GainNode(u,{gain:m});vt.push(pe),rs(pe,dt);let Vt;if(Ce>0&&Nt>0&&ye>0){const pt=Mb(Bn,Nt,ye,r);Vt=Ls(pe,pt,Ce)}let Kn;if(Tt>0){let pt;if(ln!==void 0){let Ee,me=xi(ln);Array.isArray(me)?Ee=me.data.samples[hn%me.data.samples.length]:typeof me=="object"&&(Ee=Object.values(me.data.samples).flat()[hn%Object.values(me.data.samples).length]),pt=await no(Ee,u,ln,0)}const jt=Pb(Bn,cn,In,ve,Ge,pt);Kn=Ls(pe,jt,Tt)}let ur;if(pn){const pt=Xm(pn,2**(je+5));ur=Ls(pe,pt,1)}vt.slice(1).reduce((pt,jt)=>pt.connect(jt),vt[0]),Rt=vt.concat([Vt,Kn,ur])},Eb=(t,r,i,u)=>is(r,t-i,r.duration/u);let Os={};function Fb(t,r){const i=It();if(Os[t])return Os[t];const u=2*i.sampleRate,o=i.createBuffer(1,u,i.sampleRate),a=o.getChannelData(0);let c=0,l,m,d,f,g,A,D;l=m=d=f=g=A=D=0;for(let F=0;F<u;F++)if(t==="white")a[F]=Math.random()*2-1;else if(t==="brown"){let E=Math.random()*2-1;a[F]=(c+.02*E)/1.02,c=a[F]}else if(t==="pink"){let E=Math.random()*2-1;l=.99886*l+E*.0555179,m=.99332*m+E*.0750759,d=.969*d+E*.153852,f=.8665*f+E*.3104856,g=.55*g+E*.5329522,A=-.7616*A-E*.016898,a[F]=l+m+d+f+g+A+D+E*.5362,a[F]*=.11,D=E*.115926}else if(t==="crackle"){const E=r*.01;Math.random()<E?a[F]=Math.random()*2-1:a[F]=0}return t!=="crackle"&&(Os[t]=o),o}function Km(t="white",r,i=.02){const u=It().createBufferSource();return u.buffer=Fb(t,i),u.loop=!0,u.start(r),{node:u,stop:o=>u.stop(o)}}function wb(t,r,i){const u=Km("pink",i);return{node:Sm(t,u.node,r),stop:o=>u?.stop(o)}}const Ym=t=>{let{note:r,freq:i}=t;return r=r||36,typeof r=="string"&&(r=Qi(r)),!i&&typeof r=="number"&&(i=Bm(r)),Number(i)},Bb=["triangle","square","sawtooth","sine"],Ib=["pink","white","brown","crackle"];function Um(){[...Bb].forEach(t=>{Cr(t,(r,i,u)=>{const[o,a,c,l]=Gn([i.attack,i.decay,i.sustain,i.release],"linear",[.001,.05,.6,.01]);let m=Jm(t,r,i),{node:d,stop:f,triggerRelease:g}=m;const A=Tn(.3),{duration:D}=i;d.onended=()=>{d.disconnect(),A.disconnect(),u()};const F=Tn(1);let E=d.connect(A).connect(F);const S=r+D;On(E.gain,o,a,c,l,0,1,r,S,"linear");const N=S+l+.01;return g?.(N),f(N),{node:E,stop:L=>{}}},{type:"synth",prebake:!0})}),Cr("supersaw",(t,r,i)=>{const u=It();let{duration:o,n:a,unison:c=5,spread:l=.6,detune:m}=r;m=m??a??.18;const d=Ym(r),[f,g,A,D]=Gn([r.attack,r.decay,r.sustain,r.release],"linear",[.001,.05,.6,.01]),F=t+o,E=F+D+.01,S=Dr(c,1,100);let N=S>1?Dr(l,0,1):0,L=Vn(u,"supersaw-oscillator",{frequency:d,begin:t,end:E,freqspread:m,voices:S,panspread:N},{outputChannelCount:[2]});const K=1/Math.sqrt(S);ts(L.parameters.get("detune"),r,t,F);const _=es(L.parameters.get("detune"),r,t),x=to(L.parameters.get("frequency"),r,t);let R=Tn(1);return R=L.connect(R),km(u,()=>{L.disconnect(),R.disconnect(),i(),x?.stop(),_?.stop()},t,E),On(R.gain,f,g,A,D,0,.3*K,t,F,"linear"),{node:R,stop:T=>{}}},{prebake:!0,type:"synth"}),[...Ib].forEach(t=>{Cr(t,(r,i,u)=>{const[o,a,c,l]=Gn([i.attack,i.decay,i.sustain,i.release],"linear",[.001,.05,.6,.01]);let m,{density:d}=i;m=Km(t,r,d);let{node:f,stop:g,triggerRelease:A}=m;const D=Tn(.3),{duration:F}=i;f.onended=()=>{f.disconnect(),D.disconnect(),u()};const E=Tn(1);let S=f.connect(D).connect(E);const N=r+F;On(S.gain,o,a,c,l,0,1,r,N,"linear");const L=N+l+.01;return A?.(L),g(L),{node:S,stop:K=>{}}},{type:"synth",prebake:!0})})}function $m(t,r){const i=new Float32Array(t+1),u=new Float32Array(t+1),o=It(),a=o.createOscillator(),c={sawtooth:d=>[0,-1/d],square:d=>[0,d%2===0?0:1/d],triangle:d=>[d%2===0?0:1/(d*d),0]};if(!c[r])throw new Error(`unknown wave type ${r}`);i[0]=0,u[0]=0;let l=1;for(;l<=t;){const[d,f]=c[r](l);i[l]=d,u[l]=f,l++}const m=o.createPeriodicWave(i,u);return a.setPeriodicWave(m),a}function Jm(t,r,i){let{n:u,duration:o,noise:a=0}=i,c;!u||t==="sine"?(c=It().createOscillator(),c.type=t||"triangle"):c=$m(u,t),c.frequency.value=Ym(i),c.start(r);let l=es(c.detune,i,r);ts(c.detune,i,r,r+o);const m=to(c.frequency,i,r);let d;return a&&(d=wb(c,a,r)),{node:d?.node||c,stop:f=>{m.stop(f),l?.stop(f),d?.stop(f),c.stop(f)},triggerRelease:f=>{}}}function xb(t=1,r=.05,i=220,u=0,o=0,a=.1,c=0,l=1,m=0,d=0,f=0,g=0,A=0,D=0,F=0,E=0,S=0,N=1,L=0,K=0){let _=Math.PI*2,x=It().sampleRate,R=xt=>xt>0?1:-1,T=m*=500*_/x/x,j=i*=(1+r*2*Math.random()-r)*_/x,X=[],z=0,J=0,Z=0,H=1,U=0,gt=0,ut=0,dt,ht;for(u=u*x+9,L*=x,o*=x,a*=x,S*=x,d*=500*_/x**3,F*=_/x,f*=_/x,g*=x,A=A*x|0,ht=u+L+o+a+S|0;Z<ht;X[Z++]=ut)++gt%(E*100|0)||(ut=c?c>1?c>2?c>3?Math.sin((z%_)**3):Math.max(Math.min(Math.tan(z),1),-1):1-(2*z/_%2+2)%2:1-4*Math.abs(Math.round(z/_)-z/_):Math.sin(z),ut=(A?1-K+K*Math.sin(_*Z/A):1)*R(ut)*Math.abs(ut)**l*t*1*(Z<u?Z/u:Z<u+L?1-(Z-u)/L*(1-N):Z<u+L+o?N:Z<ht-S?(ht-Z-S)/a*N:0),ut=S?ut/2+(S>Z?0:(Z<ht-S?1:(ht-Z)/S)*X[Z-S|0]/2):ut),dt=(i+=m+=d)*Math.cos(F*J++),z+=dt-dt*D*(1-(Math.sin(Z)+1)*1e9%2),H&&++H>g&&(i+=f,j+=f,H=0),A&&!(++U%A)&&(i=j,m=T,H||=1);return X}const Qm=(t,r)=>{let{s:i,note:u=36,freq:o,zrand:a=0,attack:c=0,decay:l=0,sustain:m=.8,release:d=.1,curve:f=1,slide:g=0,deltaSlide:A=0,pitchJump:D=0,pitchJumpTime:F=0,lfo:E=0,znoise:S=0,zmod:N=0,zcrush:L=0,zdelay:K=0,tremolo:_=0,duration:x=.2,zzfx:R}=t;const T=Math.max(x-c-l,0);typeof u=="string"&&(u=Qi(u)),!o&&typeof u=="number"&&(o=Bm(u)),i=i.replace("z_","");const j=["sine","triangle","sawtooth","tan","noise"].indexOf(i)||0;f=i==="square"?0:f;const X=xb(...R||[.25,a,o,c,T,d,j,f,g,A,D,F,E,S,N,L,K,m,l,_]),z=It(),J=z.createBuffer(1,X.length,z.sampleRate);J.getChannelData(0).set(X);const Z=It().createBufferSource();return Z.buffer=J,Z.start(r),{node:Z}};function Sb(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(t=>{Cr(t,(r,i,u)=>{const{node:o}=Qm({s:t,...i},r);return o.onended=()=>{o.disconnect(),u()},{node:o,stop:()=>{}}},{type:"synth",prebake:!0})})}let Mr;async function td(t,r){const i=`dsp-worklet-${Date.now()}`,u=`${r}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${i}', MyProcessor);
`,o=`data:text/javascript;base64,${btoa(u)}`;await t.audioWorklet.addModule(o);const a=new AudioWorkletNode(t,i);return{node:a,stop:()=>a.port.postMessage("stop")}}const ed=()=>{Mr&&(Mr?.stop(),Mr?.node?.disconnect())};typeof window<"u"&&window.addEventListener("message",t=>{t.data==="strudel-stop"?ed():t.data?.dough&&Mr?.node.port.postMessage(t.data)});const kb=async t=>{const r=It();ed(),Mr=await td(r,t),Mr.node.connect(r.destination)};function nd(t,r,i,u,o){window.postMessage({time:o,dough:r.value,currentTime:i,duration:r.duration,cps:u})}const xr=(t="test-canvas",r)=>{let{contextType:i="2d",pixelated:u=!1,pixelRatio:o=window.devicePixelRatio}={},a=document.querySelector("#"+t);if(!a){a=document.createElement("canvas"),a.id=t,a.width=window.innerWidth*o,a.height=window.innerHeight*o,a.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",u&&(a.style.imageRendering="pixelated"),document.body.prepend(a);let c;window.addEventListener("resize",()=>{c&&clearTimeout(c),c=setTimeout(()=>{a.width=window.innerWidth*o,a.height=window.innerHeight*o},200)})}return a.getContext(i)};let Ur={};function _b(t){Ur[t]!==void 0&&(cancelAnimationFrame(Ur[t]),delete Ur[t])}let An={};ot.prototype.draw=function(t,r){if(typeof window>"u")return this;let{id:i=1,lookbehind:u=0,lookahead:o=0}=r,a=Math.max(au(),0);_b(i),u=Math.abs(u),An[i]=(An[i]||[]).filter(d=>!d.isInFuture(a));let c=this.queryArc(a,a+o).filter(d=>d.hasOnset());An[i]=An[i].concat(c);let l;const m=()=>{const d=au(),f=d+o;An[i]=An[i].filter(D=>D.isInNearPast(u,d));let g=Math.max(l||f,f-1/10);const A=this.queryArc(g,f).filter(D=>D.hasOnset());An[i]=An[i].concat(A),l=f,t(An[i],d,f,this),Ur[i]=requestAnimationFrame(m)};return Ur[i]=requestAnimationFrame(m),this};ot.prototype.onPaint=function(){return console.warn("[draw] onPaint was not overloaded. Some drawings might not work"),this};let Nb={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function jn(){return Nb}let ya="#22222210";ot.prototype.animate=function({callback:t,sync:r=!1,smear:i=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const u=xr();let{clientWidth:o,clientHeight:a}=u.canvas;o*=window.devicePixelRatio,a*=window.devicePixelRatio;let c=i===0?"99":Number((1-i)*100).toFixed(0);c=c.length===1?`0${c}`:c,ya=`#200010${c}`;const l=m=>{let d;m=Math.round(m),d=this.slow(1e3).queryArc(m,m),u.fillStyle=ya,u.fillRect(0,0,o,a),d.forEach(f=>{let{x:g,y:A,w:D,h:F,s:E,r:S,angle:N=0,fill:L="darkseagreen"}=f.value;if(D*=o,F*=a,S!==void 0&&N!==void 0){const _=N*2*Math.PI,[x,R]=[(o-D)/2,(a-F)/2];g=x+Math.cos(_)*S*x,A=R+Math.sin(_)*S*R}else g*=o-D,A*=a-F;const K={...f.value,x:g,y:A,w:D,h:F};u.fillStyle=L,E==="rect"?u.fillRect(g,A,D,F):E==="ellipse"&&(u.beginPath(),u.ellipse(g+D/2,A+F/2,D/2,F/2,0,0,2*Math.PI),u.fill()),t&&t(u,K,f)}),window.frame=requestAnimationFrame(l)};return window.frame=requestAnimationFrame(l),kt};const{x:rd,y:fF,w:gF,h:AF,angle:CF,r:yF,fill:MF,smear:bF}=zu("x","y","w","h","angle","r","fill","smear");W("rescale",function(t,r){return r.mul(rd(t).w(t).y(t).h(t))});W("moveXY",function(t,r,i){return i.add(rd(t).y(r))});W("zoomIn",function(t,r){const i=ce(1).sub(t).div(2);return r.rescale(t).move(i,i)});const zr=(t,r,i)=>t*(i-r)+r,Ma=t=>{let{value:r}=t;typeof t.value!="object"&&(r={value:r});let{note:i,n:u,freq:o,s:a}=r;if(o)return Bu(o);if(i=i??u,typeof i=="string")try{return qn(i)}catch{return 0}return typeof i=="number"?i:a?"_"+a:r};ot.prototype.pianoroll=function(t={}){let{cycles:r=4,playhead:i=.5,overscan:u=0,hideNegative:o=!1,ctx:a=xr(),id:c=1}=t,l=-r*i,m=r*(1-i);const d=(f,g)=>(!o||f.whole.begin>=0)&&f.isWithinTime(g+l,g+m);return this.draw((f,g)=>{id({...t,time:g,ctx:a,haps:f.filter(A=>d(A,g))})},{lookbehind:l-u,lookahead:m+u,id:c}),this};function id({time:t,haps:r,cycles:i=4,playhead:u=.5,flipTime:o=0,flipValues:a=0,hideNegative:c=!1,inactive:l=jn().foreground,active:m=jn().foreground,background:d="transparent",smear:f=0,playheadColor:g=jn().foreground,minMidi:A=10,maxMidi:D=90,autorange:F=0,timeframe:E,fold:S=0,vertical:N=0,labels:L=!1,fill:K=1,fillActive:_=!1,strokeActive:x=!0,stroke:R,hideInactive:T=0,colorizeInactive:j=1,fontFamily:X,ctx:z,id:J}={}){const Z=z.canvas.width,H=z.canvas.height;let U=-i*u,gt=i*(1-u);J&&(r=r.filter(Pt=>Pt.hasTag(J))),E&&(console.warn("timeframe is deprecated! use from/to instead"),U=0,gt=E);const ut=N?H:Z,dt=N?Z:H;let ht=N?[ut,0]:[0,ut];const xt=gt-U,he=N?[0,dt]:[dt,0];let te=D-A+1,Y=dt/te,ee=[];o&&ht.reverse(),a&&he.reverse();const{min:oe,max:Pe,values:wt}=r.reduce(({min:Pt,max:Ht,values:Ce},ye)=>{const Nt=Ma(ye);return{min:Nt<Pt?Nt:Pt,max:Nt>Ht?Nt:Ht,values:Ce.includes(Nt)?Ce:[...Ce,Nt]}},{min:1/0,max:-1/0,values:[]});F&&(A=oe,D=Pe,te=D-A+1),ee=wt.sort((Pt,Ht)=>typeof Pt=="number"&&typeof Ht=="number"?Pt-Ht:typeof Pt=="number"?1:String(Pt).localeCompare(String(Ht))),Y=S?dt/ee.length:dt/te,z.fillStyle=d,z.globalAlpha=1,f||(z.clearRect(0,0,Z,H),z.fillRect(0,0,Z,H)),r.forEach(Pt=>{const Ht=Pt.whole.begin<=t&&Pt.endClipped>t;let Ce=R??(x&&Ht),ye=!Ht&&K||Ht&&_;if(T&&!Ht)return;let Nt=Pt.value?.color;m=Nt||m,l=j&&Nt||l,Nt=Ht?m:l,z.fillStyle=ye?Nt:"transparent",z.strokeStyle=Nt;const{velocity:Bn=1,gain:Tt=1}=Pt.value||{};z.globalAlpha=Bn*Tt;const In=(Pt.whole.begin-(o?gt:U))/xt,ve=zr(In,...ht);let Ge=zr(Pt.duration/xt,0,ut);const cn=Ma(Pt),ln=S?ee.indexOf(cn)/ee.length:(Number(cn)-A)/te,hn=zr(ln,...he);let xn=0;const pn=zr(t/xt,...ht);let je;if(N?je=[hn+1-(a?Y:0),ut-pn+ve+xn+1-(o?0:Ge),Y-2,Ge-2]:je=[ve-pn+xn+1-(o?Ge:0),hn+1-(a?0:Y),Ge-2,Y-2],Ce&&z.strokeRect(...je),ye&&z.fillRect(...je),L){const We=Pt.value.note??Pt.value.s+(Pt.value.n?`:${Pt.value.n}`:""),{label:Mt,activeLabel:Gt}=Pt.value,lt=(Ht&&Gt||Mt)??We;let Zt=N?Ge:Y*.75;z.font=`${Zt}px ${X||"monospace"}`,z.fillStyle=ye?"black":Nt,z.textBaseline="top",z.fillText(lt,...je)}}),z.globalAlpha=1;const Ut=zr(-U/xt,...ht);return z.strokeStyle=g,z.beginPath(),N?(z.moveTo(0,Ut),z.lineTo(dt,Ut)):(z.moveTo(Ut,0),z.lineTo(Ut,dt)),z.stroke(),this}function Tb(t,r={}){let[i,u]=t;i=Math.abs(i);const o=u+i,a=i/o;return{fold:1,...r,cycles:o,playhead:a}}const Rb=(t={})=>(r,i,u,o)=>id({ctx:r,time:i,haps:u,...Tb(o,t)});ot.prototype.punchcard=function(t){return this.onPaint(Rb(t))};ot.prototype.wordfall=function(t){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...t})};function Vb(t,r,i,u){const o=(t-90)*Math.PI/180;return[i+Math.cos(o)*r,u+Math.sin(o)*r]}const ba=(t,r,i,u,o=0)=>Vb((t+o)*360,r*t,i,u);function Da(t){let{ctx:r,from:i=0,to:u=3,margin:o=50,cx:a=100,cy:c=100,rotate:l=0,thickness:m=o/2,color:d=jn().foreground,cap:f="round",stretch:g=1,fromOpacity:A=1,toOpacity:D=1}=t;i*=g,u*=g,l*=g,r.lineWidth=m,r.lineCap=f,r.strokeStyle=d,r.globalAlpha=A,r.beginPath();let[F,E]=ba(i,o,a,c,l);r.moveTo(F,E);const S=1/60;let N=i;for(;N<=u;){const[L,K]=ba(N,o,a,c,l);r.globalAlpha=(N-i)/(u-i)*D,r.lineTo(L,K),N+=S}r.stroke()}function Lb(t){let{stretch:r=1,size:i=80,thickness:u=i/2,cap:o="butt",inset:a=3,playheadColor:c="#ffffff",playheadLength:l=.02,playheadThickness:m=u,padding:d=0,steady:f=1,activeColor:g=jn().foreground,inactiveColor:A=jn().gutterForeground,colorizeInactive:D=0,fade:F=!0,ctx:E,time:S,haps:N,drawTime:L,id:K}=t;K&&(N=N.filter(Z=>Z.hasTag(K)));const[_,x]=[E.canvas.width,E.canvas.height];E.clearRect(0,0,_*2,x*2);const[R,T]=[_/2,x/2],j={margin:i/r,cx:R,cy:T,stretch:r,cap:o,thickness:u},X={...j,thickness:m,from:a-l,to:a,color:c},[z]=L,J=f*S;N.forEach(Z=>{const H=Z.whole.begin<=S&&Z.endClipped>S,U=Z.whole.begin-S+a,gt=Z.endClipped-S+a-d,ut=Z.value?.color||g,dt=D||H?ut:A,ht=F?1-Math.abs((Z.whole.begin-S)/z):1;Da({ctx:E,...j,from:U,to:gt,rotate:J,color:dt,fromOpacity:ht,toOpacity:ht})}),Da({ctx:E,...X,rotate:J})}ot.prototype.spiral=function(t={}){return this.onPaint((r,i,u,o)=>Lb({ctx:r,time:i,haps:u,drawTime:o,...t}))};const Ob=br(36),Pa=(t,r,i,u)=>{u=u*Math.PI*2;const o=Math.sin(u)*i+t,a=Math.cos(u)*i+r;return[o,a]},va=(t,r)=>.5-Math.log2(t/r)%1;function Gb({haps:t,ctx:r,id:i,hapcircles:u=1,circle:o=0,edo:a=12,root:c=Ob,thickness:l=3,hapRadius:m=6,mode:d="flake",margin:f=10}={}){const g=d==="polygon",A=d==="flake",D=r.canvas.width,F=r.canvas.height;r.clearRect(0,0,D,F);const E=jn().foreground,S=Math.min(D,F)/2-l/2-m-f,N=D/2,L=F/2;i&&(t=t.filter(_=>_.hasTag(i))),r.strokeStyle=E,r.fillStyle=E,r.globalAlpha=1,r.lineWidth=l,o&&(r.beginPath(),r.arc(N,L,S,0,2*Math.PI),r.stroke()),a&&(Array.from({length:a},(_,x)=>{const R=va(c*Math.pow(2,x/a),c),[T,j]=Pa(N,L,S,R);r.beginPath(),r.arc(T,j,m,0,2*Math.PI),r.fill()}),r.stroke());let K=[];r.lineWidth=m,t.forEach(_=>{let x;try{x=_c(_)}catch{return}const R=va(x,c),[T,j]=Pa(N,L,S,R),X=_.value.color||E;r.strokeStyle=X,r.fillStyle=X;const{velocity:z=1,gain:J=1}=_.value||{},Z=z*J;r.globalAlpha=Z,K.push([T,j,R,X,Z]),r.beginPath(),u&&(r.moveTo(T+m,j),r.arc(T,j,m,0,2*Math.PI),r.fill()),A&&(r.moveTo(N,L),r.lineTo(T,j)),r.stroke()}),r.strokeStyle=E,r.globalAlpha=1,g&&K.length&&(K=K.sort((_,x)=>_[2]-x[2]),r.beginPath(),r.moveTo(K[0][0],K[0][1]),K.forEach(([_,x,R,T,j])=>{r.strokeStyle=T,r.globalAlpha=j,r.lineTo(_,x)}),r.lineTo(K[0][0],K[0][1]),r.stroke())}ot.prototype.pitchwheel=function(t={}){let{ctx:r=xr(),id:i=1}=t;return this.tag(i).onPaint((u,o,a)=>Gb({...t,time:o,ctx:r,haps:a.filter(c=>c.isActive(o)),id:i}))};const{Pattern:sd,logger:jb,repl:Wb}=Em;wm(jb);const ud=t=>(t.ensureObjectValue(),t.value),od=(t,r,i,u)=>is(ud(r),t-i,r.duration/u),ad=(t,r,i,u,o)=>is(ud(t),o?`=${o}`:r,i);sd.prototype.webaudio=function(){return this.onTrigger(od)};function cd(t={}){return t={getTime:()=>It().currentTime,defaultOutput:ad,...t},Wb(t)}sd.prototype.dough=function(){return this.onTrigger(nd,1)};function ld(t,{align:r=!0,color:i="white",thickness:u=3,scale:o=.25,pos:a=.75,trigger:c=0,ctx:l=xr(),id:m=1}={}){l.lineWidth=u,l.strokeStyle=i;let d=l.canvas;if(!t){l.beginPath();let E=a*d.height;l.moveTo(0,E),l.lineTo(d.width,E),l.stroke();return}const f=so("time",m);l.beginPath();const g=t.frequencyBinCount;let A=r?Array.from(f).findIndex((E,S,N)=>S&&N[S-1]>-c&&E<=-c):0;A=Math.max(A,0);const D=d.width*1/g;let F=0;for(let E=A;E<g;E++){const S=f[E]+1,N=(a-o*(S-1))*d.height;E===0?l.moveTo(F,N):l.lineTo(F,N),F+=D}l.stroke()}function hd(t,{color:r="white",scale:i=.25,pos:u=.75,lean:o=.5,min:a=-150,max:c=0,ctx:l=xr(),id:m=1}={}){if(!t){l.beginPath();let F=u*f.height;l.moveTo(0,F),l.lineTo(f.width,F),l.stroke();return}const d=so("frequency",m),f=l.canvas;l.fillStyle=r;const g=t.frequencyBinCount,A=f.width*1/g;let D=0;for(let F=0;F<g;F++){const E=Nu((d[F]-a)/(c-a),0,1)*i,S=E*f.height,N=(u-E*o)*f.height;l.fillRect(D,N,Math.max(A,1),S),D+=A}}function pd(t=0,r="0,0,0",i=xr()){t?(i.fillStyle=`rgba(${r},${1-t})`,i.fillRect(0,0,i.canvas.width,i.canvas.height)):i.clearRect(0,0,i.canvas.width,i.canvas.height)}ot.prototype.fscope=function(t={}){let r=t.id??1;return this.analyze(r).draw(()=>{pd(t.smear,"0,0,0",t.ctx),fe[r]&&hd(fe[r],t)},{id:r})};ot.prototype.tscope=function(t={}){let r=t.id??1;return this.analyze(r).draw(i=>{t.color=i[0]?.value?.color||jn().foreground,t.color,pd(t.smear,"0,0,0",t.ctx),ld(fe[r],t)},{id:r})};ot.prototype.scope=ot.prototype.tscope;const zb=Object.freeze(Object.defineProperty({__proto__:null,get analysers(){return fe},get analysersData(){return Un},applyFM:to,connectToDestination:rs,createFilter:Ii,dough:kb,doughTrigger:nd,drawFrequencyScope:hd,drawTimeScope:ld,drywet:Sm,dspWorklet:td,gainNode:Tn,getADSRValues:Gn,getAnalyserById:Xm,getAnalyzerData:so,getAudioContext:It,getCachedBuffer:lb,getCompressor:xm,getDefaultValue:Kt,getLoadedBuffer:pb,getOscillator:Jm,getParamADSR:On,getPitchEnvelope:ts,getSampleBufferSource:_m,getSound:xi,getVibratoOscillator:es,getWorklet:Vn,getZZFX:Qm,initAudio:qm,initAudioOnFirstClick:Zm,initializeAudioOutput:Hm,loadBuffer:no,logger:Xe,onTriggerSample:Gm,panic:yb,processSampleMap:Vm,registerSamplesPrefix:mb,registerSound:Cr,registerSynthSounds:Um,registerZZFXSounds:Sb,resetDefaultValues:Wm,resetGlobalEffects:vb,resetLoadedSounds:Ab,reverseBuffer:Nm,samples:Om,setDefaultAudioContext:zm,setDefaultValue:io,setDefaultValues:fb,setLogger:wm,setVersionDefaults:gb,soundMap:ns,superdough:is,superdoughTrigger:Eb,waveformN:$m,webAudioTimeout:km,webaudioOutput:ad,webaudioOutputTrigger:od,webaudioRepl:cd},Symbol.toStringTag,{value:"Module"}));function qb(t,r){function i(){this.constructor=t}i.prototype=r.prototype,t.prototype=new i}function er(t,r,i,u){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,er.prototype),o.expected=r,o.found=i,o.location=u,o.name="SyntaxError",o}qb(er,Error);function Gs(t,r,i){return i=i||" ",t.length>r?t:(r-=t.length,i+=i.repeat(r),t+i.slice(0,r))}er.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var i=null,u;for(u=0;u<t.length;u++)if(t[u].source===this.location.source){i=t[u].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,a=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,c=this.location.source+":"+a.line+":"+a.column;if(i){var l=this.location.end,m=Gs("",a.line.toString().length," "),d=i[o.line-1],f=o.line===l.line?l.column:d.length+1,g=f-o.column||1;r+=`
 --> `+c+`
`+m+` |
`+a.line+" | "+d+`
`+m+" | "+Gs("",o.column-1," ")+Gs("",g,"^")}else r+=`
 at `+c}return r};er.buildMessage=function(t,r){var i={literal:function(d){return'"'+o(d.text)+'"'},class:function(d){var f=d.parts.map(function(g){return Array.isArray(g)?a(g[0])+"-"+a(g[1]):a(g)});return"["+(d.inverted?"^":"")+f.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(d){return d.description}};function u(d){return d.charCodeAt(0).toString(16).toUpperCase()}function o(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+u(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+u(f)})}function a(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+u(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+u(f)})}function c(d){return i[d.type](d)}function l(d){var f=d.map(c),g,A;if(f.sort(),f.length>0){for(g=1,A=1;g<f.length;g++)f[g-1]!==f[g]&&(f[A]=f[g],A++);f.length=A}switch(f.length){case 1:return f[0];case 2:return f[0]+" or "+f[1];default:return f.slice(0,-1).join(", ")+", or "+f[f.length-1]}}function m(d){return d?'"'+o(d)+'"':"end of input"}return"Expected "+l(t)+" but "+m(r)+" found."};function md(t,r){r=r!==void 0?r:{};var i={},u=r.grammarSource,o={start:ta},a=ta,c=".",l="-",m="+",d="0",f=",",g="|",A='"',D="'",F="#",E="^",S="_",N="[",L="]",K="{",_="}",x="%",R="<",T=">",j="@",X="!",z="(",J=")",Z="/",H="*",U="?",gt=":",ut="..",dt="struct",ht="target",xt="euclid",he="slow",te="rotL",Y="rotR",ee="fast",oe="scale",Pe="//",wt="cat",Ut="$",Pt="setcps",Ht="setbpm",Ce="hush",ye=/^[1-9]/,Nt=/^[eE]/,Bn=/^[0-9]/,Tt=/^[ \n\r\t\xA0]/,In=/^[0-9~]/,ve=/^[^\n]/,Ge=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,cn=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,ln=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05EF-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,hn=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,xn=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]/,pn=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,je=xs("number"),We=Ct(".",!1),Mt=we([["1","9"]],!1,!1),Gt=we(["e","E"],!1,!1),lt=Ct("-",!1),Zt=Ct("+",!1),Rt=Ct("0",!1),Gr=we([["0","9"]],!1,!1),Sn=xs("whitespace"),vt=we([" ",`
`,"\r","	"," "],!1,!1),mn=Ct(",",!1),pe=Ct("|",!1),Vt=Ct('"',!1),Kn=Ct("'",!1),ur=xs('a letter, a number, "-", "#", ".", "^", "_"'),pt=we([["0","9"],"~"],!1,!1),jt=Ct("#",!1),Ee=Ct("^",!1),me=Ct("_",!1),jr=Ct("[",!1),mi=Ct("]",!1),Bs=Ct("{",!1),p=Ct("}",!1),y=Ct("%",!1),C=Ct("<",!1),M=Ct(">",!1),B=Ct("@",!1),V=Ct("!",!1),G=Ct("(",!1),q=Ct(")",!1),Q=Ct("/",!1),yt=Ct("*",!1),Xt=Ct("?",!1),dn=Ct(":",!1),kn=Ct("..",!1),di=Ct("struct",!1),fi=Ct("target",!1),Fe=Ct("euclid",!1),Lg=Ct("slow",!1),Og=Ct("rotL",!1),Gg=Ct("rotR",!1),jg=Ct("fast",!1),Wg=Ct("scale",!1),zg=Ct("//",!1),Uo=we([`
`],!0,!1),qg=Ct("cat",!1),Zg=Ct("$",!1),Hg=Ct("setcps",!1),Xg=Ct("setbpm",!1),Kg=Ct("hush",!1),Yg=we([["a","z"],"µ",["ß","ö"],["ø","ÿ"],"ā","ă","ą","ć","ĉ","ċ","č","ď","đ","ē","ĕ","ė","ę","ě","ĝ","ğ","ġ","ģ","ĥ","ħ","ĩ","ī","ĭ","į","ı","ĳ","ĵ",["ķ","ĸ"],"ĺ","ļ","ľ","ŀ","ł","ń","ņ",["ň","ŉ"],"ŋ","ō","ŏ","ő","œ","ŕ","ŗ","ř","ś","ŝ","ş","š","ţ","ť","ŧ","ũ","ū","ŭ","ů","ű","ų","ŵ","ŷ","ź","ż",["ž","ƀ"],"ƃ","ƅ","ƈ",["ƌ","ƍ"],"ƒ","ƕ",["ƙ","ƛ"],"ƞ","ơ","ƣ","ƥ","ƨ",["ƪ","ƫ"],"ƭ","ư","ƴ","ƶ",["ƹ","ƺ"],["ƽ","ƿ"],"ǆ","ǉ","ǌ","ǎ","ǐ","ǒ","ǔ","ǖ","ǘ","ǚ",["ǜ","ǝ"],"ǟ","ǡ","ǣ","ǥ","ǧ","ǩ","ǫ","ǭ",["ǯ","ǰ"],"ǳ","ǵ","ǹ","ǻ","ǽ","ǿ","ȁ","ȃ","ȅ","ȇ","ȉ","ȋ","ȍ","ȏ","ȑ","ȓ","ȕ","ȗ","ș","ț","ȝ","ȟ","ȡ","ȣ","ȥ","ȧ","ȩ","ȫ","ȭ","ȯ","ȱ",["ȳ","ȹ"],"ȼ",["ȿ","ɀ"],"ɂ","ɇ","ɉ","ɋ","ɍ",["ɏ","ʓ"],["ʕ","ʯ"],"ͱ","ͳ","ͷ",["ͻ","ͽ"],"ΐ",["ά","ώ"],["ϐ","ϑ"],["ϕ","ϗ"],"ϙ","ϛ","ϝ","ϟ","ϡ","ϣ","ϥ","ϧ","ϩ","ϫ","ϭ",["ϯ","ϳ"],"ϵ","ϸ",["ϻ","ϼ"],["а","џ"],"ѡ","ѣ","ѥ","ѧ","ѩ","ѫ","ѭ","ѯ","ѱ","ѳ","ѵ","ѷ","ѹ","ѻ","ѽ","ѿ","ҁ","ҋ","ҍ","ҏ","ґ","ғ","ҕ","җ","ҙ","қ","ҝ","ҟ","ҡ","ң","ҥ","ҧ","ҩ","ҫ","ҭ","ү","ұ","ҳ","ҵ","ҷ","ҹ","һ","ҽ","ҿ","ӂ","ӄ","ӆ","ӈ","ӊ","ӌ",["ӎ","ӏ"],"ӑ","ӓ","ӕ","ӗ","ә","ӛ","ӝ","ӟ","ӡ","ӣ","ӥ","ӧ","ө","ӫ","ӭ","ӯ","ӱ","ӳ","ӵ","ӷ","ӹ","ӻ","ӽ","ӿ","ԁ","ԃ","ԅ","ԇ","ԉ","ԋ","ԍ","ԏ","ԑ","ԓ","ԕ","ԗ","ԙ","ԛ","ԝ","ԟ","ԡ","ԣ","ԥ","ԧ","ԩ","ԫ","ԭ","ԯ",["ՠ","ֈ"],["ა","ჺ"],["ჽ","ჿ"],["ᏸ","ᏽ"],["ᲀ","ᲈ"],["ᴀ","ᴫ"],["ᵫ","ᵷ"],["ᵹ","ᶚ"],"ḁ","ḃ","ḅ","ḇ","ḉ","ḋ","ḍ","ḏ","ḑ","ḓ","ḕ","ḗ","ḙ","ḛ","ḝ","ḟ","ḡ","ḣ","ḥ","ḧ","ḩ","ḫ","ḭ","ḯ","ḱ","ḳ","ḵ","ḷ","ḹ","ḻ","ḽ","ḿ","ṁ","ṃ","ṅ","ṇ","ṉ","ṋ","ṍ","ṏ","ṑ","ṓ","ṕ","ṗ","ṙ","ṛ","ṝ","ṟ","ṡ","ṣ","ṥ","ṧ","ṩ","ṫ","ṭ","ṯ","ṱ","ṳ","ṵ","ṷ","ṹ","ṻ","ṽ","ṿ","ẁ","ẃ","ẅ","ẇ","ẉ","ẋ","ẍ","ẏ","ẑ","ẓ",["ẕ","ẝ"],"ẟ","ạ","ả","ấ","ầ","ẩ","ẫ","ậ","ắ","ằ","ẳ","ẵ","ặ","ẹ","ẻ","ẽ","ế","ề","ể","ễ","ệ","ỉ","ị","ọ","ỏ","ố","ồ","ổ","ỗ","ộ","ớ","ờ","ở","ỡ","ợ","ụ","ủ","ứ","ừ","ử","ữ","ự","ỳ","ỵ","ỷ","ỹ","ỻ","ỽ",["ỿ","ἇ"],["ἐ","ἕ"],["ἠ","ἧ"],["ἰ","ἷ"],["ὀ","ὅ"],["ὐ","ὗ"],["ὠ","ὧ"],["ὰ","ώ"],["ᾀ","ᾇ"],["ᾐ","ᾗ"],["ᾠ","ᾧ"],["ᾰ","ᾴ"],["ᾶ","ᾷ"],"ι",["ῂ","ῄ"],["ῆ","ῇ"],["ῐ","ΐ"],["ῖ","ῗ"],["ῠ","ῧ"],["ῲ","ῴ"],["ῶ","ῷ"],"ℊ",["ℎ","ℏ"],"ℓ","ℯ","ℴ","ℹ",["ℼ","ℽ"],["ⅆ","ⅉ"],"ⅎ","ↄ",["ⰰ","ⱞ"],"ⱡ",["ⱥ","ⱦ"],"ⱨ","ⱪ","ⱬ","ⱱ",["ⱳ","ⱴ"],["ⱶ","ⱻ"],"ⲁ","ⲃ","ⲅ","ⲇ","ⲉ","ⲋ","ⲍ","ⲏ","ⲑ","ⲓ","ⲕ","ⲗ","ⲙ","ⲛ","ⲝ","ⲟ","ⲡ","ⲣ","ⲥ","ⲧ","ⲩ","ⲫ","ⲭ","ⲯ","ⲱ","ⲳ","ⲵ","ⲷ","ⲹ","ⲻ","ⲽ","ⲿ","ⳁ","ⳃ","ⳅ","ⳇ","ⳉ","ⳋ","ⳍ","ⳏ","ⳑ","ⳓ","ⳕ","ⳗ","ⳙ","ⳛ","ⳝ","ⳟ","ⳡ",["ⳣ","ⳤ"],"ⳬ","ⳮ","ⳳ",["ⴀ","ⴥ"],"ⴧ","ⴭ","ꙁ","ꙃ","ꙅ","ꙇ","ꙉ","ꙋ","ꙍ","ꙏ","ꙑ","ꙓ","ꙕ","ꙗ","ꙙ","ꙛ","ꙝ","ꙟ","ꙡ","ꙣ","ꙥ","ꙧ","ꙩ","ꙫ","ꙭ","ꚁ","ꚃ","ꚅ","ꚇ","ꚉ","ꚋ","ꚍ","ꚏ","ꚑ","ꚓ","ꚕ","ꚗ","ꚙ","ꚛ","ꜣ","ꜥ","ꜧ","ꜩ","ꜫ","ꜭ",["ꜯ","ꜱ"],"ꜳ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ꜿ","ꝁ","ꝃ","ꝅ","ꝇ","ꝉ","ꝋ","ꝍ","ꝏ","ꝑ","ꝓ","ꝕ","ꝗ","ꝙ","ꝛ","ꝝ","ꝟ","ꝡ","ꝣ","ꝥ","ꝧ","ꝩ","ꝫ","ꝭ","ꝯ",["ꝱ","ꝸ"],"ꝺ","ꝼ","ꝿ","ꞁ","ꞃ","ꞅ","ꞇ","ꞌ","ꞎ","ꞑ",["ꞓ","ꞕ"],"ꞗ","ꞙ","ꞛ","ꞝ","ꞟ","ꞡ","ꞣ","ꞥ","ꞧ","ꞩ","ꞯ","ꞵ","ꞷ","ꞹ","ꟺ",["ꬰ","ꭚ"],["ꭠ","ꭥ"],["ꭰ","ꮿ"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],["ａ","ｚ"]],!1,!1),Ug=we([["ʰ","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ","ʹ","ͺ","ՙ","ـ",["ۥ","ۦ"],["ߴ","ߵ"],"ߺ","ࠚ","ࠤ","ࠨ","ॱ","ๆ","ໆ","ჼ","ៗ","ᡃ","ᪧ",["ᱸ","ᱽ"],["ᴬ","ᵪ"],"ᵸ",["ᶛ","ᶿ"],"ⁱ","ⁿ",["ₐ","ₜ"],["ⱼ","ⱽ"],"ⵯ","ⸯ","々",["〱","〵"],"〻",["ゝ","ゞ"],["ー","ヾ"],"ꀕ",["ꓸ","ꓽ"],"ꘌ","ꙿ",["ꚜ","ꚝ"],["ꜗ","ꜟ"],"ꝰ","ꞈ",["ꟸ","ꟹ"],"ꧏ","ꧦ","ꩰ","ꫝ",["ꫳ","ꫴ"],["ꭜ","ꭟ"],"ｰ",["ﾞ","ﾟ"]],!1,!1),$g=we(["ª","º","ƻ",["ǀ","ǃ"],"ʔ",["א","ת"],["ׯ","ײ"],["ؠ","ؿ"],["ف","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ࠀ","ࠕ"],["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॲ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๅ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["ᄀ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛱ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៜ",["ᠠ","ᡂ"],["ᡄ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱷ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ℵ","ℸ"],["ⴰ","ⵧ"],["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"〆","〼",["ぁ","ゖ"],"ゟ",["ァ","ヺ"],"ヿ",["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꀔ"],["ꀖ","ꒌ"],["ꓐ","ꓷ"],["ꔀ","ꘋ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],"ꙮ",["ꚠ","ꛥ"],"ꞏ","ꟷ",["ꟻ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],["ꧠ","ꧤ"],["ꧧ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩯ"],["ꩱ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫜ"],["ꫠ","ꫪ"],"ꫲ",["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꯀ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["ｦ","ｯ"],["ｱ","ﾝ"],["ﾠ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),Jg=we(["ǅ","ǈ","ǋ","ǲ",["ᾈ","ᾏ"],["ᾘ","ᾟ"],["ᾨ","ᾯ"],"ᾼ","ῌ","ῼ"],!1,!1),Qg=we([["A","Z"],["À","Ö"],["Ø","Þ"],"Ā","Ă","Ą","Ć","Ĉ","Ċ","Č","Ď","Đ","Ē","Ĕ","Ė","Ę","Ě","Ĝ","Ğ","Ġ","Ģ","Ĥ","Ħ","Ĩ","Ī","Ĭ","Į","İ","Ĳ","Ĵ","Ķ","Ĺ","Ļ","Ľ","Ŀ","Ł","Ń","Ņ","Ň","Ŋ","Ō","Ŏ","Ő","Œ","Ŕ","Ŗ","Ř","Ś","Ŝ","Ş","Š","Ţ","Ť","Ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","Ŵ","Ŷ",["Ÿ","Ź"],"Ż","Ž",["Ɓ","Ƃ"],"Ƅ",["Ɔ","Ƈ"],["Ɖ","Ƌ"],["Ǝ","Ƒ"],["Ɠ","Ɣ"],["Ɩ","Ƙ"],["Ɯ","Ɲ"],["Ɵ","Ơ"],"Ƣ","Ƥ",["Ʀ","Ƨ"],"Ʃ","Ƭ",["Ʈ","Ư"],["Ʊ","Ƴ"],"Ƶ",["Ʒ","Ƹ"],"Ƽ","Ǆ","Ǉ","Ǌ","Ǎ","Ǐ","Ǒ","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ǟ","Ǡ","Ǣ","Ǥ","Ǧ","Ǩ","Ǫ","Ǭ","Ǯ","Ǳ","Ǵ",["Ƕ","Ǹ"],"Ǻ","Ǽ","Ǿ","Ȁ","Ȃ","Ȅ","Ȇ","Ȉ","Ȋ","Ȍ","Ȏ","Ȑ","Ȓ","Ȕ","Ȗ","Ș","Ț","Ȝ","Ȟ","Ƞ","Ȣ","Ȥ","Ȧ","Ȩ","Ȫ","Ȭ","Ȯ","Ȱ","Ȳ",["Ⱥ","Ȼ"],["Ƚ","Ⱦ"],"Ɂ",["Ƀ","Ɇ"],"Ɉ","Ɋ","Ɍ","Ɏ","Ͱ","Ͳ","Ͷ","Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ώ"],["Α","Ρ"],["Σ","Ϋ"],"Ϗ",["ϒ","ϔ"],"Ϙ","Ϛ","Ϝ","Ϟ","Ϡ","Ϣ","Ϥ","Ϧ","Ϩ","Ϫ","Ϭ","Ϯ","ϴ","Ϸ",["Ϲ","Ϻ"],["Ͻ","Я"],"Ѡ","Ѣ","Ѥ","Ѧ","Ѩ","Ѫ","Ѭ","Ѯ","Ѱ","Ѳ","Ѵ","Ѷ","Ѹ","Ѻ","Ѽ","Ѿ","Ҁ","Ҋ","Ҍ","Ҏ","Ґ","Ғ","Ҕ","Җ","Ҙ","Қ","Ҝ","Ҟ","Ҡ","Ң","Ҥ","Ҧ","Ҩ","Ҫ","Ҭ","Ү","Ұ","Ҳ","Ҵ","Ҷ","Ҹ","Һ","Ҽ","Ҿ",["Ӏ","Ӂ"],"Ӄ","Ӆ","Ӈ","Ӊ","Ӌ","Ӎ","Ӑ","Ӓ","Ӕ","Ӗ","Ә","Ӛ","Ӝ","Ӟ","Ӡ","Ӣ","Ӥ","Ӧ","Ө","Ӫ","Ӭ","Ӯ","Ӱ","Ӳ","Ӵ","Ӷ","Ӹ","Ӻ","Ӽ","Ӿ","Ԁ","Ԃ","Ԅ","Ԇ","Ԉ","Ԋ","Ԍ","Ԏ","Ԑ","Ԓ","Ԕ","Ԗ","Ԙ","Ԛ","Ԝ","Ԟ","Ԡ","Ԣ","Ԥ","Ԧ","Ԩ","Ԫ","Ԭ","Ԯ",["Ա","Ֆ"],["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["Ꭰ","Ᏽ"],["Ა","Ჺ"],["Ჽ","Ჿ"],"Ḁ","Ḃ","Ḅ","Ḇ","Ḉ","Ḋ","Ḍ","Ḏ","Ḑ","Ḓ","Ḕ","Ḗ","Ḙ","Ḛ","Ḝ","Ḟ","Ḡ","Ḣ","Ḥ","Ḧ","Ḩ","Ḫ","Ḭ","Ḯ","Ḱ","Ḳ","Ḵ","Ḷ","Ḹ","Ḻ","Ḽ","Ḿ","Ṁ","Ṃ","Ṅ","Ṇ","Ṉ","Ṋ","Ṍ","Ṏ","Ṑ","Ṓ","Ṕ","Ṗ","Ṙ","Ṛ","Ṝ","Ṟ","Ṡ","Ṣ","Ṥ","Ṧ","Ṩ","Ṫ","Ṭ","Ṯ","Ṱ","Ṳ","Ṵ","Ṷ","Ṹ","Ṻ","Ṽ","Ṿ","Ẁ","Ẃ","Ẅ","Ẇ","Ẉ","Ẋ","Ẍ","Ẏ","Ẑ","Ẓ","Ẕ","ẞ","Ạ","Ả","Ấ","Ầ","Ẩ","Ẫ","Ậ","Ắ","Ằ","Ẳ","Ẵ","Ặ","Ẹ","Ẻ","Ẽ","Ế","Ề","Ể","Ễ","Ệ","Ỉ","Ị","Ọ","Ỏ","Ố","Ồ","Ổ","Ỗ","Ộ","Ớ","Ờ","Ở","Ỡ","Ợ","Ụ","Ủ","Ứ","Ừ","Ử","Ữ","Ự","Ỳ","Ỵ","Ỷ","Ỹ","Ỻ","Ỽ","Ỿ",["Ἀ","Ἇ"],["Ἐ","Ἕ"],["Ἠ","Ἧ"],["Ἰ","Ἷ"],["Ὀ","Ὅ"],"Ὑ","Ὓ","Ὕ","Ὗ",["Ὠ","Ὧ"],["Ᾰ","Ά"],["Ὲ","Ή"],["Ῐ","Ί"],["Ῠ","Ῥ"],["Ὸ","Ώ"],"ℂ","ℇ",["ℋ","ℍ"],["ℐ","ℒ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℰ","ℳ"],["ℾ","ℿ"],"ⅅ","Ↄ",["Ⰰ","Ⱞ"],"Ⱡ",["Ɫ","Ɽ"],"Ⱨ","Ⱪ","Ⱬ",["Ɑ","Ɒ"],"Ⱳ","Ⱶ",["Ȿ","Ⲁ"],"Ⲃ","Ⲅ","Ⲇ","Ⲉ","Ⲋ","Ⲍ","Ⲏ","Ⲑ","Ⲓ","Ⲕ","Ⲗ","Ⲙ","Ⲛ","Ⲝ","Ⲟ","Ⲡ","Ⲣ","Ⲥ","Ⲧ","Ⲩ","Ⲫ","Ⲭ","Ⲯ","Ⲱ","Ⲳ","Ⲵ","Ⲷ","Ⲹ","Ⲻ","Ⲽ","Ⲿ","Ⳁ","Ⳃ","Ⳅ","Ⳇ","Ⳉ","Ⳋ","Ⳍ","Ⳏ","Ⳑ","Ⳓ","Ⳕ","Ⳗ","Ⳙ","Ⳛ","Ⳝ","Ⳟ","Ⳡ","Ⳣ","Ⳬ","Ⳮ","Ⳳ","Ꙁ","Ꙃ","Ꙅ","Ꙇ","Ꙉ","Ꙋ","Ꙍ","Ꙏ","Ꙑ","Ꙓ","Ꙕ","Ꙗ","Ꙙ","Ꙛ","Ꙝ","Ꙟ","Ꙡ","Ꙣ","Ꙥ","Ꙧ","Ꙩ","Ꙫ","Ꙭ","Ꚁ","Ꚃ","Ꚅ","Ꚇ","Ꚉ","Ꚋ","Ꚍ","Ꚏ","Ꚑ","Ꚓ","Ꚕ","Ꚗ","Ꚙ","Ꚛ","Ꜣ","Ꜥ","Ꜧ","Ꜩ","Ꜫ","Ꜭ","Ꜯ","Ꜳ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ꜿ","Ꝁ","Ꝃ","Ꝅ","Ꝇ","Ꝉ","Ꝋ","Ꝍ","Ꝏ","Ꝑ","Ꝓ","Ꝕ","Ꝗ","Ꝙ","Ꝛ","Ꝝ","Ꝟ","Ꝡ","Ꝣ","Ꝥ","Ꝧ","Ꝩ","Ꝫ","Ꝭ","Ꝯ","Ꝺ","Ꝼ",["Ᵹ","Ꝿ"],"Ꞁ","Ꞃ","Ꞅ","Ꞇ","Ꞌ","Ɥ","Ꞑ","Ꞓ","Ꞗ","Ꞙ","Ꞛ","Ꞝ","Ꞟ","Ꞡ","Ꞣ","Ꞥ","Ꞧ","Ꞩ",["Ɦ","Ɪ"],["Ʞ","Ꞵ"],"Ꞷ","Ꞹ",["Ａ","Ｚ"]],!1,!1),tA=we([["ᛮ","ᛰ"],["Ⅰ","ↂ"],["ↅ","ↈ"],"〇",["〡","〩"],["〸","〺"],["ꛦ","ꛯ"]],!1,!1),eA=function(){return parseFloat(GA())},nA=function(h){const P=h.join("");return P==="."||P==="_"},rA=function(h){return new RC(h.join(""))},iA=function(h){return h},sA=function(h,P){return h.arguments_.stepsPerCycle=P,h},uA=function(h){return h},oA=function(h){return h.arguments_.alignment="polymeter_slowcat",h},aA=function(h){return P=>P.options_.weight=(P.options_.weight??1)+(h??2)-1},cA=function(h){return P=>{const I=(P.options_.reps??1)+(h??2)-1;P.options_.reps=I,P.options_.ops=P.options_.ops.filter(O=>O.type_!=="replicate"),P.options_.ops.push({type_:"replicate",arguments_:{amount:I}}),P.options_.weight=I}},lA=function(h,P,I){return O=>O.options_.ops.push({type_:"bjorklund",arguments_:{pulse:h,step:P,rotation:I}})},hA=function(h){return P=>P.options_.ops.push({type_:"stretch",arguments_:{amount:h,type:"slow"}})},pA=function(h){return P=>P.options_.ops.push({type_:"stretch",arguments_:{amount:h,type:"fast"}})},mA=function(h){return P=>P.options_.ops.push({type_:"degradeBy",arguments_:{amount:h,seed:Ns++}})},dA=function(h){return P=>P.options_.ops.push({type_:"tail",arguments_:{element:h}})},fA=function(h){return P=>P.options_.ops.push({type_:"range",arguments_:{element:h}})},gA=function(h,P){const I=new LC(h,{ops:[],weight:1,reps:1});for(const O of P)O(I);return I},AA=function(h,P){return new Mi(P,"fastcat",void 0,!!h)},CA=function(h){return{alignment:"stack",list:h}},yA=function(h){return{alignment:"rand",list:h,seed:Ns++}},MA=function(h){return{alignment:"feet",list:h,seed:Ns++}},bA=function(h,P){return P&&P.list.length>0?new Mi([h,...P.list],P.alignment,P.seed):h},DA=function(h,P){return new Mi(P?[h,...P.list]:[h],"polymeter")},PA=function(h){return h},vA=function(h){return{name:"struct",args:{mini:h}}},EA=function(h){return{name:"target",args:{name:h}}},FA=function(h,P,I){return{name:"bjorklund",args:{pulse:h,step:parseInt(P)}}},wA=function(h){return{name:"stretch",args:{amount:h}}},BA=function(h){return{name:"shift",args:{amount:"-"+h}}},IA=function(h){return{name:"shift",args:{amount:h}}},xA=function(h){return{name:"stretch",args:{amount:"1/"+h}}},SA=function(h){return{name:"scale",args:{scale:h.join("")}}},$o=function(h,P){return P},kA=function(h,P){return P.unshift(h),new Mi(P,"slowcat")},_A=function(h){return h},NA=function(h,P){return new VC(h.name,h.args,P)},TA=function(h){return h},RA=function(h){return h},VA=function(h){return new _s("setcps",{value:h})},LA=function(h){return new _s("setcps",{value:h/120/2})},OA=function(){return new _s("hush")},v=0,At=0,gi=[{line:1,column:1}],Je=0,Is=[],$=0,Ai;if("startRule"in r){if(!(r.startRule in o))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');a=o[r.startRule]}function GA(){return t.substring(At,v)}function Jo(){return Ss(At,v)}function Ct(h,P){return{type:"literal",text:h,ignoreCase:P}}function we(h,P,I){return{type:"class",parts:h,inverted:P,ignoreCase:I}}function jA(){return{type:"end"}}function xs(h){return{type:"other",description:h}}function Qo(h){var P=gi[h],I;if(P)return P;for(I=h-1;!gi[I];)I--;for(P=gi[I],P={line:P.line,column:P.column};I<h;)t.charCodeAt(I)===10?(P.line++,P.column=1):P.column++,I++;return gi[h]=P,P}function Ss(h,P,I){var O=Qo(h),at=Qo(P),Lt={source:u,start:{offset:h,line:O.line,column:O.column},end:{offset:P,line:at.line,column:at.column}};return Lt}function et(h){v<Je||(v>Je&&(Je=v,Is=[]),Is.push(h))}function WA(h,P,I){return new er(er.buildMessage(h,P),h,P,I)}function ta(){var h;return h=BC(),h}function fn(){var h,P;return $++,h=v,ea(),P=Ci(),P!==i?(XA(),HA(),At=h,h=eA()):(v=h,h=i),$--,h===i&&$===0&&et(je),h}function zA(){var h;return t.charCodeAt(v)===46?(h=c,v++):(h=i,$===0&&et(We)),h}function qA(){var h;return ye.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Mt)),h}function ZA(){var h;return Nt.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Gt)),h}function HA(){var h,P,I,O,at;if(h=v,P=ZA(),P!==i){if(I=ea(),I===i&&(I=KA()),I===i&&(I=null),O=[],at=or(),at!==i)for(;at!==i;)O.push(at),at=or();else O=i;O!==i?(P=[P,I,O],h=P):(v=h,h=i)}else v=h,h=i;return h}function XA(){var h,P,I,O;if(h=v,P=zA(),P!==i){if(I=[],O=or(),O!==i)for(;O!==i;)I.push(O),O=or();else I=i;I!==i?(P=[P,I],h=P):(v=h,h=i)}else v=h,h=i;return h}function Ci(){var h,P,I,O;if(h=YA(),h===i)if(h=v,P=qA(),P!==i){for(I=[],O=or();O!==i;)I.push(O),O=or();P=[P,I],h=P}else v=h,h=i;return h}function ea(){var h;return t.charCodeAt(v)===45?(h=l,v++):(h=i,$===0&&et(lt)),h}function KA(){var h;return t.charCodeAt(v)===43?(h=m,v++):(h=i,$===0&&et(Zt)),h}function YA(){var h;return t.charCodeAt(v)===48?(h=d,v++):(h=i,$===0&&et(Rt)),h}function or(){var h;return Bn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Gr)),h}function mt(){var h,P;for($++,h=[],Tt.test(t.charAt(v))?(P=t.charAt(v),v++):(P=i,$===0&&et(vt));P!==i;)h.push(P),Tt.test(t.charAt(v))?(P=t.charAt(v),v++):(P=i,$===0&&et(vt));return $--,P=i,$===0&&et(Sn),h}function ar(){var h,P,I,O;return h=v,P=mt(),t.charCodeAt(v)===44?(I=f,v++):(I=i,$===0&&et(mn)),I!==i?(O=mt(),P=[P,I,O],h=P):(v=h,h=i),h}function na(){var h,P,I,O;return h=v,P=mt(),t.charCodeAt(v)===124?(I=g,v++):(I=i,$===0&&et(pe)),I!==i?(O=mt(),P=[P,I,O],h=P):(v=h,h=i),h}function ra(){var h,P,I,O;return h=v,P=mt(),t.charCodeAt(v)===46?(I=c,v++):(I=i,$===0&&et(We)),I!==i?(O=mt(),P=[P,I,O],h=P):(v=h,h=i),h}function cr(){var h;return t.charCodeAt(v)===34?(h=A,v++):(h=i,$===0&&et(Vt)),h===i&&(t.charCodeAt(v)===39?(h=D,v++):(h=i,$===0&&et(Kn))),h}function yi(){var h;return $++,h=IC(),h===i&&(In.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(pt)),h===i&&(t.charCodeAt(v)===45?(h=l,v++):(h=i,$===0&&et(lt)),h===i&&(t.charCodeAt(v)===35?(h=F,v++):(h=i,$===0&&et(jt)),h===i&&(t.charCodeAt(v)===46?(h=c,v++):(h=i,$===0&&et(We)),h===i&&(t.charCodeAt(v)===94?(h=E,v++):(h=i,$===0&&et(Ee)),h===i&&(t.charCodeAt(v)===95?(h=S,v++):(h=i,$===0&&et(me)))))))),$--,h===i&&$===0&&et(ur),h}function ia(){var h,P,I,O;if(h=v,mt(),P=[],I=yi(),I!==i)for(;I!==i;)P.push(I),I=yi();else P=i;return P!==i?(I=mt(),At=v,O=nA(P),O?O=i:O=void 0,O!==i?(At=h,h=rA(P)):(v=h,h=i)):(v=h,h=i),h}function UA(){var h,P,I,O;return h=v,mt(),t.charCodeAt(v)===91?(P=N,v++):(P=i,$===0&&et(jr)),P!==i?(mt(),I=oa(),I!==i?(mt(),t.charCodeAt(v)===93?(O=L,v++):(O=i,$===0&&et(mi)),O!==i?(mt(),At=h,h=iA(I)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function $A(){var h,P,I,O,at;return h=v,mt(),t.charCodeAt(v)===123?(P=K,v++):(P=i,$===0&&et(Bs)),P!==i?(mt(),I=aa(),I!==i?(mt(),t.charCodeAt(v)===125?(O=_,v++):(O=i,$===0&&et(p)),O!==i?(at=JA(),at===i&&(at=null),mt(),At=h,h=sA(I,at)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function JA(){var h,P,I;return h=v,t.charCodeAt(v)===37?(P=x,v++):(P=i,$===0&&et(y)),P!==i?(I=lr(),I!==i?(At=h,h=uA(I)):(v=h,h=i)):(v=h,h=i),h}function QA(){var h,P,I,O;return h=v,mt(),t.charCodeAt(v)===60?(P=R,v++):(P=i,$===0&&et(C)),P!==i?(mt(),I=aa(),I!==i?(mt(),t.charCodeAt(v)===62?(O=T,v++):(O=i,$===0&&et(M)),O!==i?(mt(),At=h,h=oA(I)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function lr(){var h;return h=ia(),h===i&&(h=UA(),h===i&&(h=$A(),h===i&&(h=QA()))),h}function sa(){var h;return h=tC(),h===i&&(h=nC(),h===i&&(h=rC(),h===i&&(h=iC(),h===i&&(h=eC(),h===i&&(h=sC(),h===i&&(h=uC(),h===i&&(h=oC()))))))),h}function tC(){var h,P,I;return h=v,mt(),t.charCodeAt(v)===64?(P=j,v++):(P=i,$===0&&et(B)),P===i&&(t.charCodeAt(v)===95?(P=S,v++):(P=i,$===0&&et(me))),P!==i?(I=fn(),I===i&&(I=null),At=h,h=aA(I)):(v=h,h=i),h}function eC(){var h,P,I;return h=v,mt(),t.charCodeAt(v)===33?(P=X,v++):(P=i,$===0&&et(V)),P!==i?(I=fn(),I===i&&(I=null),At=h,h=cA(I)):(v=h,h=i),h}function nC(){var h,P,I,O,at,Lt,ze;return h=v,t.charCodeAt(v)===40?(P=z,v++):(P=i,$===0&&et(G)),P!==i?(mt(),I=Wr(),I!==i?(mt(),O=ar(),O!==i?(mt(),at=Wr(),at!==i?(mt(),ar(),mt(),Lt=Wr(),Lt===i&&(Lt=null),mt(),t.charCodeAt(v)===41?(ze=J,v++):(ze=i,$===0&&et(q)),ze!==i?(At=h,h=lA(I,at,Lt)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function rC(){var h,P,I;return h=v,t.charCodeAt(v)===47?(P=Z,v++):(P=i,$===0&&et(Q)),P!==i?(I=lr(),I!==i?(At=h,h=hA(I)):(v=h,h=i)):(v=h,h=i),h}function iC(){var h,P,I;return h=v,t.charCodeAt(v)===42?(P=H,v++):(P=i,$===0&&et(yt)),P!==i?(I=lr(),I!==i?(At=h,h=pA(I)):(v=h,h=i)):(v=h,h=i),h}function sC(){var h,P,I;return h=v,t.charCodeAt(v)===63?(P=U,v++):(P=i,$===0&&et(Xt)),P!==i?(I=fn(),I===i&&(I=null),At=h,h=mA(I)):(v=h,h=i),h}function uC(){var h,P,I;return h=v,t.charCodeAt(v)===58?(P=gt,v++):(P=i,$===0&&et(dn)),P!==i?(I=lr(),I!==i?(At=h,h=dA(I)):(v=h,h=i)):(v=h,h=i),h}function oC(){var h,P,I;return h=v,t.substr(v,2)===ut?(P=ut,v+=2):(P=i,$===0&&et(kn)),P!==i?(I=lr(),I!==i?(At=h,h=fA(I)):(v=h,h=i)):(v=h,h=i),h}function Wr(){var h,P,I,O;if(h=v,P=lr(),P!==i){for(I=[],O=sa();O!==i;)I.push(O),O=sa();At=h,h=gA(P,I)}else v=h,h=i;return h}function _n(){var h,P,I,O;if(h=v,t.charCodeAt(v)===94?(P=E,v++):(P=i,$===0&&et(Ee)),P===i&&(P=null),I=[],O=Wr(),O!==i)for(;O!==i;)I.push(O),O=Wr();else I=i;return I!==i?(At=h,h=AA(P,I)):(v=h,h=i),h}function ua(){var h,P,I,O,at;if(h=v,P=[],I=v,O=ar(),O!==i?(at=_n(),at!==i?I=at:(v=I,I=i)):(v=I,I=i),I!==i)for(;I!==i;)P.push(I),I=v,O=ar(),O!==i?(at=_n(),at!==i?I=at:(v=I,I=i)):(v=I,I=i);else P=i;return P!==i&&(At=h,P=CA(P)),h=P,h}function aC(){var h,P,I,O,at;if(h=v,P=[],I=v,O=na(),O!==i?(at=_n(),at!==i?I=at:(v=I,I=i)):(v=I,I=i),I!==i)for(;I!==i;)P.push(I),I=v,O=na(),O!==i?(at=_n(),at!==i?I=at:(v=I,I=i)):(v=I,I=i);else P=i;return P!==i&&(At=h,P=yA(P)),h=P,h}function cC(){var h,P,I,O,at;if(h=v,P=[],I=v,O=ra(),O!==i?(at=_n(),at!==i?I=at:(v=I,I=i)):(v=I,I=i),I!==i)for(;I!==i;)P.push(I),I=v,O=ra(),O!==i?(at=_n(),at!==i?I=at:(v=I,I=i)):(v=I,I=i);else P=i;return P!==i&&(At=h,P=MA(P)),h=P,h}function oa(){var h,P,I;return h=v,P=_n(),P!==i?(I=ua(),I===i&&(I=aC(),I===i&&(I=cC())),I===i&&(I=null),At=h,h=bA(P,I)):(v=h,h=i),h}function aa(){var h,P,I;return h=v,P=_n(),P!==i?(I=ua(),I===i&&(I=null),At=h,h=DA(P,I)):(v=h,h=i),h}function lC(){var h,P,I,O;return h=v,mt(),P=cr(),P!==i?(mt(),I=oa(),I!==i?(mt(),O=cr(),O!==i?(At=h,h=PA(I)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function hC(){var h;return h=yC(),h===i&&(h=fC(),h===i&&(h=CC(),h===i&&(h=mC(),h===i&&(h=dC(),h===i&&(h=pC(),h===i&&(h=AC(),h===i&&(h=gC()))))))),h}function pC(){var h,P,I;return h=v,t.substr(v,6)===dt?(P=dt,v+=6):(P=i,$===0&&et(di)),P!==i?(mt(),I=hr(),I!==i?(At=h,h=vA(I)):(v=h,h=i)):(v=h,h=i),h}function mC(){var h,P,I,O,at;return h=v,t.substr(v,6)===ht?(P=ht,v+=6):(P=i,$===0&&et(fi)),P!==i?(mt(),I=cr(),I!==i?(O=ia(),O!==i?(at=cr(),at!==i?(At=h,h=EA(O)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function dC(){var h,P,I,O;return h=v,t.substr(v,6)===xt?(P=xt,v+=6):(P=i,$===0&&et(Fe)),P!==i?(mt(),I=Ci(),I!==i?(mt(),O=Ci(),O!==i?(mt(),Ci(),At=h,h=FA(I,O)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i),h}function fC(){var h,P,I;return h=v,t.substr(v,4)===he?(P=he,v+=4):(P=i,$===0&&et(Lg)),P!==i?(mt(),I=fn(),I!==i?(At=h,h=wA(I)):(v=h,h=i)):(v=h,h=i),h}function gC(){var h,P,I;return h=v,t.substr(v,4)===te?(P=te,v+=4):(P=i,$===0&&et(Og)),P!==i?(mt(),I=fn(),I!==i?(At=h,h=BA(I)):(v=h,h=i)):(v=h,h=i),h}function AC(){var h,P,I;return h=v,t.substr(v,4)===Y?(P=Y,v+=4):(P=i,$===0&&et(Gg)),P!==i?(mt(),I=fn(),I!==i?(At=h,h=IA(I)):(v=h,h=i)):(v=h,h=i),h}function CC(){var h,P,I;return h=v,t.substr(v,4)===ee?(P=ee,v+=4):(P=i,$===0&&et(jg)),P!==i?(mt(),I=fn(),I!==i?(At=h,h=xA(I)):(v=h,h=i)):(v=h,h=i),h}function yC(){var h,P,I,O,at;if(h=v,t.substr(v,5)===oe?(P=oe,v+=5):(P=i,$===0&&et(Wg)),P!==i)if(mt(),I=cr(),I!==i){if(O=[],at=yi(),at!==i)for(;at!==i;)O.push(at),at=yi();else O=i;O!==i?(at=cr(),at!==i?(At=h,h=SA(O)):(v=h,h=i)):(v=h,h=i)}else v=h,h=i;else v=h,h=i;return h}function ks(){var h,P,I,O;if(h=v,t.substr(v,2)===Pe?(P=Pe,v+=2):(P=i,$===0&&et(zg)),P!==i){for(I=[],ve.test(t.charAt(v))?(O=t.charAt(v),v++):(O=i,$===0&&et(Uo));O!==i;)I.push(O),ve.test(t.charAt(v))?(O=t.charAt(v),v++):(O=i,$===0&&et(Uo));P=[P,I],h=P}else v=h,h=i;return h}function MC(){var h,P,I,O,at,Lt,ze,pr;if(h=v,t.substr(v,3)===wt?(P=wt,v+=3):(P=i,$===0&&et(qg)),P!==i)if(mt(),t.charCodeAt(v)===91?(I=N,v++):(I=i,$===0&&et(jr)),I!==i)if(mt(),O=hr(),O!==i){for(at=[],Lt=v,ze=ar(),ze!==i?(pr=hr(),pr!==i?(At=Lt,Lt=$o(O,pr)):(v=Lt,Lt=i)):(v=Lt,Lt=i);Lt!==i;)at.push(Lt),Lt=v,ze=ar(),ze!==i?(pr=hr(),pr!==i?(At=Lt,Lt=$o(O,pr)):(v=Lt,Lt=i)):(v=Lt,Lt=i);Lt=mt(),t.charCodeAt(v)===93?(ze=L,v++):(ze=i,$===0&&et(mi)),ze!==i?(At=h,h=kA(O,at)):(v=h,h=i)}else v=h,h=i;else v=h,h=i;else v=h,h=i;return h}function bC(){var h;return h=MC(),h===i&&(h=lC()),h}function hr(){var h,P,I,O,at;if(h=v,P=bC(),P!==i){for(mt(),I=[],O=ks();O!==i;)I.push(O),O=ks();At=h,h=_A(P)}else v=h,h=i;return h===i&&(h=v,P=hC(),P!==i?(mt(),t.charCodeAt(v)===36?(I=Ut,v++):(I=i,$===0&&et(Zg)),I!==i?(O=mt(),at=hr(),at!==i?(At=h,h=NA(P,at)):(v=h,h=i)):(v=h,h=i)):(v=h,h=i)),h}function DC(){var h,P;return h=v,P=hr(),P!==i&&(At=h,P=TA(P)),h=P,h===i&&(h=ks()),h}function PC(){var h;return h=DC(),h}function vC(){var h,P;return h=v,mt(),P=EC(),P===i&&(P=FC(),P===i&&(P=wC())),P!==i?(mt(),At=h,h=RA(P)):(v=h,h=i),h}function EC(){var h,P,I;return h=v,t.substr(v,6)===Pt?(P=Pt,v+=6):(P=i,$===0&&et(Hg)),P!==i?(mt(),I=fn(),I!==i?(At=h,h=VA(I)):(v=h,h=i)):(v=h,h=i),h}function FC(){var h,P,I;return h=v,t.substr(v,6)===Ht?(P=Ht,v+=6):(P=i,$===0&&et(Xg)),P!==i?(mt(),I=fn(),I!==i?(At=h,h=LA(I)):(v=h,h=i)):(v=h,h=i),h}function wC(){var h,P;return h=v,t.substr(v,4)===Ce?(P=Ce,v+=4):(P=i,$===0&&et(Kg)),P!==i&&(At=h,P=OA()),h=P,h}function BC(){var h;return h=PC(),h===i&&(h=vC()),h}function IC(){var h;return h=NC(),h===i&&(h=xC(),h===i&&(h=_C(),h===i&&(h=SC(),h===i&&(h=kC(),h===i&&(h=TC()))))),h}function xC(){var h;return Ge.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Yg)),h}function SC(){var h;return cn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Ug)),h}function kC(){var h;return ln.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et($g)),h}function _C(){var h;return hn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Jg)),h}function NC(){var h;return xn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(Qg)),h}function TC(){var h;return pn.test(t.charAt(v))?(h=t.charAt(v),v++):(h=i,$===0&&et(tA)),h}var RC=function(h){this.type_="atom",this.source_=h,this.location_=Jo()},Mi=function(h,P,I,O){this.type_="pattern",this.arguments_={alignment:P,tactus:O},I!==void 0&&(this.arguments_.seed=I),this.source_=h},VC=function(h,P,I){this.type_=h,this.arguments_=P,this.source_=I},LC=function(h,P){this.type_="element",this.source_=h,this.options_=P,this.location_=Jo()},_s=function(h,P){this.type_="command",this.name_=h,this.options_=P},Ns=0;if(Ai=a(),Ai!==i&&v===t.length)return Ai;throw Ai!==i&&v<t.length&&et(jA()),WA(Is,Je<t.length?t.charAt(Je):null,Je<t.length?Ss(Je,Je+1):Ss(Je,Je))}/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var Zb=2e3,st={s:1,n:0,d:1};function Cn(t,r){if(isNaN(t=parseInt(t,10)))throw Si();return t*r}function zt(t,r){if(r===0)throw uo();var i=Object.create(_t.prototype);i.s=t<0?-1:1,t=t<0?-t:t;var u=fr(t,r);return i.n=t/u,i.d=r/u,i}function Ea(t){for(var r={},i=t,u=2,o=4;o<=i;){for(;i%u===0;)i/=u,r[u]=(r[u]||0)+1;o+=1+2*u++}return i!==t?i>1&&(r[i]=(r[i]||0)+1):r[t]=(r[t]||0)+1,r}var be=function(t,r){var i=0,u=1,o=1,a=0,c=0,l=0,m=1,d=1,f=0,g=1,A=1,D=1,F=1e7,E;if(t!=null)if(r!==void 0){if(i=t,u=r,o=i*u,i%1!==0||u%1!==0)throw Yb()}else switch(typeof t){case"object":{if("d"in t&&"n"in t)i=t.n,u=t.d,"s"in t&&(i*=t.s);else if(0 in t)i=t[0],1 in t&&(u=t[1]);else throw Si();o=i*u;break}case"number":{if(t<0&&(o=t,t=-t),t%1===0)i=t;else if(t>0){for(t>=1&&(d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=d);g<=F&&D<=F;)if(E=(f+A)/(g+D),t===E){g+D<=F?(i=f+A,u=g+D):D>g?(i=A,u=D):(i=f,u=g);break}else t>E?(f+=A,g+=D):(A+=f,D+=g),g>F?(i=A,u=D):(i=f,u=g);i*=d}else(isNaN(t)||isNaN(r))&&(u=i=NaN);break}case"string":{if(g=t.match(/\d+|./g),g===null)throw Si();if(g[f]==="-"?(o=-1,f++):g[f]==="+"&&f++,g.length===f+1?c=Cn(g[f++],o):g[f+1]==="."||g[f]==="."?(g[f]!=="."&&(a=Cn(g[f++],o)),f++,(f+1===g.length||g[f+1]==="("&&g[f+3]===")"||g[f+1]==="'"&&g[f+3]==="'")&&(c=Cn(g[f],o),m=Math.pow(10,g[f].length),f++),(g[f]==="("&&g[f+2]===")"||g[f]==="'"&&g[f+2]==="'")&&(l=Cn(g[f+1],o),d=Math.pow(10,g[f+1].length)-1,f+=3)):g[f+1]==="/"||g[f+1]===":"?(c=Cn(g[f],o),m=Cn(g[f+2],1),f+=3):g[f+3]==="/"&&g[f+1]===" "&&(a=Cn(g[f],o),c=Cn(g[f+2],o),m=Cn(g[f+4],1),f+=5),g.length<=f){u=m*d,o=i=l+u*a+d*c;break}}default:throw Si()}if(u===0)throw uo();st.s=o<0?-1:1,st.n=Math.abs(i),st.d=Math.abs(u)};function Hb(t,r,i){for(var u=1;r>0;t=t*t%i,r>>=1)r&1&&(u=u*t%i);return u}function Xb(t,r){for(;r%2===0;r/=2);for(;r%5===0;r/=5);if(r===1)return 0;for(var i=10%r,u=1;i!==1;u++)if(i=i*10%r,u>Zb)return 0;return u}function Kb(t,r,i){for(var u=1,o=Hb(10,i,r),a=0;a<300;a++){if(u===o)return a;u=u*10%r,o=o*10%r}return 0}function fr(t,r){if(!t)return r;if(!r)return t;for(;;){if(t%=r,!t)return r;if(r%=t,!r)return t}}function _t(t,r){if(be(t,r),this instanceof _t)t=fr(st.d,st.n),this.s=st.s,this.n=st.n/t,this.d=st.d/t;else return zt(st.s*st.n,st.d)}var uo=function(){return new Error("Division by Zero")},Si=function(){return new Error("Invalid argument")},Yb=function(){return new Error("Parameters must be integer")};_t.prototype={s:1,n:0,d:1,abs:function(){return zt(this.n,this.d)},neg:function(){return zt(-this.s*this.n,this.d)},add:function(t,r){return be(t,r),zt(this.s*this.n*st.d+st.s*this.d*st.n,this.d*st.d)},sub:function(t,r){return be(t,r),zt(this.s*this.n*st.d-st.s*this.d*st.n,this.d*st.d)},mul:function(t,r){return be(t,r),zt(this.s*st.s*this.n*st.n,this.d*st.d)},div:function(t,r){return be(t,r),zt(this.s*st.s*this.n*st.d,this.d*st.n)},clone:function(){return zt(this.s*this.n,this.d)},mod:function(t,r){if(isNaN(this.n)||isNaN(this.d))return new _t(NaN);if(t===void 0)return zt(this.s*this.n%this.d,1);if(be(t,r),st.n===0&&this.d===0)throw uo();return zt(this.s*(st.d*this.n)%(st.n*this.d),st.d*this.d)},gcd:function(t,r){return be(t,r),zt(fr(st.n,this.n)*fr(st.d,this.d),st.d*this.d)},lcm:function(t,r){return be(t,r),st.n===0&&this.n===0?zt(0,1):zt(st.n*this.n,fr(st.n,this.n)*fr(st.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new _t(NaN):zt(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new _t(NaN):zt(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new _t(NaN):zt(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,r){return be(t,r),zt(this.s*Math.round(this.n*st.d/(this.d*st.n))*st.n,st.d)},inverse:function(){return zt(this.s*this.d,this.n)},pow:function(t,r){if(be(t,r),st.d===1)return st.s<0?zt(Math.pow(this.s*this.d,st.n),Math.pow(this.n,st.n)):zt(Math.pow(this.s*this.n,st.n),Math.pow(this.d,st.n));if(this.s<0)return null;var i=Ea(this.n),u=Ea(this.d),o=1,a=1;for(var c in i)if(c!=="1"){if(c==="0"){o=0;break}if(i[c]*=st.n,i[c]%st.d===0)i[c]/=st.d;else return null;o*=Math.pow(c,i[c])}for(var c in u)if(c!=="1"){if(u[c]*=st.n,u[c]%st.d===0)u[c]/=st.d;else return null;a*=Math.pow(c,u[c])}return st.s<0?zt(a,o):zt(o,a)},equals:function(t,r){return be(t,r),this.s*this.n*st.d===st.s*st.n*this.d},compare:function(t,r){be(t,r);var i=this.s*this.n*st.d-st.s*st.n*this.d;return(0<i)-(i<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var r=this.abs(),i=r.toContinued(),u=1;u<i.length;u++){for(var o=zt(i[u-1],1),a=u-2;a>=0;a--)o=o.inverse().add(i[a]);if(Math.abs(o.sub(r).valueOf())<t)return o.mul(this.s)}return this},divisible:function(t,r){return be(t,r),!(!(st.n*this.d)||this.n*st.d%(st.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,i="",u=this.n,o=this.d;return this.s<0&&(i+="-"),o===1?i+=u:(t&&(r=Math.floor(u/o))>0&&(i+=r,i+=" ",u%=o),i+=u,i+="/",i+=o),i},toLatex:function(t){var r,i="",u=this.n,o=this.d;return this.s<0&&(i+="-"),o===1?i+=u:(t&&(r=Math.floor(u/o))>0&&(i+=r,u%=o),i+="\\frac{",i+=u,i+="}{",i+=o,i+="}"),i},toContinued:function(){var t,r=this.n,i=this.d,u=[];if(isNaN(r)||isNaN(i))return u;do u.push(Math.floor(r/i)),t=r%i,r=i,i=t;while(r!==1);return u},toString:function(t){var r=this.n,i=this.d;if(isNaN(r)||isNaN(i))return"NaN";t=t||15;var u=Xb(r,i),o=Kb(r,i,u),a=this.s<0?"-":"";if(a+=r/i|0,r%=i,r*=10,r&&(a+="."),u){for(var c=o;c--;)a+=r/i|0,r%=i,r*=10;a+="(";for(var c=u;c--;)a+=r/i|0,r%=i,r*=10;a+=")"}else for(var c=t;r&&c--;)a+=r/i|0,r%=i,r*=10;return a}};class tn{constructor(r,i){this.begin=Yn(r),this.end=Yn(i)}get spanCycles(){const r=[];var i=this.begin;const u=this.end,o=u.sam();if(i.equals(u))return[new tn(i,u)];for(;u.gt(i);){if(i.sam().equals(o)){r.push(new tn(i,this.end));break}const a=i.nextSam();r.push(new tn(i,a)),i=a}return r}get duration(){return this.end.sub(this.begin)}cycleArc(){const r=this.begin.cyclePos(),i=r.add(this.duration);return new tn(r,i)}withTime(r){return new tn(r(this.begin),r(this.end))}withEnd(r){return new tn(this.begin,r(this.end))}withCycle(r){const i=this.begin.sam(),u=i.add(r(this.begin.sub(i))),o=i.add(r(this.end.sub(i)));return new tn(u,o)}intersection(r){const i=this.begin.max(r.begin),u=this.end.min(r.end);if(!i.gt(u)&&!(i.equals(u)&&(i.equals(this.end)&&this.begin.lt(this.end)||i.equals(r.end)&&r.begin.lt(r.end))))return new tn(i,u)}intersection_e(r){const i=this.intersection(r);if(i==null)throw"TimeSpans do not intersect";return i}midpoint(){return this.begin.add(this.duration.div(Yn(2)))}equals(r){return this.begin.equals(r.begin)&&this.end.equals(r.end)}show(){return this.begin.show()+" → "+this.end.show()}}const Ub=t=>t.filter(r=>r!=null);_t.prototype.sam=function(){return this.floor()};_t.prototype.nextSam=function(){return this.sam().add(1)};_t.prototype.wholeCycle=function(){return new tn(this.sam(),this.nextSam())};_t.prototype.cyclePos=function(){return this.sub(this.sam())};_t.prototype.lt=function(t){return this.compare(t)<0};_t.prototype.gt=function(t){return this.compare(t)>0};_t.prototype.lte=function(t){return this.compare(t)<=0};_t.prototype.gte=function(t){return this.compare(t)>=0};_t.prototype.eq=function(t){return this.compare(t)==0};_t.prototype.ne=function(t){return this.compare(t)!=0};_t.prototype.max=function(t){return this.gt(t)?this:t};_t.prototype.maximum=function(...t){return t=t.map(r=>new _t(r)),t.reduce((r,i)=>i.max(r),this)};_t.prototype.min=function(t){return this.lt(t)?this:t};_t.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};_t.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};_t.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};_t.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};_t.prototype.show=function(){return this.s*this.n+"/"+this.d};_t.prototype.or=function(t){return this.eq(0)?t:this};const oo=t=>_t(t),Pi=(...t)=>{if(t=Ub(t),t.length!==0)return t.reduce((r,i)=>r===void 0||i===void 0?void 0:r.lcm(i),oo(1))};oo._original=_t;const Yn=oo,dd=3e-4,$b=(t,r)=>(i,u)=>{const o=t.source_[u].options_?.ops;if(o)for(const a of o)switch(a.type_){case"stretch":{const c=["fast","slow"],{type:l,amount:m}=a.arguments_;if(!c.includes(l))throw new Error(`mini: stretch: type must be one of ${c.join("|")} but got ${l}`);i=nt(i)[l](r(m));break}case"replicate":{const{amount:c}=a.arguments_;i=nt(i),i=i._repeatCycles(c)._fast(c);break}case"bjorklund":{a.arguments_.rotation?i=i.euclidRot(r(a.arguments_.pulse),r(a.arguments_.step),r(a.arguments_.rotation)):i=i.euclid(r(a.arguments_.pulse),r(a.arguments_.step));break}case"degradeBy":{i=nt(i)._degradeByWith(ge.early(dd*a.arguments_.seed),a.arguments_.amount??.5);break}case"tail":{const c=r(a.arguments_.element);i=i.fmap(l=>m=>Array.isArray(l)?[...l,m]:[l,m]).appLeft(c);break}case"range":{const c=r(a.arguments_.element);i=nt(i);const l=(m,d,f=1)=>Array.from({length:Math.abs(d-m)/f+1},(g,A)=>m<d?m+A*f:m-A*f);i=((m,d)=>m.squeezeBind(f=>d.bind(g=>Ve(...l(f,g)))))(i,c);break}default:console.warn(`operator "${a.type_}" not implemented`)}return i};function Sr(t,r,i,u=0){i?.(t);const o=a=>Sr(a,r,i,u);switch(t.type_){case"pattern":{const a=t.source_.map(d=>o(d)).map($b(t,o)),c=t.arguments_.alignment,l=a.filter(d=>d.__tactus_source);let m;switch(c){case"stack":{m=qt(...a),l.length&&(m.tactus=Pi(...l.map(d=>Yn(d.tactus))));break}case"polymeter_slowcat":{m=qt(...a.map(d=>d._slow(d.__weight))),l.length&&(m.tactus=Pi(...l.map(d=>Yn(d.tactus))));break}case"polymeter":{const d=t.arguments_.stepsPerCycle?o(t.arguments_.stepsPerCycle).fmap(g=>tt(g)):ce(tt(a.length>0?a[0].__weight:1)),f=a.map(g=>g.fast(d.fmap(A=>A.div(g.__weight))));m=qt(...f);break}case"rand":{m=$u(ge.early(dd*t.arguments_.seed).segment(1),a),l.length&&(m.tactus=Pi(...l.map(d=>Yn(d.tactus))));break}case"feet":{m=Ve(...a);break}default:{if(t.source_.some(d=>!!d.options_?.weight)){const d=t.source_.reduce((f,g)=>f.add(g.options_?.weight||tt(1)),tt(0));m=Wu(...t.source_.map((f,g)=>[f.options_?.weight||tt(1),a[g]])),m.__weight=d,m.tactus=d,l.length&&(m.tactus=m.tactus.mul(Pi(...l.map(f=>Yn(f.tactus)))))}else m=Te(...a),m.tactus=a.length;t.arguments_.tactus&&(m.__tactus_source=!0)}}return l.length&&(m.__tactus_source=!0),m}case"element":return o(t.source_);case"atom":{if(t.source_==="~"||t.source_==="-")return kt;if(!t.location_)return console.warn("no location for",t),t.source_;const a=isNaN(Number(t.source_))?t.source_:Number(t.source_);if(u===-1)return ce(a);const[c,l]=ao(r,t,u);return ce(a).withLoc(c,l)}case"stretch":return o(t.source_).slow(o(t.arguments_.amount));default:return console.warn(`node type "${t.type_}" not implemented -> returning silence`),kt}}const ao=(t,r,i=0)=>{const{start:u,end:o}=r.location_,a=t?.split("").slice(u.offset,o.offset).join(""),[c=0,l=0]=a?a.split(r.source_).map(m=>m.split("").filter(d=>d===" ").length):[];return[u.offset+c+i,o.offset-l+i]},si=(t,r=0,i=t)=>{try{return md(t)}catch(u){const o=[u.location.start.offset+r,u.location.end.offset+r],a=i.slice(0,o[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${a}: ${u.message}`)}},fd=(t,r,i)=>{const u=si(t,r,i);let o=[];return Sr(u,t,a=>{a.type_==="atom"&&o.push(a)},-1),o},co=(t,r=0,i)=>fd(t,r,i).map(u=>ao(t,u,r)),lo=(...t)=>{const r=t.map(i=>{const u=`"${i}"`,o=si(u);return Sr(o,u)});return Te(...r)},Jb=(t,r)=>{const i=`"${t}"`,u=si(i);return Sr(u,i,null,r)},Qb=t=>{const r=si(t);return Sr(r,t)};function tD(t){return typeof t=="string"?lo(t):nt(t)}function gd(){zc(lo)}const eD=Object.freeze(Object.defineProperty({__proto__:null,SyntaxError:er,getLeafLocation:ao,getLeafLocations:co,getLeaves:fd,h:Qb,m:Jb,mini:lo,mini2ast:si,miniAllStrings:gd,minify:tD,parse:md,patternifyAST:Sr},Symbol.toStringTag,{value:"Module"}));var nD=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Ad=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],rD="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",Cd="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",js={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Ws="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",iD={5:Ws,"5module":Ws+" export import",6:Ws+" const class extends export import super"},sD=/^in(stanceof)?$/,uD=new RegExp("["+Cd+"]"),oD=new RegExp("["+Cd+rD+"]");function lu(t,r){for(var i=65536,u=0;u<r.length;u+=2){if(i+=r[u],i>t)return!1;if(i+=r[u+1],i>=t)return!0}return!1}function Dn(t,r){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&uD.test(String.fromCharCode(t)):r===!1?!1:lu(t,Ad)}function Pr(t,r){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&oD.test(String.fromCharCode(t)):r===!1?!1:lu(t,Ad)||lu(t,nD)}var Et=function(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function Be(t,r){return new Et(t,{beforeExpr:!0,binop:r})}var Ie={beforeExpr:!0},de={startsExpr:!0},ho={};function Dt(t,r){return r===void 0&&(r={}),r.keyword=t,ho[t]=new Et(t,r)}var b={num:new Et("num",de),regexp:new Et("regexp",de),string:new Et("string",de),name:new Et("name",de),privateId:new Et("privateId",de),eof:new Et("eof"),bracketL:new Et("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Et("]"),braceL:new Et("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Et("}"),parenL:new Et("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Et(")"),comma:new Et(",",Ie),semi:new Et(";",Ie),colon:new Et(":",Ie),dot:new Et("."),question:new Et("?",Ie),questionDot:new Et("?."),arrow:new Et("=>",Ie),template:new Et("template"),invalidTemplate:new Et("invalidTemplate"),ellipsis:new Et("...",Ie),backQuote:new Et("`",de),dollarBraceL:new Et("${",{beforeExpr:!0,startsExpr:!0}),eq:new Et("=",{beforeExpr:!0,isAssign:!0}),assign:new Et("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Et("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Et("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Be("||",1),logicalAND:Be("&&",2),bitwiseOR:Be("|",3),bitwiseXOR:Be("^",4),bitwiseAND:Be("&",5),equality:Be("==/!=/===/!==",6),relational:Be("</>/<=/>=",7),bitShift:Be("<</>>/>>>",8),plusMin:new Et("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Be("%",10),star:Be("*",10),slash:Be("/",10),starstar:new Et("**",{beforeExpr:!0}),coalesce:Be("??",1),_break:Dt("break"),_case:Dt("case",Ie),_catch:Dt("catch"),_continue:Dt("continue"),_debugger:Dt("debugger"),_default:Dt("default",Ie),_do:Dt("do",{isLoop:!0,beforeExpr:!0}),_else:Dt("else",Ie),_finally:Dt("finally"),_for:Dt("for",{isLoop:!0}),_function:Dt("function",de),_if:Dt("if"),_return:Dt("return",Ie),_switch:Dt("switch"),_throw:Dt("throw",Ie),_try:Dt("try"),_var:Dt("var"),_const:Dt("const"),_while:Dt("while",{isLoop:!0}),_with:Dt("with"),_new:Dt("new",{beforeExpr:!0,startsExpr:!0}),_this:Dt("this",de),_super:Dt("super",de),_class:Dt("class",de),_extends:Dt("extends",Ie),_export:Dt("export"),_import:Dt("import",de),_null:Dt("null",de),_true:Dt("true",de),_false:Dt("false",de),_in:Dt("in",{beforeExpr:!0,binop:7}),_instanceof:Dt("instanceof",{beforeExpr:!0,binop:7}),_typeof:Dt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Dt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Dt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Le=/\r\n?|\n|\u2028|\u2029/,aD=new RegExp(Le.source,"g");function kr(t){return t===10||t===13||t===8232||t===8233}function yd(t,r,i){i===void 0&&(i=t.length);for(var u=r;u<i;u++){var o=t.charCodeAt(u);if(kr(o))return u<i-1&&o===13&&t.charCodeAt(u+1)===10?u+2:u+1}return-1}var Md=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ke=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,bd=Object.prototype,cD=bd.hasOwnProperty,lD=bd.toString,ui=Object.hasOwn||function(t,r){return cD.call(t,r)},Fa=Array.isArray||function(t){return lD.call(t)==="[object Array]"},wa=Object.create(null);function Ln(t){return wa[t]||(wa[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function Wn(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var hD=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ei=function(t,r){this.line=t,this.column=r};ei.prototype.offset=function(t){return new ei(this.line,this.column+t)};var ss=function(t,r,i){this.start=r,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function Dd(t,r){for(var i=1,u=0;;){var o=yd(t,u,r);if(o<0)return new ei(i,r-u);++i,u=o}}var hu={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Ba=!1;function pD(t){var r={};for(var i in hu)r[i]=t&&ui(t,i)?t[i]:hu[i];if(r.ecmaVersion==="latest"?r.ecmaVersion=1e8:r.ecmaVersion==null?(!Ba&&typeof console=="object"&&console.warn&&(Ba=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),r.ecmaVersion=11):r.ecmaVersion>=2015&&(r.ecmaVersion-=2009),r.allowReserved==null&&(r.allowReserved=r.ecmaVersion<5),(!t||t.allowHashBang==null)&&(r.allowHashBang=r.ecmaVersion>=14),Fa(r.onToken)){var u=r.onToken;r.onToken=function(o){return u.push(o)}}return Fa(r.onComment)&&(r.onComment=mD(r,r.onComment)),r}function mD(t,r){return function(i,u,o,a,c,l){var m={type:i?"Block":"Line",value:u,start:o,end:a};t.locations&&(m.loc=new ss(this,c,l)),t.ranges&&(m.range=[o,a]),r.push(m)}}var ni=1,_r=2,po=4,Pd=8,vd=16,Ed=32,mo=64,Fd=128,oi=256,fo=ni|_r|oi;function Ao(t,r){return _r|(t?po:0)|(r?Pd:0)}var Gi=0,Co=1,wn=2,wd=3,Bd=4,Id=5,$t=function(t,r,i){this.options=t=pD(t),this.sourceFile=t.sourceFile,this.keywords=Ln(iD[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var u="";t.allowReserved!==!0&&(u=js[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(u+=" await")),this.reservedWords=Ln(u);var o=(u?u+" ":"")+js.strict;this.reservedWordsStrict=Ln(o),this.reservedWordsStrictBind=Ln(o+" "+js.strictBind),this.input=String(r),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Le).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=b.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ni),this.regexpState=null,this.privateNameStack=[]},on={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};$t.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};on.inFunction.get=function(){return(this.currentVarScope().flags&_r)>0};on.inGenerator.get=function(){return(this.currentVarScope().flags&Pd)>0&&!this.currentVarScope().inClassFieldInit};on.inAsync.get=function(){return(this.currentVarScope().flags&po)>0&&!this.currentVarScope().inClassFieldInit};on.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var r=this.scopeStack[t];if(r.inClassFieldInit||r.flags&oi)return!1;if(r.flags&_r)return(r.flags&po)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};on.allowSuper.get=function(){var t=this.currentThisScope(),r=t.flags,i=t.inClassFieldInit;return(r&mo)>0||i||this.options.allowSuperOutsideMethod};on.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Fd)>0};on.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};on.allowNewDotTarget.get=function(){var t=this.currentThisScope(),r=t.flags,i=t.inClassFieldInit;return(r&(_r|oi))>0||i};on.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&oi)>0};$t.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var i=this,u=0;u<t.length;u++)i=t[u](i);return i};$t.parse=function(t,r){return new this(r,t).parse()};$t.parseExpressionAt=function(t,r,i){var u=new this(i,t,r);return u.nextToken(),u.parseExpression()};$t.tokenizer=function(t,r){return new this(r,t)};Object.defineProperties($t.prototype,on);var le=$t.prototype,dD=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;le.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ke.lastIndex=t,t+=ke.exec(this.input)[0].length;var r=dD.exec(this.input.slice(t));if(!r)return!1;if((r[1]||r[2])==="use strict"){ke.lastIndex=t+r[0].length;var i=ke.exec(this.input),u=i.index+i[0].length,o=this.input.charAt(u);return o===";"||o==="}"||Le.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||o==="!"&&this.input.charAt(u+1)==="=")}t+=r[0].length,ke.lastIndex=t,t+=ke.exec(this.input)[0].length,this.input[t]===";"&&t++}};le.eat=function(t){return this.type===t?(this.next(),!0):!1};le.isContextual=function(t){return this.type===b.name&&this.value===t&&!this.containsEsc};le.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};le.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};le.canInsertSemicolon=function(){return this.type===b.eof||this.type===b.braceR||Le.test(this.input.slice(this.lastTokEnd,this.start))};le.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};le.semicolon=function(){!this.eat(b.semi)&&!this.insertSemicolon()&&this.unexpected()};le.afterTrailingComma=function(t,r){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),r||this.next(),!0};le.expect=function(t){this.eat(t)||this.unexpected()};le.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var us=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};le.checkPatternErrors=function(t,r){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=r?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,r?"Assigning to rvalue":"Parenthesized pattern")}};le.checkExpressionErrors=function(t,r){if(!t)return!1;var i=t.shorthandAssign,u=t.doubleProto;if(!r)return i>=0||u>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),u>=0&&this.raiseRecoverable(u,"Redefinition of __proto__ property")};le.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};le.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var ct=$t.prototype;ct.parseTopLevel=function(t){var r=Object.create(null);for(t.body||(t.body=[]);this.type!==b.eof;){var i=this.parseStatement(null,!0,r);t.body.push(i)}if(this.inModule)for(var u=0,o=Object.keys(this.undefinedExports);u<o.length;u+=1){var a=o[u];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var yo={kind:"loop"},fD={kind:"switch"};ct.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ke.lastIndex=this.pos;var r=ke.exec(this.input),i=this.pos+r[0].length,u=this.input.charCodeAt(i);if(u===91||u===92)return!0;if(t)return!1;if(u===123||u>55295&&u<56320)return!0;if(Dn(u,!0)){for(var o=i+1;Pr(u=this.input.charCodeAt(o),!0);)++o;if(u===92||u>55295&&u<56320)return!0;var a=this.input.slice(i,o);if(!sD.test(a))return!0}return!1};ct.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ke.lastIndex=this.pos;var t=ke.exec(this.input),r=this.pos+t[0].length,i;return!Le.test(this.input.slice(this.pos,r))&&this.input.slice(r,r+8)==="function"&&(r+8===this.input.length||!(Pr(i=this.input.charCodeAt(r+8))||i>55295&&i<56320))};ct.parseStatement=function(t,r,i){var u=this.type,o=this.startNode(),a;switch(this.isLet(t)&&(u=b._var,a="let"),u){case b._break:case b._continue:return this.parseBreakContinueStatement(o,u.keyword);case b._debugger:return this.parseDebuggerStatement(o);case b._do:return this.parseDoStatement(o);case b._for:return this.parseForStatement(o);case b._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case b._class:return t&&this.unexpected(),this.parseClass(o,!0);case b._if:return this.parseIfStatement(o);case b._return:return this.parseReturnStatement(o);case b._switch:return this.parseSwitchStatement(o);case b._throw:return this.parseThrowStatement(o);case b._try:return this.parseTryStatement(o);case b._const:case b._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(o,a);case b._while:return this.parseWhileStatement(o);case b._with:return this.parseWithStatement(o);case b.braceL:return this.parseBlock(!0,o);case b.semi:return this.parseEmptyStatement(o);case b._export:case b._import:if(this.options.ecmaVersion>10&&u===b._import){ke.lastIndex=this.pos;var c=ke.exec(this.input),l=this.pos+c[0].length,m=this.input.charCodeAt(l);if(m===40||m===46)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(r||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),u===b._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var d=this.value,f=this.parseExpression();return u===b.name&&f.type==="Identifier"&&this.eat(b.colon)?this.parseLabeledStatement(o,d,f,t):this.parseExpressionStatement(o,f)}};ct.parseBreakContinueStatement=function(t,r){var i=r==="break";this.next(),this.eat(b.semi)||this.insertSemicolon()?t.label=null:this.type!==b.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var u=0;u<this.labels.length;++u){var o=this.labels[u];if((t.label==null||o.name===t.label.name)&&(o.kind!=null&&(i||o.kind==="loop")||t.label&&i))break}return u===this.labels.length&&this.raise(t.start,"Unsyntactic "+r),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};ct.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};ct.parseDoStatement=function(t){return this.next(),this.labels.push(yo),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(b._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(b.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};ct.parseForStatement=function(t){this.next();var r=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(yo),this.enterScope(0),this.expect(b.parenL),this.type===b.semi)return r>-1&&this.unexpected(r),this.parseFor(t,null);var i=this.isLet();if(this.type===b._var||this.type===b._const||i){var u=this.startNode(),o=i?"let":this.value;return this.next(),this.parseVar(u,!0,o),this.finishNode(u,"VariableDeclaration"),(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&u.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===b._in?r>-1&&this.unexpected(r):t.await=r>-1),this.parseForIn(t,u)):(r>-1&&this.unexpected(r),this.parseFor(t,u))}var a=this.isContextual("let"),c=!1,l=this.containsEsc,m=new us,d=this.start,f=r>-1?this.parseExprSubscripts(m,"await"):this.parseExpression(!0,m);return this.type===b._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(r>-1?(this.type===b._in&&this.unexpected(r),t.await=!0):c&&this.options.ecmaVersion>=8&&(f.start===d&&!l&&f.type==="Identifier"&&f.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&c&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,m),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(m,!0),r>-1&&this.unexpected(r),this.parseFor(t,f))};ct.parseFunctionStatement=function(t,r,i){return this.next(),this.parseFunction(t,$r|(i?0:pu),!1,r)};ct.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(b._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};ct.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(b.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};ct.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(b.braceL),this.labels.push(fD),this.enterScope(0);for(var r,i=!1;this.type!==b.braceR;)if(this.type===b._case||this.type===b._default){var u=this.type===b._case;r&&this.finishNode(r,"SwitchCase"),t.cases.push(r=this.startNode()),r.consequent=[],this.next(),u?r.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,r.test=null),this.expect(b.colon)}else r||this.unexpected(),r.consequent.push(this.parseStatement(null));return this.exitScope(),r&&this.finishNode(r,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};ct.parseThrowStatement=function(t){return this.next(),Le.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var gD=[];ct.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),r=t.type==="Identifier";return this.enterScope(r?Ed:0),this.checkLValPattern(t,r?Bd:wn),this.expect(b.parenR),t};ct.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===b._catch){var r=this.startNode();this.next(),this.eat(b.parenL)?r.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),r.param=null,this.enterScope(0)),r.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(r,"CatchClause")}return t.finalizer=this.eat(b._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};ct.parseVarStatement=function(t,r,i){return this.next(),this.parseVar(t,!1,r,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};ct.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(yo),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};ct.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};ct.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};ct.parseLabeledStatement=function(t,r,i,u){for(var o=0,a=this.labels;o<a.length;o+=1){var c=a[o];c.name===r&&this.raise(i.start,"Label '"+r+"' is already declared")}for(var l=this.type.isLoop?"loop":this.type===b._switch?"switch":null,m=this.labels.length-1;m>=0;m--){var d=this.labels[m];if(d.statementStart===t.start)d.statementStart=this.start,d.kind=l;else break}return this.labels.push({name:r,kind:l,statementStart:this.start}),t.body=this.parseStatement(u?u.indexOf("label")===-1?u+"label":u:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};ct.parseExpressionStatement=function(t,r){return t.expression=r,this.semicolon(),this.finishNode(t,"ExpressionStatement")};ct.parseBlock=function(t,r,i){for(t===void 0&&(t=!0),r===void 0&&(r=this.startNode()),r.body=[],this.expect(b.braceL),t&&this.enterScope(0);this.type!==b.braceR;){var u=this.parseStatement(null);r.body.push(u)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(r,"BlockStatement")};ct.parseFor=function(t,r){return t.init=r,this.expect(b.semi),t.test=this.type===b.semi?null:this.parseExpression(),this.expect(b.semi),t.update=this.type===b.parenR?null:this.parseExpression(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};ct.parseForIn=function(t,r){var i=this.type===b._in;return this.next(),r.type==="VariableDeclaration"&&r.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||r.kind!=="var"||r.declarations[0].id.type!=="Identifier")&&this.raise(r.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=r,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};ct.parseVar=function(t,r,i,u){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(b.eq)?o.init=this.parseMaybeAssign(r):!u&&i==="const"&&!(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!u&&o.id.type!=="Identifier"&&!(r&&(this.type===b._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(b.comma))break}return t};ct.parseVarId=function(t,r){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,r==="var"?Co:wn,!1)};var $r=1,pu=2,xd=4;ct.parseFunction=function(t,r,i,u,o){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!u)&&(this.type===b.star&&r&pu&&this.unexpected(),t.generator=this.eat(b.star)),this.options.ecmaVersion>=8&&(t.async=!!u),r&$r&&(t.id=r&xd&&this.type!==b.name?null:this.parseIdent(),t.id&&!(r&pu)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Co:wn:wd));var a=this.yieldPos,c=this.awaitPos,l=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ao(t.async,t.generator)),r&$r||(t.id=this.type===b.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,o),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=l,this.finishNode(t,r&$r?"FunctionDeclaration":"FunctionExpression")};ct.parseFunctionParams=function(t){this.expect(b.parenL),t.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ct.parseClass=function(t,r){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,r),this.parseClassSuper(t);var u=this.enterClassBody(),o=this.startNode(),a=!1;for(o.body=[],this.expect(b.braceL);this.type!==b.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(o.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&AD(u,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(t,r?"ClassDeclaration":"ClassExpression")};ct.parseClassElement=function(t){if(this.eat(b.semi))return null;var r=this.options.ecmaVersion,i=this.startNode(),u="",o=!1,a=!1,c="method",l=!1;if(this.eatContextual("static")){if(r>=13&&this.eat(b.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===b.star?l=!0:u="static"}if(i.static=l,!u&&r>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===b.star)&&!this.canInsertSemicolon()?a=!0:u="async"),!u&&(r>=9||!a)&&this.eat(b.star)&&(o=!0),!u&&!a&&!o){var m=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=m:u=m)}if(u?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=u,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),r<13||this.type===b.parenL||c!=="method"||o||a){var d=!i.static&&ji(i,"constructor"),f=d&&t;d&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=d?"constructor":c,this.parseClassMethod(i,o,a,f)}else this.parseClassField(i);return i};ct.isClassElementNameStart=function(){return this.type===b.name||this.type===b.privateId||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword};ct.parseClassElementName=function(t){this.type===b.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};ct.parseClassMethod=function(t,r,i,u){var o=t.key;t.kind==="constructor"?(r&&this.raise(o.start,"Constructor can't be a generator"),i&&this.raise(o.start,"Constructor can't be an async method")):t.static&&ji(t,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(r,i,u);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};ct.parseClassField=function(t){if(ji(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&ji(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(b.eq)){var r=this.currentThisScope(),i=r.inClassFieldInit;r.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),r.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};ct.parseClassStaticBlock=function(t){t.body=[];var r=this.labels;for(this.labels=[],this.enterScope(oi|mo);this.type!==b.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=r,this.finishNode(t,"StaticBlock")};ct.parseClassId=function(t,r){this.type===b.name?(t.id=this.parseIdent(),r&&this.checkLValSimple(t.id,wn,!1)):(r===!0&&this.unexpected(),t.id=null)};ct.parseClassSuper=function(t){t.superClass=this.eat(b._extends)?this.parseExprSubscripts(null,!1):null};ct.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};ct.exitClassBody=function(){var t=this.privateNameStack.pop(),r=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var u=this.privateNameStack.length,o=u===0?null:this.privateNameStack[u-1],a=0;a<i.length;++a){var c=i[a];ui(r,c.name)||(o?o.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function AD(t,r){var i=r.key.name,u=t[i],o="true";return r.type==="MethodDefinition"&&(r.kind==="get"||r.kind==="set")&&(o=(r.static?"s":"i")+r.kind),u==="iget"&&o==="iset"||u==="iset"&&o==="iget"||u==="sget"&&o==="sset"||u==="sset"&&o==="sget"?(t[i]="true",!1):u?!0:(t[i]=o,!1)}function ji(t,r){var i=t.computed,u=t.key;return!i&&(u.type==="Identifier"&&u.name===r||u.type==="Literal"&&u.value===r)}ct.parseExportAllDeclaration=function(t,r){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(r,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};ct.parseExport=function(t,r){if(this.next(),this.eat(b.star))return this.parseExportAllDeclaration(t,r);if(this.eat(b._default))return this.checkExport(r,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(r,t.declaration.declarations):this.checkExport(r,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(r),this.eatContextual("from"))this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,u=t.specifiers;i<u.length;i+=1){var o=u[i];this.checkUnreserved(o.local),this.checkLocalExport(o.local),o.local.type==="Literal"&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};ct.parseExportDeclaration=function(t){return this.parseStatement(null)};ct.parseExportDefaultDeclaration=function(){var t;if(this.type===b._function||(t=this.isAsyncFunction())){var r=this.startNode();return this.next(),t&&this.next(),this.parseFunction(r,$r|xd,!1,t)}else if(this.type===b._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var u=this.parseMaybeAssign();return this.semicolon(),u}};ct.checkExport=function(t,r,i){t&&(typeof r!="string"&&(r=r.type==="Identifier"?r.name:r.value),ui(t,r)&&this.raiseRecoverable(i,"Duplicate export '"+r+"'"),t[r]=!0)};ct.checkPatternExport=function(t,r){var i=r.type;if(i==="Identifier")this.checkExport(t,r,r.start);else if(i==="ObjectPattern")for(var u=0,o=r.properties;u<o.length;u+=1){var a=o[u];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,l=r.elements;c<l.length;c+=1){var m=l[c];m&&this.checkPatternExport(t,m)}else i==="Property"?this.checkPatternExport(t,r.value):i==="AssignmentPattern"?this.checkPatternExport(t,r.left):i==="RestElement"&&this.checkPatternExport(t,r.argument)};ct.checkVariableExport=function(t,r){if(t)for(var i=0,u=r;i<u.length;i+=1){var o=u[i];this.checkPatternExport(t,o.id)}};ct.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ct.parseExportSpecifier=function(t){var r=this.startNode();return r.local=this.parseModuleExportName(),r.exported=this.eatContextual("as")?this.parseModuleExportName():r.local,this.checkExport(t,r.exported,r.exported.start),this.finishNode(r,"ExportSpecifier")};ct.parseExportSpecifiers=function(t){var r=[],i=!0;for(this.expect(b.braceL);!this.eat(b.braceR);){if(i)i=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;r.push(this.parseExportSpecifier(t))}return r};ct.parseImport=function(t){return this.next(),this.type===b.string?(t.specifiers=gD,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===b.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};ct.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,wn),this.finishNode(t,"ImportSpecifier")};ct.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,wn),this.finishNode(t,"ImportDefaultSpecifier")};ct.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,wn),this.finishNode(t,"ImportNamespaceSpecifier")};ct.parseImportSpecifiers=function(){var t=[],r=!0;if(this.type===b.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(b.comma)))return t;if(this.type===b.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(b.braceL);!this.eat(b.braceR);){if(r)r=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;t.push(this.parseImportSpecifier())}return t};ct.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===b.string){var t=this.parseLiteral(this.value);return hD.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};ct.adaptDirectivePrologue=function(t){for(var r=0;r<t.length&&this.isDirectiveCandidate(t[r]);++r)t[r].directive=t[r].expression.raw.slice(1,-1)};ct.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Oe=$t.prototype;Oe.toAssignable=function(t,r,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var u=0,o=t.properties;u<o.length;u+=1){var a=o[u];this.toAssignable(a,r),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,r);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,r);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,r),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,r);break;case"ParenthesizedExpression":this.toAssignable(t.expression,r,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!r)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Oe.toAssignableList=function(t,r){for(var i=t.length,u=0;u<i;u++){var o=t[u];o&&this.toAssignable(o,r)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&r&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};Oe.parseSpread=function(t){var r=this.startNode();return this.next(),r.argument=this.parseMaybeAssign(!1,t),this.finishNode(r,"SpreadElement")};Oe.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==b.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Oe.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case b.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(b.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case b.braceL:return this.parseObj(!0)}return this.parseIdent()};Oe.parseBindingList=function(t,r,i,u){for(var o=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(b.comma),r&&this.type===b.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===b.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),o.push(c),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else o.push(this.parseAssignableListItem(u))}return o};Oe.parseAssignableListItem=function(t){var r=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(r),r};Oe.parseBindingListItem=function(t){return t};Oe.parseMaybeDefault=function(t,r,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(b.eq))return i;var u=this.startNodeAt(t,r);return u.left=i,u.right=this.parseMaybeAssign(),this.finishNode(u,"AssignmentPattern")};Oe.checkLValSimple=function(t,r,i){r===void 0&&(r=Gi);var u=r!==Gi;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(u?"Binding ":"Assigning to ")+t.name+" in strict mode"),u&&(r===wn&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(ui(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),r!==Id&&this.declareName(t.name,r,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":u&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return u&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,r,i);default:this.raise(t.start,(u?"Binding":"Assigning to")+" rvalue")}};Oe.checkLValPattern=function(t,r,i){switch(r===void 0&&(r=Gi),t.type){case"ObjectPattern":for(var u=0,o=t.properties;u<o.length;u+=1){var a=o[u];this.checkLValInnerPattern(a,r,i)}break;case"ArrayPattern":for(var c=0,l=t.elements;c<l.length;c+=1){var m=l[c];m&&this.checkLValInnerPattern(m,r,i)}break;default:this.checkLValSimple(t,r,i)}};Oe.checkLValInnerPattern=function(t,r,i){switch(r===void 0&&(r=Gi),t.type){case"Property":this.checkLValInnerPattern(t.value,r,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,r,i);break;case"RestElement":this.checkLValPattern(t.argument,r,i);break;default:this.checkLValPattern(t,r,i)}};var qe=function(t,r,i,u,o){this.token=t,this.isExpr=!!r,this.preserveSpace=!!i,this.override=u,this.generator=!!o},Ot={b_stat:new qe("{",!1),b_expr:new qe("{",!0),b_tmpl:new qe("${",!1),p_stat:new qe("(",!1),p_expr:new qe("(",!0),q_tmpl:new qe("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new qe("function",!1),f_expr:new qe("function",!0),f_expr_gen:new qe("function",!0,!1,null,!0),f_gen:new qe("function",!1,!1,null,!0)},Nr=$t.prototype;Nr.initialContext=function(){return[Ot.b_stat]};Nr.curContext=function(){return this.context[this.context.length-1]};Nr.braceIsBlock=function(t){var r=this.curContext();return r===Ot.f_expr||r===Ot.f_stat?!0:t===b.colon&&(r===Ot.b_stat||r===Ot.b_expr)?!r.isExpr:t===b._return||t===b.name&&this.exprAllowed?Le.test(this.input.slice(this.lastTokEnd,this.start)):t===b._else||t===b.semi||t===b.eof||t===b.parenR||t===b.arrow?!0:t===b.braceL?r===Ot.b_stat:t===b._var||t===b._const||t===b.name?!1:!this.exprAllowed};Nr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var r=this.context[t];if(r.token==="function")return r.generator}return!1};Nr.updateContext=function(t){var r,i=this.type;i.keyword&&t===b.dot?this.exprAllowed=!1:(r=i.updateContext)?r.call(this,t):this.exprAllowed=i.beforeExpr};Nr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};b.parenR.updateContext=b.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Ot.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};b.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Ot.b_stat:Ot.b_expr),this.exprAllowed=!0};b.dollarBraceL.updateContext=function(){this.context.push(Ot.b_tmpl),this.exprAllowed=!0};b.parenL.updateContext=function(t){var r=t===b._if||t===b._for||t===b._with||t===b._while;this.context.push(r?Ot.p_stat:Ot.p_expr),this.exprAllowed=!0};b.incDec.updateContext=function(){};b._function.updateContext=b._class.updateContext=function(t){t.beforeExpr&&t!==b._else&&!(t===b.semi&&this.curContext()!==Ot.p_stat)&&!(t===b._return&&Le.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===b.colon||t===b.braceL)&&this.curContext()===Ot.b_stat)?this.context.push(Ot.f_expr):this.context.push(Ot.f_stat),this.exprAllowed=!1};b.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};b.backQuote.updateContext=function(){this.curContext()===Ot.q_tmpl?this.context.pop():this.context.push(Ot.q_tmpl),this.exprAllowed=!1};b.star.updateContext=function(t){if(t===b._function){var r=this.context.length-1;this.context[r]===Ot.f_expr?this.context[r]=Ot.f_expr_gen:this.context[r]=Ot.f_gen}this.exprAllowed=!0};b.name.updateContext=function(t){var r=!1;this.options.ecmaVersion>=6&&t!==b.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(r=!0),this.exprAllowed=r};var ft=$t.prototype;ft.checkPropClash=function(t,r,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var u=t.key,o;switch(u.type){case"Identifier":o=u.name;break;case"Literal":o=String(u.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){o==="__proto__"&&a==="init"&&(r.proto&&(i?i.doubleProto<0&&(i.doubleProto=u.start):this.raiseRecoverable(u.start,"Redefinition of __proto__ property")),r.proto=!0);return}o="$"+o;var c=r[o];if(c){var l;a==="init"?l=this.strict&&c.init||c.get||c.set:l=c.init||c[a],l&&this.raiseRecoverable(u.start,"Redefinition of property")}else c=r[o]={init:!1,get:!1,set:!1};c[a]=!0}};ft.parseExpression=function(t,r){var i=this.start,u=this.startLoc,o=this.parseMaybeAssign(t,r);if(this.type===b.comma){var a=this.startNodeAt(i,u);for(a.expressions=[o];this.eat(b.comma);)a.expressions.push(this.parseMaybeAssign(t,r));return this.finishNode(a,"SequenceExpression")}return o};ft.parseMaybeAssign=function(t,r,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var u=!1,o=-1,a=-1,c=-1;r?(o=r.parenthesizedAssign,a=r.trailingComma,c=r.doubleProto,r.parenthesizedAssign=r.trailingComma=-1):(r=new us,u=!0);var l=this.start,m=this.startLoc;(this.type===b.parenL||this.type===b.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var d=this.parseMaybeConditional(t,r);if(i&&(d=i.call(this,d,l,m)),this.type.isAssign){var f=this.startNodeAt(l,m);return f.operator=this.value,this.type===b.eq&&(d=this.toAssignable(d,!1,r)),u||(r.parenthesizedAssign=r.trailingComma=r.doubleProto=-1),r.shorthandAssign>=d.start&&(r.shorthandAssign=-1),this.type===b.eq?this.checkLValPattern(d):this.checkLValSimple(d),f.left=d,this.next(),f.right=this.parseMaybeAssign(t),c>-1&&(r.doubleProto=c),this.finishNode(f,"AssignmentExpression")}else u&&this.checkExpressionErrors(r,!0);return o>-1&&(r.parenthesizedAssign=o),a>-1&&(r.trailingComma=a),d};ft.parseMaybeConditional=function(t,r){var i=this.start,u=this.startLoc,o=this.parseExprOps(t,r);if(this.checkExpressionErrors(r))return o;if(this.eat(b.question)){var a=this.startNodeAt(i,u);return a.test=o,a.consequent=this.parseMaybeAssign(),this.expect(b.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return o};ft.parseExprOps=function(t,r){var i=this.start,u=this.startLoc,o=this.parseMaybeUnary(r,!1,!1,t);return this.checkExpressionErrors(r)||o.start===i&&o.type==="ArrowFunctionExpression"?o:this.parseExprOp(o,i,u,-1,t)};ft.parseExprOp=function(t,r,i,u,o){var a=this.type.binop;if(a!=null&&(!o||this.type!==b._in)&&a>u){var c=this.type===b.logicalOR||this.type===b.logicalAND,l=this.type===b.coalesce;l&&(a=b.logicalAND.binop);var m=this.value;this.next();var d=this.start,f=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),d,f,a,o),A=this.buildBinary(r,i,t,g,m,c||l);return(c&&this.type===b.coalesce||l&&(this.type===b.logicalOR||this.type===b.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(A,r,i,u,o)}return t};ft.buildBinary=function(t,r,i,u,o,a){u.type==="PrivateIdentifier"&&this.raise(u.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,r);return c.left=i,c.operator=o,c.right=u,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};ft.parseMaybeUnary=function(t,r,i,u){var o=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(u),r=!0;else if(this.type.prefix){var l=this.startNode(),m=this.type===b.incDec;l.operator=this.value,l.prefix=!0,this.next(),l.argument=this.parseMaybeUnary(null,!0,m,u),this.checkExpressionErrors(t,!0),m?this.checkLValSimple(l.argument):this.strict&&l.operator==="delete"&&Sd(l.argument)?this.raiseRecoverable(l.start,"Deleting local variable in strict mode"):l.operator==="delete"&&mu(l.argument)?this.raiseRecoverable(l.start,"Private fields can not be deleted"):r=!0,c=this.finishNode(l,m?"UpdateExpression":"UnaryExpression")}else if(!r&&this.type===b.privateId)(u||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==b._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,u),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var d=this.startNodeAt(o,a);d.operator=this.value,d.prefix=!1,d.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(d,"UpdateExpression")}}if(!i&&this.eat(b.starstar))if(r)this.unexpected(this.lastTokStart);else return this.buildBinary(o,a,c,this.parseMaybeUnary(null,!1,!1,u),"**",!1);else return c};function Sd(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&Sd(t.expression)}function mu(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&mu(t.expression)||t.type==="ParenthesizedExpression"&&mu(t.expression)}ft.parseExprSubscripts=function(t,r){var i=this.start,u=this.startLoc,o=this.parseExprAtom(t,r);if(o.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return o;var a=this.parseSubscripts(o,i,u,!1,r);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};ft.parseSubscripts=function(t,r,i,u,o){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var l=this.parseSubscript(t,r,i,u,a,c,o);if(l.optional&&(c=!0),l===t||l.type==="ArrowFunctionExpression"){if(c){var m=this.startNodeAt(r,i);m.expression=l,l=this.finishNode(m,"ChainExpression")}return l}t=l}};ft.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(b.arrow)};ft.parseSubscriptAsyncArrow=function(t,r,i,u){return this.parseArrowExpression(this.startNodeAt(t,r),i,!0,u)};ft.parseSubscript=function(t,r,i,u,o,a,c){var l=this.options.ecmaVersion>=11,m=l&&this.eat(b.questionDot);u&&m&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var d=this.eat(b.bracketL);if(d||m&&this.type!==b.parenL&&this.type!==b.backQuote||this.eat(b.dot)){var f=this.startNodeAt(r,i);f.object=t,d?(f.property=this.parseExpression(),this.expect(b.bracketR)):this.type===b.privateId&&t.type!=="Super"?f.property=this.parsePrivateIdent():f.property=this.parseIdent(this.options.allowReserved!=="never"),f.computed=!!d,l&&(f.optional=m),t=this.finishNode(f,"MemberExpression")}else if(!u&&this.eat(b.parenL)){var g=new us,A=this.yieldPos,D=this.awaitPos,F=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var E=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1,g);if(o&&!m&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=A,this.awaitPos=D,this.awaitIdentPos=F,this.parseSubscriptAsyncArrow(r,i,E,c);this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=D||this.awaitPos,this.awaitIdentPos=F||this.awaitIdentPos;var S=this.startNodeAt(r,i);S.callee=t,S.arguments=E,l&&(S.optional=m),t=this.finishNode(S,"CallExpression")}else if(this.type===b.backQuote){(m||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var N=this.startNodeAt(r,i);N.tag=t,N.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(N,"TaggedTemplateExpression")}return t};ft.parseExprAtom=function(t,r,i){this.type===b.slash&&this.readRegexp();var u,o=this.potentialArrowAt===this.start;switch(this.type){case b._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),u=this.startNode(),this.next(),this.type===b.parenL&&!this.allowDirectSuper&&this.raise(u.start,"super() call outside constructor of a subclass"),this.type!==b.dot&&this.type!==b.bracketL&&this.type!==b.parenL&&this.unexpected(),this.finishNode(u,"Super");case b._this:return u=this.startNode(),this.next(),this.finishNode(u,"ThisExpression");case b.name:var a=this.start,c=this.startLoc,l=this.containsEsc,m=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&m.name==="async"&&!this.canInsertSemicolon()&&this.eat(b._function))return this.overrideContext(Ot.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,r);if(o&&!this.canInsertSemicolon()){if(this.eat(b.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[m],!1,r);if(this.options.ecmaVersion>=8&&m.name==="async"&&this.type===b.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return m=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(b.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[m],!0,r)}return m;case b.regexp:var d=this.value;return u=this.parseLiteral(d.value),u.regex={pattern:d.pattern,flags:d.flags},u;case b.num:case b.string:return this.parseLiteral(this.value);case b._null:case b._true:case b._false:return u=this.startNode(),u.value=this.type===b._null?null:this.type===b._true,u.raw=this.type.keyword,this.next(),this.finishNode(u,"Literal");case b.parenL:var f=this.start,g=this.parseParenAndDistinguishExpression(o,r);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=f),t.parenthesizedBind<0&&(t.parenthesizedBind=f)),g;case b.bracketL:return u=this.startNode(),this.next(),u.elements=this.parseExprList(b.bracketR,!0,!0,t),this.finishNode(u,"ArrayExpression");case b.braceL:return this.overrideContext(Ot.b_expr),this.parseObj(!1,t);case b._function:return u=this.startNode(),this.next(),this.parseFunction(u,0);case b._class:return this.parseClass(this.startNode(),!1);case b._new:return this.parseNew();case b.backQuote:return this.parseTemplate();case b._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};ft.parseExprAtomDefault=function(){this.unexpected()};ft.parseExprImport=function(t){var r=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===b.parenL&&!t)return this.parseDynamicImport(r);if(this.type===b.dot){var i=this.startNodeAt(r.start,r.loc&&r.loc.start);return i.name="import",r.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(r)}else this.unexpected()};ft.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(b.parenR)){var r=this.start;this.eat(b.comma)&&this.eat(b.parenR)?this.raiseRecoverable(r,"Trailing comma is not allowed in import()"):this.unexpected(r)}return this.finishNode(t,"ImportExpression")};ft.parseImportMeta=function(t){this.next();var r=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),r&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};ft.parseLiteral=function(t){var r=this.startNode();return r.value=t,r.raw=this.input.slice(this.start,this.end),r.raw.charCodeAt(r.raw.length-1)===110&&(r.bigint=r.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(r,"Literal")};ft.parseParenExpression=function(){this.expect(b.parenL);var t=this.parseExpression();return this.expect(b.parenR),t};ft.shouldParseArrow=function(t){return!this.canInsertSemicolon()};ft.parseParenAndDistinguishExpression=function(t,r){var i=this.start,u=this.startLoc,o,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,l=this.startLoc,m=[],d=!0,f=!1,g=new us,A=this.yieldPos,D=this.awaitPos,F;for(this.yieldPos=0,this.awaitPos=0;this.type!==b.parenR;)if(d?d=!1:this.expect(b.comma),a&&this.afterTrailingComma(b.parenR,!0)){f=!0;break}else if(this.type===b.ellipsis){F=this.start,m.push(this.parseParenItem(this.parseRestBinding())),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else m.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var E=this.lastTokEnd,S=this.lastTokEndLoc;if(this.expect(b.parenR),t&&this.shouldParseArrow(m)&&this.eat(b.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=A,this.awaitPos=D,this.parseParenArrowList(i,u,m,r);(!m.length||f)&&this.unexpected(this.lastTokStart),F&&this.unexpected(F),this.checkExpressionErrors(g,!0),this.yieldPos=A||this.yieldPos,this.awaitPos=D||this.awaitPos,m.length>1?(o=this.startNodeAt(c,l),o.expressions=m,this.finishNodeAt(o,"SequenceExpression",E,S)):o=m[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var N=this.startNodeAt(i,u);return N.expression=o,this.finishNode(N,"ParenthesizedExpression")}else return o};ft.parseParenItem=function(t){return t};ft.parseParenArrowList=function(t,r,i,u){return this.parseArrowExpression(this.startNodeAt(t,r),i,!1,u)};var CD=[];ft.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===b.dot){var r=this.startNodeAt(t.start,t.loc&&t.loc.start);r.name="new",t.meta=this.finishNode(r,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var u=this.start,o=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),u,o,!0,!1),this.eat(b.parenL)?t.arguments=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1):t.arguments=CD,this.finishNode(t,"NewExpression")};ft.parseTemplateElement=function(t){var r=t.isTagged,i=this.startNode();return this.type===b.invalidTemplate?(r||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===b.backQuote,this.finishNode(i,"TemplateElement")};ft.parseTemplate=function(t){t===void 0&&(t={});var r=t.isTagged;r===void 0&&(r=!1);var i=this.startNode();this.next(),i.expressions=[];var u=this.parseTemplateElement({isTagged:r});for(i.quasis=[u];!u.tail;)this.type===b.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(b.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(b.braceR),i.quasis.push(u=this.parseTemplateElement({isTagged:r}));return this.next(),this.finishNode(i,"TemplateLiteral")};ft.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===b.name||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===b.star)&&!Le.test(this.input.slice(this.lastTokEnd,this.start))};ft.parseObj=function(t,r){var i=this.startNode(),u=!0,o={};for(i.properties=[],this.next();!this.eat(b.braceR);){if(u)u=!1;else if(this.expect(b.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(b.braceR))break;var a=this.parseProperty(t,r);t||this.checkPropClash(a,o,r),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};ft.parseProperty=function(t,r){var i=this.startNode(),u,o,a,c;if(this.options.ecmaVersion>=9&&this.eat(b.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===b.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,r),this.type===b.comma&&r&&r.trailingComma<0&&(r.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||r)&&(a=this.start,c=this.startLoc),t||(u=this.eat(b.star)));var l=this.containsEsc;return this.parsePropertyName(i),!t&&!l&&this.options.ecmaVersion>=8&&!u&&this.isAsyncProp(i)?(o=!0,u=this.options.ecmaVersion>=9&&this.eat(b.star),this.parsePropertyName(i)):o=!1,this.parsePropertyValue(i,t,u,o,a,c,r,l),this.finishNode(i,"Property")};ft.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var r=t.kind==="get"?0:1;if(t.value.params.length!==r){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};ft.parsePropertyValue=function(t,r,i,u,o,a,c,l){(i||u)&&this.type===b.colon&&this.unexpected(),this.eat(b.colon)?(t.value=r?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===b.parenL?(r&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,u)):!r&&!l&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==b.comma&&this.type!==b.braceR&&this.type!==b.eq?((i||u)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||u)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=o),t.kind="init",r?t.value=this.parseMaybeDefault(o,a,this.copyNode(t.key)):this.type===b.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(o,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};ft.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(b.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(b.bracketR),t.key;t.computed=!1}return t.key=this.type===b.num||this.type===b.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};ft.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};ft.parseMethod=function(t,r,i){var u=this.startNode(),o=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(u),this.options.ecmaVersion>=6&&(u.generator=t),this.options.ecmaVersion>=8&&(u.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ao(r,u.generator)|mo|(i?Fd:0)),this.expect(b.parenL),u.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(u,!1,!0,!1),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(u,"FunctionExpression")};ft.parseArrowExpression=function(t,r,i,u){var o=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(Ao(i,!1)|vd),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(r,!0),this.parseFunctionBody(t,!0,!1,u),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};ft.parseFunctionBody=function(t,r,i,u){var o=r&&this.type!==b.braceL,a=this.strict,c=!1;if(o)t.body=this.parseMaybeAssign(u),t.expression=!0,this.checkParams(t,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||l)&&(c=this.strictDirective(this.end),c&&l&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var m=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!r&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Id),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=m}this.exitScope()};ft.isSimpleParamList=function(t){for(var r=0,i=t;r<i.length;r+=1){var u=i[r];if(u.type!=="Identifier")return!1}return!0};ft.checkParams=function(t,r){for(var i=Object.create(null),u=0,o=t.params;u<o.length;u+=1){var a=o[u];this.checkLValInnerPattern(a,Co,r?null:i)}};ft.parseExprList=function(t,r,i,u){for(var o=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(b.comma),r&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===b.comma?c=null:this.type===b.ellipsis?(c=this.parseSpread(u),u&&this.type===b.comma&&u.trailingComma<0&&(u.trailingComma=this.start)):c=this.parseMaybeAssign(!1,u),o.push(c)}return o};ft.checkUnreserved=function(t){var r=t.start,i=t.end,u=t.name;if(this.inGenerator&&u==="yield"&&this.raiseRecoverable(r,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&u==="await"&&this.raiseRecoverable(r,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&u==="arguments"&&this.raiseRecoverable(r,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(u==="arguments"||u==="await")&&this.raise(r,"Cannot use "+u+" in class static initialization block"),this.keywords.test(u)&&this.raise(r,"Unexpected keyword '"+u+"'"),!(this.options.ecmaVersion<6&&this.input.slice(r,i).indexOf("\\")!==-1)){var o=this.strict?this.reservedWordsStrict:this.reservedWords;o.test(u)&&(!this.inAsync&&u==="await"&&this.raiseRecoverable(r,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(r,"The keyword '"+u+"' is reserved"))}};ft.parseIdent=function(t){var r=this.parseIdentNode();return this.next(!!t),this.finishNode(r,"Identifier"),t||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r};ft.parseIdentNode=function(){var t=this.startNode();return this.type===b.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=b.name):this.unexpected(),t};ft.parsePrivateIdent=function(){var t=this.startNode();return this.type===b.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};ft.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var r=this.startNode();return this.next(),this.type===b.semi||this.canInsertSemicolon()||this.type!==b.star&&!this.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(b.star),r.argument=this.parseMaybeAssign(t)),this.finishNode(r,"YieldExpression")};ft.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var r=this.startNode();return this.next(),r.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(r,"AwaitExpression")};var Wi=$t.prototype;Wi.raise=function(t,r){var i=Dd(this.input,t);r+=" ("+i.line+":"+i.column+")";var u=new SyntaxError(r);throw u.pos=t,u.loc=i,u.raisedAt=this.pos,u};Wi.raiseRecoverable=Wi.raise;Wi.curPosition=function(){if(this.options.locations)return new ei(this.curLine,this.pos-this.lineStart)};var Zn=$t.prototype,yD=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Zn.enterScope=function(t){this.scopeStack.push(new yD(t))};Zn.exitScope=function(){this.scopeStack.pop()};Zn.treatFunctionsAsVarInScope=function(t){return t.flags&_r||!this.inModule&&t.flags&ni};Zn.declareName=function(t,r,i){var u=!1;if(r===wn){var o=this.currentScope();u=o.lexical.indexOf(t)>-1||o.functions.indexOf(t)>-1||o.var.indexOf(t)>-1,o.lexical.push(t),this.inModule&&o.flags&ni&&delete this.undefinedExports[t]}else if(r===Bd){var a=this.currentScope();a.lexical.push(t)}else if(r===wd){var c=this.currentScope();this.treatFunctionsAsVar?u=c.lexical.indexOf(t)>-1:u=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var l=this.scopeStack.length-1;l>=0;--l){var m=this.scopeStack[l];if(m.lexical.indexOf(t)>-1&&!(m.flags&Ed&&m.lexical[0]===t)||!this.treatFunctionsAsVarInScope(m)&&m.functions.indexOf(t)>-1){u=!0;break}if(m.var.push(t),this.inModule&&m.flags&ni&&delete this.undefinedExports[t],m.flags&fo)break}u&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Zn.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Zn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Zn.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var r=this.scopeStack[t];if(r.flags&fo)return r}};Zn.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var r=this.scopeStack[t];if(r.flags&fo&&!(r.flags&vd))return r}};var os=function(t,r,i){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new ss(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},ai=$t.prototype;ai.startNode=function(){return new os(this,this.start,this.startLoc)};ai.startNodeAt=function(t,r){return new os(this,t,r)};function kd(t,r,i,u){return t.type=r,t.end=i,this.options.locations&&(t.loc.end=u),this.options.ranges&&(t.range[1]=i),t}ai.finishNode=function(t,r){return kd.call(this,t,r,this.lastTokEnd,this.lastTokEndLoc)};ai.finishNodeAt=function(t,r,i,u){return kd.call(this,t,r,i,u)};ai.copyNode=function(t){var r=new os(this,t.start,this.startLoc);for(var i in t)r[i]=t[i];return r};var _d="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Nd=_d+" Extended_Pictographic",Td=Nd,Rd=Td+" EBase EComp EMod EPres ExtPict",Vd=Rd,MD=Vd,bD={9:_d,10:Nd,11:Td,12:Rd,13:Vd,14:MD},DD="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",PD={9:"",10:"",11:"",12:"",13:"",14:DD},Ia="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ld="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Od=Ld+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Gd=Od+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",jd=Gd+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Wd=jd+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",vD=Wd+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",ED={9:Ld,10:Od,11:Gd,12:jd,13:Wd,14:vD},zd={};function FD(t){var r=zd[t]={binary:Ln(bD[t]+" "+Ia),binaryOfStrings:Ln(PD[t]),nonBinary:{General_Category:Ln(Ia),Script:Ln(ED[t])}};r.nonBinary.Script_Extensions=r.nonBinary.Script,r.nonBinary.gc=r.nonBinary.General_Category,r.nonBinary.sc=r.nonBinary.Script,r.nonBinary.scx=r.nonBinary.Script_Extensions}for(var zs=0,xa=[9,10,11,12,13,14];zs<xa.length;zs+=1){var wD=xa[zs];FD(wD)}var rt=$t.prototype,zi=function(t,r){this.parent=t,this.base=r||this};zi.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var i=t;i;i=i.parent)if(r.base===i.base&&r!==i)return!0;return!1};zi.prototype.sibling=function(){return new zi(this.parent,this.base)};var an=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=zd[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};an.prototype.reset=function(t,r,i){var u=i.indexOf("v")!==-1,o=i.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=i,u&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=o&&this.parser.options.ecmaVersion>=9)};an.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};an.prototype.at=function(t,r){r===void 0&&(r=!1);var i=this.source,u=i.length;if(t>=u)return-1;var o=i.charCodeAt(t);if(!(r||this.switchU)||o<=55295||o>=57344||t+1>=u)return o;var a=i.charCodeAt(t+1);return a>=56320&&a<=57343?(o<<10)+a-56613888:o};an.prototype.nextIndex=function(t,r){r===void 0&&(r=!1);var i=this.source,u=i.length;if(t>=u)return u;var o=i.charCodeAt(t),a;return!(r||this.switchU)||o<=55295||o>=57344||t+1>=u||(a=i.charCodeAt(t+1))<56320||a>57343?t+1:t+2};an.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};an.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};an.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};an.prototype.eat=function(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};an.prototype.eatChars=function(t,r){r===void 0&&(r=!1);for(var i=this.pos,u=0,o=t;u<o.length;u+=1){var a=o[u],c=this.at(i,r);if(c===-1||c!==a)return!1;i=this.nextIndex(i,r)}return this.pos=i,!0};rt.validateRegExpFlags=function(t){for(var r=t.validFlags,i=t.flags,u=!1,o=!1,a=0;a<i.length;a++){var c=i.charAt(a);r.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(u=!0),c==="v"&&(o=!0)}this.options.ecmaVersion>=15&&u&&o&&this.raise(t.start,"Invalid regular expression flag")};function BD(t){for(var r in t)return!0;return!1}rt.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&BD(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};rt.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var r=0,i=t.backReferenceNames;r<i.length;r+=1){var u=i[r];t.groupNames[u]||t.raise("Invalid named capture referenced")}};rt.regexp_disjunction=function(t){var r=this.options.ecmaVersion>=16;for(r&&(t.branchID=new zi(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)r&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);r&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};rt.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};rt.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};rt.regexp_eatAssertion=function(t){var r=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=r}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=r,!1};rt.regexp_eatQuantifier=function(t,r){return r===void 0&&(r=!1),this.regexp_eatQuantifierPrefix(t,r)?(t.eat(63),!0):!1};rt.regexp_eatQuantifierPrefix=function(t,r){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,r)};rt.regexp_eatBracedQuantifier=function(t,r){var i=t.pos;if(t.eat(123)){var u=0,o=-1;if(this.regexp_eatDecimalDigits(t)&&(u=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue),t.eat(125)))return o!==-1&&o<u&&!r&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!r&&t.raise("Incomplete quantifier"),t.pos=i}return!1};rt.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};rt.regexp_eatReverseSolidusAtomEscape=function(t){var r=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=r}return!1};rt.regexp_eatUncapturingGroup=function(t){var r=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=r}return!1};rt.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};rt.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};rt.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};rt.regexp_eatSyntaxCharacter=function(t){var r=t.current();return qd(r)?(t.lastIntValue=r,t.advance(),!0):!1};function qd(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}rt.regexp_eatPatternCharacters=function(t){for(var r=t.pos,i=0;(i=t.current())!==-1&&!qd(i);)t.advance();return t.pos!==r};rt.regexp_eatExtendedPatternCharacter=function(t){var r=t.current();return r!==-1&&r!==36&&!(r>=40&&r<=43)&&r!==46&&r!==63&&r!==91&&r!==94&&r!==124?(t.advance(),!0):!1};rt.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var r=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(r)for(var u=0,o=i;u<o.length;u+=1){var a=o[u];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");r?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};rt.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};rt.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Wn(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Wn(t.lastIntValue);return!0}return!1};rt.regexp_eatRegExpIdentifierStart=function(t){var r=t.pos,i=this.options.ecmaVersion>=11,u=t.current(i);return t.advance(i),u===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(u=t.lastIntValue),ID(u)?(t.lastIntValue=u,!0):(t.pos=r,!1)};function ID(t){return Dn(t,!0)||t===36||t===95}rt.regexp_eatRegExpIdentifierPart=function(t){var r=t.pos,i=this.options.ecmaVersion>=11,u=t.current(i);return t.advance(i),u===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(u=t.lastIntValue),xD(u)?(t.lastIntValue=u,!0):(t.pos=r,!1)};function xD(t){return Pr(t,!0)||t===36||t===95||t===8204||t===8205}rt.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};rt.regexp_eatBackReference=function(t){var r=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=r}return!1};rt.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};rt.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};rt.regexp_eatCControlLetter=function(t){var r=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=r}return!1};rt.regexp_eatZero=function(t){return t.current()===48&&!as(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};rt.regexp_eatControlEscape=function(t){var r=t.current();return r===116?(t.lastIntValue=9,t.advance(),!0):r===110?(t.lastIntValue=10,t.advance(),!0):r===118?(t.lastIntValue=11,t.advance(),!0):r===102?(t.lastIntValue=12,t.advance(),!0):r===114?(t.lastIntValue=13,t.advance(),!0):!1};rt.regexp_eatControlLetter=function(t){var r=t.current();return Zd(r)?(t.lastIntValue=r%32,t.advance(),!0):!1};function Zd(t){return t>=65&&t<=90||t>=97&&t<=122}rt.regexp_eatRegExpUnicodeEscapeSequence=function(t,r){r===void 0&&(r=!1);var i=t.pos,u=r||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(u&&o>=55296&&o<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(o-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=o}return!0}if(u&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&SD(t.lastIntValue))return!0;u&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function SD(t){return t>=0&&t<=1114111}rt.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var r=t.current();return r!==99&&(!t.switchN||r!==107)?(t.lastIntValue=r,t.advance(),!0):!1};rt.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var r=t.current();if(r>=49&&r<=57){do t.lastIntValue=10*t.lastIntValue+(r-48),t.advance();while((r=t.current())>=48&&r<=57);return!0}return!1};var Hd=0,Pn=1,_e=2;rt.regexp_eatCharacterClassEscape=function(t){var r=t.current();if(kD(r))return t.lastIntValue=-1,t.advance(),Pn;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=r===80)||r===112)){t.lastIntValue=-1,t.advance();var u;if(t.eat(123)&&(u=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&u===_e&&t.raise("Invalid property name"),u;t.raise("Invalid property name")}return Hd};function kD(t){return t===100||t===68||t===115||t===83||t===119||t===87}rt.regexp_eatUnicodePropertyValueExpression=function(t){var r=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var u=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,u),Pn}}if(t.pos=r,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,o)}return Hd};rt.regexp_validateUnicodePropertyNameAndValue=function(t,r,i){ui(t.unicodeProperties.nonBinary,r)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[r].test(i)||t.raise("Invalid property value")};rt.regexp_validateUnicodePropertyNameOrValue=function(t,r){if(t.unicodeProperties.binary.test(r))return Pn;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(r))return _e;t.raise("Invalid property name")};rt.regexp_eatUnicodePropertyName=function(t){var r=0;for(t.lastStringValue="";Xd(r=t.current());)t.lastStringValue+=Wn(r),t.advance();return t.lastStringValue!==""};function Xd(t){return Zd(t)||t===95}rt.regexp_eatUnicodePropertyValue=function(t){var r=0;for(t.lastStringValue="";_D(r=t.current());)t.lastStringValue+=Wn(r),t.advance();return t.lastStringValue!==""};function _D(t){return Xd(t)||as(t)}rt.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};rt.regexp_eatCharacterClass=function(t){if(t.eat(91)){var r=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),r&&i===_e&&t.raise("Negated character class may contain strings"),!0}return!1};rt.regexp_classContents=function(t){return t.current()===93?Pn:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Pn)};rt.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var r=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(r===-1||i===-1)&&t.raise("Invalid character class"),r!==-1&&i!==-1&&r>i&&t.raise("Range out of order in character class")}}};rt.regexp_eatClassAtom=function(t){var r=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||Ud(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=r}var u=t.current();return u!==93?(t.lastIntValue=u,t.advance(),!0):!1};rt.regexp_eatClassEscape=function(t){var r=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=r}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};rt.regexp_classSetExpression=function(t){var r=Pn,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===_e&&(r=_e);for(var u=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==_e&&(r=Pn);continue}t.raise("Invalid character in character class")}if(u!==t.pos)return r;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(u!==t.pos)return r}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return r;i===_e&&(r=_e)}};rt.regexp_eatClassSetRange=function(t){var r=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var u=t.lastIntValue;return i!==-1&&u!==-1&&i>u&&t.raise("Range out of order in character class"),!0}t.pos=r}return!1};rt.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Pn:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};rt.regexp_eatNestedClass=function(t){var r=t.pos;if(t.eat(91)){var i=t.eat(94),u=this.regexp_classContents(t);if(t.eat(93))return i&&u===_e&&t.raise("Negated character class may contain strings"),u;t.pos=r}if(t.eat(92)){var o=this.regexp_eatCharacterClassEscape(t);if(o)return o;t.pos=r}return null};rt.regexp_eatClassStringDisjunction=function(t){var r=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=r}return null};rt.regexp_classStringDisjunctionContents=function(t){for(var r=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===_e&&(r=_e);return r};rt.regexp_classString=function(t){for(var r=0;this.regexp_eatClassSetCharacter(t);)r++;return r===1?Pn:_e};rt.regexp_eatClassSetCharacter=function(t){var r=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=r,!1);var i=t.current();return i<0||i===t.lookahead()&&ND(i)||TD(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function ND(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function TD(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}rt.regexp_eatClassSetReservedPunctuator=function(t){var r=t.current();return RD(r)?(t.lastIntValue=r,t.advance(),!0):!1};function RD(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}rt.regexp_eatClassControlLetter=function(t){var r=t.current();return as(r)||r===95?(t.lastIntValue=r%32,t.advance(),!0):!1};rt.regexp_eatHexEscapeSequence=function(t){var r=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=r}return!1};rt.regexp_eatDecimalDigits=function(t){var r=t.pos,i=0;for(t.lastIntValue=0;as(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==r};function as(t){return t>=48&&t<=57}rt.regexp_eatHexDigits=function(t){var r=t.pos,i=0;for(t.lastIntValue=0;Kd(i=t.current());)t.lastIntValue=16*t.lastIntValue+Yd(i),t.advance();return t.pos!==r};function Kd(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Yd(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}rt.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var r=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;r<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=r*64+i*8+t.lastIntValue:t.lastIntValue=r*8+i}else t.lastIntValue=r;return!0}return!1};rt.regexp_eatOctalDigit=function(t){var r=t.current();return Ud(r)?(t.lastIntValue=r-48,t.advance(),!0):(t.lastIntValue=0,!1)};function Ud(t){return t>=48&&t<=55}rt.regexp_eatFixedHexDigits=function(t,r){var i=t.pos;t.lastIntValue=0;for(var u=0;u<r;++u){var o=t.current();if(!Kd(o))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+Yd(o),t.advance()}return!0};var Mo=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new ss(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},bt=$t.prototype;bt.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Mo(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};bt.getToken=function(){return this.next(),new Mo(this)};typeof Symbol<"u"&&(bt[Symbol.iterator]=function(){var t=this;return{next:function(){var r=t.getToken();return{done:r.type===b.eof,value:r}}}});bt.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(b.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};bt.readToken=function(t){return Dn(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};bt.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var r=this.input.charCodeAt(this.pos+1);return r<=56319||r>=57344?t:(t<<10)+r-56613888};bt.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),r=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var u=void 0,o=r;(u=yd(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=u;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,i),r,this.pos,t,this.curPosition())};bt.skipLineComment=function(t){for(var r=this.pos,i=this.options.onComment&&this.curPosition(),u=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!kr(u);)u=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(r+t,this.pos),r,this.pos,i,this.curPosition())};bt.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(t>8&&t<14||t>=5760&&Md.test(String.fromCharCode(t)))++this.pos;else break t}}};bt.finishToken=function(t,r){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=r,this.updateContext(i)};bt.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var r=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&r===46?(this.pos+=3,this.finishToken(b.ellipsis)):(++this.pos,this.finishToken(b.dot))};bt.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(b.assign,2):this.finishOp(b.slash,1)};bt.readToken_mult_modulo_exp=function(t){var r=this.input.charCodeAt(this.pos+1),i=1,u=t===42?b.star:b.modulo;return this.options.ecmaVersion>=7&&t===42&&r===42&&(++i,u=b.starstar,r=this.input.charCodeAt(this.pos+2)),r===61?this.finishOp(b.assign,i+1):this.finishOp(u,i)};bt.readToken_pipe_amp=function(t){var r=this.input.charCodeAt(this.pos+1);if(r===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(b.assign,3)}return this.finishOp(t===124?b.logicalOR:b.logicalAND,2)}return r===61?this.finishOp(b.assign,2):this.finishOp(t===124?b.bitwiseOR:b.bitwiseAND,1)};bt.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(b.assign,2):this.finishOp(b.bitwiseXOR,1)};bt.readToken_plus_min=function(t){var r=this.input.charCodeAt(this.pos+1);return r===t?r===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Le.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(b.incDec,2):r===61?this.finishOp(b.assign,2):this.finishOp(b.plusMin,1)};bt.readToken_lt_gt=function(t){var r=this.input.charCodeAt(this.pos+1),i=1;return r===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(b.assign,i+1):this.finishOp(b.bitShift,i)):r===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(r===61&&(i=2),this.finishOp(b.relational,i))};bt.readToken_eq_excl=function(t){var r=this.input.charCodeAt(this.pos+1);return r===61?this.finishOp(b.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&r===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(b.arrow)):this.finishOp(t===61?b.eq:b.prefix,1)};bt.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var r=this.input.charCodeAt(this.pos+1);if(r===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(b.questionDot,2)}if(r===63){if(t>=12){var u=this.input.charCodeAt(this.pos+2);if(u===61)return this.finishOp(b.assign,3)}return this.finishOp(b.coalesce,2)}}return this.finishOp(b.question,1)};bt.readToken_numberSign=function(){var t=this.options.ecmaVersion,r=35;if(t>=13&&(++this.pos,r=this.fullCharCodeAtPos(),Dn(r,!0)||r===92))return this.finishToken(b.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Wn(r)+"'")};bt.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(b.parenL);case 41:return++this.pos,this.finishToken(b.parenR);case 59:return++this.pos,this.finishToken(b.semi);case 44:return++this.pos,this.finishToken(b.comma);case 91:return++this.pos,this.finishToken(b.bracketL);case 93:return++this.pos,this.finishToken(b.bracketR);case 123:return++this.pos,this.finishToken(b.braceL);case 125:return++this.pos,this.finishToken(b.braceR);case 58:return++this.pos,this.finishToken(b.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(b.backQuote);case 48:var r=this.input.charCodeAt(this.pos+1);if(r===120||r===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(r===111||r===79)return this.readRadixNumber(8);if(r===98||r===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(b.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Wn(t)+"'")};bt.finishOp=function(t,r){var i=this.input.slice(this.pos,this.pos+r);return this.pos+=r,this.finishToken(t,i)};bt.readRegexp=function(){for(var t,r,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var u=this.input.charAt(this.pos);if(Le.test(u)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(u==="[")r=!0;else if(u==="]"&&r)r=!1;else if(u==="/"&&!r)break;t=u==="\\"}++this.pos}var o=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var l=this.regexpState||(this.regexpState=new an(this));l.reset(i,o,c),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var m=null;try{m=new RegExp(o,c)}catch{}return this.finishToken(b.regexp,{pattern:o,flags:c,value:m})};bt.readInt=function(t,r,i){for(var u=this.options.ecmaVersion>=12&&r===void 0,o=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,l=0,m=0,d=r??1/0;m<d;++m,++this.pos){var f=this.input.charCodeAt(this.pos),g=void 0;if(u&&f===95){o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),l===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),m===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),l=f;continue}if(f>=97?g=f-97+10:f>=65?g=f-65+10:f>=48&&f<=57?g=f-48:g=1/0,g>=t)break;l=f,c=c*t+g}return u&&l===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||r!=null&&this.pos-a!==r?null:c};function VD(t,r){return r?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function $d(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}bt.readRadixNumber=function(t){var r=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=$d(this.input.slice(r,this.pos)),++this.pos):Dn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,i)};bt.readNumber=function(t){var r=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(r,"Invalid number");var i=this.pos-r>=2&&this.input.charCodeAt(r)===48;i&&this.strict&&this.raise(r,"Invalid number");var u=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&u===110){var o=$d(this.input.slice(r,this.pos));return++this.pos,Dn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,o)}i&&/[89]/.test(this.input.slice(r,this.pos))&&(i=!1),u===46&&!i&&(++this.pos,this.readInt(10),u=this.input.charCodeAt(this.pos)),(u===69||u===101)&&!i&&(u=this.input.charCodeAt(++this.pos),(u===43||u===45)&&++this.pos,this.readInt(10)===null&&this.raise(r,"Invalid number")),Dn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=VD(this.input.slice(r,this.pos),i);return this.finishToken(b.num,a)};bt.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),r;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;r=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,r>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else r=this.readHexChar(4);return r};bt.readString=function(t){for(var r="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var u=this.input.charCodeAt(this.pos);if(u===t)break;u===92?(r+=this.input.slice(i,this.pos),r+=this.readEscapedChar(!1),i=this.pos):u===8232||u===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(kr(u)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return r+=this.input.slice(i,this.pos++),this.finishToken(b.string,r)};var Jd={};bt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Jd)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};bt.invalidStringToken=function(t,r){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Jd;this.raise(t,r)};bt.readTmplToken=function(){for(var t="",r=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===b.template||this.type===b.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(b.dollarBraceL)):(++this.pos,this.finishToken(b.backQuote)):(t+=this.input.slice(r,this.pos),this.finishToken(b.template,t));if(i===92)t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!0),r=this.pos;else if(kr(i)){switch(t+=this.input.slice(r,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),r=this.pos}else++this.pos}};bt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};bt.readEscapedChar=function(t){var r=this.input.charCodeAt(++this.pos);switch(++this.pos,r){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Wn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(r>=48&&r<=55){var u=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(u,8);return o>255&&(u=u.slice(0,-1),o=parseInt(u,8)),this.pos+=u.length-1,r=this.input.charCodeAt(this.pos),(u!=="0"||r===56||r===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-u.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return kr(r)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(r)}};bt.readHexChar=function(t){var r=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(r,"Bad character escape sequence"),i};bt.readWord1=function(){this.containsEsc=!1;for(var t="",r=!0,i=this.pos,u=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(Pr(o,u))this.pos+=o<=65535?1:2;else if(o===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(r?Dn:Pr)(c,u)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Wn(c),i=this.pos}else break;r=!1}return t+this.input.slice(i,this.pos)};bt.readWord=function(){var t=this.readWord1(),r=b.name;return this.keywords.test(t)&&(r=ho[t]),this.finishToken(r,t)};var LD="8.12.1";$t.acorn={Parser:$t,version:LD,defaultOptions:hu,Position:ei,SourceLocation:ss,getLineInfo:Dd,Node:os,TokenType:Et,tokTypes:b,keywordTypes:ho,TokContext:qe,tokContexts:Ot,isIdentifierChar:Pr,isIdentifierStart:Dn,Token:Mo,isNewLine:kr,lineBreak:Le,lineBreakG:aD,nonASCIIwhitespace:Md};function OD(t,r){return $t.parse(t,r)}var Xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function GD(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var i=function u(){return this instanceof u?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(u){var o=Object.getOwnPropertyDescriptor(t,u);Object.defineProperty(i,u,o.get?o:{enumerable:!0,get:function(){return t[u]}})}),i}var tf={},ef={};(function(t){(function r(i){var u,o,a,c,l,m;function d(x){var R={},T,j;for(T in x)x.hasOwnProperty(T)&&(j=x[T],typeof j=="object"&&j!==null?R[T]=d(j):R[T]=j);return R}function f(x,R){var T,j,X,z;for(j=x.length,X=0;j;)T=j>>>1,z=X+T,R(x[z])?j=T:(X=z+1,j-=T+1);return X}u={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},a={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},c={},l={},m={},o={Break:c,Skip:l,Remove:m};function g(x,R){this.parent=x,this.key=R}g.prototype.replace=function(x){this.parent[this.key]=x},g.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function A(x,R,T,j){this.node=x,this.path=R,this.wrap=T,this.ref=j}function D(){}D.prototype.path=function(){var x,R,T,j,X,z;function J(Z,H){if(Array.isArray(H))for(T=0,j=H.length;T<j;++T)Z.push(H[T]);else Z.push(H)}if(!this.__current.path)return null;for(X=[],x=2,R=this.__leavelist.length;x<R;++x)z=this.__leavelist[x],J(X,z.path);return J(X,this.__current.path),X},D.prototype.type=function(){var x=this.current();return x.type||this.__current.wrap},D.prototype.parents=function(){var x,R,T;for(T=[],x=1,R=this.__leavelist.length;x<R;++x)T.push(this.__leavelist[x].node);return T},D.prototype.current=function(){return this.__current.node},D.prototype.__execute=function(x,R){var T,j;return j=void 0,T=this.__current,this.__current=R,this.__state=null,x&&(j=x.call(this,R.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=T,j},D.prototype.notify=function(x){this.__state=x},D.prototype.skip=function(){this.notify(l)},D.prototype.break=function(){this.notify(c)},D.prototype.remove=function(){this.notify(m)},D.prototype.__initialize=function(x,R){this.visitor=R,this.root=x,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,R.fallback==="iteration"?this.__fallback=Object.keys:typeof R.fallback=="function"&&(this.__fallback=R.fallback),this.__keys=a,R.keys&&(this.__keys=Object.assign(Object.create(this.__keys),R.keys))};function F(x){return x==null?!1:typeof x=="object"&&typeof x.type=="string"}function E(x,R){return(x===u.ObjectExpression||x===u.ObjectPattern)&&R==="properties"}function S(x,R){for(var T=x.length-1;T>=0;--T)if(x[T].node===R)return!0;return!1}D.prototype.traverse=function(x,R){var T,j,X,z,J,Z,H,U,gt,ut,dt,ht;for(this.__initialize(x,R),ht={},T=this.__worklist,j=this.__leavelist,T.push(new A(x,null,null,null)),j.push(new A(null,null,null,null));T.length;){if(X=T.pop(),X===ht){if(X=j.pop(),Z=this.__execute(R.leave,X),this.__state===c||Z===c)return;continue}if(X.node){if(Z=this.__execute(R.enter,X),this.__state===c||Z===c)return;if(T.push(ht),j.push(X),this.__state===l||Z===l)continue;if(z=X.node,J=z.type||X.wrap,ut=this.__keys[J],!ut)if(this.__fallback)ut=this.__fallback(z);else throw new Error("Unknown node type "+J+".");for(U=ut.length;(U-=1)>=0;)if(H=ut[U],dt=z[H],!!dt){if(Array.isArray(dt)){for(gt=dt.length;(gt-=1)>=0;)if(dt[gt]&&!S(j,dt[gt])){if(E(J,ut[U]))X=new A(dt[gt],[H,gt],"Property",null);else if(F(dt[gt]))X=new A(dt[gt],[H,gt],null,null);else continue;T.push(X)}}else if(F(dt)){if(S(j,dt))continue;T.push(new A(dt,H,null,null))}}}}},D.prototype.replace=function(x,R){var T,j,X,z,J,Z,H,U,gt,ut,dt,ht,xt;function he(te){var Y,ee,oe,Pe;if(te.ref.remove()){for(ee=te.ref.key,Pe=te.ref.parent,Y=T.length;Y--;)if(oe=T[Y],oe.ref&&oe.ref.parent===Pe){if(oe.ref.key<ee)break;--oe.ref.key}}}for(this.__initialize(x,R),dt={},T=this.__worklist,j=this.__leavelist,ht={root:x},Z=new A(x,null,null,new g(ht,"root")),T.push(Z),j.push(Z);T.length;){if(Z=T.pop(),Z===dt){if(Z=j.pop(),J=this.__execute(R.leave,Z),J!==void 0&&J!==c&&J!==l&&J!==m&&Z.ref.replace(J),(this.__state===m||J===m)&&he(Z),this.__state===c||J===c)return ht.root;continue}if(J=this.__execute(R.enter,Z),J!==void 0&&J!==c&&J!==l&&J!==m&&(Z.ref.replace(J),Z.node=J),(this.__state===m||J===m)&&(he(Z),Z.node=null),this.__state===c||J===c)return ht.root;if(X=Z.node,!!X&&(T.push(dt),j.push(Z),!(this.__state===l||J===l))){if(z=X.type||Z.wrap,gt=this.__keys[z],!gt)if(this.__fallback)gt=this.__fallback(X);else throw new Error("Unknown node type "+z+".");for(H=gt.length;(H-=1)>=0;)if(xt=gt[H],ut=X[xt],!!ut)if(Array.isArray(ut)){for(U=ut.length;(U-=1)>=0;)if(ut[U]){if(E(z,gt[H]))Z=new A(ut[U],[xt,U],"Property",new g(ut,U));else if(F(ut[U]))Z=new A(ut[U],[xt,U],null,new g(ut,U));else continue;T.push(Z)}}else F(ut)&&T.push(new A(ut,xt,null,new g(X,xt)))}}return ht.root};function N(x,R){var T=new D;return T.traverse(x,R)}function L(x,R){var T=new D;return T.replace(x,R)}function K(x,R){var T;return T=f(R,function(j){return j.range[0]>x.range[0]}),x.extendedRange=[x.range[0],x.range[1]],T!==R.length&&(x.extendedRange[1]=R[T].range[0]),T-=1,T>=0&&(x.extendedRange[0]=R[T].range[1]),x}function _(x,R,T){var j=[],X,z,J,Z;if(!x.range)throw new Error("attachComments needs range information");if(!T.length){if(R.length){for(J=0,z=R.length;J<z;J+=1)X=d(R[J]),X.extendedRange=[0,x.range[0]],j.push(X);x.leadingComments=j}return x}for(J=0,z=R.length;J<z;J+=1)j.push(K(d(R[J]),T));return Z=0,N(x,{enter:function(H){for(var U;Z<j.length&&(U=j[Z],!(U.extendedRange[1]>H.range[0]));)U.extendedRange[1]===H.range[0]?(H.leadingComments||(H.leadingComments=[]),H.leadingComments.push(U),j.splice(Z,1)):Z+=1;if(Z===j.length)return o.Break;if(j[Z].extendedRange[0]>H.range[1])return o.Skip}}),Z=0,N(x,{leave:function(H){for(var U;Z<j.length&&(U=j[Z],!(H.range[1]<U.extendedRange[0]));)H.range[1]===U.extendedRange[0]?(H.trailingComments||(H.trailingComments=[]),H.trailingComments.push(U),j.splice(Z,1)):Z+=1;if(Z===j.length)return o.Break;if(j[Z].extendedRange[0]>H.range[1])return o.Skip}}),x}return i.Syntax=u,i.traverse=N,i.replace=L,i.attachComments=_,i.VisitorKeys=a,i.VisitorOption=o,i.Controller=D,i.cloneEnvironment=function(){return r({})},i})(t)})(ef);var ki={},nf={exports:{}};(function(){function t(c){if(c==null)return!1;switch(c.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function r(c){if(c==null)return!1;switch(c.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function i(c){if(c==null)return!1;switch(c.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function u(c){return i(c)||c!=null&&c.type==="FunctionDeclaration"}function o(c){switch(c.type){case"IfStatement":return c.alternate!=null?c.alternate:c.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return c.body}return null}function a(c){var l;if(c.type!=="IfStatement"||c.alternate==null)return!1;l=c.consequent;do{if(l.type==="IfStatement"&&l.alternate==null)return!0;l=o(l)}while(l);return!1}nf.exports={isExpression:t,isStatement:i,isIterationStatement:r,isSourceElement:u,isProblematicIfStatement:a,trailingStatement:o}})();var jD=nf.exports,rf={exports:{}};(function(){var t,r,i,u,o,a;r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function c(S){return 48<=S&&S<=57}function l(S){return 48<=S&&S<=57||97<=S&&S<=102||65<=S&&S<=70}function m(S){return S>=48&&S<=55}i=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function d(S){return S===32||S===9||S===11||S===12||S===160||S>=5760&&i.indexOf(S)>=0}function f(S){return S===10||S===13||S===8232||S===8233}function g(S){if(S<=65535)return String.fromCharCode(S);var N=String.fromCharCode(Math.floor((S-65536)/1024)+55296),L=String.fromCharCode((S-65536)%1024+56320);return N+L}for(u=new Array(128),a=0;a<128;++a)u[a]=a>=97&&a<=122||a>=65&&a<=90||a===36||a===95;for(o=new Array(128),a=0;a<128;++a)o[a]=a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===36||a===95;function A(S){return S<128?u[S]:r.NonAsciiIdentifierStart.test(g(S))}function D(S){return S<128?o[S]:r.NonAsciiIdentifierPart.test(g(S))}function F(S){return S<128?u[S]:t.NonAsciiIdentifierStart.test(g(S))}function E(S){return S<128?o[S]:t.NonAsciiIdentifierPart.test(g(S))}rf.exports={isDecimalDigit:c,isHexDigit:l,isOctalDigit:m,isWhiteSpace:d,isLineTerminator:f,isIdentifierStartES5:A,isIdentifierPartES5:D,isIdentifierStartES6:F,isIdentifierPartES6:E}})();var sf=rf.exports,uf={exports:{}};(function(){var t=sf;function r(A){switch(A){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function i(A,D){return!D&&A==="yield"?!1:u(A,D)}function u(A,D){if(D&&r(A))return!0;switch(A.length){case 2:return A==="if"||A==="in"||A==="do";case 3:return A==="var"||A==="for"||A==="new"||A==="try";case 4:return A==="this"||A==="else"||A==="case"||A==="void"||A==="with"||A==="enum";case 5:return A==="while"||A==="break"||A==="catch"||A==="throw"||A==="const"||A==="yield"||A==="class"||A==="super";case 6:return A==="return"||A==="typeof"||A==="delete"||A==="switch"||A==="export"||A==="import";case 7:return A==="default"||A==="finally"||A==="extends";case 8:return A==="function"||A==="continue"||A==="debugger";case 10:return A==="instanceof";default:return!1}}function o(A,D){return A==="null"||A==="true"||A==="false"||i(A,D)}function a(A,D){return A==="null"||A==="true"||A==="false"||u(A,D)}function c(A){return A==="eval"||A==="arguments"}function l(A){var D,F,E;if(A.length===0||(E=A.charCodeAt(0),!t.isIdentifierStartES5(E)))return!1;for(D=1,F=A.length;D<F;++D)if(E=A.charCodeAt(D),!t.isIdentifierPartES5(E))return!1;return!0}function m(A,D){return(A-55296)*1024+(D-56320)+65536}function d(A){var D,F,E,S,N;if(A.length===0)return!1;for(N=t.isIdentifierStartES6,D=0,F=A.length;D<F;++D){if(E=A.charCodeAt(D),55296<=E&&E<=56319){if(++D,D>=F||(S=A.charCodeAt(D),!(56320<=S&&S<=57343)))return!1;E=m(E,S)}if(!N(E))return!1;N=t.isIdentifierPartES6}return!0}function f(A,D){return l(A)&&!o(A,D)}function g(A,D){return d(A)&&!a(A,D)}uf.exports={isKeywordES5:i,isKeywordES6:u,isReservedWordES5:o,isReservedWordES6:a,isRestrictedWord:c,isIdentifierNameES5:l,isIdentifierNameES6:d,isIdentifierES5:f,isIdentifierES6:g}})();var WD=uf.exports;(function(){ki.ast=jD,ki.code=sf,ki.keyword=WD})();var vi={},qs={},Ei={},Fi={},Sa;function zD(){if(Sa)return Fi;Sa=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Fi.encode=function(r){if(0<=r&&r<t.length)return t[r];throw new TypeError("Must be between 0 and 63: "+r)},Fi.decode=function(r){var i=65,u=90,o=97,a=122,c=48,l=57,m=43,d=47,f=26,g=52;return i<=r&&r<=u?r-i:o<=r&&r<=a?r-o+f:c<=r&&r<=l?r-c+g:r==m?62:r==d?63:-1},Fi}var ka;function of(){if(ka)return Ei;ka=1;var t=zD(),r=5,i=1<<r,u=i-1,o=i;function a(l){return l<0?(-l<<1)+1:(l<<1)+0}function c(l){var m=(l&1)===1,d=l>>1;return m?-d:d}return Ei.encode=function(l){var m="",d,f=a(l);do d=f&u,f>>>=r,f>0&&(d|=o),m+=t.encode(d);while(f>0);return m},Ei.decode=function(l,m,d){var f=l.length,g=0,A=0,D,F;do{if(m>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(F=t.decode(l.charCodeAt(m++)),F===-1)throw new Error("Invalid base64 digit: "+l.charAt(m-1));D=!!(F&o),F&=u,g=g+(F<<A),A+=r}while(D);d.value=c(g),d.rest=m},Ei}var _a={},Na;function ci(){return Na||(Na=1,function(t){function r(_,x,R){if(x in _)return _[x];if(arguments.length===3)return R;throw new Error('"'+x+'" is a required argument.')}t.getArg=r;var i=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,u=/^data:.+\,.+$/;function o(_){var x=_.match(i);return x?{scheme:x[1],auth:x[2],host:x[3],port:x[4],path:x[5]}:null}t.urlParse=o;function a(_){var x="";return _.scheme&&(x+=_.scheme+":"),x+="//",_.auth&&(x+=_.auth+"@"),_.host&&(x+=_.host),_.port&&(x+=":"+_.port),_.path&&(x+=_.path),x}t.urlGenerate=a;function c(_){var x=_,R=o(_);if(R){if(!R.path)return _;x=R.path}for(var T=t.isAbsolute(x),j=x.split(/\/+/),X,z=0,J=j.length-1;J>=0;J--)X=j[J],X==="."?j.splice(J,1):X===".."?z++:z>0&&(X===""?(j.splice(J+1,z),z=0):(j.splice(J,2),z--));return x=j.join("/"),x===""&&(x=T?"/":"."),R?(R.path=x,a(R)):x}t.normalize=c;function l(_,x){_===""&&(_="."),x===""&&(x=".");var R=o(x),T=o(_);if(T&&(_=T.path||"/"),R&&!R.scheme)return T&&(R.scheme=T.scheme),a(R);if(R||x.match(u))return x;if(T&&!T.host&&!T.path)return T.host=x,a(T);var j=x.charAt(0)==="/"?x:c(_.replace(/\/+$/,"")+"/"+x);return T?(T.path=j,a(T)):j}t.join=l,t.isAbsolute=function(_){return _.charAt(0)==="/"||i.test(_)};function m(_,x){_===""&&(_="."),_=_.replace(/\/$/,"");for(var R=0;x.indexOf(_+"/")!==0;){var T=_.lastIndexOf("/");if(T<0||(_=_.slice(0,T),_.match(/^([^\/]+:\/)?\/*$/)))return x;++R}return Array(R+1).join("../")+x.substr(_.length+1)}t.relative=m;var d=function(){var _=Object.create(null);return!("__proto__"in _)}();function f(_){return _}function g(_){return D(_)?"$"+_:_}t.toSetString=d?f:g;function A(_){return D(_)?_.slice(1):_}t.fromSetString=d?f:A;function D(_){if(!_)return!1;var x=_.length;if(x<9||_.charCodeAt(x-1)!==95||_.charCodeAt(x-2)!==95||_.charCodeAt(x-3)!==111||_.charCodeAt(x-4)!==116||_.charCodeAt(x-5)!==111||_.charCodeAt(x-6)!==114||_.charCodeAt(x-7)!==112||_.charCodeAt(x-8)!==95||_.charCodeAt(x-9)!==95)return!1;for(var R=x-10;R>=0;R--)if(_.charCodeAt(R)!==36)return!1;return!0}function F(_,x,R){var T=S(_.source,x.source);return T!==0||(T=_.originalLine-x.originalLine,T!==0)||(T=_.originalColumn-x.originalColumn,T!==0||R)||(T=_.generatedColumn-x.generatedColumn,T!==0)||(T=_.generatedLine-x.generatedLine,T!==0)?T:S(_.name,x.name)}t.compareByOriginalPositions=F;function E(_,x,R){var T=_.generatedLine-x.generatedLine;return T!==0||(T=_.generatedColumn-x.generatedColumn,T!==0||R)||(T=S(_.source,x.source),T!==0)||(T=_.originalLine-x.originalLine,T!==0)||(T=_.originalColumn-x.originalColumn,T!==0)?T:S(_.name,x.name)}t.compareByGeneratedPositionsDeflated=E;function S(_,x){return _===x?0:_===null?1:x===null?-1:_>x?1:-1}function N(_,x){var R=_.generatedLine-x.generatedLine;return R!==0||(R=_.generatedColumn-x.generatedColumn,R!==0)||(R=S(_.source,x.source),R!==0)||(R=_.originalLine-x.originalLine,R!==0)||(R=_.originalColumn-x.originalColumn,R!==0)?R:S(_.name,x.name)}t.compareByGeneratedPositionsInflated=N;function L(_){return JSON.parse(_.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=L;function K(_,x,R){if(x=x||"",_&&(_[_.length-1]!=="/"&&x[0]!=="/"&&(_+="/"),x=_+x),R){var T=o(R);if(!T)throw new Error("sourceMapURL could not be parsed");if(T.path){var j=T.path.lastIndexOf("/");j>=0&&(T.path=T.path.substring(0,j+1))}x=l(a(T),x)}return c(x)}t.computeSourceURL=K}(_a)),_a}var Zs={},Ta;function af(){if(Ta)return Zs;Ta=1;var t=ci(),r=Object.prototype.hasOwnProperty,i=typeof Map<"u";function u(){this._array=[],this._set=i?new Map:Object.create(null)}return u.fromArray=function(o,a){for(var c=new u,l=0,m=o.length;l<m;l++)c.add(o[l],a);return c},u.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},u.prototype.add=function(o,a){var c=i?o:t.toSetString(o),l=i?this.has(o):r.call(this._set,c),m=this._array.length;(!l||a)&&this._array.push(o),l||(i?this._set.set(o,m):this._set[c]=m)},u.prototype.has=function(o){if(i)return this._set.has(o);var a=t.toSetString(o);return r.call(this._set,a)},u.prototype.indexOf=function(o){if(i){var a=this._set.get(o);if(a>=0)return a}else{var c=t.toSetString(o);if(r.call(this._set,c))return this._set[c]}throw new Error('"'+o+'" is not in the set.')},u.prototype.at=function(o){if(o>=0&&o<this._array.length)return this._array[o];throw new Error("No element indexed by "+o)},u.prototype.toArray=function(){return this._array.slice()},Zs.ArraySet=u,Zs}var Hs={},Ra;function qD(){if(Ra)return Hs;Ra=1;var t=ci();function r(u,o){var a=u.generatedLine,c=o.generatedLine,l=u.generatedColumn,m=o.generatedColumn;return c>a||c==a&&m>=l||t.compareByGeneratedPositionsInflated(u,o)<=0}function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return i.prototype.unsortedForEach=function(u,o){this._array.forEach(u,o)},i.prototype.add=function(u){r(this._last,u)?(this._last=u,this._array.push(u)):(this._sorted=!1,this._array.push(u))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Hs.MappingList=i,Hs}var Va;function cf(){if(Va)return qs;Va=1;var t=of(),r=ci(),i=af().ArraySet,u=qD().MappingList;function o(a){a||(a={}),this._file=r.getArg(a,"file",null),this._sourceRoot=r.getArg(a,"sourceRoot",null),this._skipValidation=r.getArg(a,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new u,this._sourcesContents=null}return o.prototype._version=3,o.fromSourceMap=function(a){var c=a.sourceRoot,l=new o({file:a.file,sourceRoot:c});return a.eachMapping(function(m){var d={generated:{line:m.generatedLine,column:m.generatedColumn}};m.source!=null&&(d.source=m.source,c!=null&&(d.source=r.relative(c,d.source)),d.original={line:m.originalLine,column:m.originalColumn},m.name!=null&&(d.name=m.name)),l.addMapping(d)}),a.sources.forEach(function(m){var d=m;c!==null&&(d=r.relative(c,m)),l._sources.has(d)||l._sources.add(d);var f=a.sourceContentFor(m);f!=null&&l.setSourceContent(m,f)}),l},o.prototype.addMapping=function(a){var c=r.getArg(a,"generated"),l=r.getArg(a,"original",null),m=r.getArg(a,"source",null),d=r.getArg(a,"name",null);this._skipValidation||this._validateMapping(c,l,m,d),m!=null&&(m=String(m),this._sources.has(m)||this._sources.add(m)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:c.line,generatedColumn:c.column,originalLine:l!=null&&l.line,originalColumn:l!=null&&l.column,source:m,name:d})},o.prototype.setSourceContent=function(a,c){var l=a;this._sourceRoot!=null&&(l=r.relative(this._sourceRoot,l)),c!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(l)]=c):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(l)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(a,c,l){var m=c;if(c==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);m=a.file}var d=this._sourceRoot;d!=null&&(m=r.relative(d,m));var f=new i,g=new i;this._mappings.unsortedForEach(function(A){if(A.source===m&&A.originalLine!=null){var D=a.originalPositionFor({line:A.originalLine,column:A.originalColumn});D.source!=null&&(A.source=D.source,l!=null&&(A.source=r.join(l,A.source)),d!=null&&(A.source=r.relative(d,A.source)),A.originalLine=D.line,A.originalColumn=D.column,D.name!=null&&(A.name=D.name))}var F=A.source;F!=null&&!f.has(F)&&f.add(F);var E=A.name;E!=null&&!g.has(E)&&g.add(E)},this),this._sources=f,this._names=g,a.sources.forEach(function(A){var D=a.sourceContentFor(A);D!=null&&(l!=null&&(A=r.join(l,A)),d!=null&&(A=r.relative(d,A)),this.setSourceContent(A,D))},this)},o.prototype._validateMapping=function(a,c,l,m){if(c&&typeof c.line!="number"&&typeof c.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!c&&!l&&!m)){if(a&&"line"in a&&"column"in a&&c&&"line"in c&&"column"in c&&a.line>0&&a.column>=0&&c.line>0&&c.column>=0&&l)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:l,original:c,name:m}))}},o.prototype._serializeMappings=function(){for(var a=0,c=1,l=0,m=0,d=0,f=0,g="",A,D,F,E,S=this._mappings.toArray(),N=0,L=S.length;N<L;N++){if(D=S[N],A="",D.generatedLine!==c)for(a=0;D.generatedLine!==c;)A+=";",c++;else if(N>0){if(!r.compareByGeneratedPositionsInflated(D,S[N-1]))continue;A+=","}A+=t.encode(D.generatedColumn-a),a=D.generatedColumn,D.source!=null&&(E=this._sources.indexOf(D.source),A+=t.encode(E-f),f=E,A+=t.encode(D.originalLine-1-m),m=D.originalLine-1,A+=t.encode(D.originalColumn-l),l=D.originalColumn,D.name!=null&&(F=this._names.indexOf(D.name),A+=t.encode(F-d),d=F)),g+=A}return g},o.prototype._generateSourcesContent=function(a,c){return a.map(function(l){if(!this._sourcesContents)return null;c!=null&&(l=r.relative(c,l));var m=r.toSetString(l);return Object.prototype.hasOwnProperty.call(this._sourcesContents,m)?this._sourcesContents[m]:null},this)},o.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},qs.SourceMapGenerator=o,qs}var qr={},La={},Oa;function ZD(){return Oa||(Oa=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function r(i,u,o,a,c,l){var m=Math.floor((u-i)/2)+i,d=c(o,a[m],!0);return d===0?m:d>0?u-m>1?r(m,u,o,a,c,l):l==t.LEAST_UPPER_BOUND?u<a.length?u:-1:m:m-i>1?r(i,m,o,a,c,l):l==t.LEAST_UPPER_BOUND?m:i<0?-1:i}t.search=function(i,u,o,a){if(u.length===0)return-1;var c=r(-1,u.length,i,u,o,a||t.GREATEST_LOWER_BOUND);if(c<0)return-1;for(;c-1>=0&&o(u[c],u[c-1],!0)===0;)--c;return c}}(La)),La}var Xs={},Ga;function HD(){if(Ga)return Xs;Ga=1;function t(u,o,a){var c=u[o];u[o]=u[a],u[a]=c}function r(u,o){return Math.round(u+Math.random()*(o-u))}function i(u,o,a,c){if(a<c){var l=r(a,c),m=a-1;t(u,l,c);for(var d=u[c],f=a;f<c;f++)o(u[f],d)<=0&&(m+=1,t(u,m,f));t(u,m+1,f);var g=m+1;i(u,o,a,g-1),i(u,o,g+1,c)}}return Xs.quickSort=function(u,o){i(u,o,0,u.length-1)},Xs}var ja;function XD(){if(ja)return qr;ja=1;var t=ci(),r=ZD(),i=af().ArraySet,u=of(),o=HD().quickSort;function a(d,f){var g=d;return typeof d=="string"&&(g=t.parseSourceMapInput(d)),g.sections!=null?new m(g,f):new c(g,f)}a.fromSourceMap=function(d,f){return c.fromSourceMap(d,f)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(d,f){var g=d.charAt(f);return g===";"||g===","},a.prototype._parseMappings=function(d,f){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(d,f,g){var A=f||null,D=g||a.GENERATED_ORDER,F;switch(D){case a.GENERATED_ORDER:F=this._generatedMappings;break;case a.ORIGINAL_ORDER:F=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var E=this.sourceRoot;F.map(function(S){var N=S.source===null?null:this._sources.at(S.source);return N=t.computeSourceURL(E,N,this._sourceMapURL),{source:N,generatedLine:S.generatedLine,generatedColumn:S.generatedColumn,originalLine:S.originalLine,originalColumn:S.originalColumn,name:S.name===null?null:this._names.at(S.name)}},this).forEach(d,A)},a.prototype.allGeneratedPositionsFor=function(d){var f=t.getArg(d,"line"),g={source:t.getArg(d,"source"),originalLine:f,originalColumn:t.getArg(d,"column",0)};if(g.source=this._findSourceIndex(g.source),g.source<0)return[];var A=[],D=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(D>=0){var F=this._originalMappings[D];if(d.column===void 0)for(var E=F.originalLine;F&&F.originalLine===E;)A.push({line:t.getArg(F,"generatedLine",null),column:t.getArg(F,"generatedColumn",null),lastColumn:t.getArg(F,"lastGeneratedColumn",null)}),F=this._originalMappings[++D];else for(var S=F.originalColumn;F&&F.originalLine===f&&F.originalColumn==S;)A.push({line:t.getArg(F,"generatedLine",null),column:t.getArg(F,"generatedColumn",null),lastColumn:t.getArg(F,"lastGeneratedColumn",null)}),F=this._originalMappings[++D]}return A},qr.SourceMapConsumer=a;function c(d,f){var g=d;typeof d=="string"&&(g=t.parseSourceMapInput(d));var A=t.getArg(g,"version"),D=t.getArg(g,"sources"),F=t.getArg(g,"names",[]),E=t.getArg(g,"sourceRoot",null),S=t.getArg(g,"sourcesContent",null),N=t.getArg(g,"mappings"),L=t.getArg(g,"file",null);if(A!=this._version)throw new Error("Unsupported version: "+A);E&&(E=t.normalize(E)),D=D.map(String).map(t.normalize).map(function(K){return E&&t.isAbsolute(E)&&t.isAbsolute(K)?t.relative(E,K):K}),this._names=i.fromArray(F.map(String),!0),this._sources=i.fromArray(D,!0),this._absoluteSources=this._sources.toArray().map(function(K){return t.computeSourceURL(E,K,f)}),this.sourceRoot=E,this.sourcesContent=S,this._mappings=N,this._sourceMapURL=f,this.file=L}c.prototype=Object.create(a.prototype),c.prototype.consumer=a,c.prototype._findSourceIndex=function(d){var f=d;if(this.sourceRoot!=null&&(f=t.relative(this.sourceRoot,f)),this._sources.has(f))return this._sources.indexOf(f);var g;for(g=0;g<this._absoluteSources.length;++g)if(this._absoluteSources[g]==d)return g;return-1},c.fromSourceMap=function(d,f){var g=Object.create(c.prototype),A=g._names=i.fromArray(d._names.toArray(),!0),D=g._sources=i.fromArray(d._sources.toArray(),!0);g.sourceRoot=d._sourceRoot,g.sourcesContent=d._generateSourcesContent(g._sources.toArray(),g.sourceRoot),g.file=d._file,g._sourceMapURL=f,g._absoluteSources=g._sources.toArray().map(function(x){return t.computeSourceURL(g.sourceRoot,x,f)});for(var F=d._mappings.toArray().slice(),E=g.__generatedMappings=[],S=g.__originalMappings=[],N=0,L=F.length;N<L;N++){var K=F[N],_=new l;_.generatedLine=K.generatedLine,_.generatedColumn=K.generatedColumn,K.source&&(_.source=D.indexOf(K.source),_.originalLine=K.originalLine,_.originalColumn=K.originalColumn,K.name&&(_.name=A.indexOf(K.name)),S.push(_)),E.push(_)}return o(g.__originalMappings,t.compareByOriginalPositions),g},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}c.prototype._parseMappings=function(d,f){for(var g=1,A=0,D=0,F=0,E=0,S=0,N=d.length,L=0,K={},_={},x=[],R=[],T,j,X,z,J;L<N;)if(d.charAt(L)===";")g++,L++,A=0;else if(d.charAt(L)===",")L++;else{for(T=new l,T.generatedLine=g,z=L;z<N&&!this._charIsMappingSeparator(d,z);z++);if(j=d.slice(L,z),X=K[j],X)L+=j.length;else{for(X=[];L<z;)u.decode(d,L,_),J=_.value,L=_.rest,X.push(J);if(X.length===2)throw new Error("Found a source, but no line and column");if(X.length===3)throw new Error("Found a source and line, but no column");K[j]=X}T.generatedColumn=A+X[0],A=T.generatedColumn,X.length>1&&(T.source=E+X[1],E+=X[1],T.originalLine=D+X[2],D=T.originalLine,T.originalLine+=1,T.originalColumn=F+X[3],F=T.originalColumn,X.length>4&&(T.name=S+X[4],S+=X[4])),R.push(T),typeof T.originalLine=="number"&&x.push(T)}o(R,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=R,o(x,t.compareByOriginalPositions),this.__originalMappings=x},c.prototype._findMapping=function(d,f,g,A,D,F){if(d[g]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[g]);if(d[A]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[A]);return r.search(d,f,D,F)},c.prototype.computeColumnSpans=function(){for(var d=0;d<this._generatedMappings.length;++d){var f=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var g=this._generatedMappings[d+1];if(f.generatedLine===g.generatedLine){f.lastGeneratedColumn=g.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(d){var f={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},g=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(g>=0){var A=this._generatedMappings[g];if(A.generatedLine===f.generatedLine){var D=t.getArg(A,"source",null);D!==null&&(D=this._sources.at(D),D=t.computeSourceURL(this.sourceRoot,D,this._sourceMapURL));var F=t.getArg(A,"name",null);return F!==null&&(F=this._names.at(F)),{source:D,line:t.getArg(A,"originalLine",null),column:t.getArg(A,"originalColumn",null),name:F}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},c.prototype.sourceContentFor=function(d,f){if(!this.sourcesContent)return null;var g=this._findSourceIndex(d);if(g>=0)return this.sourcesContent[g];var A=d;this.sourceRoot!=null&&(A=t.relative(this.sourceRoot,A));var D;if(this.sourceRoot!=null&&(D=t.urlParse(this.sourceRoot))){var F=A.replace(/^file:\/\//,"");if(D.scheme=="file"&&this._sources.has(F))return this.sourcesContent[this._sources.indexOf(F)];if((!D.path||D.path=="/")&&this._sources.has("/"+A))return this.sourcesContent[this._sources.indexOf("/"+A)]}if(f)return null;throw new Error('"'+A+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(d){var f=t.getArg(d,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var g={source:f,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},A=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(A>=0){var D=this._originalMappings[A];if(D.source===g.source)return{line:t.getArg(D,"generatedLine",null),column:t.getArg(D,"generatedColumn",null),lastColumn:t.getArg(D,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},qr.BasicSourceMapConsumer=c;function m(d,f){var g=d;typeof d=="string"&&(g=t.parseSourceMapInput(d));var A=t.getArg(g,"version"),D=t.getArg(g,"sections");if(A!=this._version)throw new Error("Unsupported version: "+A);this._sources=new i,this._names=new i;var F={line:-1,column:0};this._sections=D.map(function(E){if(E.url)throw new Error("Support for url field in sections not implemented.");var S=t.getArg(E,"offset"),N=t.getArg(S,"line"),L=t.getArg(S,"column");if(N<F.line||N===F.line&&L<F.column)throw new Error("Section offsets must be ordered and non-overlapping.");return F=S,{generatedOffset:{generatedLine:N+1,generatedColumn:L+1},consumer:new a(t.getArg(E,"map"),f)}})}return m.prototype=Object.create(a.prototype),m.prototype.constructor=a,m.prototype._version=3,Object.defineProperty(m.prototype,"sources",{get:function(){for(var d=[],f=0;f<this._sections.length;f++)for(var g=0;g<this._sections[f].consumer.sources.length;g++)d.push(this._sections[f].consumer.sources[g]);return d}}),m.prototype.originalPositionFor=function(d){var f={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},g=r.search(f,this._sections,function(D,F){var E=D.generatedLine-F.generatedOffset.generatedLine;return E||D.generatedColumn-F.generatedOffset.generatedColumn}),A=this._sections[g];return A?A.consumer.originalPositionFor({line:f.generatedLine-(A.generatedOffset.generatedLine-1),column:f.generatedColumn-(A.generatedOffset.generatedLine===f.generatedLine?A.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},m.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},m.prototype.sourceContentFor=function(d,f){for(var g=0;g<this._sections.length;g++){var A=this._sections[g],D=A.consumer.sourceContentFor(d,!0);if(D)return D}if(f)return null;throw new Error('"'+d+'" is not in the SourceMap.')},m.prototype.generatedPositionFor=function(d){for(var f=0;f<this._sections.length;f++){var g=this._sections[f];if(g.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var A=g.consumer.generatedPositionFor(d);if(A){var D={line:A.line+(g.generatedOffset.generatedLine-1),column:A.column+(g.generatedOffset.generatedLine===A.line?g.generatedOffset.generatedColumn-1:0)};return D}}}return{line:null,column:null}},m.prototype._parseMappings=function(d,f){this.__generatedMappings=[],this.__originalMappings=[];for(var g=0;g<this._sections.length;g++)for(var A=this._sections[g],D=A.consumer._generatedMappings,F=0;F<D.length;F++){var E=D[F],S=A.consumer._sources.at(E.source);S=t.computeSourceURL(A.consumer.sourceRoot,S,this._sourceMapURL),this._sources.add(S),S=this._sources.indexOf(S);var N=null;E.name&&(N=A.consumer._names.at(E.name),this._names.add(N),N=this._names.indexOf(N));var L={source:S,generatedLine:E.generatedLine+(A.generatedOffset.generatedLine-1),generatedColumn:E.generatedColumn+(A.generatedOffset.generatedLine===E.generatedLine?A.generatedOffset.generatedColumn-1:0),originalLine:E.originalLine,originalColumn:E.originalColumn,name:N};this.__generatedMappings.push(L),typeof L.originalLine=="number"&&this.__originalMappings.push(L)}o(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),o(this.__originalMappings,t.compareByOriginalPositions)},qr.IndexedSourceMapConsumer=m,qr}var Ks={},Wa;function KD(){if(Wa)return Ks;Wa=1;var t=cf().SourceMapGenerator,r=ci(),i=/(\r?\n)/,u=10,o="$$$isSourceNode$$$";function a(c,l,m,d,f){this.children=[],this.sourceContents={},this.line=c??null,this.column=l??null,this.source=m??null,this.name=f??null,this[o]=!0,d!=null&&this.add(d)}return a.fromStringWithSourceMap=function(c,l,m){var d=new a,f=c.split(i),g=0,A=function(){var N=K(),L=K()||"";return N+L;function K(){return g<f.length?f[g++]:void 0}},D=1,F=0,E=null;return l.eachMapping(function(N){if(E!==null)if(D<N.generatedLine)S(E,A()),D++,F=0;else{var L=f[g]||"",K=L.substr(0,N.generatedColumn-F);f[g]=L.substr(N.generatedColumn-F),F=N.generatedColumn,S(E,K),E=N;return}for(;D<N.generatedLine;)d.add(A()),D++;if(F<N.generatedColumn){var L=f[g]||"";d.add(L.substr(0,N.generatedColumn)),f[g]=L.substr(N.generatedColumn),F=N.generatedColumn}E=N},this),g<f.length&&(E&&S(E,A()),d.add(f.splice(g).join(""))),l.sources.forEach(function(N){var L=l.sourceContentFor(N);L!=null&&(m!=null&&(N=r.join(m,N)),d.setSourceContent(N,L))}),d;function S(N,L){if(N===null||N.source===void 0)d.add(L);else{var K=m?r.join(m,N.source):N.source;d.add(new a(N.originalLine,N.originalColumn,K,L,N.name))}}},a.prototype.add=function(c){if(Array.isArray(c))c.forEach(function(l){this.add(l)},this);else if(c[o]||typeof c=="string")c&&this.children.push(c);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);return this},a.prototype.prepend=function(c){if(Array.isArray(c))for(var l=c.length-1;l>=0;l--)this.prepend(c[l]);else if(c[o]||typeof c=="string")this.children.unshift(c);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);return this},a.prototype.walk=function(c){for(var l,m=0,d=this.children.length;m<d;m++)l=this.children[m],l[o]?l.walk(c):l!==""&&c(l,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(c){var l,m,d=this.children.length;if(d>0){for(l=[],m=0;m<d-1;m++)l.push(this.children[m]),l.push(c);l.push(this.children[m]),this.children=l}return this},a.prototype.replaceRight=function(c,l){var m=this.children[this.children.length-1];return m[o]?m.replaceRight(c,l):typeof m=="string"?this.children[this.children.length-1]=m.replace(c,l):this.children.push("".replace(c,l)),this},a.prototype.setSourceContent=function(c,l){this.sourceContents[r.toSetString(c)]=l},a.prototype.walkSourceContents=function(c){for(var l=0,m=this.children.length;l<m;l++)this.children[l][o]&&this.children[l].walkSourceContents(c);for(var d=Object.keys(this.sourceContents),l=0,m=d.length;l<m;l++)c(r.fromSetString(d[l]),this.sourceContents[d[l]])},a.prototype.toString=function(){var c="";return this.walk(function(l){c+=l}),c},a.prototype.toStringWithSourceMap=function(c){var l={code:"",line:1,column:0},m=new t(c),d=!1,f=null,g=null,A=null,D=null;return this.walk(function(F,E){l.code+=F,E.source!==null&&E.line!==null&&E.column!==null?((f!==E.source||g!==E.line||A!==E.column||D!==E.name)&&m.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:l.line,column:l.column},name:E.name}),f=E.source,g=E.line,A=E.column,D=E.name,d=!0):d&&(m.addMapping({generated:{line:l.line,column:l.column}}),f=null,d=!1);for(var S=0,N=F.length;S<N;S++)F.charCodeAt(S)===u?(l.line++,l.column=0,S+1===N?(f=null,d=!1):d&&m.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:l.line,column:l.column},name:E.name})):l.column++}),this.walkSourceContents(function(F,E){m.setSourceContent(F,E)}),{code:l.code,map:m}},Ks.SourceNode=a,Ks}var za;function YD(){return za||(za=1,vi.SourceMapGenerator=cf().SourceMapGenerator,vi.SourceMapConsumer=XD().SourceMapConsumer,vi.SourceNode=KD().SourceNode),vi}const UD="escodegen",$D="ECMAScript code generator",JD="http://github.com/estools/escodegen",QD="escodegen.js",tP={esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},eP=["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],nP="2.1.0",rP={node:">=6.0"},iP=[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],sP={type:"git",url:"http://github.com/estools/escodegen.git"},uP={estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1"},oP={"source-map":"~0.6.1"},aP={acorn:"^8.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-mocha":"^7.0.2",minimist:"^1.2.5",optionator:"^0.9.1",semver:"^7.3.4"},cP="BSD-2-Clause",lP={test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"},hP={name:UD,description:$D,homepage:JD,main:QD,bin:tP,files:eP,version:nP,engines:rP,maintainers:iP,repository:sP,dependencies:uP,optionalDependencies:oP,devDependencies:aP,license:cP,scripts:lP};(function(t){(function(){var r,i,u,o,a,c,l,m,d,f,g,A,D,F,E,S,N,L,K,_,x,R,T,j,X,z;a=ef,c=ki,r=a.Syntax;function J(p){return pt.Expression.hasOwnProperty(p.type)}function Z(p){return pt.Statement.hasOwnProperty(p.type)}i={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},u={"??":i.Coalesce,"||":i.LogicalOR,"&&":i.LogicalAND,"|":i.BitwiseOR,"^":i.BitwiseXOR,"&":i.BitwiseAND,"==":i.Equality,"!=":i.Equality,"===":i.Equality,"!==":i.Equality,is:i.Equality,isnt:i.Equality,"<":i.Relational,">":i.Relational,"<=":i.Relational,">=":i.Relational,in:i.Relational,instanceof:i.Relational,"<<":i.BitwiseSHIFT,">>":i.BitwiseSHIFT,">>>":i.BitwiseSHIFT,"+":i.Additive,"-":i.Additive,"*":i.Multiplicative,"%":i.Multiplicative,"/":i.Multiplicative,"**":i.Exponentiation};var H=1,U=2,gt=4,ut=8,dt=16,ht=32,xt=64,he=U|gt,te=H|U,Y=H|U|gt,ee=H,oe=gt,Pe=H|gt,wt=H,Ut=H|ht,Pt=0,Ht=H|dt,Ce=H|ut;function ye(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Nt(p,y){var C="";for(y|=0;y>0;y>>>=1,p+=p)y&1&&(C+=p);return C}function Bn(p){return/[\r\n]/g.test(p)}function Tt(p){var y=p.length;return y&&c.code.isLineTerminator(p.charCodeAt(y-1))}function In(p,y){var C;for(C in y)y.hasOwnProperty(C)&&(p[C]=y[C]);return p}function ve(p,y){var C,M;function B(V){return typeof V=="object"&&V instanceof Object&&!(V instanceof RegExp)}for(C in y)y.hasOwnProperty(C)&&(M=y[C],B(M)?B(p[C])?ve(p[C],M):p[C]=ve({},M):p[C]=M);return p}function Ge(p){var y,C,M,B,V;if(p!==p)throw new Error("Numeric literal whose value is NaN");if(p<0||p===0&&1/p<0)throw new Error("Numeric literal whose value is negative");if(p===1/0)return d?"null":f?"1e400":"1e+400";if(y=""+p,!f||y.length<3)return y;for(C=y.indexOf("."),!d&&y.charCodeAt(0)===48&&C===1&&(C=0,y=y.slice(1)),M=y,y=y.replace("e+","e"),B=0,(V=M.indexOf("e"))>0&&(B=+M.slice(V+1),M=M.slice(0,V)),C>=0&&(B-=M.length-C-1,M=+(M.slice(0,C)+M.slice(C+1))+""),V=0;M.charCodeAt(M.length+V-1)===48;)--V;return V!==0&&(B-=V,M=M.slice(0,V)),B!==0&&(M+="e"+B),(M.length<y.length||g&&p>1e12&&Math.floor(p)===p&&(M="0x"+p.toString(16)).length<y.length)&&+M===p&&(y=M),y}function cn(p,y){return(p&-2)===8232?(y?"u":"\\u")+(p===8232?"2028":"2029"):p===10||p===13?(y?"":"\\")+(p===10?"n":"r"):String.fromCharCode(p)}function ln(p){var y,C,M,B,V,G,q,Q;if(C=p.toString(),p.source){if(y=C.match(/\/([^/]*)$/),!y)return C;for(M=y[1],C="",q=!1,Q=!1,B=0,V=p.source.length;B<V;++B)G=p.source.charCodeAt(B),Q?(C+=cn(G,Q),Q=!1):(q?G===93&&(q=!1):G===47?C+="\\":G===91&&(q=!0),C+=cn(G,Q),Q=G===92);return"/"+C+"/"+M}return C}function hn(p,y){var C;return p===8?"\\b":p===12?"\\f":p===9?"\\t":(C=p.toString(16).toUpperCase(),d||p>255?"\\u"+"0000".slice(C.length)+C:p===0&&!c.code.isDecimalDigit(y)?"\\0":p===11?"\\x0B":"\\x"+"00".slice(C.length)+C)}function xn(p){if(p===92)return"\\\\";if(p===10)return"\\n";if(p===13)return"\\r";if(p===8232)return"\\u2028";if(p===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function pn(p){var y,C,M,B;for(B=A==="double"?'"':"'",y=0,C=p.length;y<C;++y)if(M=p.charCodeAt(y),M===39){B='"';break}else if(M===34){B="'";break}else M===92&&++y;return B+p+B}function je(p){var y="",C,M,B,V=0,G=0,q,Q;for(C=0,M=p.length;C<M;++C){if(B=p.charCodeAt(C),B===39)++V;else if(B===34)++G;else if(B===47&&d)y+="\\";else if(c.code.isLineTerminator(B)||B===92){y+=xn(B);continue}else if(!c.code.isIdentifierPartES5(B)&&(d&&B<32||!d&&!D&&(B<32||B>126))){y+=hn(B,p.charCodeAt(C+1));continue}y+=String.fromCharCode(B)}if(q=!(A==="double"||A==="auto"&&G<V),Q=q?"'":'"',!(q?V:G))return Q+y+Q;for(p=y,y=Q,C=0,M=p.length;C<M;++C)B=p.charCodeAt(C),(B===39&&q||B===34&&!q)&&(y+="\\"),y+=String.fromCharCode(B);return y+Q}function We(p){var y,C,M,B="";for(y=0,C=p.length;y<C;++y)M=p[y],B+=Array.isArray(M)?We(M):M;return B}function Mt(p,y){if(!R)return Array.isArray(p)?We(p):p;if(y==null){if(p instanceof o)return p;y={}}return y.loc==null?new o(null,null,R,p,y.name||null):new o(y.loc.start.line,y.loc.start.column,R===!0?y.loc.source||null:R,p,y.name||null)}function Gt(){return E||" "}function lt(p,y){var C,M,B,V;return C=Mt(p).toString(),C.length===0?[y]:(M=Mt(y).toString(),M.length===0?[p]:(B=C.charCodeAt(C.length-1),V=M.charCodeAt(0),(B===43||B===45)&&B===V||c.code.isIdentifierPartES5(B)&&c.code.isIdentifierPartES5(V)||B===47&&V===105?[p,Gt(),y]:c.code.isWhiteSpace(B)||c.code.isLineTerminator(B)||c.code.isWhiteSpace(V)||c.code.isLineTerminator(V)?[p,y]:[p,E,y]))}function Zt(p){return[l,p]}function Rt(p){var y;y=l,l+=m,p(l),l=y}function Gr(p){var y;for(y=p.length-1;y>=0&&!c.code.isLineTerminator(p.charCodeAt(y));--y);return p.length-1-y}function Sn(p,y){var C,M,B,V,G,q,Q,yt;for(C=p.split(/\r\n|[\r\n]/),q=Number.MAX_VALUE,M=1,B=C.length;M<B;++M){for(V=C[M],G=0;G<V.length&&c.code.isWhiteSpace(V.charCodeAt(G));)++G;q>G&&(q=G)}for(typeof y<"u"?(Q=l,C[1][q]==="*"&&(y+=" "),l=y):(q&1&&--q,Q=l),M=1,B=C.length;M<B;++M)yt=Mt(Zt(C[M].slice(q))),C[M]=R?yt.join(""):yt;return l=Q,C.join(`
`)}function vt(p,y){if(p.type==="Line"){if(Tt(p.value))return"//"+p.value;var C="//"+p.value;return j||(C+=`
`),C}return _.format.indent.adjustMultilineComment&&/[\n\r]/.test(p.value)?Sn("/*"+p.value+"*/",y):"/*"+p.value+"*/"}function mn(p,y){var C,M,B,V,G,q,Q,yt,Xt,dn,kn,di,fi,Fe;if(p.leadingComments&&p.leadingComments.length>0){if(V=y,j){for(B=p.leadingComments[0],y=[],yt=B.extendedRange,Xt=B.range,kn=T.substring(yt[0],Xt[0]),Fe=(kn.match(/\n/g)||[]).length,Fe>0?(y.push(Nt(`
`,Fe)),y.push(Zt(vt(B)))):(y.push(kn),y.push(vt(B))),dn=Xt,C=1,M=p.leadingComments.length;C<M;C++)B=p.leadingComments[C],Xt=B.range,di=T.substring(dn[1],Xt[0]),Fe=(di.match(/\n/g)||[]).length,y.push(Nt(`
`,Fe)),y.push(Zt(vt(B))),dn=Xt;fi=T.substring(Xt[1],yt[1]),Fe=(fi.match(/\n/g)||[]).length,y.push(Nt(`
`,Fe))}else for(B=p.leadingComments[0],y=[],L&&p.type===r.Program&&p.body.length===0&&y.push(`
`),y.push(vt(B)),Tt(Mt(y).toString())||y.push(`
`),C=1,M=p.leadingComments.length;C<M;++C)B=p.leadingComments[C],Q=[vt(B)],Tt(Mt(Q).toString())||Q.push(`
`),y.push(Zt(Q));y.push(Zt(V))}if(p.trailingComments)if(j)B=p.trailingComments[0],yt=B.extendedRange,Xt=B.range,kn=T.substring(yt[0],Xt[0]),Fe=(kn.match(/\n/g)||[]).length,Fe>0?(y.push(Nt(`
`,Fe)),y.push(Zt(vt(B)))):(y.push(kn),y.push(vt(B)));else for(G=!Tt(Mt(y).toString()),q=Nt(" ",Gr(Mt([l,y,m]).toString())),C=0,M=p.trailingComments.length;C<M;++C)B=p.trailingComments[C],G?(C===0?y=[y,m]:y=[y,q],y.push(vt(B,q))):y=[y,Zt(vt(B))],C!==M-1&&!Tt(Mt(y).toString())&&(y=[y,`
`]);return y}function pe(p,y,C){var M,B=0;for(M=p;M<y;M++)T[M]===`
`&&B++;for(M=1;M<B;M++)C.push(F)}function Vt(p,y,C){return y<C?["(",p,")"]:p}function Kn(p){var y,C,M;for(M=p.split(/\r\n|\n/),y=1,C=M.length;y<C;y++)M[y]=F+l+M[y];return M}function ur(p,y){var C,M,B;return C=p[_.verbatim],typeof C=="string"?M=Vt(Kn(C),i.Sequence,y):(M=Kn(C.content),B=C.precedence!=null?C.precedence:i.Sequence,M=Vt(M,B,y)),Mt(M,p)}function pt(){}pt.prototype.maybeBlock=function(p,y){var C,M,B=this;return M=!_.comment||!p.leadingComments,p.type===r.BlockStatement&&M?[E,this.generateStatement(p,y)]:p.type===r.EmptyStatement&&M?";":(Rt(function(){C=[F,Zt(B.generateStatement(p,y))]}),C)},pt.prototype.maybeBlockSuffix=function(p,y){var C=Tt(Mt(y).toString());return p.type===r.BlockStatement&&(!_.comment||!p.leadingComments)&&!C?[y,E]:C?[y,l]:[y,F,l]};function jt(p){return Mt(p.name,p)}function Ee(p,y){return p.async?"async"+(y?Gt():E):""}function me(p){var y=p.generator&&!_.moz.starlessGenerator;return y?"*"+E:""}function jr(p){var y=p.value,C="";return y.async&&(C+=Ee(y,!p.computed)),y.generator&&(C+=me(y)?"*":""),C}pt.prototype.generatePattern=function(p,y,C){return p.type===r.Identifier?jt(p):this.generateExpression(p,y,C)},pt.prototype.generateFunctionParams=function(p){var y,C,M,B;if(B=!1,p.type===r.ArrowFunctionExpression&&!p.rest&&(!p.defaults||p.defaults.length===0)&&p.params.length===1&&p.params[0].type===r.Identifier)M=[Ee(p,!0),jt(p.params[0])];else{for(M=p.type===r.ArrowFunctionExpression?[Ee(p,!1)]:[],M.push("("),p.defaults&&(B=!0),y=0,C=p.params.length;y<C;++y)B&&p.defaults[y]?M.push(this.generateAssignment(p.params[y],p.defaults[y],"=",i.Assignment,Y)):M.push(this.generatePattern(p.params[y],i.Assignment,Y)),y+1<C&&M.push(","+E);p.rest&&(p.params.length&&M.push(","+E),M.push("..."),M.push(jt(p.rest))),M.push(")")}return M},pt.prototype.generateFunctionBody=function(p){var y,C;return y=this.generateFunctionParams(p),p.type===r.ArrowFunctionExpression&&(y.push(E),y.push("=>")),p.expression?(y.push(E),C=this.generateExpression(p.body,i.Assignment,Y),C.toString().charAt(0)==="{"&&(C=["(",C,")"]),y.push(C)):y.push(this.maybeBlock(p.body,Ce)),y},pt.prototype.generateIterationForStatement=function(p,y,C){var M=["for"+(y.await?Gt()+"await":"")+E+"("],B=this;return Rt(function(){y.left.type===r.VariableDeclaration?Rt(function(){M.push(y.left.kind+Gt()),M.push(B.generateStatement(y.left.declarations[0],Pt))}):M.push(B.generateExpression(y.left,i.Call,Y)),M=lt(M,p),M=[lt(M,B.generateExpression(y.right,i.Assignment,Y)),")"]}),M.push(this.maybeBlock(y.body,C)),M},pt.prototype.generatePropertyKey=function(p,y){var C=[];return y&&C.push("["),C.push(this.generateExpression(p,i.Assignment,Y)),y&&C.push("]"),C},pt.prototype.generateAssignment=function(p,y,C,M,B){return i.Assignment<M&&(B|=H),Vt([this.generateExpression(p,i.Call,B),E+C+E,this.generateExpression(y,i.Assignment,B)],i.Assignment,M)},pt.prototype.semicolon=function(p){return!N&&p&ht?"":";"},pt.Statement={BlockStatement:function(p,y){var C,M,B=["{",F],V=this;return Rt(function(){p.body.length===0&&j&&(C=p.range,C[1]-C[0]>2&&(M=T.substring(C[0]+1,C[1]-1),M[0]===`
`&&(B=["{"]),B.push(M)));var G,q,Q,yt;for(yt=wt,y&ut&&(yt|=dt),G=0,q=p.body.length;G<q;++G)j&&(G===0&&(p.body[0].leadingComments&&(C=p.body[0].leadingComments[0].extendedRange,M=T.substring(C[0],C[1]),M[0]===`
`&&(B=["{"])),p.body[0].leadingComments||pe(p.range[0],p.body[0].range[0],B)),G>0&&!p.body[G-1].trailingComments&&!p.body[G].leadingComments&&pe(p.body[G-1].range[1],p.body[G].range[0],B)),G===q-1&&(yt|=ht),p.body[G].leadingComments&&j?Q=V.generateStatement(p.body[G],yt):Q=Zt(V.generateStatement(p.body[G],yt)),B.push(Q),Tt(Mt(Q).toString())||j&&G<q-1&&p.body[G+1].leadingComments||B.push(F),j&&G===q-1&&(p.body[G].trailingComments||pe(p.body[G].range[1],p.range[1],B))}),B.push(Zt("}")),B},BreakStatement:function(p,y){return p.label?"break "+p.label.name+this.semicolon(y):"break"+this.semicolon(y)},ContinueStatement:function(p,y){return p.label?"continue "+p.label.name+this.semicolon(y):"continue"+this.semicolon(y)},ClassBody:function(p,y){var C=["{",F],M=this;return Rt(function(B){var V,G;for(V=0,G=p.body.length;V<G;++V)C.push(B),C.push(M.generateExpression(p.body[V],i.Sequence,Y)),V+1<G&&C.push(F)}),Tt(Mt(C).toString())||C.push(F),C.push(l),C.push("}"),C},ClassDeclaration:function(p,y){var C,M;return C=["class"],p.id&&(C=lt(C,this.generateExpression(p.id,i.Sequence,Y))),p.superClass&&(M=lt("extends",this.generateExpression(p.superClass,i.Unary,Y)),C=lt(C,M)),C.push(E),C.push(this.generateStatement(p.body,Ut)),C},DirectiveStatement:function(p,y){return _.raw&&p.raw?p.raw+this.semicolon(y):pn(p.directive)+this.semicolon(y)},DoWhileStatement:function(p,y){var C=lt("do",this.maybeBlock(p.body,wt));return C=this.maybeBlockSuffix(p.body,C),lt(C,["while"+E+"(",this.generateExpression(p.test,i.Sequence,Y),")"+this.semicolon(y)])},CatchClause:function(p,y){var C,M=this;return Rt(function(){var B;p.param?(C=["catch"+E+"(",M.generateExpression(p.param,i.Sequence,Y),")"],p.guard&&(B=M.generateExpression(p.guard,i.Sequence,Y),C.splice(2,0," if ",B))):C=["catch"]}),C.push(this.maybeBlock(p.body,wt)),C},DebuggerStatement:function(p,y){return"debugger"+this.semicolon(y)},EmptyStatement:function(p,y){return";"},ExportDefaultDeclaration:function(p,y){var C=["export"],M;return M=y&ht?Ut:wt,C=lt(C,"default"),Z(p.declaration)?C=lt(C,this.generateStatement(p.declaration,M)):C=lt(C,this.generateExpression(p.declaration,i.Assignment,Y)+this.semicolon(y)),C},ExportNamedDeclaration:function(p,y){var C=["export"],M,B=this;return M=y&ht?Ut:wt,p.declaration?lt(C,this.generateStatement(p.declaration,M)):(p.specifiers&&(p.specifiers.length===0?C=lt(C,"{"+E+"}"):p.specifiers[0].type===r.ExportBatchSpecifier?C=lt(C,this.generateExpression(p.specifiers[0],i.Sequence,Y)):(C=lt(C,"{"),Rt(function(V){var G,q;for(C.push(F),G=0,q=p.specifiers.length;G<q;++G)C.push(V),C.push(B.generateExpression(p.specifiers[G],i.Sequence,Y)),G+1<q&&C.push(","+F)}),Tt(Mt(C).toString())||C.push(F),C.push(l+"}")),p.source?C=lt(C,["from"+E,this.generateExpression(p.source,i.Sequence,Y),this.semicolon(y)]):C.push(this.semicolon(y))),C)},ExportAllDeclaration:function(p,y){return["export"+E,"*"+E,"from"+E,this.generateExpression(p.source,i.Sequence,Y),this.semicolon(y)]},ExpressionStatement:function(p,y){var C,M;function B(q){var Q;return q.slice(0,5)!=="class"?!1:(Q=q.charCodeAt(5),Q===123||c.code.isWhiteSpace(Q)||c.code.isLineTerminator(Q))}function V(q){var Q;return q.slice(0,8)!=="function"?!1:(Q=q.charCodeAt(8),Q===40||c.code.isWhiteSpace(Q)||Q===42||c.code.isLineTerminator(Q))}function G(q){var Q,yt,Xt;if(q.slice(0,5)!=="async"||!c.code.isWhiteSpace(q.charCodeAt(5)))return!1;for(yt=6,Xt=q.length;yt<Xt&&c.code.isWhiteSpace(q.charCodeAt(yt));++yt);return yt===Xt||q.slice(yt,yt+8)!=="function"?!1:(Q=q.charCodeAt(yt+8),Q===40||c.code.isWhiteSpace(Q)||Q===42||c.code.isLineTerminator(Q))}return C=[this.generateExpression(p.expression,i.Sequence,Y)],M=Mt(C).toString(),M.charCodeAt(0)===123||B(M)||V(M)||G(M)||K&&y&dt&&p.expression.type===r.Literal&&typeof p.expression.value=="string"?C=["(",C,")"+this.semicolon(y)]:C.push(this.semicolon(y)),C},ImportDeclaration:function(p,y){var C,M,B=this;return p.specifiers.length===0?["import",E,this.generateExpression(p.source,i.Sequence,Y),this.semicolon(y)]:(C=["import"],M=0,p.specifiers[M].type===r.ImportDefaultSpecifier&&(C=lt(C,[this.generateExpression(p.specifiers[M],i.Sequence,Y)]),++M),p.specifiers[M]&&(M!==0&&C.push(","),p.specifiers[M].type===r.ImportNamespaceSpecifier?C=lt(C,[E,this.generateExpression(p.specifiers[M],i.Sequence,Y)]):(C.push(E+"{"),p.specifiers.length-M===1?(C.push(E),C.push(this.generateExpression(p.specifiers[M],i.Sequence,Y)),C.push(E+"}"+E)):(Rt(function(V){var G,q;for(C.push(F),G=M,q=p.specifiers.length;G<q;++G)C.push(V),C.push(B.generateExpression(p.specifiers[G],i.Sequence,Y)),G+1<q&&C.push(","+F)}),Tt(Mt(C).toString())||C.push(F),C.push(l+"}"+E)))),C=lt(C,["from"+E,this.generateExpression(p.source,i.Sequence,Y),this.semicolon(y)]),C)},VariableDeclarator:function(p,y){var C=y&H?Y:he;return p.init?[this.generateExpression(p.id,i.Assignment,C),E,"=",E,this.generateExpression(p.init,i.Assignment,C)]:this.generatePattern(p.id,i.Assignment,C)},VariableDeclaration:function(p,y){var C,M,B,V,G,q=this;C=[p.kind],G=y&H?wt:Pt;function Q(){for(V=p.declarations[0],_.comment&&V.leadingComments?(C.push(`
`),C.push(Zt(q.generateStatement(V,G)))):(C.push(Gt()),C.push(q.generateStatement(V,G))),M=1,B=p.declarations.length;M<B;++M)V=p.declarations[M],_.comment&&V.leadingComments?(C.push(","+F),C.push(Zt(q.generateStatement(V,G)))):(C.push(","+E),C.push(q.generateStatement(V,G)))}return p.declarations.length>1?Rt(Q):Q(),C.push(this.semicolon(y)),C},ThrowStatement:function(p,y){return[lt("throw",this.generateExpression(p.argument,i.Sequence,Y)),this.semicolon(y)]},TryStatement:function(p,y){var C,M,B,V;if(C=["try",this.maybeBlock(p.block,wt)],C=this.maybeBlockSuffix(p.block,C),p.handlers)for(M=0,B=p.handlers.length;M<B;++M)C=lt(C,this.generateStatement(p.handlers[M],wt)),(p.finalizer||M+1!==B)&&(C=this.maybeBlockSuffix(p.handlers[M].body,C));else{for(V=p.guardedHandlers||[],M=0,B=V.length;M<B;++M)C=lt(C,this.generateStatement(V[M],wt)),(p.finalizer||M+1!==B)&&(C=this.maybeBlockSuffix(V[M].body,C));if(p.handler)if(Array.isArray(p.handler))for(M=0,B=p.handler.length;M<B;++M)C=lt(C,this.generateStatement(p.handler[M],wt)),(p.finalizer||M+1!==B)&&(C=this.maybeBlockSuffix(p.handler[M].body,C));else C=lt(C,this.generateStatement(p.handler,wt)),p.finalizer&&(C=this.maybeBlockSuffix(p.handler.body,C))}return p.finalizer&&(C=lt(C,["finally",this.maybeBlock(p.finalizer,wt)])),C},SwitchStatement:function(p,y){var C,M,B,V,G,q=this;if(Rt(function(){C=["switch"+E+"(",q.generateExpression(p.discriminant,i.Sequence,Y),")"+E+"{"+F]}),p.cases)for(G=wt,B=0,V=p.cases.length;B<V;++B)B===V-1&&(G|=ht),M=Zt(this.generateStatement(p.cases[B],G)),C.push(M),Tt(Mt(M).toString())||C.push(F);return C.push(Zt("}")),C},SwitchCase:function(p,y){var C,M,B,V,G,q=this;return Rt(function(){for(p.test?C=[lt("case",q.generateExpression(p.test,i.Sequence,Y)),":"]:C=["default:"],B=0,V=p.consequent.length,V&&p.consequent[0].type===r.BlockStatement&&(M=q.maybeBlock(p.consequent[0],wt),C.push(M),B=1),B!==V&&!Tt(Mt(C).toString())&&C.push(F),G=wt;B<V;++B)B===V-1&&y&ht&&(G|=ht),M=Zt(q.generateStatement(p.consequent[B],G)),C.push(M),B+1!==V&&!Tt(Mt(M).toString())&&C.push(F)}),C},IfStatement:function(p,y){var C,M,B,V=this;return Rt(function(){C=["if"+E+"(",V.generateExpression(p.test,i.Sequence,Y),")"]}),B=y&ht,M=wt,B&&(M|=ht),p.alternate?(C.push(this.maybeBlock(p.consequent,wt)),C=this.maybeBlockSuffix(p.consequent,C),p.alternate.type===r.IfStatement?C=lt(C,["else ",this.generateStatement(p.alternate,M)]):C=lt(C,lt("else",this.maybeBlock(p.alternate,M)))):C.push(this.maybeBlock(p.consequent,M)),C},ForStatement:function(p,y){var C,M=this;return Rt(function(){C=["for"+E+"("],p.init?p.init.type===r.VariableDeclaration?C.push(M.generateStatement(p.init,Pt)):(C.push(M.generateExpression(p.init,i.Sequence,he)),C.push(";")):C.push(";"),p.test&&(C.push(E),C.push(M.generateExpression(p.test,i.Sequence,Y))),C.push(";"),p.update&&(C.push(E),C.push(M.generateExpression(p.update,i.Sequence,Y))),C.push(")")}),C.push(this.maybeBlock(p.body,y&ht?Ut:wt)),C},ForInStatement:function(p,y){return this.generateIterationForStatement("in",p,y&ht?Ut:wt)},ForOfStatement:function(p,y){return this.generateIterationForStatement("of",p,y&ht?Ut:wt)},LabeledStatement:function(p,y){return[p.label.name+":",this.maybeBlock(p.body,y&ht?Ut:wt)]},Program:function(p,y){var C,M,B,V,G;for(V=p.body.length,C=[L&&V>0?`
`:""],G=Ht,B=0;B<V;++B)!L&&B===V-1&&(G|=ht),j&&(B===0&&(p.body[0].leadingComments||pe(p.range[0],p.body[B].range[0],C)),B>0&&!p.body[B-1].trailingComments&&!p.body[B].leadingComments&&pe(p.body[B-1].range[1],p.body[B].range[0],C)),M=Zt(this.generateStatement(p.body[B],G)),C.push(M),B+1<V&&!Tt(Mt(M).toString())&&(j&&p.body[B+1].leadingComments||C.push(F)),j&&B===V-1&&(p.body[B].trailingComments||pe(p.body[B].range[1],p.range[1],C));return C},FunctionDeclaration:function(p,y){return[Ee(p,!0),"function",me(p)||Gt(),p.id?jt(p.id):"",this.generateFunctionBody(p)]},ReturnStatement:function(p,y){return p.argument?[lt("return",this.generateExpression(p.argument,i.Sequence,Y)),this.semicolon(y)]:["return"+this.semicolon(y)]},WhileStatement:function(p,y){var C,M=this;return Rt(function(){C=["while"+E+"(",M.generateExpression(p.test,i.Sequence,Y),")"]}),C.push(this.maybeBlock(p.body,y&ht?Ut:wt)),C},WithStatement:function(p,y){var C,M=this;return Rt(function(){C=["with"+E+"(",M.generateExpression(p.object,i.Sequence,Y),")"]}),C.push(this.maybeBlock(p.body,y&ht?Ut:wt)),C}},In(pt.prototype,pt.Statement),pt.Expression={SequenceExpression:function(p,y,C){var M,B,V;for(i.Sequence<y&&(C|=H),M=[],B=0,V=p.expressions.length;B<V;++B)M.push(this.generateExpression(p.expressions[B],i.Assignment,C)),B+1<V&&M.push(","+E);return Vt(M,i.Sequence,y)},AssignmentExpression:function(p,y,C){return this.generateAssignment(p.left,p.right,p.operator,y,C)},ArrowFunctionExpression:function(p,y,C){return Vt(this.generateFunctionBody(p),i.ArrowFunction,y)},ConditionalExpression:function(p,y,C){return i.Conditional<y&&(C|=H),Vt([this.generateExpression(p.test,i.Coalesce,C),E+"?"+E,this.generateExpression(p.consequent,i.Assignment,C),E+":"+E,this.generateExpression(p.alternate,i.Assignment,C)],i.Conditional,y)},LogicalExpression:function(p,y,C){return p.operator==="??"&&(C|=xt),this.BinaryExpression(p,y,C)},BinaryExpression:function(p,y,C){var M,B,V,G,q,Q;return G=u[p.operator],B=p.operator==="**"?i.Postfix:G,V=p.operator==="**"?G:G+1,G<y&&(C|=H),q=this.generateExpression(p.left,B,C),Q=q.toString(),Q.charCodeAt(Q.length-1)===47&&c.code.isIdentifierPartES5(p.operator.charCodeAt(0))?M=[q,Gt(),p.operator]:M=lt(q,p.operator),q=this.generateExpression(p.right,V,C),p.operator==="/"&&q.toString().charAt(0)==="/"||p.operator.slice(-1)==="<"&&q.toString().slice(0,3)==="!--"?(M.push(Gt()),M.push(q)):M=lt(M,q),p.operator==="in"&&!(C&H)?["(",M,")"]:(p.operator==="||"||p.operator==="&&")&&C&xt?["(",M,")"]:Vt(M,G,y)},CallExpression:function(p,y,C){var M,B,V;for(M=[this.generateExpression(p.callee,i.Call,te)],p.optional&&M.push("?."),M.push("("),B=0,V=p.arguments.length;B<V;++B)M.push(this.generateExpression(p.arguments[B],i.Assignment,Y)),B+1<V&&M.push(","+E);return M.push(")"),C&U?Vt(M,i.Call,y):["(",M,")"]},ChainExpression:function(p,y,C){i.OptionalChaining<y&&(C|=U);var M=this.generateExpression(p.expression,i.OptionalChaining,C);return Vt(M,i.OptionalChaining,y)},NewExpression:function(p,y,C){var M,B,V,G,q;if(B=p.arguments.length,q=C&gt&&!S&&B===0?Pe:ee,M=lt("new",this.generateExpression(p.callee,i.New,q)),!(C&gt)||S||B>0){for(M.push("("),V=0,G=B;V<G;++V)M.push(this.generateExpression(p.arguments[V],i.Assignment,Y)),V+1<G&&M.push(","+E);M.push(")")}return Vt(M,i.New,y)},MemberExpression:function(p,y,C){var M,B;return M=[this.generateExpression(p.object,i.Call,C&U?te:ee)],p.computed?(p.optional&&M.push("?."),M.push("["),M.push(this.generateExpression(p.property,i.Sequence,C&U?Y:Pe)),M.push("]")):(!p.optional&&p.object.type===r.Literal&&typeof p.object.value=="number"&&(B=Mt(M).toString(),B.indexOf(".")<0&&!/[eExX]/.test(B)&&c.code.isDecimalDigit(B.charCodeAt(B.length-1))&&!(B.length>=2&&B.charCodeAt(0)===48)&&M.push(" ")),M.push(p.optional?"?.":"."),M.push(jt(p.property))),Vt(M,i.Member,y)},MetaProperty:function(p,y,C){var M;return M=[],M.push(typeof p.meta=="string"?p.meta:jt(p.meta)),M.push("."),M.push(typeof p.property=="string"?p.property:jt(p.property)),Vt(M,i.Member,y)},UnaryExpression:function(p,y,C){var M,B,V,G,q;return B=this.generateExpression(p.argument,i.Unary,Y),E===""?M=lt(p.operator,B):(M=[p.operator],p.operator.length>2?M=lt(M,B):(G=Mt(M).toString(),q=G.charCodeAt(G.length-1),V=B.toString().charCodeAt(0),((q===43||q===45)&&q===V||c.code.isIdentifierPartES5(q)&&c.code.isIdentifierPartES5(V))&&M.push(Gt()),M.push(B))),Vt(M,i.Unary,y)},YieldExpression:function(p,y,C){var M;return p.delegate?M="yield*":M="yield",p.argument&&(M=lt(M,this.generateExpression(p.argument,i.Yield,Y))),Vt(M,i.Yield,y)},AwaitExpression:function(p,y,C){var M=lt(p.all?"await*":"await",this.generateExpression(p.argument,i.Await,Y));return Vt(M,i.Await,y)},UpdateExpression:function(p,y,C){return p.prefix?Vt([p.operator,this.generateExpression(p.argument,i.Unary,Y)],i.Unary,y):Vt([this.generateExpression(p.argument,i.Postfix,Y),p.operator],i.Postfix,y)},FunctionExpression:function(p,y,C){var M=[Ee(p,!0),"function"];return p.id?(M.push(me(p)||Gt()),M.push(jt(p.id))):M.push(me(p)||E),M.push(this.generateFunctionBody(p)),M},ArrayPattern:function(p,y,C){return this.ArrayExpression(p,y,C,!0)},ArrayExpression:function(p,y,C,M){var B,V,G=this;return p.elements.length?(V=M?!1:p.elements.length>1,B=["[",V?F:""],Rt(function(q){var Q,yt;for(Q=0,yt=p.elements.length;Q<yt;++Q)p.elements[Q]?(B.push(V?q:""),B.push(G.generateExpression(p.elements[Q],i.Assignment,Y))):(V&&B.push(q),Q+1===yt&&B.push(",")),Q+1<yt&&B.push(","+(V?F:E))}),V&&!Tt(Mt(B).toString())&&B.push(F),B.push(V?l:""),B.push("]"),B):"[]"},RestElement:function(p,y,C){return"..."+this.generatePattern(p.argument)},ClassExpression:function(p,y,C){var M,B;return M=["class"],p.id&&(M=lt(M,this.generateExpression(p.id,i.Sequence,Y))),p.superClass&&(B=lt("extends",this.generateExpression(p.superClass,i.Unary,Y)),M=lt(M,B)),M.push(E),M.push(this.generateStatement(p.body,Ut)),M},MethodDefinition:function(p,y,C){var M,B;return p.static?M=["static"+E]:M=[],p.kind==="get"||p.kind==="set"?B=[lt(p.kind,this.generatePropertyKey(p.key,p.computed)),this.generateFunctionBody(p.value)]:B=[jr(p),this.generatePropertyKey(p.key,p.computed),this.generateFunctionBody(p.value)],lt(M,B)},Property:function(p,y,C){return p.kind==="get"||p.kind==="set"?[p.kind,Gt(),this.generatePropertyKey(p.key,p.computed),this.generateFunctionBody(p.value)]:p.shorthand?p.value.type==="AssignmentPattern"?this.AssignmentPattern(p.value,i.Sequence,Y):this.generatePropertyKey(p.key,p.computed):p.method?[jr(p),this.generatePropertyKey(p.key,p.computed),this.generateFunctionBody(p.value)]:[this.generatePropertyKey(p.key,p.computed),":"+E,this.generateExpression(p.value,i.Assignment,Y)]},ObjectExpression:function(p,y,C){var M,B,V,G=this;return p.properties.length?(M=p.properties.length>1,Rt(function(){V=G.generateExpression(p.properties[0],i.Sequence,Y)}),!M&&!Bn(Mt(V).toString())?["{",E,V,E,"}"]:(Rt(function(q){var Q,yt;if(B=["{",F,q,V],M)for(B.push(","+F),Q=1,yt=p.properties.length;Q<yt;++Q)B.push(q),B.push(G.generateExpression(p.properties[Q],i.Sequence,Y)),Q+1<yt&&B.push(","+F)}),Tt(Mt(B).toString())||B.push(F),B.push(l),B.push("}"),B)):"{}"},AssignmentPattern:function(p,y,C){return this.generateAssignment(p.left,p.right,"=",y,C)},ObjectPattern:function(p,y,C){var M,B,V,G,q,Q=this;if(!p.properties.length)return"{}";if(G=!1,p.properties.length===1)q=p.properties[0],q.type===r.Property&&q.value.type!==r.Identifier&&(G=!0);else for(B=0,V=p.properties.length;B<V;++B)if(q=p.properties[B],q.type===r.Property&&!q.shorthand){G=!0;break}return M=["{",G?F:""],Rt(function(yt){var Xt,dn;for(Xt=0,dn=p.properties.length;Xt<dn;++Xt)M.push(G?yt:""),M.push(Q.generateExpression(p.properties[Xt],i.Sequence,Y)),Xt+1<dn&&M.push(","+(G?F:E))}),G&&!Tt(Mt(M).toString())&&M.push(F),M.push(G?l:""),M.push("}"),M},ThisExpression:function(p,y,C){return"this"},Super:function(p,y,C){return"super"},Identifier:function(p,y,C){return jt(p)},ImportDefaultSpecifier:function(p,y,C){return jt(p.id||p.local)},ImportNamespaceSpecifier:function(p,y,C){var M=["*"],B=p.id||p.local;return B&&M.push(E+"as"+Gt()+jt(B)),M},ImportSpecifier:function(p,y,C){var M=p.imported,B=[M.name],V=p.local;return V&&V.name!==M.name&&B.push(Gt()+"as"+Gt()+jt(V)),B},ExportSpecifier:function(p,y,C){var M=p.local,B=[M.name],V=p.exported;return V&&V.name!==M.name&&B.push(Gt()+"as"+Gt()+jt(V)),B},Literal:function(p,y,C){var M;if(p.hasOwnProperty("raw")&&x&&_.raw)try{if(M=x(p.raw).body[0].expression,M.type===r.Literal&&M.value===p.value)return p.raw}catch{}return p.regex?"/"+p.regex.pattern+"/"+p.regex.flags:typeof p.value=="bigint"?p.value.toString()+"n":p.bigint?p.bigint+"n":p.value===null?"null":typeof p.value=="string"?je(p.value):typeof p.value=="number"?Ge(p.value):typeof p.value=="boolean"?p.value?"true":"false":ln(p.value)},GeneratorExpression:function(p,y,C){return this.ComprehensionExpression(p,y,C)},ComprehensionExpression:function(p,y,C){var M,B,V,G,q=this;return M=p.type===r.GeneratorExpression?["("]:["["],_.moz.comprehensionExpressionStartsWithAssignment&&(G=this.generateExpression(p.body,i.Assignment,Y),M.push(G)),p.blocks&&Rt(function(){for(B=0,V=p.blocks.length;B<V;++B)G=q.generateExpression(p.blocks[B],i.Sequence,Y),B>0||_.moz.comprehensionExpressionStartsWithAssignment?M=lt(M,G):M.push(G)}),p.filter&&(M=lt(M,"if"+E),G=this.generateExpression(p.filter,i.Sequence,Y),M=lt(M,["(",G,")"])),_.moz.comprehensionExpressionStartsWithAssignment||(G=this.generateExpression(p.body,i.Assignment,Y),M=lt(M,G)),M.push(p.type===r.GeneratorExpression?")":"]"),M},ComprehensionBlock:function(p,y,C){var M;return p.left.type===r.VariableDeclaration?M=[p.left.kind,Gt(),this.generateStatement(p.left.declarations[0],Pt)]:M=this.generateExpression(p.left,i.Call,Y),M=lt(M,p.of?"of":"in"),M=lt(M,this.generateExpression(p.right,i.Sequence,Y)),["for"+E+"(",M,")"]},SpreadElement:function(p,y,C){return["...",this.generateExpression(p.argument,i.Assignment,Y)]},TaggedTemplateExpression:function(p,y,C){var M=te;C&U||(M=ee);var B=[this.generateExpression(p.tag,i.Call,M),this.generateExpression(p.quasi,i.Primary,oe)];return Vt(B,i.TaggedTemplate,y)},TemplateElement:function(p,y,C){return p.value.raw},TemplateLiteral:function(p,y,C){var M,B,V;for(M=["`"],B=0,V=p.quasis.length;B<V;++B)M.push(this.generateExpression(p.quasis[B],i.Primary,Y)),B+1<V&&(M.push("${"+E),M.push(this.generateExpression(p.expressions[B],i.Sequence,Y)),M.push(E+"}"));return M.push("`"),M},ModuleSpecifier:function(p,y,C){return this.Literal(p,y,C)},ImportExpression:function(p,y,C){return Vt(["import(",this.generateExpression(p.source,i.Assignment,Y),")"],i.Call,y)}},In(pt.prototype,pt.Expression),pt.prototype.generateExpression=function(p,y,C){var M,B;return B=p.type||r.Property,_.verbatim&&p.hasOwnProperty(_.verbatim)?ur(p,y):(M=this[B](p,y,C),_.comment&&(M=mn(p,M)),Mt(M,p))},pt.prototype.generateStatement=function(p,y){var C,M;return C=this[p.type](p,y),_.comment&&(C=mn(p,C)),M=Mt(C).toString(),p.type===r.Program&&!L&&F===""&&M.charAt(M.length-1)===`
`&&(C=R?Mt(C).replaceRight(/\s+$/,""):M.replace(/\s+$/,"")),Mt(C,p)};function mi(p){var y;if(y=new pt,Z(p))return y.generateStatement(p,wt);if(J(p))return y.generateExpression(p,i.Sequence,Y);throw new Error("Unknown node type: "+p.type)}function Bs(p,y){var C=ye(),M,B;return y!=null?(typeof y.indent=="string"&&(C.format.indent.style=y.indent),typeof y.base=="number"&&(C.format.indent.base=y.base),y=ve(C,y),m=y.format.indent.style,typeof y.base=="string"?l=y.base:l=Nt(m,y.format.indent.base)):(y=C,m=y.format.indent.style,l=Nt(m,y.format.indent.base)),d=y.format.json,f=y.format.renumber,g=d?!1:y.format.hexadecimal,A=d?"double":y.format.quotes,D=y.format.escapeless,F=y.format.newline,E=y.format.space,y.format.compact&&(F=E=m=l=""),S=y.format.parentheses,N=y.format.semicolons,L=y.format.safeConcatenation,K=y.directive,x=d?null:y.parse,R=y.sourceMap,T=y.sourceCode,j=y.format.preserveBlankLines&&T!==null,_=y,R&&(t.browser?o=Xr.sourceMap.SourceNode:o=YD().SourceNode),M=mi(p),R?(B=M.toStringWithSourceMap({file:y.file,sourceRoot:y.sourceMapRoot}),y.sourceContent&&B.map.setSourceContent(y.sourceMap,y.sourceContent),y.sourceMapWithCode?B:B.map.toString()):(B={code:M.toString(),map:null},y.sourceMapWithCode?B:B.code)}X={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},z=ye().format,t.version=hP.version,t.generate=Bs,t.attachComments=a.attachComments,t.Precedence=ve({},i),t.browser=!1,t.FORMAT_MINIFY=X,t.FORMAT_DEFAULTS=z})()})(tf);const pP=Qd(tf);class mP{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:r=>this.replacement=r}}replace(r,i,u,o){r&&i&&(u!=null?r[i][u]=o:r[i]=o)}remove(r,i,u){r&&i&&(u!=null?r[i].splice(u,1):delete r[i])}}class dP extends mP{constructor(r,i){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:u=>this.replacement=u},this.enter=r,this.leave=i}visit(r,i,u,o){if(r){if(this.enter){const c=this.should_skip,l=this.should_remove,m=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,r,i,u,o),this.replacement&&(r=this.replacement,this.replace(i,u,o,r)),this.should_remove&&this.remove(i,u,o);const d=this.should_skip,f=this.should_remove;if(this.should_skip=c,this.should_remove=l,this.replacement=m,d)return r;if(f)return null}let a;for(a in r){const c=r[a];if(c&&typeof c=="object")if(Array.isArray(c)){const l=c;for(let m=0;m<l.length;m+=1){const d=l[m];qa(d)&&(this.visit(d,r,a,m)||m--)}}else qa(c)&&this.visit(c,r,a,null)}if(this.leave){const c=this.replacement,l=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,r,i,u,o),this.replacement&&(r=this.replacement,this.replace(i,u,o,r)),this.should_remove&&this.remove(i,u,o);const m=this.should_remove;if(this.replacement=c,this.should_remove=l,m)return null}}return r}}function qa(t){return t!==null&&typeof t=="object"&&"type"in t&&typeof t.type=="string"}function fP(t,{enter:r,leave:i}){return new dP(r,i).visit(t,null)}let gP=[];function AP(t,r={}){const{wrapAsync:i=!1,addReturn:u=!0,emitMiniLocations:o=!0,emitWidgets:a=!0}=r;let c=OD(t,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),l=[];const m=(A,D)=>{const F=co(`"${A}"`,D.start,t);l=l.concat(F)};let d=[];fP(c,{enter(A,D){if(IP(A)){const F=A.quasi.quasis[0].value.raw,E=A.quasi.start+1;if(o){const S=xP(F,E);l=l.concat(S)}return this.skip(),this.replace(SP(F,E))}if(yP(A,D)){const{quasis:F}=A,{raw:E}=F[0].value;return this.skip(),o&&m(E,A),this.replace(Za(E,A))}if(CP(A)){const{value:F}=A;return this.skip(),o&&m(F,A),this.replace(Za(F,A))}if(MP(A))return a&&d.push({from:A.arguments[0].start,to:A.arguments[0].end,value:A.arguments[0].raw,min:A.arguments[1]?.value??0,max:A.arguments[2]?.value??1,step:A.arguments[3]?.value,type:"slider"}),this.replace(DP(A));if(bP(A)){const F=A.callee.property.name,E=d.filter(N=>N.type===F).length,S={to:A.end,index:E,type:F};return a&&d.push(S),this.replace(vP(A,S))}if(EP(A,D))return this.replace(FP(A));if(wP(A))return this.replace(BP(A))},leave(A,D,F,E){}});const{body:f}=c;if(!f?.[f.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(u){const{expression:A}=f[f.length-1];f[f.length-1]={type:"ReturnStatement",argument:A}}let g=pP.generate(c);return i&&(g=`(async ()=>{${g}})()`),o?{output:g,miniLocations:l,widgets:d}:{output:g}}function CP(t,r,i){return t.type!=="Literal"?!1:t.raw[0]==='"'}function yP(t,r){return t.type==="TemplateLiteral"&&r.type!=="TaggedTemplateExpression"}function Za(t,r){const{start:i}=r;return{type:"CallExpression",callee:{type:"Identifier",name:"m"},arguments:[{type:"Literal",value:t},{type:"Literal",value:i}],optional:!1}}function MP(t){return t.type==="CallExpression"&&t.callee.name==="slider"}function bP(t){return t.type==="CallExpression"&&gP.includes(t.callee.property?.name)}function DP(t){const r="slider_"+t.arguments[0].start;return t.arguments.unshift({type:"Literal",value:r,raw:r}),t.callee.name="sliderWithID",t}function PP(t){return`widget_${t.type}_${t.index}`}function vP(t,r){const i=PP(r);return t.arguments.unshift({type:"Literal",value:i,raw:i}),t}function EP(t,r){return t.type==="CallExpression"&&t.callee.name==="samples"&&r.type!=="AwaitExpression"}function FP(t){return{type:"AwaitExpression",argument:t}}function wP(t){return t.type==="LabeledStatement"}function BP(t){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:t.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:t.label.name,raw:`'${t.label.name}'`}]}}}function IP(t){return t.type==="TaggedTemplateExpression"&&t.tag.name==="tidal"}function xP(t,r){return t.split("").reduce((i,u,o)=>(u!=='"'||(!i.length||i[i.length-1].length>1?i.push([o+1]):i[i.length-1].push(o)),i),[]).map(([i,u])=>{const o=t.slice(i,u);return co(`"${o}"`,r+i-1)}).flat()}function SP(t,r){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:t},{type:"Literal",value:r}],optional:!1}}function bo(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function Do(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var lf=[0,2,4,-1,1,3,5],hf=lf.map(t=>Math.floor(t*7/12));function pf(t){const{step:r,alt:i,oct:u,dir:o=1}=t,a=lf[r]+7*i;if(u===void 0)return[o*a];const c=u-hf[r]-4*i;return[o*a,o*c]}var kP=[3,0,4,1,5,2,6];function mf(t){const[r,i,u]=t,o=kP[_P(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:o,alt:a,dir:u};const c=i+4*a+hf[o];return{step:o,alt:a,oct:c,dir:u}}function _P(t){const r=(t+1)%7;return r<0?7+r:r}var Ha=(t,r)=>Array(Math.abs(r)+1).join(t),du=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),NP="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",TP="(AA|A|P|M|m|d|dd)([-+]?\\d+)",RP=new RegExp("^"+NP+"|"+TP+"$");function VP(t){const r=RP.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var Xa={};function nn(t){return typeof t=="string"?Xa[t]||(Xa[t]=LP(t)):Do(t)?nn(GP(t)):bo(t)?nn(t.name):du}var Ka=[0,2,4,5,7,9,11],df="PMMPPMM";function LP(t){const r=VP(t);if(r[0]==="")return du;const i=+r[0],u=r[1],o=(Math.abs(i)-1)%7,a=df[o];if(a==="M"&&u==="P")return du;const c=a==="M"?"majorable":"perfectable",l=""+i+u,m=i<0?-1:1,d=i===8||i===-8?i:m*(o+1),f=OP(c,u),g=Math.floor((Math.abs(i)-1)/7),A=m*(Ka[o]+f+12*g),D=(m*(Ka[o]+f)%12+12)%12,F=pf({step:o,alt:f,oct:g,dir:m});return{empty:!1,name:l,num:i,q:u,step:o,alt:f,dir:m,type:c,simple:d,semitones:A,chroma:D,coord:F,oct:g}}function ff(t,r){const[i,u=0]=t,o=i*7+u*12<0,a=r||o?[-i,-u,-1]:[i,u,1];return nn(mf(a))}function OP(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function GP(t){const{step:r,alt:i,oct:u=0,dir:o}=t;if(!o)return"";const a=r+1+7*u,c=a===0?r+1:a,l=o<0?"-":"",m=df[r]==="M"?"majorable":"perfectable";return l+c+jP(m,i)}function jP(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?Ha("A",r):Ha("d",t==="perfectable"?r:r+1)}var Ya=(t,r)=>Array(Math.abs(r)+1).join(t),gf=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Ua=new Map,WP=t=>"CDEFGAB".charAt(t),cs=t=>t<0?Ya("b",-t):Ya("#",t),Po=t=>t[0]==="b"?-t.length:t.length;function Bt(t){const r=JSON.stringify(t),i=Ua.get(r);if(i)return i;const u=typeof t=="string"?HP(t):Do(t)?Bt(XP(t)):bo(t)?Bt(t.name):gf;return Ua.set(r,u),u}var zP=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function vo(t){const r=zP.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function qP(t){return Bt(mf(t))}var ZP=(t,r)=>(t%r+r)%r,Ys=[0,2,4,5,7,9,11];function HP(t){const r=vo(t);if(r[0]===""||r[3]!=="")return gf;const i=r[0],u=r[1],o=r[2],a=(i.charCodeAt(0)+3)%7,c=Po(u),l=o.length?+o:void 0,m=pf({step:a,alt:c,oct:l}),d=i+u+o,f=i+u,g=(Ys[a]+c+120)%12,A=l===void 0?ZP(Ys[a]+c,12)-12*99:Ys[a]+c+12*(l+1),D=A>=0&&A<=127?A:null,F=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:u,alt:c,chroma:g,coord:m,freq:F,height:A,letter:i,midi:D,name:d,oct:l,pc:f,step:a}}function XP(t){const{step:r,alt:i,oct:u}=t,o=WP(r);if(!o)return"";const a=o+cs(i);return u||u===0?a+u:a}function Ye(t,r){const i=Bt(t),u=Array.isArray(r)?r:nn(r).coord;if(i.empty||!u||u.length<2)return"";const o=i.coord,a=o.length===1?[o[0]+u[0]]:[o[0]+u[0],o[1]+u[1]];return qP(a).name}function Af(t,r){const i=t.length;return u=>{if(!r)return"";const o=u<0?(i- -u%i)%i:u%i,a=Math.floor(u/i),c=Ye(r,[0,a]);return Ye(c,t[o])}}function ls(t,r){const i=Bt(t),u=Bt(r);if(i.empty||u.empty)return"";const o=i.coord,a=u.coord,c=a[0]-o[0],l=o.length===2&&a.length===2?a[1]-o[1]:-Math.floor(c*7/12),m=u.height===i.height&&u.midi!==null&&i.oct===u.oct&&i.step>u.step;return ff([c,l],m).name}var $a=(t,r)=>Array(r+1).join(t),KP=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function Cf(t){const r=KP.exec(t);return r?[r[1],r[2],r[3]]:["","",""]}function qi(t){const[r,i,u]=Cf(t);if(i==="")return"";let o=4;for(let c=0;c<u.length;c++)o+=u.charAt(c)===","?-1:1;const a=r[0]==="_"?r.replace(/_/g,"b"):r[0]==="^"?r.replace(/\^/g,"#"):"";return i.charCodeAt(0)>96?i.toUpperCase()+a+(o+1):i+a+o}function yf(t){const r=Bt(t);if(r.empty||!r.oct&&r.oct!==0)return"";const{letter:i,acc:u,oct:o}=r,a=u[0]==="b"?u.replace(/b/g,"_"):u.replace(/#/g,"^"),c=o>4?i.toLowerCase():i,l=o===5?"":o>4?$a("'",o-5):$a(",",4-o);return a+c+l}function YP(t,r){return yf(Ye(qi(t),r))}function UP(t,r){return ls(qi(t),qi(r))}var $P={abcToScientificNotation:qi,scientificToAbcNotation:yf,tokenize:Cf,transpose:YP,distance:UP};function JP(t,r){const i=[];for(;r--;i[r]=r+t);return i}function QP(t,r){const i=[];for(;r--;i[r]=t-r);return i}function t7(t,r){return t<r?JP(t,r-t+1):QP(t,t-r+1)}function e7(t,r){const i=r.length,u=(t%i+i)%i;return r.slice(u,i).concat(r.slice(0,u))}function n7(t){return t.filter(r=>r===0||r)}function Mf(t){return t.map(r=>Bt(r)).filter(r=>!r.empty).sort((r,i)=>r.height-i.height).map(r=>r.name)}function r7(t){return Mf(t).filter((r,i,u)=>i===0||r!==u[i-1])}function i7(t,r=Math.random){let i,u,o=t.length;for(;o;)i=Math.floor(r()*o--),u=t[o],t[o]=t[i],t[i]=u;return t}function bf(t){return t.length===0?[[]]:bf(t.slice(1)).reduce((r,i)=>r.concat(t.map((u,o)=>{const a=i.slice();return a.splice(o,0,t[0]),a})),[])}const s7=Object.freeze(Object.defineProperty({__proto__:null,compact:n7,permutations:bf,range:t7,rotate:e7,shuffle:i7,sortedNoteNames:Mf,sortedUniqNoteNames:r7},Symbol.toStringTag,{value:"Module"}));function u7(t,r){const i=[];for(;r--;i[r]=r+t);return i}function o7(t,r){const i=[];for(;r--;i[r]=t-r);return i}function hs(t,r){return t<r?u7(t,r-t+1):o7(t,t-r+1)}function Tr(t,r){const i=r.length,u=(t%i+i)%i;return r.slice(u,i).concat(r.slice(0,u))}function Eo(t){return t.filter(r=>r===0||r)}function a7(t,r=Math.random){let i,u,o=t.length;for(;o;)i=Math.floor(r()*o--),u=t[o],t[o]=t[i],t[i]=u;return t}function Df(t){return t.length===0?[[]]:Df(t.slice(1)).reduce((r,i)=>r.concat(t.map((u,o)=>{const a=i.slice();return a.splice(o,0,t[0]),a})),[])}var c7={compact:Eo,permutations:Df,range:hs,rotate:Tr,shuffle:a7},vn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Fo=t=>Number(t).toString(2).padStart(12,"0"),Ja=t=>parseInt(t,2),l7=/^[01]{12}$/;function wo(t){return l7.test(t)}var h7=t=>typeof t=="number"&&t>=0&&t<=4095,p7=t=>t&&wo(t.chroma),Qa={[vn.chroma]:vn};function Qt(t){const r=wo(t)?t:h7(t)?Fo(t):Array.isArray(t)?v7(t):p7(t)?t.chroma:vn.chroma;return Qa[r]=Qa[r]||P7(r)}var m7=Qt,Pf=t=>Qt(t).chroma,d7=t=>Qt(t).intervals,f7=t=>Qt(t).setNum,g7=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function A7(t){const r=[];for(let i=0;i<12;i++)t.charAt(i)==="1"&&r.push(g7[i]);return r}function C7(t){return Qt(t).intervals.map(r=>Ye("C",r))}function y7(){return hs(2048,4095).map(Fo)}function Bo(t,r=!0){const i=Qt(t).chroma.split("");return Eo(i.map((u,o)=>{const a=Tr(o,i);return r&&a[0]==="0"?null:a.join("")}))}function M7(t,r){return Qt(t).setNum===Qt(r).setNum}function ps(t){const r=Qt(t).setNum;return i=>{const u=Qt(i).setNum;return r&&r!==u&&(u&r)===u}}function ms(t){const r=Qt(t).setNum;return i=>{const u=Qt(i).setNum;return r&&r!==u&&(u|r)===u}}function vf(t){const r=Qt(t);return i=>{const u=Bt(i);return r&&!u.empty&&r.chroma.charAt(u.chroma)==="1"}}function b7(t){const r=vf(t);return i=>i.filter(r)}var Ef={get:Qt,chroma:Pf,num:f7,intervals:d7,chromas:y7,isSupersetOf:ms,isSubsetOf:ps,isNoteIncludedIn:vf,isEqual:M7,filter:b7,modes:Bo,notes:C7,pcset:m7};function D7(t){const r=t.split("");return r.map((i,u)=>Tr(u,r).join(""))}function P7(t){const r=Ja(t),i=D7(t).map(Ja).filter(a=>a>=2048).sort()[0],u=Fo(i),o=A7(t);return{empty:!1,name:"",setNum:r,chroma:t,normalized:u,intervals:o}}function v7(t){if(t.length===0)return vn.chroma;let r;const i=[0,0,0,0,0,0,0,0,0,0,0,0];for(let u=0;u<t.length;u++)r=Bt(t[u]),r.empty&&(r=nn(t[u])),r.empty||(i[r.chroma]=1);return i.join("")}var E7=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],F7=E7;({...vn});var Io=[],_i={};function Ff(){return Io.slice()}function w7(t,r,i){const u=I7(t),o={...Qt(t),name:i||"",quality:u,intervals:t,aliases:r};Io.push(o),o.name&&(_i[o.name]=o),_i[o.setNum]=o,_i[o.chroma]=o,o.aliases.forEach(a=>B7(o,a))}function B7(t,r){_i[r]=t}function I7(t){const r=i=>t.indexOf(i)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}F7.forEach(([t,r,i])=>w7(t.split(" "),i.split(" "),r));Io.sort((t,r)=>t.setNum-r.setNum);var x7=t=>{const r=t.reduce((i,u)=>{const o=Bt(u).chroma;return o!==void 0&&(i[o]=i[o]||Bt(u).name),i},{});return i=>r[i]};function S7(t,r={}){const i=t.map(u=>Bt(u).pc).filter(u=>u);return Bt.length===0?[]:L7(i,1,r).filter(u=>u.weight).sort((u,o)=>o.weight-u.weight).map(u=>u.name)}var ds={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},fs=t=>r=>!!(r&t),k7=fs(ds.anyThirds),_7=fs(ds.perfectFifth),N7=fs(ds.anySeventh),T7=fs(ds.nonPerfectFifths);function R7(t){const r=parseInt(t.chroma,2);return k7(r)&&_7(r)&&N7(r)}function V7(t){const r=parseInt(t,2);return T7(r)?t:(r|16).toString(2)}function L7(t,r,i){const u=t[0],o=Bt(u).chroma,a=x7(t),c=Bo(t,!1),l=[];return c.forEach((m,d)=>{const f=i.assumePerfectFifth&&V7(m);Ff().filter(g=>i.assumePerfectFifth&&R7(g)?g.chroma===f:g.chroma===m).forEach(g=>{const A=g.aliases[0],D=a(d);d!==o?l.push({weight:.5*r,name:`${D}${A}/${u}`}):l.push({weight:1*r,name:`${D}${A}`})})}),l}function li(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}var wf=[0,2,4,5,7,9,11],Bf=({step:t,alt:r})=>(wf[t]+r+120)%12,xo=({step:t,alt:r,oct:i,dir:u=1})=>u*(wf[t]+r+12*(i===void 0?-100:i)),If=t=>{const r=xo(t);return t.oct!==void 0&&r>=-12&&r<=115?r+12:null};function gs(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var xf=[0,2,4,-1,1,3,5],Sf=xf.map(t=>Math.floor(t*7/12));function As(t){const{step:r,alt:i,oct:u,dir:o=1}=t,a=xf[r]+7*i;if(u===void 0)return[o*a];const c=u-Sf[r]-4*i;return[o*a,o*c]}var O7=[3,0,4,1,5,2,6];function Cs(t){const[r,i,u]=t,o=O7[G7(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:o,alt:a,dir:u};const c=i+4*a+Sf[o];return{step:o,alt:a,oct:c,dir:u}}function G7(t){const r=(t+1)%7;return r<0?7+r:r}var tc=(t,r)=>Array(Math.abs(r)+1).join(t),fu={empty:!0,name:"",acc:""},j7="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",W7="(AA|A|P|M|m|d|dd)([-+]?\\d+)",z7=new RegExp("^"+j7+"|"+W7+"$");function So(t){const r=z7.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var ec={};function vr(t){return typeof t=="string"?ec[t]||(ec[t]=q7(t)):gs(t)?vr(H7(t)):li(t)?vr(t.name):fu}var nc=[0,2,4,5,7,9,11],kf="PMMPPMM";function q7(t){const r=So(t);if(r[0]==="")return fu;const i=+r[0],u=r[1],o=(Math.abs(i)-1)%7,a=kf[o];if(a==="M"&&u==="P")return fu;const c=a==="M"?"majorable":"perfectable",l=""+i+u,m=i<0?-1:1,d=i===8||i===-8?i:m*(o+1),f=Z7(c,u),g=Math.floor((Math.abs(i)-1)/7),A=m*(nc[o]+f+12*g),D=(m*(nc[o]+f)%12+12)%12,F=As({step:o,alt:f,oct:g,dir:m});return{empty:!1,name:l,num:i,q:u,step:o,alt:f,dir:m,type:c,simple:d,semitones:A,chroma:D,coord:F,oct:g}}function ko(t,r){const[i,u=0]=t,o=i*7+u*12<0,a=r||o?[-i,-u,-1]:[i,u,1];return vr(Cs(a))}function Z7(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function H7(t){const{step:r,alt:i,oct:u=0,dir:o}=t;if(!o)return"";const a=r+1+7*u,c=a===0?r+1:a,l=o<0?"-":"",m=kf[r]==="M"?"majorable":"perfectable";return l+c+X7(m,i)}function X7(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?tc("A",r):tc("d",t==="perfectable"?r:r+1)}var rc=(t,r)=>Array(Math.abs(r)+1).join(t),_f={empty:!0,name:"",pc:"",acc:""},ic=new Map,_o=t=>"CDEFGAB".charAt(t),No=t=>t<0?rc("b",-t):rc("#",t),To=t=>t[0]==="b"?-t.length:t.length;function rn(t){const r=JSON.stringify(t),i=ic.get(r);if(i)return i;const u=typeof t=="string"?U7(t):gs(t)?rn($7(t)):li(t)?rn(t.name):_f;return ic.set(r,u),u}var K7=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function ys(t){const r=K7.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function Ro(t){return rn(Cs(t))}var Y7=(t,r)=>(t%r+r)%r,Us=[0,2,4,5,7,9,11];function U7(t){const r=ys(t);if(r[0]===""||r[3]!=="")return _f;const i=r[0],u=r[1],o=r[2],a=(i.charCodeAt(0)+3)%7,c=To(u),l=o.length?+o:void 0,m=As({step:a,alt:c,oct:l}),d=i+u+o,f=i+u,g=(Us[a]+c+120)%12,A=l===void 0?Y7(Us[a]+c,12)-12*99:Us[a]+c+12*(l+1),D=A>=0&&A<=127?A:null,F=l===void 0?null:Math.pow(2,(A-69)/12)*440;return{empty:!1,acc:u,alt:c,chroma:g,coord:m,freq:F,height:A,letter:i,midi:D,name:d,oct:l,pc:f,step:a}}function $7(t){const{step:r,alt:i,oct:u}=t,o=_o(r);if(!o)return"";const a=o+No(i);return u||u===0?a+u:a}function Er(t,r){const i=rn(t),u=Array.isArray(r)?r:vr(r).coord;if(i.empty||!u||u.length<2)return"";const o=i.coord,a=o.length===1?[o[0]+u[0]]:[o[0]+u[0],o[1]+u[1]];return Ro(a).name}function Ms(t,r){const i=t.length;return u=>{if(!r)return"";const o=u<0?(i- -u%i)%i:u%i,a=Math.floor(u/i),c=Er(r,[0,a]);return Er(c,t[o])}}function Vo(t,r){const i=rn(t),u=rn(r);if(i.empty||u.empty)return"";const o=i.coord,a=u.coord,c=a[0]-o[0],l=o.length===2&&a.length===2?a[1]-o[1]:-Math.floor(c*7/12),m=u.height===i.height&&u.midi!==null&&i.midi!==null&&i.step>u.step;return ko([c,l],m).name}var Nf=(t,r)=>Array(Math.abs(r)+1).join(t);function Rr(t,r,i){return function(...u){return console.warn(`${t} is deprecated. Use ${r}.`),i.apply(this,u)}}var Tf=Rr("isNamed","isNamedPitch",li);const Rf=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:To,altToAcc:No,chroma:Bf,coordToInterval:ko,coordToNote:Ro,coordinates:As,deprecate:Rr,distance:Vo,fillStr:Nf,height:xo,interval:vr,isNamed:Tf,isNamedPitch:li,isPitch:gs,midi:If,note:rn,pitch:Cs,stepToLetter:_o,tokenizeInterval:So,tokenizeNote:ys,tonicIntervalsTransposer:Ms,transpose:Er},Symbol.toStringTag,{value:"Module"}));var J7=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Q7=J7,tv={...vn,name:"",quality:"Unknown",intervals:[],aliases:[]},Lo=[],Jr={};function ev(t){return Jr[t]||tv}function Vf(){return Lo.slice()}function nv(t,r,i){const u=iv(t),o={...Qt(t),name:i||"",quality:u,intervals:t,aliases:r};Lo.push(o),o.name&&(Jr[o.name]=o),Jr[o.setNum]=o,Jr[o.chroma]=o,o.aliases.forEach(a=>rv(o,a))}function rv(t,r){Jr[r]=t}function iv(t){const r=i=>t.indexOf(i)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}Q7.forEach(([t,r,i])=>nv(t.split(" "),i.split(" "),r));Lo.sort((t,r)=>t.setNum-r.setNum);var sv=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],uv=sv,ov={...vn,intervals:[],aliases:[]},bs=[],$n={};function Lf(){return bs.map(t=>t.name)}function Ds(t){return $n[t]||ov}var av=Ds;function Vr(){return bs.slice()}var cv=Vr;function lv(){return Object.keys($n)}function hv(){bs=[],$n={}}function Of(t,r,i=[]){const u={...Qt(t),name:r,intervals:t,aliases:i};return bs.push(u),$n[u.name]=u,$n[u.setNum]=u,$n[u.chroma]=u,u.aliases.forEach(o=>pv(u,o)),u}function pv(t,r){$n[r]=t}uv.forEach(([t,r,...i])=>Of(t.split(" "),r,i));var Gf={names:Lf,get:Ds,all:Vr,add:Of,removeAll:hv,keys:lv,entries:cv,scaleType:av},gu={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Oo(t){const[r,i,u,o]=ys(t);return r===""?["",t]:r==="A"&&o==="ug"?["","aug"]:[r+i,u+o]}function sr(t){if(t==="")return gu;if(Array.isArray(t)&&t.length===2)return Ni(t[1],t[0]);{const[r,i]=Oo(t),u=Ni(i,r);return u.empty?Ni(t):u}}function Ni(t,r,i){const u=ev(t),o=rn(r||""),a=rn(i||"");if(u.empty||r&&o.empty||i&&a.empty)return gu;const c=Vo(o.pc,a.pc),l=u.intervals.indexOf(c)+1;if(!a.empty&&!l)return gu;const m=Array.from(u.intervals);for(let A=1;A<l;A++){const D=m[0][0],F=m[0][1],E=parseInt(D,10)+7;m.push(`${E}${F}`),m.shift()}const d=o.empty?[]:m.map(A=>Er(o,A));t=u.aliases.indexOf(t)!==-1?t:u.aliases[0];const f=`${o.empty?"":o.pc}${t}${a.empty||l<=1?"":"/"+a.pc}`,g=`${r?o.pc+" ":""}${u.name}${l>1&&i?" over "+a.pc:""}`;return{...u,name:g,symbol:f,type:u.name,root:a.name,intervals:m,rootDegree:l,tonic:o.name,notes:d}}var mv=Rr("Chord.chord","Chord.get",sr);function dv(t,r){const[i,u]=Oo(t);return i?Er(i,r)+u:t}function fv(t){const r=sr(t),i=ms(r.chroma);return Vr().filter(u=>i(u.chroma)).map(u=>u.name)}function gv(t){const r=sr(t),i=ms(r.chroma);return Vf().filter(u=>i(u.chroma)).map(u=>r.tonic+u.aliases[0])}function Av(t){const r=sr(t),i=ps(r.chroma);return Vf().filter(u=>i(u.chroma)).map(u=>r.tonic+u.aliases[0])}function Cv(t){const{intervals:r,tonic:i}=sr(t),u=Ms(r,i);return o=>o?u(o>0?o-1:o):""}function yv(t){const{intervals:r,tonic:i}=sr(t);return Ms(r,i)}var Mv={getChord:Ni,get:sr,detect:S7,chordScales:fv,extended:gv,reduced:Av,tokenize:Oo,transpose:dv,degrees:Cv,steps:yv,chord:mv},bv=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Dv=bv,Pv={...vn,name:"",quality:"Unknown",intervals:[],aliases:[]},Lr=[],Jn={};function jf(t){return Jn[t]||Pv}var vv=Rr("ChordType.chordType","ChordType.get",jf);function Ev(){return Lr.map(t=>t.name).filter(t=>t)}function Fv(){return Lr.map(t=>t.aliases[0]).filter(t=>t)}function wv(){return Object.keys(Jn)}function Wf(){return Lr.slice()}var Bv=Rr("ChordType.entries","ChordType.all",Wf);function Iv(){Lr=[],Jn={}}function zf(t,r,i){const u=Sv(t),o={...Qt(t),name:i||"",quality:u,intervals:t,aliases:r};Lr.push(o),o.name&&(Jn[o.name]=o),Jn[o.setNum]=o,Jn[o.chroma]=o,o.aliases.forEach(a=>xv(o,a))}function xv(t,r){Jn[r]=t}function Sv(t){const r=i=>t.indexOf(i)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}Dv.forEach(([t,r,i])=>zf(t.split(" "),i.split(" "),r));Lr.sort((t,r)=>t.setNum-r.setNum);var qf={names:Ev,symbols:Fv,get:jf,all:Wf,add:zf,removeAll:Iv,keys:wv,entries:Bv,chordType:vv},kv=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],_v=kv,Ps=[];_v.forEach(([t,r,i])=>jv(t,r,i));var Nv={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function Tv(){return Ps.reduce((t,r)=>(r.names.forEach(i=>t.push(i)),t),[])}function Rv(){return Ps.map(t=>t.shorthand)}var Vv=/^([^.]+)(\.*)$/;function Go(t){const[r,i,u]=Vv.exec(t)||[],o=Ps.find(l=>l.shorthand===i||l.names.includes(i));if(!o)return Nv;const a=Wv(o.fraction,u.length),c=a[0]/a[1];return{...o,name:t,dots:u,value:c,fraction:a}}var Lv=t=>Go(t).value,Ov=t=>Go(t).fraction,Gv={names:Tv,shorthands:Rv,get:Go,value:Lv,fraction:Ov};function jv(t,r,i){Ps.push({empty:!1,dots:"",name:"",value:1/t,fraction:t<1?[1/t,1]:[1,t],shorthand:r,names:i})}function Wv(t,r){const i=Math.pow(2,r);let u=t[0]*i,o=t[1]*i;const a=u;for(let c=0;c<r;c++)u+=a/Math.pow(2,c+1);for(;u%2===0&&o%2===0;)u/=2,o/=2;return[u,o]}function zv(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function qv(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var Zf=[0,2,4,-1,1,3,5],Hf=Zf.map(t=>Math.floor(t*7/12));function Zv(t){const{step:r,alt:i,oct:u,dir:o=1}=t,a=Zf[r]+7*i;if(u===void 0)return[o*a];const c=u-Hf[r]-4*i;return[o*a,o*c]}var Hv=[3,0,4,1,5,2,6];function Xv(t){const[r,i,u]=t,o=Hv[Kv(r)],a=Math.floor((r+1)/7);if(i===void 0)return{step:o,alt:a,dir:u};const c=i+4*a+Hf[o];return{step:o,alt:a,oct:c,dir:u}}function Kv(t){const r=(t+1)%7;return r<0?7+r:r}var sc=(t,r)=>Array(Math.abs(r)+1).join(t),Au={empty:!0,name:"",acc:""},Yv="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Uv="(AA|A|P|M|m|d|dd)([-+]?\\d+)",$v=new RegExp("^"+Yv+"|"+Uv+"$");function Jv(t){const r=$v.exec(`${t}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var uc={};function De(t){return typeof t=="string"?uc[t]||(uc[t]=Qv(t)):qv(t)?De(e5(t)):zv(t)?De(t.name):Au}var oc=[0,2,4,5,7,9,11],Xf="PMMPPMM";function Qv(t){const r=Jv(t);if(r[0]==="")return Au;const i=+r[0],u=r[1],o=(Math.abs(i)-1)%7,a=Xf[o];if(a==="M"&&u==="P")return Au;const c=a==="M"?"majorable":"perfectable",l=""+i+u,m=i<0?-1:1,d=i===8||i===-8?i:m*(o+1),f=t5(c,u),g=Math.floor((Math.abs(i)-1)/7),A=m*(oc[o]+f+12*g),D=(m*(oc[o]+f)%12+12)%12,F=Zv({step:o,alt:f,oct:g,dir:m});return{empty:!1,name:l,num:i,q:u,step:o,alt:f,dir:m,type:c,simple:d,semitones:A,chroma:D,coord:F,oct:g}}function Kf(t,r){const[i,u=0]=t,o=i*7+u*12<0?[-i,-u,-1]:[i,u,1];return De(Xv(o))}function t5(t,r){return r==="M"&&t==="majorable"||r==="P"&&t==="perfectable"?0:r==="m"&&t==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(t==="perfectable"?r.length:r.length+1):0}function e5(t){const{step:r,alt:i,oct:u=0,dir:o}=t;if(!o)return"";const a=r+1+7*u,c=a===0?r+1:a,l=o<0?"-":"",m=Xf[r]==="M"?"majorable":"perfectable";return l+c+n5(m,i)}function n5(t,r){return r===0?t==="majorable"?"M":"P":r===-1&&t==="majorable"?"m":r>0?sc("A",r):sc("d",t==="perfectable"?r:r+1)}function r5(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var Yf=De,i5=t=>De(t).name,s5=t=>De(t).semitones,u5=t=>De(t).q,o5=t=>De(t).num;function a5(t){const r=De(t);return r.empty?"":r.simple+r.q}function c5(t){const r=De(t);if(r.empty)return"";const i=(7-r.step)%7,u=r.type==="perfectable"?-r.alt:-(r.alt+1);return De({step:i,alt:u,oct:r.oct,dir:r.dir}).name}var l5=[1,2,2,3,3,4,5,5,6,6,7,7],h5="P m M m M P d P m M m M".split(" ");function p5(t){const r=t<0?-1:1,i=Math.abs(t),u=i%12,o=Math.floor(i/12);return r*(l5[u]+7*o)+h5[u]}var m5=ls,Uf=$f((t,r)=>[t[0]+r[0],t[1]+r[1]]),d5=t=>r=>Uf(t,r),f5=$f((t,r)=>[t[0]-r[0],t[1]-r[1]]);function g5(t,r){const i=Yf(t);if(i.empty)return"";const[u,o,a]=i.coord;return Kf([u+r,o,a]).name}var Fr={names:r5,get:Yf,name:i5,num:o5,semitones:s5,quality:u5,fromSemitones:p5,distance:m5,invert:c5,simplify:a5,add:Uf,addTo:d5,substract:f5,transposeFifths:g5};function $f(t){return(r,i)=>{const u=De(r).coord,o=De(i).coord;if(u&&o){const a=t(u,o);return Kf(a).name}}}function Jf(t){return+t>=0&&+t<=127}function Qf(t){if(Jf(t))return+t;const r=Bt(t);return r.empty?null:r.midi}function A5(t,r=440){return Math.pow(2,(t-69)/12)*r}var C5=Math.log(2),y5=Math.log(440);function jo(t){const r=12*(Math.log(t)-y5)/C5+69;return Math.round(r*100)/100}var M5="C C# D D# E F F# G G# A A# B".split(" "),b5="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Hn(t,r={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const i=(r.sharps===!0?M5:b5)[t%12];if(r.pitchClass)return i;const u=Math.floor(t/12)-1;return i+u}function Wo(t){return t%12}function D5(t){return t.split("").reduce((r,i,u)=>(u<12&&i==="1"&&r.push(u),r),[])}function P5(t){return t.map(Wo).sort((r,i)=>r-i).filter((r,i,u)=>i===0||r!==u[i-1])}function zo(t){return Array.isArray(t)?P5(t):D5(t)}function v5(t){const r=zo(t);return i=>{const u=Wo(i);for(let o=0;o<12;o++){if(r.includes(u+o))return i+o;if(r.includes(u-o))return i-o}}}function tg(t,r){const i=zo(t),u=i.length;return o=>{const a=o<0?(u- -o%u)%u:o%u,c=Math.floor(o/u);return i[a]+c*12+r}}function E5(t,r){const i=tg(t,r);return u=>{if(u!==0)return i(u>0?u-1:u)}}var F5={chroma:Wo,freqToMidi:jo,isMidi:Jf,midiToFreq:A5,midiToNoteName:Hn,pcsetNearest:v5,pcset:zo,pcsetDegrees:E5,pcsetSteps:tg,toMidi:Qf},w5=["C","D","E","F","G","A","B"],eg=t=>t.name,ng=t=>t.map(Bt).filter(r=>!r.empty);function B5(t){return t===void 0?w5.slice():Array.isArray(t)?ng(t).map(eg):[]}var Ue=Bt,I5=t=>Ue(t).name,x5=t=>Ue(t).pc,S5=t=>Ue(t).acc,k5=t=>Ue(t).oct,_5=t=>Ue(t).midi,N5=t=>Ue(t).freq,T5=t=>Ue(t).chroma;function rg(t){return Hn(t)}function R5(t){return Hn(jo(t))}function V5(t){return Hn(jo(t),{sharps:!0})}function L5(t){return Hn(t,{sharps:!0})}var O5=ls,En=Ye,G5=Ye,ig=t=>r=>En(r,t),j5=ig,sg=t=>r=>En(t,r),W5=sg;function Zi(t,r){return En(t,[r,0])}var z5=Zi;function q5(t,r){return En(t,[0,r])}var qo=(t,r)=>t.height-r.height,Z5=(t,r)=>r.height-t.height;function ug(t,r){return r=r||qo,ng(t).sort(r).map(eg)}function og(t){return ug(t,qo).filter((r,i,u)=>i===0||r!==u[i-1])}var H5=t=>{const r=Ue(t);return r.empty?"":Hn(r.midi||r.chroma,{sharps:r.alt>0,pitchClass:r.midi===null})};function ag(t,r){const i=Ue(t);if(i.empty)return"";const u=Ue(r||Hn(i.midi||i.chroma,{sharps:i.alt<0,pitchClass:!0}));if(u.empty||u.chroma!==i.chroma)return"";if(i.oct===void 0)return u.pc;const o=i.chroma-i.alt,a=u.chroma-u.alt,c=o>11||a<0?-1:o<0||a>11?1:0,l=i.oct+c;return u.pc+l}var zn={names:B5,get:Ue,name:I5,pitchClass:x5,accidentals:S5,octave:k5,midi:_5,ascending:qo,descending:Z5,distance:O5,sortedNames:ug,sortedUniqNames:og,fromMidi:rg,fromMidiSharps:L5,freq:N5,fromFreq:R5,fromFreqSharps:V5,chroma:T5,transpose:En,tr:G5,transposeBy:ig,trBy:j5,transposeFrom:sg,trFrom:W5,transposeFifths:Zi,transposeOctaves:q5,trFifths:z5,simplify:H5,enharmonic:ag},cg={empty:!0,name:"",chordType:""},ac={};function Fn(t){return typeof t=="string"?ac[t]||(ac[t]=Q5(t)):typeof t=="number"?Fn(vs[t]||""):Do(t)?Y5(t):bo(t)?Fn(t.name):cg}var X5=Fn;function K5(t=!0){return(t?vs:J5).slice()}function Y5(t){return Fn(cs(t.alt)+vs[t.step])}var U5=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function $5(t){return U5.exec(t)||["","","",""]}var lg="I II III IV V VI VII",vs=lg.split(" "),J5=lg.toLowerCase().split(" ");function Q5(t){const[r,i,u,o]=$5(t);if(!u)return cg;const a=u.toUpperCase(),c=vs.indexOf(a),l=Po(i),m=1;return{empty:!1,name:r,roman:u,interval:nn({step:c,alt:l,dir:m}).name,acc:i,chordType:o,alt:l,step:c,major:u===a,oct:0,dir:m}}var tE={names:K5,get:Fn,romanNumeral:X5},Se=Object.freeze([]),hg={type:"major",tonic:"",alteration:0,keySignature:""},Ti={tonic:"",grades:Se,intervals:Se,scale:Se,triads:Se,chords:Se,chordsHarmonicFunction:Se,chordScales:Se},eE={...hg,...Ti,type:"major",minorRelative:"",scale:Se,secondaryDominants:Se,secondaryDominantsMinorRelative:Se,substituteDominants:Se,substituteDominantsMinorRelative:Se},nE={...hg,type:"minor",relativeMajor:"",natural:Ti,harmonic:Ti,melodic:Ti},$s=(t,r,i="")=>r.map((u,o)=>`${t[o]}${i}${u}`);function Es(t,r,i,u,o){return a=>{const c=t.map(m=>Fn(m).interval||""),l=c.map(m=>En(a,m));return{tonic:a,grades:t,intervals:c,scale:l,triads:$s(l,r),chords:$s(l,i),chordsHarmonicFunction:u.slice(),chordScales:$s(l,o," ")}}}var pg=(t,r)=>{const i=Bt(t),u=Bt(r);return i.empty||u.empty?0:u.coord[0]-i.coord[0]},rE=Es("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),iE=Es("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),sE=Es("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),uE=Es("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function oE(t){const r=Bt(t).pc;if(!r)return eE;const i=rE(r),u=pg("C",r),o=a=>{const c=Fn(a);return c.empty?"":En(t,c.interval)+c.chordType};return{...i,type:"major",minorRelative:En(r,"-3m"),alteration:u,keySignature:cs(u),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(o),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(o),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(o),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(o)}}function aE(t){const r=Bt(t).pc;if(!r)return nE;const i=pg("C",r)-3;return{type:"minor",tonic:r,relativeMajor:En(r,"3m"),alteration:i,keySignature:cs(i),natural:iE(r),harmonic:sE(r),melodic:uE(r)}}function cE(t){return typeof t=="number"?Zi("C",t):typeof t=="string"&&/^b+|#+$/.test(t)?Zi("C",Po(t)):null}var lE={majorKey:oE,majorTonicFromKeySignature:cE,minorKey:aE},hE=nn;function pE(t){const r=nn(t);return r.empty?"":r.simple+r.q}function mE(t,r){const i=hE(t);if(i.empty)return"";const[u,o,a]=i.coord;return ff([u+r,o,a]).name}var Zo=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],cc={...vn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Ho=Zo.map(AE),Cu={};Ho.forEach(t=>{Cu[t.name]=t,t.aliases.forEach(r=>{Cu[r]=t})});function nr(t){return typeof t=="string"?Cu[t.toLowerCase()]||cc:t&&t.name?nr(t.name):cc}var dE=nr;function mg(){return Ho.slice()}var fE=mg;function gE(){return Ho.map(t=>t.name)}function AE(t){const[r,i,u,o,a,c,l]=t,m=l?[l]:[],d=Number(i).toString(2);return{empty:!1,intervals:Ds(o).intervals,modeNum:r,chroma:d,normalized:d,name:o,setNum:i,alt:u,triad:a,seventh:c,aliases:m}}function CE(t,r){return nr(t).intervals.map(i=>Ye(r,i))}function dg(t){return(r,i)=>{const u=nr(r);if(u.empty)return[];const o=Tr(u.modeNum,t),a=u.intervals.map(c=>Ye(i,c));return o.map((c,l)=>a[l]+c)}}var yE=dg(Zo.map(t=>t[4])),ME=dg(Zo.map(t=>t[5]));function fg(t,r){const i=nr(r),u=nr(t);return i.empty||u.empty?"":pE(mE("1P",u.alt-i.alt))}function bE(t,r,i){return Ye(i,fg(t,r))}var DE={get:nr,names:gE,all:mg,distance:fg,relativeTonic:bE,notes:CE,triads:yE,seventhChords:ME,entries:fE,mode:dE};function PE(t){const[r,i,u,o]=vo(t);return r===""?Js("",t):r==="A"&&o==="ug"?Js("","aug"):Js(r+i,u+o)}function Js(t,r){const i=r.split("/");if(i.length===1)return[t,i[0],""];const[u,o,a,c]=vo(i[1]);return u!==""&&a===""&&c===""?[t,i[0],u+o]:[t,r,""]}function vE(t,r){return r.map(Fn).map(i=>Ye(t,nn(i))+i.chordType)}function EE(t,r){return r.map(i=>{const[u,o]=PE(i),a=ls(t,u);return Fn(nn(a)).name+o})}var FE={fromRomanNumerals:vE,toRomanNumerals:EE};function gg(t){const r=Eo(t.map(i=>typeof i=="number"?i:Qf(i)));return!t.length||r.length!==t.length?[]:r.reduce((i,u)=>{const o=i[i.length-1];return i.concat(hs(o,u).slice(1))},[r[0]])}function wE(t,r){return gg(t).map(i=>Hn(i,r))}var BE={numeric:gg,chromatic:wE},IE={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Ag(t){if(typeof t!="string")return["",""];const r=t.indexOf(" "),i=Bt(t.substring(0,r));if(i.empty){const o=Bt(t);return o.empty?["",t]:[o.name,""]}const u=t.substring(i.name.length+1).toLowerCase();return[i.name,u.length?u:""]}var xE=Lf;function sn(t){const r=Array.isArray(t)?t:Ag(t),i=Bt(r[0]).name,u=Ds(r[1]);if(u.empty)return IE;const o=u.name,a=i?u.intervals.map(l=>Ye(i,l)):[],c=i?i+" "+o:o;return{...u,name:c,type:o,tonic:i,notes:a}}var SE=sn;function kE(t,r={}){const i=Pf(t),u=Bt(r.tonic??t[0]??""),o=u.chroma;if(o===void 0)return[];const a=i.split("");a[o]="1";const c=Tr(o,a).join(""),l=Vr().find(d=>d.chroma===c),m=[];return l&&m.push(u.name+" "+l.name),r.match==="exact"||Cg(c).forEach(d=>{m.push(u.name+" "+d)}),m}function _E(t){const r=sn(t),i=ps(r.chroma);return Ff().filter(u=>i(u.chroma)).map(u=>u.aliases[0])}function Cg(t){const r=wo(t)?t:sn(t).chroma,i=ms(r);return Vr().filter(u=>i(u.chroma)).map(u=>u.name)}function NE(t){const r=ps(sn(t).chroma);return Vr().filter(i=>r(i.chroma)).map(i=>i.name)}function yg(t){const r=t.map(o=>Bt(o).pc).filter(o=>o),i=r[0],u=og(r);return Tr(u.indexOf(i),u)}function TE(t){const r=sn(t);if(r.empty)return[];const i=r.tonic?r.notes:r.intervals;return Bo(r.chroma).map((u,o)=>{const a=sn(u).name;return a?[i[o],a]:["",""]}).filter(u=>u[0])}function RE(t){const r=Array.isArray(t)?yg(t):sn(t).notes,i=r.map(u=>Bt(u).chroma);return u=>{const o=Bt(typeof u=="number"?rg(u):u),a=o.height;if(a===void 0)return;const c=a%12,l=i.indexOf(c);if(l!==-1)return ag(o.name,r[l])}}function VE(t){const r=RE(t);return(i,u)=>{const o=Bt(i).height,a=Bt(u).height;return o===void 0||a===void 0?[]:hs(o,a).map(r).filter(c=>c)}}function LE(t){const{intervals:r,tonic:i}=sn(t),u=Af(r,i);return o=>o?u(o>0?o-1:o):""}function OE(t){const{intervals:r,tonic:i}=sn(t);return Af(r,i)}var wr={degrees:LE,detect:kE,extended:Cg,get:sn,modeNames:TE,names:xE,rangeOf:VE,reduced:NE,scaleChords:_E,scaleNotes:yg,steps:OE,tokenize:Ag,scale:SE},GE={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},jE=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function WE(){return jE.slice()}var zE=/^(\d*\d(?:\+\d)*)\/(\d+)$/,lc=new Map;function qE(t){const r=JSON.stringify(t),i=lc.get(r);if(i)return i;const u=XE(Xo(t));return lc.set(r,u),u}function Xo(t){if(typeof t=="string"){const[a,c,l]=zE.exec(t)||[];return Xo([c,l])}const[r,i]=t,u=+i;if(typeof r=="number")return[r,u];const o=r.split("+").map(a=>+a);return o.length===1?[o[0],u]:[o,u]}var ZE={names:WE,parse:Xo,get:qE},HE=t=>Math.log(t)/Math.log(2)%1===0;function XE([t,r]){const i=Array.isArray(t)?t.reduce((l,m)=>l+m,0):t,u=r;if(i===0||u===0)return GE;const o=Array.isArray(t)?`${t.join("+")}/${r}`:`${t}/${r}`,a=Array.isArray(t)?t:[],c=u===4||u===2?"simple":u===8&&i%3===0?"compound":HE(u)?"irregular":"irrational";return{empty:!1,name:o,type:c,upper:i,lower:u,additive:a}}var KE=Rf,YE=Ef,UE=qf,$E=Gf;const JE=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:$P,Array:s7,Chord:Mv,ChordDictionary:UE,ChordType:qf,Collection:c7,Core:Rf,DurationValue:Gv,Interval:Fr,Key:lE,Midi:F5,Mode:DE,Note:zn,PcSet:YE,Pcset:Ef,Progression:FE,Range:BE,RomanNumeral:tE,Scale:wr,ScaleDictionary:$E,ScaleType:Gf,TimeSignature:ZE,Tonal:KE,accToAlt:To,altToAcc:No,chroma:Bf,coordToInterval:ko,coordToNote:Ro,coordinates:As,deprecate:Rr,distance:Vo,fillStr:Nf,height:xo,interval:vr,isNamed:Tf,isNamedPitch:li,isPitch:gs,midi:If,note:rn,pitch:Cs,stepToLetter:_o,tokenizeInterval:So,tokenizeNote:ys,tonicIntervalsTransposer:Ms,transpose:Er},Symbol.toStringTag,{value:"Module"}));var Mg={},hc={},hi={};hi.__esModule=!0;hi.getBestVoicing=void 0;function QE(t){var r=t.chord,i=t.range,u=t.finder,o=t.picker,a=t.lastVoicing,c=u(r,i);return c.length?o(c,a):[]}hi.getBestVoicing=QE;var Zr={};const bg=GD(JE);var pi={};pi.__esModule=!0;pi.tokenizeChord=void 0;function t9(t){var r=(t||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return r?r.slice(1):[]}pi.tokenizeChord=t9;var pc;function e9(){if(pc)return Zr;pc=1,Zr.__esModule=!0,Zr.voicingsInRange=void 0;var t=bg,r=Dg(),i=pi;function u(o,a,c){a===void 0&&(a=r.lefthand),c===void 0&&(c=["D3","A4"]);var l=(0,i.tokenizeChord)(o),m=l[0],d=l[1];if(!a[d])return[];var f=a[d].map(function(A){return A.split(" ")}),g=t.Range.chromatic(c);return f.reduce(function(A,D){var F=D.map(function(L){return t.Interval.substract(L,D[0])}),E=t.Note.transpose(m,D[0]),S=g.filter(function(L){return t.Note.chroma(L)===t.Note.chroma(E)}).filter(function(L){return t.Note.midi(t.Note.transpose(L,F[F.length-1]))<=t.Note.midi(c[1])}).map(function(L){return t.Note.enharmonic(L,E)}),N=S.map(function(L){return F.map(function(K){return t.Note.transpose(L,K)})});return A.concat(N)},[])}return Zr.voicingsInRange=u,Zr}var mc;function Dg(){return mc||(mc=1,function(t){var r=Xr&&Xr.__assign||function(){return r=Object.assign||function(l){for(var m,d=1,f=arguments.length;d<f;d++){m=arguments[d];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(l[g]=m[g])}return l},r.apply(this,arguments)},i=Xr&&Xr.__rest||function(l,m){var d={};for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&m.indexOf(f)<0&&(d[f]=l[f]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,f=Object.getOwnPropertySymbols(l);g<f.length;g++)m.indexOf(f[g])<0&&Object.prototype.propertyIsEnumerable.call(l,f[g])&&(d[f[g]]=l[f[g]]);return d};t.__esModule=!0,t.dictionaryVoicing=t.dictionaryVoicingFinder=t.triads=t.guidetones=t.lefthand=void 0;var u=hi,o=e9();t.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},t.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var a=function(l){return function(m,d){return(0,o.voicingsInRange)(m,l,d)}};t.dictionaryVoicingFinder=a;var c=function(l){var m=l.dictionary,d=l.range,f=i(l,["dictionary","range"]);return(0,u.getBestVoicing)(r(r({},f),{range:d,finder:(0,t.dictionaryVoicingFinder)(m)}))};t.dictionaryVoicing=c}(hc)),hc}var Fs={};Fs.__esModule=!0;Fs.minTopNoteDiff=void 0;var dc=bg;function n9(t,r){if(!r)return t[0];var i=function(u){return Math.abs(dc.Note.midi(r[r.length-1])-dc.Note.midi(u[u.length-1]))};return t.reduce(function(u,o){return i(o)<i(u)?o:u},t[0])}Fs.minTopNoteDiff=n9;(function(t){t.__esModule=!0;var r=Dg(),i=Fs,u=hi,o=pi;t.default={tokenizeChord:o.tokenizeChord,getBestVoicing:u.getBestVoicing,dictionaryVoicing:r.dictionaryVoicing,dictionaryVoicingFinder:r.dictionaryVoicingFinder,lefthand:r.lefthand,guidetones:r.guidetones,triads:r.triads,minTopNoteDiff:i.minTopNoteDiff}})(Mg);const fc=Qd(Mg),r9=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],i9=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],s9=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],u9={b:-1,"#":1},o9=t=>{const[r,...i]=t.split("");return i9.indexOf(r.toLowerCase())+i.reduce((u,o)=>u+u9[o],0)};function a9(t){const r=(t||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return r?r.slice(1):[]}const yu=t=>t%12,Pg=t=>{let r=Number(t);return isNaN(r)?Fr.semitones(t):r},Mu=(t,r)=>{if(typeof t=="number")return t;if(typeof t=="string")return qn(t,r)},c9=(t,r=!1)=>{const i=Math.floor(t/12)-1;return(r?s9:r9)[t%12]+i};function l9(t,r,i=1){t=t.map(o=>typeof o=="string"?qn(o):o);const u=Math.floor(r/t.length)*i*12;return r=Ne(r,t.length),t[r]+u}function h9(t,r,i){let u=0,o=1/0;return r.forEach((a,c)=>{const l=Math.abs(a-t);(l<o||i)&&(u=c,o=l)}),u}let Qs={};function p9(t,r,i,u){let[o,a]=wr.tokenize(r);const c=Mu(o),l=yu(c);if(!Qs[a]){let{intervals:g}=wr.get(`C ${a}`);Qs[a]=g.map(Pg)}const m=Qs[a];if(!m)return null;let d=c;if(i){i=Mu(i,3);const g=yu(i),A=Ne(g-l,12),D=h9(A,m,u);t=t+D,d=i-A}const f=Math.floor(t/m.length)*12;return t=Ne(t,m.length),m[t]+d+f}let gc={below:t=>t.slice(-1)[0],duck:t=>t.slice(-1)[0],above:t=>t[0],root:t=>t[0]};function m9({chord:t,dictionary:r,offset:i=0,n:u,mode:o="below",anchor:a="c5",octaves:c=1}){const[l,m]=a9(t),d=o9(l);a=Mu(a?.note||a,4);const f=yu(a),g=r[m].map(R=>(typeof R=="string"?R.split(" "):R).map(Pg));let A,D,F=g.map((R,T)=>{const j=gc[o](R),X=Ne(f-j-d,12);return(A===void 0||X<A)&&(A=X,D=T),X});o==="root"&&(D=0);const E=Math.ceil(i/g.length)*12,S=Ne(D+i,g.length),N=g[S],L=gc[o](N),K=a-F[S]+E,_=N.map(R=>K-L+R);let x=_.map(R=>c9(R));return o==="duck"&&(x=x.filter((R,T)=>_[T]!==a)),u!==void 0?[l9(x,u,c)]:x}const d9=t=>(t<=0?-1:1)+t*7+"P";function f9(t,r){r=r.replaceAll(":"," "),t=Math.ceil(t);let{intervals:i,tonic:u,empty:o}=wr.get(r);if(o&&rr(r)||!o&&!u)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(o)throw new Error(`invalid scale "${r}"`);u=u||"C";const{pc:a,oct:c=3}=zn.get(u),l=Math.floor(t/i.length),m=Ne(t,i.length),d=Fr.add(i[m],d9(l));return zn.transpose(a+c,d)}function Ac(t,r,i){let[u,o]=wr.tokenize(t),{notes:a}=wr.get(`${u} ${o}`);if(a=a.map(D=>zn.get(D).pc),r=Number(r),isNaN(r))throw new Error(`scale offset "${r}" not a number`);const{pc:c,oct:l=3}=zn.get(i),m=a.indexOf(c);if(m===-1)throw new Error(`note "${i}" is not in scale "${t}"`);let d=m,f=l,g=c;const A=Math.sign(r);for(;Math.abs(d-m)<Math.abs(r);){d+=A;const D=Ne(d,a.length);A<0&&g[0]==="C"&&(f+=A),g=a[D],A>0&&g[0]==="C"&&(f+=A)}return g+f}const g9=W("transpose",function(t,r){return r.withHap(i=>{const u=i.value.note??i.value;if(typeof u=="number"){let c;typeof t=="number"?c=t:typeof t=="string"&&(c=Fr.semitones(t)||0);const l=u+c;return typeof i.value=="object"?i.withValue(()=>({...i.value,note:l})):i.withValue(()=>l)}if(typeof u!="string"||!rr(u))return Yt(`[tonal] transpose: not a note "${u}"`,"warning"),i;const o=isNaN(Number(t))?String(t):Fr.fromSemitones(t),a=zn.simplify(zn.transpose(u,o));return typeof i.value=="object"?i.withValue(()=>({...i.value,note:a})):i.withValue(()=>a)})}),A9=W("scaleTranspose",function(t,r){return r.withHap(i=>{if(!i.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof i.value=="object")return i.withValue(()=>({...i.value,note:Ac(i.context.scale,Number(t),i.value.note)}));if(typeof i.value!="string")throw new Error("can only use scaleTranspose with notes");return i.withValue(()=>Ac(i.context.scale,Number(t),i.value))})}),C9=W("scale",function(t,r){return Array.isArray(t)&&(t=t.flat().join(" ")),r.fmap(i=>{const u=typeof i=="object";let o=u?i.n:i;if(u&&delete i.n,rr(o))return ce(o);let a=Number(o),c=0;if(isNaN(a)){if(o=String(o),!/^[-+]?\d+(#*|b*){1}$/.test(o))return Yt(`[tonal] invalid scale step "${o}", expected number or integer with optional # b suffixes`,"error"),kt;const l=o.indexOf("#");if(l>=0)a=Number(o.substring(0,l)),c=o.length-l;else{const m=o.indexOf("b");a=Number(o.substring(0,m)),c=m-o.length}}try{let l;u&&i.anchor?l=p9(a,t,i.anchor):l=f9(a,t),c!=0&&(l=zn.transpose(l,Fr.fromSemitones(c))),i=ce(u?{...i,note:l}:l)}catch(l){Yt(`[tonal] ${l.message}`,"error"),i=kt}return i}).outerJoin().withHap(i=>i.setContext({...i.context,scale:t}))},!0,!0),gr={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},Qr={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:y9,minTopNoteDiff:M9}=fc.default||fc,b9={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},D9={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},P9={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},v9={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},Or={lefthand:{dictionary:b9,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:P9,mode:"below",anchor:"a4"},guidetones:{dictionary:D9,mode:"above",anchor:"a4"},legacy:{dictionary:v9,mode:"below",anchor:"a4"}};let vg="ireal";const Eg=t=>vg=t,E9=(t,r)=>Fg(t,Or[t].dictionary,r),Fg=(t,r,i=["F3","A4"])=>{Object.assign(Or,{[t]:{dictionary:r,range:i}})},Ko=(t,r,i={})=>{Object.assign(Or,{[t]:{dictionary:r,...i}})},F9=(t,r,i)=>{const{dictionary:u,range:o}=Or[r];return y9({chord:t,dictionary:u,range:o,picker:M9,lastVoicing:i})};let Ri;const w9=W("voicings",function(t,r){return r.fmap(i=>(Ri=F9(i,t,Ri),qt(...Ri))).outerJoin()}),B9=W("rootNotes",function(t,r){return r.fmap(i=>{const u=(i.chord||i).match(/^([a-gA-G][b#]?).*$/)[1]+t;return i.chord?{note:u}:u})}),I9=W("voicing",function(t){return t.fmap(r=>{r=typeof r=="string"?{chord:r}:r;let{dictionary:i=vg,chord:u,anchor:o,offset:a,mode:c,n:l,octaves:m,...d}=r;i=typeof i=="string"?Or[i]:{dictionary:i,mode:"below",anchor:"c5"};try{let f=m9({...i,chord:u,anchor:o,offset:a,mode:c,n:l,octaves:m});return qt(...f).note().set(d)}catch{return Yt(`[voicing]: unknown chord "${u}"`),kt}}).outerJoin()});function ti(t,r,i){i=Array.isArray(i)?i:[i],i.forEach(u=>{u[r]=u[t]})}ti("^","",[gr,Qr]);Object.keys(gr).forEach(t=>{if(t.includes("-")){let r=t.replace("-","m");ti(t,r,[Qr,gr])}if(t.includes("^")){let r=t.replace("^","M");ti(t,r,[Qr,gr])}if(t.includes("+")){let r=t.replace("+","aug");ti(t,r,[Qr,gr])}});Ko("ireal",gr);Ko("ireal-ext",Qr);function x9(){Ri=void 0,Eg("ireal")}const S9="@strudel/tonal",k9=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:Fg,packageName:S9,registerVoicings:Ko,resetVoicings:x9,rootNotes:B9,scale:C9,scaleTranspose:A9,setDefaultVoicings:Eg,setVoicingRange:E9,transpose:g9,voicing:I9,voicingAlias:ti,voicingRegistry:Or,voicings:w9},Symbol.toStringTag,{value:"Module"}));async function _9(){const t=Li(Li,Promise.resolve().then(()=>Em),Promise.resolve().then(()=>eD),Promise.resolve().then(()=>k9),Promise.resolve().then(()=>zb),{hush:N9,evaluate:T9});await Promise.all([t,Um()])}let bu,Qn;function wg(t={}){Zm(),t.miniAllStrings!==!1&&gd();const{prebake:r,...i}=t;return Qn=cd({...i,transpiler:AP}),bu=(async()=>(await _9(),await r?.(),Qn))(),Ju(()=>Qn.scheduler.now()),bu}window.initStrudel=wg;ot.prototype.play=function(){if(!Qn)throw new Error(".play: no repl found. Have you called initStrudel?");return bu.then(()=>{Qn.setPattern(this,!0)}),this};function N9(){Qn.stop()}async function T9(t,r=!0){return Qn.evaluate(t,r)}const R9=(t,r)=>Math.floor(Math.random()*(r-t+1)+t),Ae=()=>{if(!disk.isPlaying)return;const t=[];for(const i of disk.rooms)if(i&&i.generateSoundString){let u=i.generateSoundString();if(!u)continue;i.id!==disk.roomId&&disk.roomId!=="rainbowroom"?u=`${u}.gain(0.2).lpf(500).room(0.7)`:disk.roomId==="rainbowroom"?u=`${u}.gain(0.6)`:u=`${u}.gain(1)`,u=`$: ${u}`,i.isMuted&&(u=`_${u}`),t.push(u)}const r=t.join(`
`);r.length>0&&(console.log("Re-evaluating ...",r),evaluate(r))},Xn=t=>{t&&!disk.visitedRooms.includes(t)&&disk.visitedRooms.push(t),Ae()};let V9=()=>{println(`The following commands are available:
    LOOK:           'look at key'
    TAKE:           'take book'
    GO:             'go north' (or just type 'n')
    USE:            'use bucket'
    PRESS:          'press play'
    TALK:           'talk to mary'
    ITEMS:          list items in the room
    CHARS:          list characters in the room
    INV:            list inventory items
    SAVE/LOAD:      save current game, or load a saved game (in memory)
    IMPORT/EXPORT:  save current game, or load a saved game (on disk)
    HELP:           this help menu
  `)};const L9=t=>{if(disk.roomId==="rainbowroom"){const r=getRoom(t);r.isMuted=!0,Ae(),println(`You muted the ${t} room`)}else println("You probably need som kind of control panel to do that.")},Cc=(t="")=>{if(disk.roomId==="rainbowroom")if(t.toLowerCase()==="play")if(disk.isPlaying)println("Already playing. If you don’t hear anything, perhaps you need to find something that can generate sounds?");else{const r=disk.rooms.filter(i=>i.isActive).filter(i=>!i.isMuted).map(i=>i.color);println("You press play."),r.length===0?println("Nothing happens."):r.length===1?println(`Music start playing from the ${r[0]} room.`):println("Sweet, weird music starts playing."),disk.isPlaying=!0,Ae()}else t.toLowerCase()==="stop"&&(disk.isPlaying?(console.log("Stopping"),disk.isPlaying=!1,hush()):println("Already stopped."));else useItem(t)},O9=[{inv,i:inv,inventory:inv,look,l:look,go,n,s,e,w,ne,se,sw,nw,talk,t:talk,take,get:take,items,use,chars,characters:chars,help:V9,say,save,load,restore:load,export:exportSave,import:importSave},{go:goDir,take:takeItem,get:takeItem,use:useItem,say:sayString,save:t=>save(t),load:t=>load(t),restore:t=>load(t),x:t=>lookAt([null,t]),t:t=>talkToOrAboutX("to",t),export:exportSave,import:importSave,mute:L9,press:Cc,push:Cc},{look:lookAt,take:t=>takeItem(t.join(" ")),get:t=>takeItem(t.join(" ")),use:t=>useItem(t.join(" ")),say(t){const r=t.reduce((i,u)=>i+" "+u,"");sayString(r)},talk:t=>talkToOrAboutX(t[0],t[1]),x:t=>lookAt([null,...t])}],Yo={name:["Android"],roomId:"",desc:["The android looks like something from a past future. Its domed head is not shiny or smooth as you’d expect.","The shape seems more like it’s been conjured by a blacksmith than an engineer or a machine.","Beneath the wide oval screen that seemingly functions as the android’s eyes, a small square mouth opens and shuts erratically, but does not form any coherent words.","Do androids even need mouths?"].join(`
`),topics:[{option:"What’s your **name**?",keyword:"name",line:'"Look," you say. "This feels weird. Can I call you something?"',onSelected:()=>{Yo.name.push("Violet"),println("YOU CAN CALL ME VIOLET:","android")},removeOnRead:!0,prereqs:[]},{option:"",keyword:"",line:"",onSelected:()=>{},removeOnRead:!0,prereqs:["name"]}],onTalk:()=>{println("You decide you should perhaps try to communicate wth the android.")},onLook:()=>{println("Look")}},yc={intro:["Welcome to the Rainbow Room."].join(`
`),standard:["You’re standing in the middle of an octagonal room. Seven of the walls surrounding you hold a door; each door is one of the colors of the rainbow.","From left to right, you have a **Red Door** to the south west. To the west is an **Orange Door**. Next is a **Yellow Door** to the north west.","Due north is a **Green Door**, and next to it, to the north east, is a **Blue Door**. Due east is an **Indigo Door**, and to the south east is a **Violet Door**.","The eighth wall is almost completely covered by what looks like a **control panel** from some obscure fifties’ sci-fi movie: futuristic, but in an old-fashioned way.","LEDs, meters, levers, buttons and sliders – some labeled, some not – take up most of the real estate of the panel."].join(`
`)},G9=["Red","Orange","Yellow","Green","Blue","Indigo","Violet"],j9=()=>{const t=disk.rooms.filter(r=>r.isActive).map(r=>r.color);if(t.length===0)println("None of the LEDs are lit.");else if(t.length===1)println(`The ${t[0]} LED is lit.`);else{let r="";for(let i=0;i<t.length-1;i++)r+=`${t[i]}, `;println(`The ${r.slice(0,-2)} and ${t[t.length-1]} LEDs are lit.`)}},Bg=()=>{const t=disk.rooms.filter(r=>r.isMuted).map(r=>r.color);if(t.length===0)println("None of the rooms seem muted.");else if(t.length===1)println(`The ${t[0]} room is muted.`);else{let r="";for(let i=0;i<t.length-1;i++)r+=`${t[i]}, `;println(`The ${r.slice(0,-2)} and ${t[t.length-1]} rooms appear to be muted.`)}},W9=G9.map(t=>{const r=disk?disk.rooms.filter(i=>i.isMuted).map(i=>i.color):[];return{name:`${t}Switch`,desc:`A ${t} switch labeled "MUTE"`,onUse:()=>{const i=getRoom(`${t.toLowerCase()}room`);r.includes(t)?(r.splice(r.indexOf(t),1),i.isMuted=!1):(r.push(t),i.isMuted=!0),disk.isPlaying||println("Nothing happens."),Ae(),Bg()}}}),Ig={id:"rainbowroom",img:["■■■■■■■■■","■■■■■■■■■","■■■■■■■■■"].join(`
`),name:"The Rainbow Room",desc:yc.standard,onEnter:()=>{const t=getRoom("rainbowroom");t.img="",Xn()},onLook:()=>{Ig.desc=yc.standard},items:[...W9,{name:["control panel","panel"],desc:["It’s a control panel all right. In the center of it there are two huge buttons. One says ’**PLAY**’, the other one says ’**STOP**’.","A row of LEDs run across the top of the panel. There are seven of them. Their colors correspond to the colors of the doors.","And, coincidentally, to the colors of the rainbow.",'Underneath each LED is a switch labeled "Mute".'].join(`
`),onLook:()=>{disk.isPlaying&&println("The PLAY button is pulsating slowly."),j9(),Bg()}}],exits:[{dir:["Red Door","red","r","sw"],id:"redroom",block:"The red door appears to be locked. What are they keeping from you?"},{dir:["Orange Door","orange","o","w"],id:"orangeroom",block:"Something seems to be blocking this door. But what?"},{dir:["Yellow Door","yellow","y","nw"],id:"yellowroom"},{dir:["Green Door","green","g","n"],id:"greenroom"},{dir:["Blue Door","blue","b","ne"],id:"blueroom"},{dir:["Indigo Door","indigo","i","e"],id:"indigoroom",block:"No matter how hard you pull, the door won’t budge. You can’t help but wonder what might be hidden behind it."},{dir:["Violet Door","violet","v","se"],id:"violetroom"}]},Mc="Red",z9=()=>"",q9={id:"redroom",img:["■■■■ ■■■■","■■■■ ■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Mc} Room`,desc:"This is the red room",isActive:!1,isMuted:!1,color:Mc,generateSoundString:z9,onEnter:()=>{Xn("redroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","ne","x"],id:"rainbowroom"}]},bc="Orange",Z9=()=>"",H9={id:"orangeroom",img:["■■■■■■■■■","■■■■ ■■■■","■■■■■■■■■"].join(`
`),name:`The ${bc} Room`,desc:"This is the orange room",isActive:!1,isMuted:!1,color:bc,generateSoundString:Z9,onEnter:()=>{Xn("orangeroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","e","x"],id:"rainbowroom"}]},Dc="Yellow",xg=["A","B","C","D","E","F","G"];let Du="";const X9=['sound("[triangle]").fm(1.4)','layer(x=>x.s("sawtooth").vib(4),x=>x.s("square").add(note(12)))',"lpf(800).lpq(6).dec(1.5)",'vib("8:.5").gain(.8)','djf("<.5 .25 .5 .75>")','leslie("<0 .3 1 .8>")',"velocity(sine.range(.2, .3).slow(15))","slow(2)"],K9=["intently","with determination","slowly","carefully","wistfully"],Y9=["There’s a muffled mechanical rumble from the machine, like you have awakened some ancient robotic creature.","There’s a weird, metallic rumble, then the klak-klak-klak of a ratchet winding, then a loud PLONK! and a pause.","At first nothing happens. Then you hear a hollow PA-DONK! and what sounds like rusty gears spinning."],U9=["It tumbles down a tube, bounces off a metal pin, down another tube, then balances briefly on a tiny ledge before it proceeds downward.","It rolls down a tube, takes a sudden turn as it hits a bumper, hangs in the air for a while as if being carried by a jet of air, then continues its descent.","It slides down a tube and lands on a small moving conveyor belt where it sits for a while until it’s struck lightly by a wooden mallet. This interaction causes it to continue its descent through the bowels of the contraption."];let tr,Rn,He,Sg;const kg=()=>{tr=[0,1,2,3,4],Rn=[],He=["-","-","-","-","-"],Sg=4};kg();const Pc=()=>{if(Ar&&Ar.items.length<4)for(const t of xg)Ar.items.push({name:[`Cube${t}`],desc:`A cube with the letter **${t}**`,onUse:()=>{if(Rn.includes(t))println("This cube is already in the contraption.");else if(length.emptySlots===0)println("None of the slots are empty. The cube falls down the funnel, bounces off the filled slots, falls through the contraption and rolls out in the bucket again.");else{let r=R9(0,4);tr.includes(r)?(println([`You drop the cube labeled "${t}" into the funnel.`,pickOne(U9),`It finally lands in the slot numbered ${r+1}`].join(`
`)),Ar.isActive=!0,Rn.push(t),tr.splice(tr.indexOf(r),1),He[r]=t,Pu(),Ae(),_g()):println([`You drop the cube labeled "${t}" into the funnel.`,`It really wants to land in slot ${r+1}, but the slot is occupied and the cube falls through and lands back in the bucket.`].join(`
`))}}})},$9=()=>Du?`${Du}.${X9.join(".")}`:"",Pu=()=>{Du=He.length>0?`note("${He.map(t=>`${t}${t==="-"?"":Sg}`).join(" ")}")`:""},_g=()=>{if(He.length===0)println("No slots have cubes in them.");else{const t=[];for(let r=0;r<He.length;r++)He[r]!=="-"&&t.push(`In slot number ${r+1} there is a cube with the letter ${He[r]}`);println(t.join(`
`))}},Ar={id:"yellowroom",img:["■■■■■■■■■","■■■■■■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Dc} Room`,desc:["This is the yellow room. The first thing in it that catches your attention is a weird **contraption**, smack in the middle of the room.","On the floor beneath the contraption is a **bucket** filled with what looks like wooden alphabet cubes.","Behind the contraption, a befuddling network of intertwining wooden pipes extend upward, some of them almost reaching the ceiling."].join(`
`),isActive:!1,isMuted:!1,color:Dc,generateSoundString:$9,onEnter:()=>{Xn("yellowroom")},items:[{name:["Contraption"],desc:["Apart from all the wiring, the ornamentation and the weird details, the contraption seems fairly simple.","There are five square slots behind a glass pane.","The slots are about the same size as the alphabet cubes in the bucket at the bottom of the contraption.","On top of the contraption is a large funnel. On the side of it is a **lever**."].join(`
`)},{name:["Lever"],desc:["There’s a lever affixed to the right side of the contraption.",'It makes it look like one of those old slot machines that people used to call "One-armed bandits".'].join(`
`),onUse:()=>{if(println(`You pull the lever ${pickOne(K9)}.`),Rn.length===0)println("The contraption makes a small racket, but nothing happens.");else{let t=Rn.length===1?"s":"";println([pickOne(Y9),`After a moment, the slots open up and ${t?`the cube labeled ${Rn[0]}`:"all the cubes"} fall${t} through, tumble${t} down a tube and land${t} in the bucket.`].join(`
`)),kg(),Pu(),Ae()}}},{name:["Bucket","Cubes"],desc:["There are seven wooden cubes in the bucket. On each side of each cube, a letter is painted. One letter for each of the sevens cubes: A to G.","The cubes are about the same size as the square slots in the contraption.","It appears you can use them in some way."].join(`
`),onUse:()=>{if(!He.includes("-"))println("All slots are already filled, and the cubes bounce off them and tumble down the innards of the contraption, eventually ending up back in the bucket.");else{for(println("You empty the bucket in the funnel. The cubes tumble down a tube. Some of them land in a slot, others continue through the contraption and end up back in the bucket.");He.includes("-");){const t=pickOne(xg);if(!Rn.includes(t)){Rn.push(t);const r=pickOne(tr);tr.splice(tr.indexOf(r),1),He[r]=t}}Ar.isActive=!0,Pc(),Pu(),Ae(),_g()}},onLook:()=>{Pc()}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","se","x"],id:"rainbowroom"}]},vc="Green",Ng=["A","B","C","D","E","F","G"];let vu="";const J9=["segment(4).clip(rand.range(.4,.8))","room(.35).delay(.15)","fm(sine.range(2,6).slow(8))","lpf(sine.range(600,1200).slow(6)).lpq(3)",'rarely(ply("2")).chunk(4, fast(2))'];let ie=[],Kr=3,Yr=!1,Tg,wi=0;const Q9=()=>vu?`${vu}.${J9.join(".")}`:"",Hi=()=>{vu=ie.length>0?`note("${ie.map(t=>`${t}${Kr}`).join(" ")}")`:""},Rg=()=>{if(ie.length===0)println("No buttons are depressed.");else if(ie.length===1)println(`Button ${ie[0]} is depressed.`);else{let t="";for(let r=0;r<ie.length-1;r++)t+=`${ie[r]}, `;println(`Buttons ${t.slice(0,-2)} and ${ie[ie.length-1]} are depressed.`)}},tF=()=>{Tg=setInterval(()=>{const t=[];Ng.forEach(r=>{Math.random()<.2&&t.push(r)}),ie=[...t],ie.length===0&&ie.push("E"),Hi(),Ae()},3e3)},eF=()=>{clearInterval(Tg),Yr=!1},nF=Ng.map(t=>({name:`Button${t}`,desc:`A button with the letter ${t}`,onUse:()=>{ie.includes(t)?ie.splice(ie.indexOf(t),1):ie.push(t),disk.isPlaying||println("Nothing happens."),Xi.isActive=!0,Hi(),Ae(),Rg()}})),Xi={id:"greenroom",img:["■■■■■■■■■","■■■■ ■■■■","■■■■ ■■■■"].join(`
`),name:`The ${vc} Room`,desc:["This is a very green room. You can’t really see the walls – they’re all covered in leaves and vines.","It’s incredibly humid in here.","In the far corner of the room, some kind of ancient stone machinery is withering away, half covered in vegetation.","You can see **buttons** on it, and something that looks like a **lever**.","There is a **cage** on the floor."].join(`
`),isActive:!1,isMuted:!1,color:vc,generateSoundString:Q9,onEnter:()=>{Xn("greenroom")},items:[...nF,{name:"Buttons",desc:"There are seven buttons. Above each, a letter is chiseled. It’s the first seven letters of the alphabet.",onUse:()=>{println("You can’t use all the buttons at once. Try using one of the buttons instead. For example **ButtonA**.")},onLook:()=>{Yr?println("A very happy lizard is skipping across the buttons, engaging and disengaging them in a seemingly random pattern."):Rg()}},{name:"Lever",desc:'The lever has two positions, marked "2" and "3".',onLook:()=>{println(`It’s currently in the "${Kr}" position.`)},onUse:()=>{Kr=Kr===2?3:2,println(`The lever is now in the "${Kr}" position.`),disk.isPlaying?println("This seems to have changed the octave of the notes playing. Sweet!"):println("Nothing happens."),Hi(),Ae()}},{name:"Cage",desc:"There’s a small golden cage on the floor",onLook:()=>{Yr?println("The cage is empty."):println(["From inside, a lizard peers curiously at you.","The lizard is not huge, but way too big for the small cage.","The cage has a door, and it seems to be bolted, not locked."].join(`
`))},onTake:()=>{println("The cage is fastened to the stone floor with huge clasps. You won’t be able to move it. Perhaps you can use it some other way?")},onUse:()=>{wi===0?(println("Do you really want to open the cage door? The lizard will get out."),wi++):wi===1?(println("I mean, it’s your choice, and the lizard does seem pretty friendly. Are you absolutely sure?"),wi++):(println(["You wiggled the bolt a bit, and after a few tries you manage to slide it open.","You open the cage door and the lizard immediately slips out.","After looking around the room, it heads for the stone machine and starts walking proudly across the buttons."].join(`
`)),tF(),Yr=!0,Xi.isActive=!0,Xi.items.push({name:"Lizard",desc:"A green lizard.",isTakeable:!0,onTake:()=>{println(["After a few attempts, and to your big surprise, you manage to catch the lizard.","The lizard looks equally surprised.","You put it in your bag."].join(`
`)),Yr=!1,eF(),Hi(),ie.length>0&&Ae()},onUse:()=>{switch(disk.roomId){case"blueroom":const t=getRoom("blueroom");console.log(t),println("You put the lizard in the wheel, and it starts running immediately."),t.enableWheelTurn();const r=disk.inventory.map(i=>i.name).indexOf("Lizard");disk.inventory.splice(r,1),t.items.push({name:"Lizard",desc:"The lizard from the Green Room is now powering your jumping fountain bass machine.",isTakeable:!1,onTake:()=>{println("The lizard snaps at you with its strange beak. It does not seem willing to stop running in this wheel.")}});break;default:println("You can’t use the lizard here.")}}}))}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","s","x"],id:"rainbowroom"}]},Ec="Blue",rF=["A","B","C","D","E","F","G"];let Ki="";const iF=['slow(2).sound("sine")',"vib(sine.segment(16).range(0.01,0.5).range(0.1,1))","fm(3).gain(0.2).room(0.5)"];let sF=1,Jt=[],ri=!1;const uF=()=>Ki?`${Ki}.${iF.join(".")}`:"",Vg=()=>{Ki=Jt.length>0?`note("${Jt.map(t=>`${t}${sF}`).join(" ")}")`:""},oF=()=>{if(Jt.length===0)println("No valves are open.");else if(Jt.length===1)println(`Valve ${Jt[0]} is open.`),ri?println(`A single stream of water shoots out of the nozzle labeled ${Jt[0]} and flies across the room. When it lands, a single bass note is played.`):println([`A single stream of water shoots out of the nozzle labeled ${Jt[0]} and lands with a splash on the floor halfway across the room.`,"Perhaps the water pressure is not enough?"].join(`
`));else{let t="";for(let r=0;r<Jt.length-1;r++)t+=`${Jt[r]}, `;println(`Valves ${t.slice(0,-2)} and ${Jt[Jt.length-1]} are open.`),ri?println("Streams of water shoot out of the nozzles and fly across the room. As each land, a single bass note is played."):println(["Streams of water shoot out of the nozzles and land with a splash on the floor halfway across the room.","Perhaps the water pressure is not enough?"].join(`
`))}},Fc=()=>{console.log("Enabling wheel turn"),ri=!0,ws.isActive=!0,Vg(),Ae()},aF=()=>{console.log("Disabling wheel turn"),println(["As the wheel slows, the water pressure goes down again.","The earth-shattering bass that moments ago filled the room dies down and dissipates as if absorbed by the cracks in the floor.","You would have to turn this wheel indefinitely to get a bass line going.","Or get someone to do it for you."].join(`
`)),ri=!1,Ki="note()",Ae(),ws.isActive=!1},cF=rF.map(t=>({name:`Valve${t}`,desc:`A valve labeled "${t}"`,onUse:()=>{if(Jt.includes(t)?Jt.splice(Jt.indexOf(t),1):Jt.push(t),!disk.isPlaying){println("Nothing happens.");return}ri&&(ws.isActive=!0,Vg(),Ae()),oF()}})),ws={id:"blueroom",img:["■■■■ ■■■■","■■■■■■■■■","■■■■■■■■■"].join(`
`),name:`The ${Ec} Room`,desc:["The room is dark. The only light – blue, pulsating – emanates from the translucent pipes running up and down the walls.","The pipes seem to converge in a row of seven nozzles, pointed at a slightly upwards angle.","Above the nozzles are seven **valves**, labeled A to G."].join(`
`),isActive:!1,isMuted:!1,color:Ec,generateSoundString:uF,enableWheelTurn:Fc,onEnter:()=>{Xn("blueroom")},items:[...cF,{name:"valves",onUse:()=>{println("You can’t use all the valves at the same time. Try to use **valveb** for example.")}},{name:["wheel"],desc:"",onUse:()=>{Jt.length===0?println("The water pressure rises, but nothing happens"):Jt.length===1?println([`The water pressure rises. A single jet of water shoots out from the nozzle labeled ${Jt[0]}, fly across the room and lan in its corresponding receptacle.`,"As it lands, a profound bass note shakes the room."].join(`
`)):println(["The water pressure rises. Water shoots out from the nozzles with open valves, fly across the room and lan in their respective receptacle.","As each jet of water lands, a profound bass note shakes the room."].join(`
`)),Fc(),setTimeout(aF,5e3)}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","sw","x"],id:"rainbowroom"}]},wc="Indigo",lF=()=>"",hF={id:"indigoroom",img:["■■■■ ■■■■","■■■■■■■■■","■■■■ ■■■■"].join(`
`),name:`The ${wc} Room`,desc:"This is the indigo room",isActive:!1,isMuted:!1,color:wc,generateSoundString:lF,onEnter:()=>{Xn("indigoroom")},items:[],exits:[{dir:["Rainbow Room","rainbowroom","exit","w","x"],id:"rainbowroom"}]},Bc="Violet";let Ic=!1;const pF=()=>"",Eu={id:"violetroom",img:["■■■■ ■■■■","■■■■■■■■■","■■■■ ■■■■"].join(`
`),name:`The ${Bc} Room`,desc:["You’re standing in the violet room. It’s completely bare, except for what looks like an undressed **mannequin** slumped against the back wall.",...disk&&disk.visitedRooms.filter(t=>!1).length>1?["This room seems deeper, longer than the others you visited, but the ceiling is much lower.","The silence in here is imposing, it’s almost as if the room is holding its breath.","As you start moving through the room, you notice that you’re unconsciously tiptoeing.","You approach the mannequin with trepidation, slowly as to not disturb the oppressive tranquility."]:["You don’t know how the other rooms look, but you hope they’re nothing like this one.","The ceiling seems too low compared to the length of the room, and there’s something almost imposing about the silence in here – it’s as if the room is holding its breath.","You approach the mannequin with trepidation, tiptoeing slowly as to not disturb the oppressive tranquility."],"When you’re a few feet away from the mannequin, you feel something... a presence?","No, your mind is just playing tricks on you. But still... you want to get out of this room."].join(`
`),isActive:!1,isMuted:!1,color:Bc,generateSoundString:pF,onEnter:()=>{Xn("violetroom")},onLook:()=>{Eu.desc="";const t=["The violet room is long and bare. The ceiling seems too low, and it’s making you hunch forward unconsciously."];Ic?t.push("There’s an android here, staring at you. It’s creeping you out."):t.push("There’s a mannequin here, slumped against the wall. It’s creeping you out."),println(t.join(`
`))},items:[{name:"Mannequin",desc:["You lean forward to examine the mannequin. As you reach out to touch it, it startles to life with an actuator scream.","Holy fuck, this is not a mannequin. This is a real life android."].join(`
`),onLook:()=>{const t=disk.inventory.map(r=>r.name).indexOf("Mannequin");Eu.items.splice(t,1),Ic=!0,Yo.roomId="violetroom"}}],exits:[{dir:["Rainbow Room","rainbowroom","exit","nw","x"],id:"rainbowroom"}]};commands=O9;wg();const mF=()=>({roomId:"rainbowroom",cpm:60,isPlaying:!1,inventory:[],visitedRooms:[],rooms:[Ig,q9,H9,Ar,Xi,ws,hF,Eu],characters:[Yo]});loadDisk(mF);document.body.className="";{document.body.className="modal";const t=document.createElement("div");t.id="modal-wrapper";const r=document.createElement("div"),i=document.createElement("button");r.innerHTML=`
<h3>Welcome to the Rainbow Room BETA</h3>
<p>This is an experiment in generative, semi-random sequencing – hidden inside an Interactive Fiction story.</p>
<p>If this is your first time, you might want to type HELP to see the commands that are available to you.</p>
<p>BEWARE - This is a work in progress and very much still in beta!</p>`,i.innerHTML="Ok, let’s go!",document.body.appendChild(t),t.appendChild(r),r.appendChild(i);const u=()=>{t.remove(),document.body.className=""};t.addEventListener("click",u),i.addEventListener("click",u)}
